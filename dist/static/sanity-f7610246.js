function k0(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function hd(e){return k0(e)&&typeof e._ref=="string"}function bFe(e){return k0(e)&&hd(e.asset)&&e.asset._ref.startsWith("image-")}function M0e(e){return k0(e)&&typeof e._ref=="string"&&typeof e._dataset=="string"&&typeof e._projectId=="string"}function xFe(e){return k0(e)&&typeof e._id=="string"&&typeof e._type=="string"}function QF(e){return k0(e)&&typeof e._type=="string"}function Pl(e){return k0(e)&&typeof e._key=="string"}function wFe(e){return e.level==="error"}const CFe=/_key\s*==\s*['"](.*)['"]/,_Fe=/^\d*:\d*$/;function Tl(e){return typeof e=="number"||typeof e=="string"&&/^\[\d+\]$/.test(e)}function Pr(e){return typeof e=="string"?CFe.test(e.trim()):typeof e=="object"&&"_key"in e}function Up(e){if(typeof e=="string"&&_Fe.test(e))return!0;if(!Array.isArray(e)||e.length!==2)return!1;const[t,n]=e;return(typeof t=="number"||t==="")&&(typeof n=="number"||n==="")}function z2(e){return!!e&&(typeof e=="object"||typeof e=="function")}function oh(e){return z2(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>z2(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>z2(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function ta(e){return z2(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function SFe(e){return oh(e)&&"listItem"in e&&typeof e.listItem=="string"&&"level"in e&&Number.isInteger(e.level)}function wm(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Qa(e){return wm(e)?e.jsonType==="object":!1}function Wl(e){return wm(e)?e.jsonType==="array":!1}function JF(e){return Wl(e)&&e.of.every(t=>Qa(t))}function EFe(e){return Wl(e)&&e.of.every(t=>L0e(t))}function pw(e){return wm(e)?e.jsonType==="boolean":!1}function F0e(e){return wm(e)?e.jsonType==="string":!1}function Wp(e){return wm(e)?e.jsonType==="number":!1}function L0e(e){return pw(e)||F0e(e)||Wp(e)}function zu(e){return wm(e)&&(e.name==="reference"||zu(e.type))}function e6(e){return wm(e)&&(e.name==="crossDatasetReference"||e6(e.type))}function t6(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function B0e(e,t){return e}function kFe(e,t){return e}function jFe(e){return e.level==="error"}function TFe(e){return e.level==="warning"}var Qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function AFe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var N0e={exports:{}},aj={},z0e={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw=Symbol.for("react.element"),DFe=Symbol.for("react.portal"),IFe=Symbol.for("react.fragment"),OFe=Symbol.for("react.strict_mode"),PFe=Symbol.for("react.profiler"),RFe=Symbol.for("react.provider"),$Fe=Symbol.for("react.context"),MFe=Symbol.for("react.forward_ref"),FFe=Symbol.for("react.suspense"),LFe=Symbol.for("react.memo"),BFe=Symbol.for("react.lazy"),MV=Symbol.iterator;function NFe(e){return e===null||typeof e!="object"?null:(e=MV&&e[MV]||e["@@iterator"],typeof e=="function"?e:null)}var V0e={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H0e=Object.assign,U0e={};function j0(e,t,n){this.props=e,this.context=t,this.refs=U0e,this.updater=n||V0e}j0.prototype.isReactComponent={};j0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};j0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function W0e(){}W0e.prototype=j0.prototype;function n6(e,t,n){this.props=e,this.context=t,this.refs=U0e,this.updater=n||V0e}var r6=n6.prototype=new W0e;r6.constructor=n6;H0e(r6,j0.prototype);r6.isPureReactComponent=!0;var FV=Array.isArray,Y0e=Object.prototype.hasOwnProperty,o6={current:null},q0e={key:!0,ref:!0,__self:!0,__source:!0};function G0e(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Y0e.call(t,r)&&!q0e.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:mw,type:e,key:i,ref:s,props:o,_owner:o6.current}}function zFe(e,t){return{$$typeof:mw,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function i6(e){return typeof e=="object"&&e!==null&&e.$$typeof===mw}function VFe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var LV=/\/+/g;function JD(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VFe(""+e.key):t.toString(36)}function V2(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case mw:case DFe:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+JD(s,0):r,FV(o)?(n="",e!=null&&(n=e.replace(LV,"$&/")+"/"),V2(o,t,n,"",function(u){return u})):o!=null&&(i6(o)&&(o=zFe(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(LV,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",FV(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+JD(i,a);s+=V2(i,t,n,c,o)}else if(c=NFe(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+JD(i,a++),s+=V2(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function qC(e,t,n){if(e==null)return e;var r=[],o=0;return V2(e,r,"","",function(i){return t.call(n,i,o++)}),r}function HFe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rs={current:null},H2={transition:null},UFe={ReactCurrentDispatcher:rs,ReactCurrentBatchConfig:H2,ReactCurrentOwner:o6};Ut.Children={map:qC,forEach:function(e,t,n){qC(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qC(e,function(){t++}),t},toArray:function(e){return qC(e,function(t){return t})||[]},only:function(e){if(!i6(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ut.Component=j0;Ut.Fragment=IFe;Ut.Profiler=PFe;Ut.PureComponent=n6;Ut.StrictMode=OFe;Ut.Suspense=FFe;Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UFe;Ut.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=H0e({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=o6.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Y0e.call(t,c)&&!q0e.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:mw,type:e.type,key:o,ref:i,props:r,_owner:s}};Ut.createContext=function(e){return e={$$typeof:$Fe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RFe,_context:e},e.Consumer=e};Ut.createElement=G0e;Ut.createFactory=function(e){var t=G0e.bind(null,e);return t.type=e,t};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(e){return{$$typeof:MFe,render:e}};Ut.isValidElement=i6;Ut.lazy=function(e){return{$$typeof:BFe,_payload:{_status:-1,_result:e},_init:HFe}};Ut.memo=function(e,t){return{$$typeof:LFe,type:e,compare:t===void 0?null:t}};Ut.startTransition=function(e){var t=H2.transition;H2.transition={};try{e()}finally{H2.transition=t}};Ut.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ut.useCallback=function(e,t){return rs.current.useCallback(e,t)};Ut.useContext=function(e){return rs.current.useContext(e)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(e){return rs.current.useDeferredValue(e)};Ut.useEffect=function(e,t){return rs.current.useEffect(e,t)};Ut.useId=function(){return rs.current.useId()};Ut.useImperativeHandle=function(e,t,n){return rs.current.useImperativeHandle(e,t,n)};Ut.useInsertionEffect=function(e,t){return rs.current.useInsertionEffect(e,t)};Ut.useLayoutEffect=function(e,t){return rs.current.useLayoutEffect(e,t)};Ut.useMemo=function(e,t){return rs.current.useMemo(e,t)};Ut.useReducer=function(e,t,n){return rs.current.useReducer(e,t,n)};Ut.useRef=function(e){return rs.current.useRef(e)};Ut.useState=function(e){return rs.current.useState(e)};Ut.useSyncExternalStore=function(e,t,n){return rs.current.useSyncExternalStore(e,t,n)};Ut.useTransition=function(){return rs.current.useTransition()};Ut.version="18.2.0";z0e.exports=Ut;var h=z0e.exports;const ie=Ie(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WFe=h,YFe=Symbol.for("react.element"),qFe=Symbol.for("react.fragment"),GFe=Object.prototype.hasOwnProperty,KFe=WFe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZFe={key:!0,ref:!0,__self:!0,__source:!0};function K0e(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)GFe.call(t,r)&&!ZFe.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:YFe,type:e,key:i,ref:s,props:o,_owner:KFe.current}}aj.Fragment=qFe;aj.jsx=K0e;aj.jsxs=K0e;N0e.exports=aj;var l=N0e.exports;const XFe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,QFe=/_key\s*==\s*['"](.*)['"]/,Z0e=[],X0e="$";function Cm(e,t,n){const r=typeof t=="string"?Rl(t):t;if(!Array.isArray(r))throw new Error("Path must be an array or a string");let o=e;for(let i=0;i<r.length;i++){const s=r[i];if(Tl(s)){if(!Array.isArray(o))return n;o=o[s]}if(Pr(s)){if(!Array.isArray(o))return n;o=o.find(a=>a._key===s._key)}if(typeof s=="string"&&(o=typeof o=="object"&&o!==null?o[s]:void 0),typeof o>"u")return n}return o}const eI=new Map;function _m(e){if(e.length===0)return Z0e;const t=Lr(e);return eI.has(t)?eI.get(t):(eI.set(t,e),Object.freeze(e),e)}function vn(e,t){return e.length===t.length&&e.every((n,r)=>lj(n,t[r]))}function JFe(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(!lj(e[r],t[r]))return r;return n}function lj(e,t){return Pr(e)&&Pr(t)?e._key===t._key:Tl(e)?Number(e)===Number(t):Up(e)&&Up(t)?e[0]===t[0]&&e[1]===t[1]:e===t}function Si(e,t){return e.every((n,r)=>lj(n,t[r]))}function eb(e,t){if(e.length===0||t.length===0)return t;const[n,...r]=e,[o,...i]=t;return lj(n,o)?_m(eb(r,i)):t}function s6(e,t){return Si(e,t)?eb(e,t):Z0e}function Lr(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Pr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function nR(e,t){if(t.length===0)return t;const[n,...r]=t;if(typeof n=="number"){if(!Array.isArray(e)||!(n in e))return[];const i=e[n];return[typeof(i==null?void 0:i._key)=="string"?{_key:i._key}:n,...nR(i,r)]}const o=Cm(e,[n]);return[n,...nR(o,r)]}function e6e(e,t){if(!Array.isArray(t))throw new Error("Path is not an array");return _m(nR(e,t))}function Rl(e){if(typeof e!="string")throw new Error("Path is not a string");const t=e.match(XFe);if(!t)throw new Error("Invalid path string");return t.map(t6e)}function t6e(e){return Tl(e)?n6e(e):Pr(e)?r6e(e):Up(e)?o6e(e):e}function n6e(e){return Number(e.replace(/[^\d]/g,""))}function r6e(e){return{_key:e.match(QFe)[1]}}function o6e(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}var i6e=typeof Element<"u",s6e=typeof Map=="function",a6e=typeof Set=="function",l6e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function U2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!U2(e[r],t[r]))return!1;return!0}var i;if(s6e&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!U2(r.value[1],t.get(r.value[0])))return!1;return!0}if(a6e&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(l6e&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(i6e&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!U2(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var c6e=function(t,n){try{return U2(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const a6=Ie(c6e);function u6e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ja=u6e;const gw=Ie(Ja);var d6e=typeof Qs=="object"&&Qs&&Qs.Object===Object&&Qs,Q0e=d6e,f6e=Q0e,h6e=typeof self=="object"&&self&&self.Object===Object&&self,p6e=f6e||h6e||Function("return this")(),Yl=p6e,m6e=Yl,g6e=function(){return m6e.Date.now()},v6e=g6e,y6e=/\s/;function b6e(e){for(var t=e.length;t--&&y6e.test(e.charAt(t)););return t}var x6e=b6e,w6e=x6e,C6e=/^\s+/;function _6e(e){return e&&e.slice(0,w6e(e)+1).replace(C6e,"")}var J0e=_6e,S6e=Yl,E6e=S6e.Symbol,T0=E6e,BV=T0,e1e=Object.prototype,k6e=e1e.hasOwnProperty,j6e=e1e.toString,$1=BV?BV.toStringTag:void 0;function T6e(e){var t=k6e.call(e,$1),n=e[$1];try{e[$1]=void 0;var r=!0}catch{}var o=j6e.call(e);return r&&(t?e[$1]=n:delete e[$1]),o}var A6e=T6e,D6e=Object.prototype,I6e=D6e.toString;function O6e(e){return I6e.call(e)}var P6e=O6e,NV=T0,R6e=A6e,$6e=P6e,M6e="[object Null]",F6e="[object Undefined]",zV=NV?NV.toStringTag:void 0;function L6e(e){return e==null?e===void 0?F6e:M6e:zV&&zV in Object(e)?R6e(e):$6e(e)}var ih=L6e;function B6e(e){return e!=null&&typeof e=="object"}var el=B6e,N6e=ih,z6e=el,V6e="[object Symbol]";function H6e(e){return typeof e=="symbol"||z6e(e)&&N6e(e)==V6e}var Sm=H6e,U6e=J0e,VV=Ja,W6e=Sm,HV=0/0,Y6e=/^[-+]0x[0-9a-f]+$/i,q6e=/^0b[01]+$/i,G6e=/^0o[0-7]+$/i,K6e=parseInt;function Z6e(e){if(typeof e=="number")return e;if(W6e(e))return HV;if(VV(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=VV(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=U6e(e);var n=q6e.test(e);return n||G6e.test(e)?K6e(e.slice(2),n?2:8):Y6e.test(e)?HV:+e}var t1e=Z6e,X6e=Ja,tI=v6e,UV=t1e,Q6e="Expected a function",J6e=Math.max,eLe=Math.min;function tLe(e,t,n){var r,o,i,s,a,c,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(Q6e);t=UV(t)||0,X6e(n)&&(d=!!n.leading,f="maxWait"in n,i=f?J6e(UV(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function m(S){var E=r,j=o;return r=o=void 0,u=S,s=e.apply(j,E),s}function v(S){return u=S,a=setTimeout(x,t),d?m(S):s}function g(S){var E=S-c,j=S-u,k=t-E;return f?eLe(k,i-j):k}function y(S){var E=S-c,j=S-u;return c===void 0||E>=t||E<0||f&&j>=i}function x(){var S=tI();if(y(S))return b(S);a=setTimeout(x,g(S))}function b(S){return a=void 0,p&&r?m(S):(r=o=void 0,s)}function w(){a!==void 0&&clearTimeout(a),u=0,r=c=o=a=void 0}function C(){return a===void 0?s:b(tI())}function _(){var S=tI(),E=y(S);if(r=arguments,o=this,c=S,E){if(a===void 0)return v(c);if(f)return clearTimeout(a),a=setTimeout(x,t),m(c)}return a===void 0&&(a=setTimeout(x,t)),s}return _.cancel=w,_.flush=C,_}var n1e=tLe;const vw=Ie(n1e);function l6(){var e=Object.create(null),t=0;function n(o){var i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(var i in e)e[i](o)}return{publish:r,subscribe:n}}var r1e={exports:{}},xn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ho=typeof Symbol=="function"&&Symbol.for,c6=Ho?Symbol.for("react.element"):60103,u6=Ho?Symbol.for("react.portal"):60106,cj=Ho?Symbol.for("react.fragment"):60107,uj=Ho?Symbol.for("react.strict_mode"):60108,dj=Ho?Symbol.for("react.profiler"):60114,fj=Ho?Symbol.for("react.provider"):60109,hj=Ho?Symbol.for("react.context"):60110,d6=Ho?Symbol.for("react.async_mode"):60111,pj=Ho?Symbol.for("react.concurrent_mode"):60111,mj=Ho?Symbol.for("react.forward_ref"):60112,gj=Ho?Symbol.for("react.suspense"):60113,nLe=Ho?Symbol.for("react.suspense_list"):60120,vj=Ho?Symbol.for("react.memo"):60115,yj=Ho?Symbol.for("react.lazy"):60116,rLe=Ho?Symbol.for("react.block"):60121,oLe=Ho?Symbol.for("react.fundamental"):60117,iLe=Ho?Symbol.for("react.responder"):60118,sLe=Ho?Symbol.for("react.scope"):60119;function da(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case c6:switch(e=e.type,e){case d6:case pj:case cj:case dj:case uj:case gj:return e;default:switch(e=e&&e.$$typeof,e){case hj:case mj:case yj:case vj:case fj:return e;default:return t}}case u6:return t}}}function o1e(e){return da(e)===pj}xn.AsyncMode=d6;xn.ConcurrentMode=pj;xn.ContextConsumer=hj;xn.ContextProvider=fj;xn.Element=c6;xn.ForwardRef=mj;xn.Fragment=cj;xn.Lazy=yj;xn.Memo=vj;xn.Portal=u6;xn.Profiler=dj;xn.StrictMode=uj;xn.Suspense=gj;xn.isAsyncMode=function(e){return o1e(e)||da(e)===d6};xn.isConcurrentMode=o1e;xn.isContextConsumer=function(e){return da(e)===hj};xn.isContextProvider=function(e){return da(e)===fj};xn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===c6};xn.isForwardRef=function(e){return da(e)===mj};xn.isFragment=function(e){return da(e)===cj};xn.isLazy=function(e){return da(e)===yj};xn.isMemo=function(e){return da(e)===vj};xn.isPortal=function(e){return da(e)===u6};xn.isProfiler=function(e){return da(e)===dj};xn.isStrictMode=function(e){return da(e)===uj};xn.isSuspense=function(e){return da(e)===gj};xn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===cj||e===pj||e===dj||e===uj||e===gj||e===nLe||typeof e=="object"&&e!==null&&(e.$$typeof===yj||e.$$typeof===vj||e.$$typeof===fj||e.$$typeof===hj||e.$$typeof===mj||e.$$typeof===oLe||e.$$typeof===iLe||e.$$typeof===sLe||e.$$typeof===rLe)};xn.typeOf=da;r1e.exports=xn;var Di=r1e.exports;const aLe=Ie(Di);function lLe(e){function t(Y,X,B,K,z){for(var Z=0,Q=0,ne=0,G=0,J,re,fe=0,le=0,ge,we=ge=J=0,ce=0,ve=0,$e=0,Ae=0,it=B.length,et=it-1,lt,Pe="",xe="",We="",ze="",Ze;ce<it;){if(re=B.charCodeAt(ce),ce===et&&Q+G+ne+Z!==0&&(Q!==0&&(re=Q===47?10:47),G=ne=Z=0,it++,et++),Q+G+ne+Z===0){if(ce===et&&(0<ve&&(Pe=Pe.replace(p,"")),0<Pe.trim().length)){switch(re){case 32:case 9:case 59:case 13:case 10:break;default:Pe+=B.charAt(ce)}re=59}switch(re){case 123:for(Pe=Pe.trim(),J=Pe.charCodeAt(0),ge=1,Ae=++ce;ce<it;){switch(re=B.charCodeAt(ce)){case 123:ge++;break;case 125:ge--;break;case 47:switch(re=B.charCodeAt(ce+1)){case 42:case 47:e:{for(we=ce+1;we<et;++we)switch(B.charCodeAt(we)){case 47:if(re===42&&B.charCodeAt(we-1)===42&&ce+2!==we){ce=we+1;break e}break;case 10:if(re===47){ce=we+1;break e}}ce=we}}break;case 91:re++;case 40:re++;case 34:case 39:for(;ce++<et&&B.charCodeAt(ce)!==re;);}if(ge===0)break;ce++}switch(ge=B.substring(Ae,ce),J===0&&(J=(Pe=Pe.replace(f,"").trim()).charCodeAt(0)),J){case 64:switch(0<ve&&(Pe=Pe.replace(p,"")),re=Pe.charCodeAt(1),re){case 100:case 109:case 115:case 45:ve=X;break;default:ve=R}if(ge=t(X,ve,ge,re,z+1),Ae=ge.length,0<N&&(ve=n(R,Pe,$e),Ze=a(3,ge,ve,X,I,D,Ae,re,z,K),Pe=ve.join(""),Ze!==void 0&&(Ae=(ge=Ze.trim()).length)===0&&(re=0,ge="")),0<Ae)switch(re){case 115:Pe=Pe.replace(S,s);case 100:case 109:case 45:ge=Pe+"{"+ge+"}";break;case 107:Pe=Pe.replace(b,"$1 $2"),ge=Pe+"{"+ge+"}",ge=$===1||$===2&&i("@"+ge,3)?"@-webkit-"+ge+"@"+ge:"@"+ge;break;default:ge=Pe+ge,K===112&&(ge=(xe+=ge,""))}else ge="";break;default:ge=t(X,n(X,Pe,$e),ge,K,z+1)}We+=ge,ge=$e=ve=we=J=0,Pe="",re=B.charCodeAt(++ce);break;case 125:case 59:if(Pe=(0<ve?Pe.replace(p,""):Pe).trim(),1<(Ae=Pe.length))switch(we===0&&(J=Pe.charCodeAt(0),J===45||96<J&&123>J)&&(Ae=(Pe=Pe.replace(" ",":")).length),0<N&&(Ze=a(1,Pe,X,Y,I,D,xe.length,K,z,K))!==void 0&&(Ae=(Pe=Ze.trim()).length)===0&&(Pe="\0\0"),J=Pe.charCodeAt(0),re=Pe.charCodeAt(1),J){case 0:break;case 64:if(re===105||re===99){ze+=Pe+B.charAt(ce);break}default:Pe.charCodeAt(Ae-1)!==58&&(xe+=o(Pe,J,re,Pe.charCodeAt(2)))}$e=ve=we=J=0,Pe="",re=B.charCodeAt(++ce)}}switch(re){case 13:case 10:Q===47?Q=0:1+J===0&&K!==107&&0<Pe.length&&(ve=1,Pe+="\0"),0<N*q&&a(0,Pe,X,Y,I,D,xe.length,K,z,K),D=1,I++;break;case 59:case 125:if(Q+G+ne+Z===0){D++;break}default:switch(D++,lt=B.charAt(ce),re){case 9:case 32:if(G+Z+Q===0)switch(fe){case 44:case 58:case 9:case 32:lt="";break;default:re!==32&&(lt=" ")}break;case 0:lt="\\0";break;case 12:lt="\\f";break;case 11:lt="\\v";break;case 38:G+Q+Z===0&&(ve=$e=1,lt="\f"+lt);break;case 108:if(G+Q+Z+O===0&&0<we)switch(ce-we){case 2:fe===112&&B.charCodeAt(ce-3)===58&&(O=fe);case 8:le===111&&(O=le)}break;case 58:G+Q+Z===0&&(we=ce);break;case 44:Q+ne+G+Z===0&&(ve=1,lt+="\r");break;case 34:case 39:Q===0&&(G=G===re?0:G===0?re:G);break;case 91:G+Q+ne===0&&Z++;break;case 93:G+Q+ne===0&&Z--;break;case 41:G+Q+Z===0&&ne--;break;case 40:if(G+Q+Z===0){if(J===0)switch(2*fe+3*le){case 533:break;default:J=1}ne++}break;case 64:Q+ne+G+Z+we+ge===0&&(ge=1);break;case 42:case 47:if(!(0<G+Z+ne))switch(Q){case 0:switch(2*re+3*B.charCodeAt(ce+1)){case 235:Q=47;break;case 220:Ae=ce,Q=42}break;case 42:re===47&&fe===42&&Ae+2!==ce&&(B.charCodeAt(Ae+2)===33&&(xe+=B.substring(Ae,ce+1)),lt="",Q=0)}}Q===0&&(Pe+=lt)}le=fe,fe=re,ce++}if(Ae=xe.length,0<Ae){if(ve=X,0<N&&(Ze=a(2,xe,ve,Y,I,D,Ae,K,z,K),Ze!==void 0&&(xe=Ze).length===0))return ze+xe+We;if(xe=ve.join(",")+"{"+xe+"}",$*O!==0){switch($!==2||i(xe,2)||(O=0),O){case 111:xe=xe.replace(C,":-moz-$1")+xe;break;case 112:xe=xe.replace(w,"::-webkit-input-$1")+xe.replace(w,"::-moz-$1")+xe.replace(w,":-ms-input-$1")+xe}O=0}}return ze+xe+We}function n(Y,X,B){var K=X.trim().split(y);X=K;var z=K.length,Z=Y.length;switch(Z){case 0:case 1:var Q=0;for(Y=Z===0?"":Y[0]+" ";Q<z;++Q)X[Q]=r(Y,X[Q],B).trim();break;default:var ne=Q=0;for(X=[];Q<z;++Q)for(var G=0;G<Z;++G)X[ne++]=r(Y[G]+" ",K[Q],B).trim()}return X}function r(Y,X,B){var K=X.charCodeAt(0);switch(33>K&&(K=(X=X.trim()).charCodeAt(0)),K){case 38:return X.replace(x,"$1"+Y.trim());case 58:return Y.trim()+X.replace(x,"$1"+Y.trim());default:if(0<1*B&&0<X.indexOf("\f"))return X.replace(x,(Y.charCodeAt(0)===58?"":"$1")+Y.trim())}return Y+X}function o(Y,X,B,K){var z=Y+";",Z=2*X+3*B+4*K;if(Z===944){Y=z.indexOf(":",9)+1;var Q=z.substring(Y,z.length-1).trim();return Q=z.substring(0,Y).trim()+Q+";",$===1||$===2&&i(Q,1)?"-webkit-"+Q+Q:Q}if($===0||$===2&&!i(z,1))return z;switch(Z){case 1015:return z.charCodeAt(10)===97?"-webkit-"+z+z:z;case 951:return z.charCodeAt(3)===116?"-webkit-"+z+z:z;case 963:return z.charCodeAt(5)===110?"-webkit-"+z+z:z;case 1009:if(z.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+z+z;case 978:return"-webkit-"+z+"-moz-"+z+z;case 1019:case 983:return"-webkit-"+z+"-moz-"+z+"-ms-"+z+z;case 883:if(z.charCodeAt(8)===45)return"-webkit-"+z+z;if(0<z.indexOf("image-set(",11))return z.replace(A,"$1-webkit-$2")+z;break;case 932:if(z.charCodeAt(4)===45)switch(z.charCodeAt(5)){case 103:return"-webkit-box-"+z.replace("-grow","")+"-webkit-"+z+"-ms-"+z.replace("grow","positive")+z;case 115:return"-webkit-"+z+"-ms-"+z.replace("shrink","negative")+z;case 98:return"-webkit-"+z+"-ms-"+z.replace("basis","preferred-size")+z}return"-webkit-"+z+"-ms-"+z+z;case 964:return"-webkit-"+z+"-ms-flex-"+z+z;case 1023:if(z.charCodeAt(8)!==99)break;return Q=z.substring(z.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Q+"-webkit-"+z+"-ms-flex-pack"+Q+z;case 1005:return v.test(z)?z.replace(m,":-webkit-")+z.replace(m,":-moz-")+z:z;case 1e3:switch(Q=z.substring(13).trim(),X=Q.indexOf("-")+1,Q.charCodeAt(0)+Q.charCodeAt(X)){case 226:Q=z.replace(_,"tb");break;case 232:Q=z.replace(_,"tb-rl");break;case 220:Q=z.replace(_,"lr");break;default:return z}return"-webkit-"+z+"-ms-"+Q+z;case 1017:if(z.indexOf("sticky",9)===-1)break;case 975:switch(X=(z=Y).length-10,Q=(z.charCodeAt(X)===33?z.substring(0,X):z).substring(Y.indexOf(":",7)+1).trim(),Z=Q.charCodeAt(0)+(Q.charCodeAt(7)|0)){case 203:if(111>Q.charCodeAt(8))break;case 115:z=z.replace(Q,"-webkit-"+Q)+";"+z;break;case 207:case 102:z=z.replace(Q,"-webkit-"+(102<Z?"inline-":"")+"box")+";"+z.replace(Q,"-webkit-"+Q)+";"+z.replace(Q,"-ms-"+Q+"box")+";"+z}return z+";";case 938:if(z.charCodeAt(5)===45)switch(z.charCodeAt(6)){case 105:return Q=z.replace("-items",""),"-webkit-"+z+"-webkit-box-"+Q+"-ms-flex-"+Q+z;case 115:return"-webkit-"+z+"-ms-flex-item-"+z.replace(j,"")+z;default:return"-webkit-"+z+"-ms-flex-line-pack"+z.replace("align-content","").replace(j,"")+z}break;case 973:case 989:if(z.charCodeAt(3)!==45||z.charCodeAt(4)===122)break;case 931:case 953:if(T.test(Y)===!0)return(Q=Y.substring(Y.indexOf(":")+1)).charCodeAt(0)===115?o(Y.replace("stretch","fill-available"),X,B,K).replace(":fill-available",":stretch"):z.replace(Q,"-webkit-"+Q)+z.replace(Q,"-moz-"+Q.replace("fill-",""))+z;break;case 962:if(z="-webkit-"+z+(z.charCodeAt(5)===102?"-ms-"+z:"")+z,B+K===211&&z.charCodeAt(13)===105&&0<z.indexOf("transform",10))return z.substring(0,z.indexOf(";",27)+1).replace(g,"$1-webkit-$2")+z}return z}function i(Y,X){var B=Y.indexOf(X===1?":":"{"),K=Y.substring(0,X!==3?B:10);return B=Y.substring(B+1,Y.length-1),W(X!==2?K:K.replace(k,"$1"),B,X)}function s(Y,X){var B=o(X,X.charCodeAt(0),X.charCodeAt(1),X.charCodeAt(2));return B!==X+";"?B.replace(E," or ($1)").substring(4):"("+X+")"}function a(Y,X,B,K,z,Z,Q,ne,G,J){for(var re=0,fe=X,le;re<N;++re)switch(le=V[re].call(d,Y,fe,B,K,z,Z,Q,ne,G,J)){case void 0:case!1:case!0:case null:break;default:fe=le}if(fe!==X)return fe}function c(Y){switch(Y){case void 0:case null:N=V.length=0;break;default:if(typeof Y=="function")V[N++]=Y;else if(typeof Y=="object")for(var X=0,B=Y.length;X<B;++X)c(Y[X]);else q=!!Y|0}return c}function u(Y){return Y=Y.prefix,Y!==void 0&&(W=null,Y?typeof Y!="function"?$=1:($=2,W=Y):$=0),u}function d(Y,X){var B=Y;if(33>B.charCodeAt(0)&&(B=B.trim()),H=B,B=[H],0<N){var K=a(-1,X,B,B,I,D,0,0,0,0);K!==void 0&&typeof K=="string"&&(X=K)}var z=t(R,B,X,0,0);return 0<N&&(K=a(-2,z,B,B,I,D,z.length,0,0,0),K!==void 0&&(z=K)),H="",O=0,D=I=1,z}var f=/^\0+/g,p=/[\0\r\f]/g,m=/: */g,v=/zoo|gra/,g=/([,: ])(transform)/g,y=/,\r+?/g,x=/([\t\r\n ])*\f?&/g,b=/@(k\w+)\s*(\S*)\s*/,w=/::(place)/g,C=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,j=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,A=/([^-])(image-set\()/,D=1,I=1,O=0,$=1,R=[],V=[],N=0,W=null,q=0,H="";return d.use=c,d.set=u,e!==void 0&&u(e),d}var cLe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function uLe(e){var t={};return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var dLe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,WV=uLe(function(e){return dLe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),f6=Di,fLe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},hLe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},pLe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i1e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},h6={};h6[f6.ForwardRef]=pLe;h6[f6.Memo]=i1e;function YV(e){return f6.isMemo(e)?i1e:h6[e.$$typeof]||fLe}var mLe=Object.defineProperty,gLe=Object.getOwnPropertyNames,qV=Object.getOwnPropertySymbols,vLe=Object.getOwnPropertyDescriptor,yLe=Object.getPrototypeOf,GV=Object.prototype;function s1e(e,t,n){if(typeof t!="string"){if(GV){var r=yLe(t);r&&r!==GV&&s1e(e,r,n)}var o=gLe(t);qV&&(o=o.concat(qV(t)));for(var i=YV(e),s=YV(t),a=0;a<o.length;++a){var c=o[a];if(!hLe[c]&&!(n&&n[c])&&!(s&&s[c])&&!(i&&i[c])){var u=vLe(t,c);try{mLe(e,c,u)}catch{}}}}return e}var bLe=s1e;const xLe=Ie(bLe);function _l(){return(_l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var KV=function(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n},rR=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!Di.typeOf(e)},uE=Object.freeze([]),xf=Object.freeze({});function Uv(e){return typeof e=="function"}function ZV(e){return e.displayName||e.name||"Component"}function p6(e){return e&&typeof e.styledComponentId=="string"}var Wv=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",m6=typeof window<"u"&&"HTMLElement"in window,wLe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),CLe={};function Yp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var _Le=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var r=0,o=0;o<n;o++)r+=this.groupSizes[o];return r},t.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var o=this.groupSizes,i=o.length,s=i;n>=s;)(s<<=1)<0&&Yp(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(o),this.length=s;for(var a=i;a<s;a++)this.groupSizes[a]=0}for(var c=this.indexOfGroup(n+1),u=0,d=r.length;u<d;u++)this.tag.insertRule(c,r[u])&&(this.groupSizes[n]++,c++)},t.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],o=this.indexOfGroup(n),i=o+r;this.groupSizes[n]=0;for(var s=o;s<i;s++)this.tag.deleteRule(o)}},t.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var o=this.groupSizes[n],i=this.indexOfGroup(n),s=i+o,a=i;a<s;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},e}(),W2=new Map,dE=new Map,nI=1,GC=function(e){if(W2.has(e))return W2.get(e);for(;dE.has(nI);)nI++;var t=nI++;return W2.set(e,t),dE.set(t,e),t},SLe=function(e){return dE.get(e)},ELe=function(e,t){W2.set(e,t),dE.set(t,e)},kLe="style["+Wv+'][data-styled-version="5.2.3"]',jLe=new RegExp("^"+Wv+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),TLe=function(e,t,n){for(var r,o=n.split(","),i=0,s=o.length;i<s;i++)(r=o[i])&&e.registerName(t,r)},ALe=function(e,t){for(var n=t.innerHTML.split(`/*!sc*/
`),r=[],o=0,i=n.length;o<i;o++){var s=n[o].trim();if(s){var a=s.match(jLe);if(a){var c=0|parseInt(a[1],10),u=a[2];c!==0&&(ELe(u,c),TLe(e,u,a[3]),e.getTag().insertRules(c,r)),r.length=0}else r.push(s)}}},DLe=function(){return typeof window<"u"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},a1e=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(a){for(var c=a.childNodes,u=c.length;u>=0;u--){var d=c[u];if(d&&d.nodeType===1&&d.hasAttribute(Wv))return d}}(n),i=o!==void 0?o.nextSibling:null;r.setAttribute(Wv,"active"),r.setAttribute("data-styled-version","5.2.3");var s=DLe();return s&&r.setAttribute("nonce",s),n.insertBefore(r,i),r},ILe=function(){function e(n){var r=this.element=a1e(n);r.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var i=document.styleSheets,s=0,a=i.length;s<a;s++){var c=i[s];if(c.ownerNode===o)return c}Yp(17)}(r),this.length=0}var t=e.prototype;return t.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},e}(),OLe=function(){function e(n){var r=this.element=a1e(n);this.nodes=r.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,r){if(n<=this.length&&n>=0){var o=document.createTextNode(r),i=this.nodes[n];return this.element.insertBefore(o,i||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),PLe=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),XV=m6,RLe={isServer:!m6,useCSSOMInjection:!wLe},fE=function(){function e(n,r,o){n===void 0&&(n=xf),r===void 0&&(r={}),this.options=_l({},RLe,{},n),this.gs=r,this.names=new Map(o),!this.options.isServer&&m6&&XV&&(XV=!1,function(i){for(var s=document.querySelectorAll(kLe),a=0,c=s.length;a<c;a++){var u=s[a];u&&u.getAttribute(Wv)!=="active"&&(ALe(i,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}e.registerId=function(n){return GC(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new e(_l({},this.options,{},n),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(o=(r=this.options).isServer,i=r.useCSSOMInjection,s=r.target,n=o?new PLe(s):i?new ILe(s):new OLe(s),new _Le(n)));var n,r,o,i,s},t.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},t.registerName=function(n,r){if(GC(n),this.names.has(n))this.names.get(n).add(r);else{var o=new Set;o.add(r),this.names.set(n,o)}},t.insertRules=function(n,r,o){this.registerName(n,r),this.getTag().insertRules(GC(n),o)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(GC(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var r=n.getTag(),o=r.length,i="",s=0;s<o;s++){var a=SLe(s);if(a!==void 0){var c=n.names.get(a),u=r.getGroup(s);if(c!==void 0&&u.length!==0){var d=Wv+".g"+s+'[id="'+a+'"]',f="";c!==void 0&&c.forEach(function(p){p.length>0&&(f+=p+",")}),i+=""+u+d+'{content:"'+f+`"}/*!sc*/
`}}}return i}(this)},e}(),$Le=/(a)(d)/gi,QV=function(e){return String.fromCharCode(e+(e>25?39:97))};function oR(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=QV(t%52)+n;return(QV(t%52)+n).replace($Le,"$1-$2")}var Mg=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},l1e=function(e){return Mg(5381,e)};function c1e(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Uv(n)&&!p6(n))return!1}return!0}var MLe=l1e("5.2.3"),FLe=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&c1e(t),this.componentId=n,this.baseHash=Mg(MLe,n),this.baseStyle=r,fE.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(t,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(o,this.staticRulesId))i.push(this.staticRulesId);else{var s=qp(this.rules,t,n,r).join(""),a=oR(Mg(this.baseHash,s.length)>>>0);if(!n.hasNameForId(o,a)){var c=r(s,"."+a,void 0,o);n.insertRules(o,a,c)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,d=Mg(this.baseHash,r.hash),f="",p=0;p<u;p++){var m=this.rules[p];if(typeof m=="string")f+=m;else if(m){var v=qp(m,t,n,r),g=Array.isArray(v)?v.join(""):v;d=Mg(d,g+p),f+=g}}if(f){var y=oR(d>>>0);if(!n.hasNameForId(o,y)){var x=r(f,"."+y,void 0,o);n.insertRules(o,y,x)}i.push(y)}}return i.join(" ")},e}(),LLe=/^\s*\/\/.*$/gm,BLe=[":","[",".","#"];function NLe(e){var t,n,r,o,i=e===void 0?xf:e,s=i.options,a=s===void 0?xf:s,c=i.plugins,u=c===void 0?uE:c,d=new lLe(a),f=[],p=function(g){function y(x){if(x)try{g(x+"}")}catch{}}return function(x,b,w,C,_,S,E,j,k,T){switch(x){case 1:if(k===0&&b.charCodeAt(0)===64)return g(b+";"),"";break;case 2:if(j===0)return b+"/*|*/";break;case 3:switch(j){case 102:case 112:return g(w[0]+b),"";default:return b+(T===0?"/*|*/":"")}case-2:b.split("/*|*/}").forEach(y)}}}(function(g){f.push(g)}),m=function(g,y,x){return y===0&&BLe.indexOf(x[n.length])!==-1||x.match(o)?g:"."+t};function v(g,y,x,b){b===void 0&&(b="&");var w=g.replace(LLe,""),C=y&&x?x+" "+y+" { "+w+" }":w;return t=b,n=y,r=new RegExp("\\"+n+"\\b","g"),o=new RegExp("(\\"+n+"\\b){2,}"),d(x||!y?"":y,C)}return d.use([].concat(u,[function(g,y,x){g===2&&x.length&&x[0].lastIndexOf(n)>0&&(x[0]=x[0].replace(r,m))},p,function(g){if(g===-2){var y=f;return f=[],y}}])),v.hash=u.length?u.reduce(function(g,y){return y.name||Yp(15),Mg(g,y.name)},5381).toString():"",v}var u1e=ie.createContext();u1e.Consumer;var d1e=ie.createContext(),zLe=(d1e.Consumer,new fE),iR=NLe();function f1e(){return h.useContext(u1e)||zLe}function h1e(){return h.useContext(d1e)||iR}var p1e=function(){function e(t,n){var r=this;this.inject=function(o,i){i===void 0&&(i=iR);var s=r.name+i.hash;o.hasNameForId(r.id,s)||o.insertRules(r.id,s,i(r.rules,s,"@keyframes"))},this.toString=function(){return Yp(12,String(r.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=iR),this.name+t.hash},e}(),VLe=/([A-Z])/,HLe=/([A-Z])/g,ULe=/^ms-/,WLe=function(e){return"-"+e.toLowerCase()};function JV(e){return VLe.test(e)?e.replace(HLe,WLe).replace(ULe,"-ms-"):e}var eH=function(e){return e==null||e===!1||e===""};function qp(e,t,n,r){if(Array.isArray(e)){for(var o,i=[],s=0,a=e.length;s<a;s+=1)(o=qp(e[s],t,n,r))!==""&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));return i}if(eH(e))return"";if(p6(e))return"."+e.styledComponentId;if(Uv(e)){if(typeof(u=e)!="function"||u.prototype&&u.prototype.isReactComponent||!t)return e;var c=e(t);return qp(c,t,n,r)}var u;return e instanceof p1e?n?(e.inject(n,r),e.getName(r)):e:rR(e)?function d(f,p){var m,v,g=[];for(var y in f)f.hasOwnProperty(y)&&!eH(f[y])&&(rR(f[y])?g.push.apply(g,d(f[y],y)):Uv(f[y])?g.push(JV(y)+":",f[y],";"):g.push(JV(y)+": "+(m=y,(v=f[y])==null||typeof v=="boolean"||v===""?"":typeof v!="number"||v===0||m in cLe?String(v).trim():v+"px")+";"));return p?[p+" {"].concat(g,["}"]):g}(e):e.toString()}function he(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Uv(e)||rR(e)?qp(KV(uE,[e].concat(n))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:qp(KV(e,n))}var m1e=function(e,t,n){return n===void 0&&(n=xf),e.theme!==n.theme&&e.theme||t||n.theme},YLe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,qLe=/(^-|-$)/g;function rI(e){return e.replace(YLe,"-").replace(qLe,"")}var g6=function(e){return oR(l1e(e)>>>0)};function KC(e){return typeof e=="string"&&!0}var sR=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},GLe=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function KLe(e,t,n){var r=e[n];sR(t)&&sR(r)?g1e(r,t):e[n]=t}function g1e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,i=n;o<i.length;o++){var s=i[o];if(sR(s))for(var a in s)GLe(a)&&KLe(e,s[a],a)}return e}var Yv=ie.createContext();Yv.Consumer;function ZLe(e){var t=h.useContext(Yv),n=h.useMemo(function(){return function(r,o){if(!r)return Yp(14);if(Uv(r)){var i=r(o);return i}return Array.isArray(r)||typeof r!="object"?Yp(8):o?_l({},o,{},r):r}(e.theme,t)},[e.theme,t]);return e.children?ie.createElement(Yv.Provider,{value:n},e.children):null}var oI={};function v1e(e,t,n){var r=p6(e),o=!KC(e),i=t.attrs,s=i===void 0?uE:i,a=t.componentId,c=a===void 0?function(b,w){var C=typeof b!="string"?"sc":rI(b);oI[C]=(oI[C]||0)+1;var _=C+"-"+g6("5.2.3"+C+oI[C]);return w?w+"-"+_:_}(t.displayName,t.parentComponentId):a,u=t.displayName,d=u===void 0?function(b){return KC(b)?"styled."+b:"Styled("+ZV(b)+")"}(e):u,f=t.displayName&&t.componentId?rI(t.displayName)+"-"+t.componentId:t.componentId||c,p=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,m=t.shouldForwardProp;r&&e.shouldForwardProp&&(m=t.shouldForwardProp?function(b,w){return e.shouldForwardProp(b,w)&&t.shouldForwardProp(b,w)}:e.shouldForwardProp);var v,g=new FLe(n,f,r?e.componentStyle:void 0),y=g.isStatic&&s.length===0,x=function(b,w){return function(C,_,S,E){var j=C.attrs,k=C.componentStyle,T=C.defaultProps,A=C.foldedComponentIds,D=C.shouldForwardProp,I=C.styledComponentId,O=C.target,$=function(K,z,Z){K===void 0&&(K=xf);var Q=_l({},z,{theme:K}),ne={};return Z.forEach(function(G){var J,re,fe,le=G;for(J in Uv(le)&&(le=le(Q)),le)Q[J]=ne[J]=J==="className"?(re=ne[J],fe=le[J],re&&fe?re+" "+fe:re||fe):le[J]}),[Q,ne]}(m1e(_,h.useContext(Yv),T)||xf,_,j),R=$[0],V=$[1],N=function(K,z,Z,Q){var ne=f1e(),G=h1e(),J=z?K.generateAndInjectStyles(xf,ne,G):K.generateAndInjectStyles(Z,ne,G);return J}(k,E,R),W=S,q=V.$as||_.$as||V.as||_.as||O,H=KC(q),Y=V!==_?_l({},_,{},V):_,X={};for(var B in Y)B[0]!=="$"&&B!=="as"&&(B==="forwardedAs"?X.as=Y[B]:(D?D(B,WV):!H||WV(B))&&(X[B]=Y[B]));return _.style&&V.style!==_.style&&(X.style=_l({},_.style,{},V.style)),X.className=Array.prototype.concat(A,I,N!==I?N:null,_.className,V.className).filter(Boolean).join(" "),X.ref=W,h.createElement(q,X)}(v,b,w,y)};return x.displayName=d,(v=ie.forwardRef(x)).attrs=p,v.componentStyle=g,v.displayName=d,v.shouldForwardProp=m,v.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):uE,v.styledComponentId=f,v.target=r?e.target:e,v.withComponent=function(b){var w=t.componentId,C=function(S,E){if(S==null)return{};var j,k,T={},A=Object.keys(S);for(k=0;k<A.length;k++)j=A[k],E.indexOf(j)>=0||(T[j]=S[j]);return T}(t,["componentId"]),_=w&&w+"-"+(KC(b)?b:rI(ZV(b)));return v1e(b,_l({},C,{attrs:p,componentId:_}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=r?g1e({},e.defaultProps,b):b}}),v.toString=function(){return"."+v.styledComponentId},o&&xLe(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var aR=function(e){return function t(n,r,o){if(o===void 0&&(o=xf),!Di.isValidElementType(r))return Yp(1,String(r));var i=function(){return n(r,o,he.apply(void 0,arguments))};return i.withConfig=function(s){return t(n,r,_l({},o,{},s))},i.attrs=function(s){return t(n,r,_l({},o,{attrs:Array.prototype.concat(o.attrs,s).filter(Boolean)}))},i}(v1e,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){aR[e]=aR(e)});var XLe=function(){function e(n,r){this.rules=n,this.componentId=r,this.isStatic=c1e(n),fE.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(n,r,o,i){var s=i(qp(this.rules,r,o,i).join(""),""),a=this.componentId+n;o.insertRules(a,a,s)},t.removeStyles=function(n,r){r.clearRules(this.componentId+n)},t.renderStyles=function(n,r,o,i){n>2&&fE.registerId(this.componentId+n),this.removeStyles(n,o),this.createStyles(n,r,o,i)},e}();function y1e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=he.apply(void 0,[e].concat(n)),i="sc-global-"+g6(JSON.stringify(o)),s=new XLe(o,i);function a(u){var d=f1e(),f=h1e(),p=h.useContext(Yv),m=h.useRef(d.allocateGSInstance(i)).current;return h.useLayoutEffect(function(){return c(m,u,d,p,f),function(){return s.removeStyles(m,d)}},[m,u,d,p,f]),null}function c(u,d,f,p,m){if(s.isStatic)s.renderStyles(u,CLe,f,m);else{var v=_l({},d,{theme:m1e(d,p,a.defaultProps)});s.renderStyles(u,v,f,m)}}return ie.memo(a)}function Em(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=he.apply(void 0,[e].concat(n)).join(""),i=g6(o);return new p1e(i,o)}var b1e=function(){return h.useContext(Yv)};const P=aR,QLe="#101112",JLe="#fff",Y2={50:{title:"Gray 50",hex:"#f2f3f5"},100:{title:"Gray 100",hex:"#e6e8ec"},200:{title:"Gray 200",hex:"#ced2d9"},300:{title:"Gray 300",hex:"#b6bcc6"},400:{title:"Gray 400",hex:"#9ea6b3"},500:{title:"Gray 500",hex:"#8690a0"},600:{title:"Gray 600",hex:"#6e7683"},700:{title:"Gray 700",hex:"#565d67"},800:{title:"Gray 800",hex:"#3f434a"},900:{title:"Gray 900",hex:"#272a2e"},950:{title:"Gray 950",hex:"#1b1d20"}},jy={50:{title:"Blue 50",hex:"#e8f1fe"},100:{title:"Blue 100",hex:"#d2e3fe"},200:{title:"Blue 200",hex:"#a6c8fd"},300:{title:"Blue 300",hex:"#7aacfd"},400:{title:"Blue 400",hex:"#4e91fc"},500:{title:"Blue 500",hex:"#2276fc"},600:{title:"Blue 600",hex:"#1e61cd"},700:{title:"Blue 700",hex:"#1a4d9e"},800:{title:"Blue 800",hex:"#17396f"},900:{title:"Blue 900",hex:"#132540"},950:{title:"Blue 950",hex:"#111b29"}},e8e={50:{title:"Purple 50",hex:"#f8e9fe"},100:{title:"Purple 100",hex:"#f2d3fe"},200:{title:"Purple 200",hex:"#e6a7fd"},300:{title:"Purple 300",hex:"#d97bfd"},400:{title:"Purple 400",hex:"#cd4efc"},500:{title:"Purple 500",hex:"#c123fc"},600:{title:"Purple 600",hex:"#9d1fcd"},700:{title:"Purple 700",hex:"#7a1b9e"},800:{title:"Purple 800",hex:"#56186f"},900:{title:"Purple 900",hex:"#331440"},950:{title:"Purple 950",hex:"#211229"}},t8e={50:{title:"Magenta 50",hex:"#fcebf5"},100:{title:"Magenta 100",hex:"#f9d7eb"},200:{title:"Magenta 200",hex:"#f4afd8"},300:{title:"Magenta 300",hex:"#ef87c4"},400:{title:"Magenta 400",hex:"#ea5fb1"},500:{title:"Magenta 500",hex:"#e5389e"},600:{title:"Magenta 600",hex:"#ba3082"},700:{title:"Magenta 700",hex:"#8f2866"},800:{title:"Magenta 800",hex:"#65204a"},900:{title:"Magenta 900",hex:"#3a182d"},950:{title:"Magenta 950",hex:"#25141f"}},lR={50:{title:"Red 50",hex:"#fdebea"},100:{title:"Red 100",hex:"#fcd8d5"},200:{title:"Red 200",hex:"#f9b1ab"},300:{title:"Red 300",hex:"#f68b82"},400:{title:"Red 400",hex:"#f36458"},500:{title:"Red 500",hex:"#f03e2f"},600:{title:"Red 600",hex:"#c33529"},700:{title:"Red 700",hex:"#962c23"},800:{title:"Red 800",hex:"#69231d"},900:{title:"Red 900",hex:"#3c1a17"},950:{title:"Red 950",hex:"#261514"}},n8e={50:{title:"Orange 50",hex:"#fef0e6"},100:{title:"Orange 100",hex:"#fee2ce"},200:{title:"Orange 200",hex:"#fdc59d"},300:{title:"Orange 300",hex:"#fca86d"},400:{title:"Orange 400",hex:"#fb8b3c"},500:{title:"Orange 500",hex:"#e57322"},600:{title:"Orange 600",hex:"#ba5f1f"},700:{title:"Orange 700",hex:"#904b1b"},800:{title:"Orange 800",hex:"#653818"},900:{title:"Orange 900",hex:"#3a2415"},950:{title:"Orange 950",hex:"#251a13"}},cR={50:{title:"Yellow 50",hex:"#fef7da"},100:{title:"Yellow 100",hex:"#fdefb6"},200:{title:"Yellow 200",hex:"#fcdf6d"},300:{title:"Yellow 300",hex:"#fbd024"},400:{title:"Yellow 400",hex:"#d9b421"},500:{title:"Yellow 500",hex:"#b7991e"},600:{title:"Yellow 600",hex:"#967e1c"},700:{title:"Yellow 700",hex:"#746219"},800:{title:"Yellow 800",hex:"#534717"},900:{title:"Yellow 900",hex:"#312c14"},950:{title:"Yellow 950",hex:"#201e13"}},uR={50:{title:"Green 50",hex:"#e7f9ed"},100:{title:"Green 100",hex:"#d0f4dc"},200:{title:"Green 200",hex:"#a1eaba"},300:{title:"Green 300",hex:"#72e097"},400:{title:"Green 400",hex:"#43d675"},500:{title:"Green 500",hex:"#3ab564"},600:{title:"Green 600",hex:"#329454"},700:{title:"Green 700",hex:"#297343"},800:{title:"Green 800",hex:"#215233"},900:{title:"Green 900",hex:"#183122"},950:{title:"Green 950",hex:"#14211a"}},r8e={50:{title:"Cyan 50",hex:"#e3fafd"},100:{title:"Cyan 100",hex:"#c7f5fc"},200:{title:"Cyan 200",hex:"#90ecf9"},300:{title:"Cyan 300",hex:"#59e3f6"},400:{title:"Cyan 400",hex:"#22daf4"},500:{title:"Cyan 500",hex:"#1fb8ce"},600:{title:"Cyan 600",hex:"#1c97a8"},700:{title:"Cyan 700",hex:"#197583"},800:{title:"Cyan 800",hex:"#16545d"},900:{title:"Cyan 900",hex:"#133237"},950:{title:"Cyan 950",hex:"#112124"}},pe={gray:Y2,blue:jy,purple:e8e,magenta:t8e,red:lR,orange:n8e,yellow:cR,green:uR,cyan:r8e},x1e=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],vc={title:"Black",hex:QLe},ka={title:"White",hex:JLe},Bf=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dR=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),na=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),i8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),l.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),l.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})}),s8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 10.5V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),w1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),yw=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),C1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),a8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),l8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),c8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),u8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),A0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})}),_1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),l.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})}),S1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})}),p8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bolt",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18 11.5L9 21L11 13.5H7L16 4L14 11.5H18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),g8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),v8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),l.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883H9.06122L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})}),bj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})}),Fg=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),b8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),xj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),sa=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),tl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),wj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Uc=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),k1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),w8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),C8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ii=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),T1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Cj=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),A1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),E8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),k8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ap=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_j=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Vu=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),I1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),T8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"cube",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),A8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),O1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Nf=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),I8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),O8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),P8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),R8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),$8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),M8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),F8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),v6=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),L8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("circle",{cx:12.5,cy:12.5,r:1.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}),B8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 8.5L12.5 13L8 8.5M17 12.5L12.5 17L8 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),N8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 17L8 12.5L12.5 8M16.5 17L12 12.5L16.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y6=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 8L17 12.5L12.5 17M8.5 8L13 12.5L8.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),z8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.5L12.5 8L17 12.5M8 16.5L12.5 12L17 16.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),b6=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),P1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),l.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),l.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),l.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),l.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})}),V8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),R1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),H8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Hu=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),l.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),l.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})}),Ao=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),l.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})}),W8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Y8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),q8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),G8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})}),K8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})}),fa=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Z8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x6=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),X8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),M1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Q8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),J8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),l.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),l.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})}),e9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),t9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qv=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),n9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),r9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$l=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),i9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),s9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})}),km=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),F1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),a9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),L1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),B1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),N1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})}),l9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),c9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"json",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),sh=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12 7.5H6.5V18.5H17.5V13M19.5 5.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 5.5H19.5V11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),w6=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14.5 15V18.5H5.5V6.5H14.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18 9L21.5 12.5L18 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),u9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),zf=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),p9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),z1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),C6=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m9e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),_6=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),V1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),l.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),l.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),l.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})}),g9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),H1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),v9e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),y9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),b9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"panel-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"panel-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),w9e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),l.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),l.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})}),C9e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),_9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),W1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),bw=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E9e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"redo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),k9e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"refresh",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 10.5L15.5 6.5L11.5 2.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),j9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Y1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Uu=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})}),S6=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),T9e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),A9e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),E6=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),D9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),O9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ti=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ql=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M16.5 15.5L12.5 19.5L8.5 15.5M8.5 9.5L12.5 5.5L16.5 9.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),P9e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M15 10.5H18.5V19.5H6.5L6.5 10.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9 7L12.5 3.5L16 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),k6=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),R9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),xw=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),M9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),q1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),F9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),G1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),K1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),L9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13 4L15.2747 9.8691L21.5595 10.2188L16.6806 14.1959L18.2901 20.2812L13 16.87L7.70993 20.2812L9.31941 14.1959L4.44049 10.2188L10.7253 9.8691L13 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),B9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Z1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),l.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),l.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})}),Cg=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),l.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})}),j6=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),N9e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"tablet-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),z9e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),V9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),H9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),W9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Y9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),q9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Sj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),G9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),K9e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Z9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})}),po=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),X9e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Q9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),J9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),e7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),t7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})}),tb=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),X1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),l.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),hE=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Al=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),n7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pE=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Ej=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),r7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})}),Mr=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),i7e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6757 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.977 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784V5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242H5.21498L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108H6.06351L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L19.3961 12.7804L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83125 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76898L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.977 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0985 7.19284 10.7021 9.14218 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76898L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})}),s7e={"access-denied":Bf,activity:o8e,"add-circle":dR,add:na,api:i8e,archive:s8e,"arrow-down":w1e,"arrow-left":yw,"arrow-right":C1e,"arrow-top-right":a8e,"arrow-up":l8e,"bar-chart":c8e,basket:u8e,bell:d8e,bill:f8e,"binary-document":A0,"block-content":_1e,"block-element":S1e,blockquote:h8e,bold:E1e,bolt:p8e,book:m8e,bottle:g8e,"bulb-filled":v8e,"bulb-outline":bj,calendar:Fg,case:y8e,"chart-upward":b8e,"checkmark-circle":xj,checkmark:sa,"chevron-down":tl,"chevron-left":wj,"chevron-right":Uc,"chevron-up":k1e,circle:x8e,clipboard:w8e,"clipboard-image":C8e,clock:j1e,"close-circle":_8e,close:Ii,"code-block":S8e,code:T1e,cog:Cj,collapse:A1e,"color-wheel":E8e,comment:D1e,component:k8e,compose:Ap,controls:_j,copy:Vu,"credit-card":j8e,crop:I1e,cube:T8e,dashboard:A8e,database:D8e,desktop:O1e,document:Nf,"document-pdf":I8e,"document-remove":O8e,"document-sheet":P8e,"document-text":R8e,"document-video":$8e,"document-word":M8e,"document-zip":F8e,documents:v6,dot:L8e,"double-chevron-down":B8e,"double-chevron-left":N8e,"double-chevron-right":y6,"double-chevron-up":z8e,download:b6,"drag-handle":P1e,drop:V8e,"earth-americas":R1e,"earth-globe":H8e,edit:Hu,"ellipsis-horizontal":U8e,"ellipsis-vertical":Ao,enter:W8e,"enter-right":Y8e,envelope:q8e,equal:G8e,"error-filled":K8e,"error-outline":fa,expand:$1e,"eye-closed":Z8e,"eye-open":x6,filter:X8e,folder:M1e,generate:Q8e,groq:J8e,"heart-filled":e9e,heart:t9e,"help-circle":qv,home:n9e,"ice-cream":r9e,image:$l,"image-remove":o9e,images:i9e,"info-filled":s9e,"info-outline":km,"inline-element":F1e,inline:a9e,"insert-above":L1e,"insert-below":B1e,italic:N1e,joystick:l9e,json:c9e,launch:sh,leave:w6,lemon:u9e,link:zf,"link-removed":d9e,lock:f9e,"logo-js":h9e,"logo-ts":p9e,"master-detail":z1e,menu:C6,"mobile-device":m9e,moon:_6,number:V1e,"ok-hand":g9e,olist:H1e,overage:v9e,package:y9e,"panel-left":b9e,"panel-right":x9e,pause:w9e,pin:C9e,"pin-removed":_9e,play:U1e,plug:W1e,presentation:S9e,publish:D0,"read-only":bw,redo:E9e,refresh:k9e,"remove-circle":j9e,remove:Y1e,reset:Uu,restore:S6,retrieve:T9e,retry:A9e,revert:E6,robot:D9e,rocket:I9e,schema:O9e,search:ti,select:ql,share:P9e,sort:k6,sparkle:R9e,sparkles:$9e,spinner:xw,"split-horizontal":M9e,"split-vertical":q1e,square:F9e,"stack-compact":G1e,stack:K1e,star:L9e,stop:B9e,strikethrough:Z1e,string:Cg,sun:j6,sync:I0,"tablet-device":N9e,tag:z9e,tags:V9e,terminal:H9e,text:U9e,"th-large":W9e,"th-list":Y9e,tiers:q9e,"toggle-arrow-right":Sj,token:G9e,transfer:K9e,translate:Z9e,trash:po,"trend-upward":X9e,"triangle-outline":Q9e,trolley:J9e,truncate:e7e,twitter:t7e,ulist:tb,underline:X1e,undo:hE,unknown:Al,unlock:n7e,unpublish:pE,upload:Ej,user:r7e,users:kj,"warning-filled":o7e,"warning-outline":Mr,wrench:i7e};h.forwardRef(function(t,n){const{symbol:r,...o}=t,i=s7e[r];return i?h.createElement(i,{...o,ref:n}):null});var Q1e={exports:{}},a7e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",l7e=a7e,c7e=l7e;function J1e(){}function eye(){}eye.resetWarningCache=J1e;var u7e=function(){function e(r,o,i,s,a,c){if(c!==c7e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:eye,resetWarningCache:J1e};return n.PropTypes=n,n};Q1e.exports=u7e();var tye=Q1e.exports;const XFn=Ie(tye);var d7e=h7e,f7e=Object.prototype.hasOwnProperty;function h7e(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)f7e.call(n,r)&&(e[r]=n[r])}return e}var nye=rye,T6=rye.prototype;T6.space=null;T6.normal={};T6.property={};function rye(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}var tH=d7e,p7e=nye,m7e=g7e;function g7e(e){for(var t=e.length,n=[],r=[],o=-1,i,s;++o<t;)i=e[o],n.push(i.property),r.push(i.normal),s=i.space;return new p7e(tH.apply(null,n),tH.apply(null,r),s)}var A6=v7e;function v7e(e){return e.toLowerCase()}var oye=iye,nl=iye.prototype;nl.space=null;nl.attribute=null;nl.property=null;nl.boolean=!1;nl.booleanish=!1;nl.overloadedBoolean=!1;nl.number=!1;nl.commaSeparated=!1;nl.spaceSeparated=!1;nl.commaOrSpaceSeparated=!1;nl.mustUseProperty=!1;nl.defined=!1;function iye(e,t){this.property=e,this.attribute=t}var Wc={},y7e=0;Wc.boolean=jm();Wc.booleanish=jm();Wc.overloadedBoolean=jm();Wc.number=jm();Wc.spaceSeparated=jm();Wc.commaSeparated=jm();Wc.commaOrSpaceSeparated=jm();function jm(){return Math.pow(2,++y7e)}var sye=oye,nH=Wc,aye=D6;D6.prototype=new sye;D6.prototype.defined=!0;var lye=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],b7e=lye.length;function D6(e,t,n,r){var o=-1,i;for(rH(this,"space",r),sye.call(this,e,t);++o<b7e;)i=lye[o],rH(this,i,(n&nH[i])===nH[i])}function rH(e,t,n){n&&(e[t]=n)}var oH=A6,x7e=nye,w7e=aye,ww=C7e;function C7e(e){var t=e.space,n=e.mustUseProperty||[],r=e.attributes||{},o=e.properties,i=e.transform,s={},a={},c,u;for(c in o)u=new w7e(c,i(r,c),o[c],t),n.indexOf(c)!==-1&&(u.mustUseProperty=!0),s[c]=u,a[oH(c)]=c,a[oH(u.attribute)]=c;return new x7e(s,a,t)}var _7e=ww,S7e=_7e({space:"xlink",transform:E7e,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function E7e(e,t){return"xlink:"+t.slice(5).toLowerCase()}var k7e=ww,j7e=k7e({space:"xml",transform:T7e,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function T7e(e,t){return"xml:"+t.slice(3).toLowerCase()}var A7e=D7e;function D7e(e,t){return t in e?e[t]:t}var I7e=A7e,cye=O7e;function O7e(e,t){return I7e(e,t.toLowerCase())}var P7e=ww,R7e=cye,$7e=P7e({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:R7e,properties:{xmlns:null,xmlnsXLink:null}}),I6=Wc,M7e=ww,fs=I6.booleanish,ba=I6.number,Ih=I6.spaceSeparated,F7e=M7e({transform:L7e,properties:{ariaActiveDescendant:null,ariaAtomic:fs,ariaAutoComplete:null,ariaBusy:fs,ariaChecked:fs,ariaColCount:ba,ariaColIndex:ba,ariaColSpan:ba,ariaControls:Ih,ariaCurrent:null,ariaDescribedBy:Ih,ariaDetails:null,ariaDisabled:fs,ariaDropEffect:Ih,ariaErrorMessage:null,ariaExpanded:fs,ariaFlowTo:Ih,ariaGrabbed:fs,ariaHasPopup:null,ariaHidden:fs,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ih,ariaLevel:ba,ariaLive:null,ariaModal:fs,ariaMultiLine:fs,ariaMultiSelectable:fs,ariaOrientation:null,ariaOwns:Ih,ariaPlaceholder:null,ariaPosInSet:ba,ariaPressed:fs,ariaReadOnly:fs,ariaRelevant:null,ariaRequired:fs,ariaRoleDescription:Ih,ariaRowCount:ba,ariaRowIndex:ba,ariaRowSpan:ba,ariaSelected:fs,ariaSetSize:ba,ariaSort:null,ariaValueMax:ba,ariaValueMin:ba,ariaValueNow:ba,ariaValueText:null,role:null}});function L7e(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}var O0=Wc,B7e=ww,N7e=cye,$t=O0.boolean,z7e=O0.overloadedBoolean,M1=O0.booleanish,Jn=O0.number,Hi=O0.spaceSeparated,ZC=O0.commaSeparated,V7e=B7e({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:N7e,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ZC,acceptCharset:Hi,accessKey:Hi,action:null,allow:null,allowFullScreen:$t,allowPaymentRequest:$t,allowUserMedia:$t,alt:null,as:null,async:$t,autoCapitalize:null,autoComplete:Hi,autoFocus:$t,autoPlay:$t,capture:$t,charSet:null,checked:$t,cite:null,className:Hi,cols:Jn,colSpan:null,content:null,contentEditable:M1,controls:$t,controlsList:Hi,coords:Jn|ZC,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$t,defer:$t,dir:null,dirName:null,disabled:$t,download:z7e,draggable:M1,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$t,formTarget:null,headers:Hi,height:Jn,hidden:$t,high:Jn,href:null,hrefLang:null,htmlFor:Hi,httpEquiv:Hi,id:null,imageSizes:null,imageSrcSet:ZC,inputMode:null,integrity:null,is:null,isMap:$t,itemId:null,itemProp:Hi,itemRef:Hi,itemScope:$t,itemType:Hi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$t,low:Jn,manifest:null,max:null,maxLength:Jn,media:null,method:null,min:null,minLength:Jn,multiple:$t,muted:$t,name:null,nonce:null,noModule:$t,noValidate:$t,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$t,optimum:Jn,pattern:null,ping:Hi,placeholder:null,playsInline:$t,poster:null,preload:null,readOnly:$t,referrerPolicy:null,rel:Hi,required:$t,reversed:$t,rows:Jn,rowSpan:Jn,sandbox:Hi,scope:null,scoped:$t,seamless:$t,selected:$t,shape:null,size:Jn,sizes:null,slot:null,span:Jn,spellCheck:M1,src:null,srcDoc:null,srcLang:null,srcSet:ZC,start:Jn,step:null,style:null,tabIndex:Jn,target:null,title:null,translate:null,type:null,typeMustMatch:$t,useMap:null,value:M1,width:Jn,wrap:null,align:null,aLink:null,archive:Hi,axis:null,background:null,bgColor:null,border:Jn,borderColor:null,bottomMargin:Jn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$t,declare:$t,event:null,face:null,frame:null,frameBorder:null,hSpace:Jn,leftMargin:Jn,link:null,longDesc:null,lowSrc:null,marginHeight:Jn,marginWidth:Jn,noResize:$t,noHref:$t,noShade:$t,noWrap:$t,object:null,profile:null,prompt:null,rev:null,rightMargin:Jn,rules:null,scheme:null,scrolling:M1,standby:null,summary:null,text:null,topMargin:Jn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Jn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$t,disableRemotePlayback:$t,prefix:null,property:null,results:Jn,security:null,unselectable:null}}),H7e=m7e,U7e=S7e,W7e=j7e,Y7e=$7e,q7e=F7e,G7e=V7e,K7e=H7e([W7e,U7e,Y7e,q7e,G7e]),Z7e=A6,X7e=aye,Q7e=oye,O6="data",J7e=nBe,eBe=/^data[-\w.:]+$/i,uye=/-[a-z]/g,tBe=/[A-Z]/g;function nBe(e,t){var n=Z7e(t),r=t,o=Q7e;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&n.slice(0,4)===O6&&eBe.test(t)&&(t.charAt(4)==="-"?r=rBe(t):t=oBe(t),o=X7e),new o(r,t))}function rBe(e){var t=e.slice(5).replace(uye,sBe);return O6+t.charAt(0).toUpperCase()+t.slice(1)}function oBe(e){var t=e.slice(4);return uye.test(t)?e:(t=t.replace(tBe,iBe),t.charAt(0)!=="-"&&(t="-"+t),O6+t)}function iBe(e){return"-"+e.toLowerCase()}function sBe(e){return e.charAt(1).toUpperCase()}var aBe=lBe,iH=/[#.]/g;function lBe(e,t){for(var n=e||"",r=t||"div",o={},i=0,s,a,c;i<n.length;)iH.lastIndex=i,c=iH.exec(n),s=n.slice(i,c?c.index:n.length),s&&(a?a==="#"?o.id=s:o.className?o.className.push(s):o.className=[s]:r=s,i+=s.length),c&&(a=c[0],i++);return{type:"element",tagName:r,properties:o,children:[]}}var P6={};P6.parse=dBe;P6.stringify=fBe;var sH="",cBe=" ",uBe=/[ \t\n\r\f]+/g;function dBe(e){var t=String(e||sH).trim();return t===sH?[]:t.split(uBe)}function fBe(e){return e.join(cBe).trim()}var R6={};R6.parse=hBe;R6.stringify=pBe;var fR=",",aH=" ",Ty="";function hBe(e){for(var t=[],n=String(e||Ty),r=n.indexOf(fR),o=0,i=!1,s;!i;)r===-1&&(r=n.length,i=!0),s=n.slice(o,r).trim(),(s||!i)&&t.push(s),o=r+1,r=n.indexOf(fR,o);return t}function pBe(e,t){var n=t||{},r=n.padLeft===!1?Ty:aH,o=n.padRight?aH:Ty;return e[e.length-1]===Ty&&(e=e.concat(Ty)),e.join(o+fR+r).trim()}var mBe=J7e,lH=A6,gBe=aBe,cH=P6.parse,uH=R6.parse,vBe=bBe,yBe={}.hasOwnProperty;function bBe(e,t,n){var r=n?SBe(n):null;return o;function o(s,a){var c=gBe(s,t),u=Array.prototype.slice.call(arguments,2),d=c.tagName.toLowerCase(),f;if(c.tagName=r&&yBe.call(r,d)?r[d]:d,a&&xBe(a,c)&&(u.unshift(a),a=null),a)for(f in a)i(c.properties,f,a[f]);return dye(c.children,u),c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}function i(s,a,c){var u,d,f;c==null||c!==c||(u=mBe(e,a),d=u.property,f=c,typeof f=="string"&&(u.spaceSeparated?f=cH(f):u.commaSeparated?f=uH(f):u.commaOrSpaceSeparated&&(f=cH(uH(f).join(" ")))),d==="style"&&typeof c!="string"&&(f=_Be(f)),d==="className"&&s.className&&(f=s.className.concat(f)),s[d]=CBe(u,d,f))}}function xBe(e,t){return typeof e=="string"||"length"in e||wBe(t.tagName,e)}function wBe(e,t){var n=t.type;return e==="input"||!n||typeof n!="string"?!1:typeof t.children=="object"&&"length"in t.children?!0:(n=n.toLowerCase(),e==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in t)}function dye(e,t){var n,r;if(typeof t=="string"||typeof t=="number"){e.push({type:"text",value:String(t)});return}if(typeof t=="object"&&"length"in t){for(n=-1,r=t.length;++n<r;)dye(e,t[n]);return}if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}function CBe(e,t,n){var r,o,i;if(typeof n!="object"||!("length"in n))return dH(e,t,n);for(o=n.length,r=-1,i=[];++r<o;)i[r]=dH(e,t,n[r]);return i}function dH(e,t,n){var r=n;return e.number||e.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(e.boolean||e.overloadedBoolean)&&typeof r=="string"&&(r===""||lH(n)===lH(t))&&(r=!0),r}function _Be(e){var t=[],n;for(n in e)t.push([n,e[n]].join(": "));return t.join("; ")}function SBe(e){for(var t=e.length,n=-1,r={},o;++n<t;)o=e[n],r[o.toLowerCase()]=o;return r}var EBe=K7e,kBe=vBe,fye=kBe(EBe,"div");fye.displayName="html";var jBe=fye,TBe=jBe;const ABe="Æ",DBe="&",IBe="Á",OBe="Â",PBe="À",RBe="Å",$Be="Ã",MBe="Ä",FBe="©",LBe="Ç",BBe="Ð",NBe="É",zBe="Ê",VBe="È",HBe="Ë",UBe=">",WBe="Í",YBe="Î",qBe="Ì",GBe="Ï",KBe="<",ZBe="Ñ",XBe="Ó",QBe="Ô",JBe="Ò",eNe="Ø",tNe="Õ",nNe="Ö",rNe='"',oNe="®",iNe="Þ",sNe="Ú",aNe="Û",lNe="Ù",cNe="Ü",uNe="Ý",dNe="á",fNe="â",hNe="´",pNe="æ",mNe="à",gNe="&",vNe="å",yNe="ã",bNe="ä",xNe="¦",wNe="ç",CNe="¸",_Ne="¢",SNe="©",ENe="¤",kNe="°",jNe="÷",TNe="é",ANe="ê",DNe="è",INe="ð",ONe="ë",PNe="½",RNe="¼",$Ne="¾",MNe=">",FNe="í",LNe="î",BNe="¡",NNe="ì",zNe="¿",VNe="ï",HNe="«",UNe="<",WNe="¯",YNe="µ",qNe="·",GNe=" ",KNe="¬",ZNe="ñ",XNe="ó",QNe="ô",JNe="ò",eze="ª",tze="º",nze="ø",rze="õ",oze="ö",ize="¶",sze="±",aze="£",lze='"',cze="»",uze="®",dze="§",fze="­",hze="¹",pze="²",mze="³",gze="ß",vze="þ",yze="×",bze="ú",xze="û",wze="ù",Cze="¨",_ze="ü",Sze="ý",Eze="¥",kze="ÿ",jze={AElig:ABe,AMP:DBe,Aacute:IBe,Acirc:OBe,Agrave:PBe,Aring:RBe,Atilde:$Be,Auml:MBe,COPY:FBe,Ccedil:LBe,ETH:BBe,Eacute:NBe,Ecirc:zBe,Egrave:VBe,Euml:HBe,GT:UBe,Iacute:WBe,Icirc:YBe,Igrave:qBe,Iuml:GBe,LT:KBe,Ntilde:ZBe,Oacute:XBe,Ocirc:QBe,Ograve:JBe,Oslash:eNe,Otilde:tNe,Ouml:nNe,QUOT:rNe,REG:oNe,THORN:iNe,Uacute:sNe,Ucirc:aNe,Ugrave:lNe,Uuml:cNe,Yacute:uNe,aacute:dNe,acirc:fNe,acute:hNe,aelig:pNe,agrave:mNe,amp:gNe,aring:vNe,atilde:yNe,auml:bNe,brvbar:xNe,ccedil:wNe,cedil:CNe,cent:_Ne,copy:SNe,curren:ENe,deg:kNe,divide:jNe,eacute:TNe,ecirc:ANe,egrave:DNe,eth:INe,euml:ONe,frac12:PNe,frac14:RNe,frac34:$Ne,gt:MNe,iacute:FNe,icirc:LNe,iexcl:BNe,igrave:NNe,iquest:zNe,iuml:VNe,laquo:HNe,lt:UNe,macr:WNe,micro:YNe,middot:qNe,nbsp:GNe,not:KNe,ntilde:ZNe,oacute:XNe,ocirc:QNe,ograve:JNe,ordf:eze,ordm:tze,oslash:nze,otilde:rze,ouml:oze,para:ize,plusmn:sze,pound:aze,quot:lze,raquo:cze,reg:uze,sect:dze,shy:fze,sup1:hze,sup2:pze,sup3:mze,szlig:gze,thorn:vze,times:yze,uacute:bze,ucirc:xze,ugrave:wze,uml:Cze,uuml:_ze,yacute:Sze,yen:Eze,yuml:kze},Tze={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};var hye=Aze;function Aze(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}var Dze=Ize;function Ize(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}var Oze=Pze;function Pze(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}var Rze=Oze,$ze=hye,Mze=Fze;function Fze(e){return Rze(e)||$ze(e)}var XC,Lze=59,Bze=Nze;function Nze(e){var t="&"+e+";",n;return XC=XC||document.createElement("i"),XC.innerHTML=t,n=XC.textContent,n.charCodeAt(n.length-1)===Lze&&e!=="semi"||n===t?!1:n}var fH=jze,hH=Tze,zze=hye,Vze=Dze,pye=Mze,Hze=Bze,Uze=rVe,Wze={}.hasOwnProperty,og=String.fromCharCode,Yze=Function.prototype,pH={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},qze=9,mH=10,Gze=12,Kze=32,gH=38,Zze=59,Xze=60,Qze=61,Jze=35,eVe=88,tVe=120,nVe=65533,_g="named",$6="hexadecimal",M6="decimal",F6={};F6[$6]=16;F6[M6]=10;var jj={};jj[_g]=pye;jj[M6]=zze;jj[$6]=Vze;var mye=1,gye=2,vye=3,yye=4,bye=5,hR=6,xye=7,ah={};ah[mye]="Named character references must be terminated by a semicolon";ah[gye]="Numeric character references must be terminated by a semicolon";ah[vye]="Named character references cannot be empty";ah[yye]="Numeric character references cannot be empty";ah[bye]="Named character references must be known";ah[hR]="Numeric character references cannot be disallowed";ah[xye]="Numeric character references cannot be outside the permissible Unicode range";function rVe(e,t){var n={},r,o;t||(t={});for(o in pH)r=t[o],n[o]=r??pH[o];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),oVe(e,n)}function oVe(e,t){var n=t.additional,r=t.nonTerminated,o=t.text,i=t.reference,s=t.warning,a=t.textContext,c=t.referenceContext,u=t.warningContext,d=t.position,f=t.indent||[],p=e.length,m=0,v=-1,g=d.column||1,y=d.line||1,x="",b=[],w,C,_,S,E,j,k,T,A,D,I,O,$,R,V,N,W,q,H;for(typeof n=="string"&&(n=n.charCodeAt(0)),N=Y(),T=s?X:Yze,m--,p++;++m<p;)if(E===mH&&(g=f[v]||1),E=e.charCodeAt(m),E===gH){if(k=e.charCodeAt(m+1),k===qze||k===mH||k===Gze||k===Kze||k===gH||k===Xze||k!==k||n&&k===n){x+=og(E),g++;continue}for($=m+1,O=$,H=$,k===Jze?(H=++O,k=e.charCodeAt(H),k===eVe||k===tVe?(R=$6,H=++O):R=M6):R=_g,w="",I="",S="",V=jj[R],H--;++H<p&&(k=e.charCodeAt(H),!!V(k));)S+=og(k),R===_g&&Wze.call(fH,S)&&(w=S,I=fH[S]);_=e.charCodeAt(H)===Zze,_&&(H++,C=R===_g?Hze(S):!1,C&&(w=S,I=C)),q=1+H-$,!_&&!r||(S?R===_g?(_&&!I?T(bye,1):(w!==S&&(H=O+w.length,q=1+H-O,_=!1),_||(A=w?mye:vye,t.attribute?(k=e.charCodeAt(H),k===Qze?(T(A,q),I=null):pye(k)?I=null:T(A,q)):T(A,q))),j=I):(_||T(gye,q),j=parseInt(S,F6[R]),iVe(j)?(T(xye,q),j=og(nVe)):j in hH?(T(hR,q),j=hH[j]):(D="",sVe(j)&&T(hR,q),j>65535&&(j-=65536,D+=og(j>>>10|55296),j=56320|j&1023),j=D+og(j))):R!==_g&&T(yye,q)),j?(B(),N=Y(),m=H-1,g+=H-$+1,b.push(j),W=Y(),W.offset++,i&&i.call(c,j,{start:N,end:W},e.slice($-1,H)),N=W):(S=e.slice($-1,H),x+=S,g+=S.length,m=H-1)}else E===10&&(y++,v++,g=0),E===E?(x+=og(E),g++):B();return b.join("");function Y(){return{line:y,column:g,offset:m+(d.offset||0)}}function X(K,z){var Z=Y();Z.column+=z,Z.offset+=z,s.call(u,ah[K],Z,K)}function B(){x&&(b.push(x),o&&o.call(a,x,{start:N,end:Y()}),x="")}}function iVe(e){return e>=55296&&e<=57343||e>1114111}function sVe(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var wye={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,s={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function b(w){return w instanceof c?new c(w.type,b(w.content),w.alias):Array.isArray(w)?w.map(b):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(b){return Object.prototype.toString.call(b).slice(8,-1)},objId:function(b){return b.__id||Object.defineProperty(b,"__id",{value:++i}),b.__id},clone:function b(w,C){C=C||{};var _,S;switch(a.util.type(w)){case"Object":if(S=a.util.objId(w),C[S])return C[S];_={},C[S]=_;for(var E in w)w.hasOwnProperty(E)&&(_[E]=b(w[E],C));return _;case"Array":return S=a.util.objId(w),C[S]?C[S]:(_=[],C[S]=_,w.forEach(function(j,k){_[k]=b(j,C)}),_);default:return w}},getLanguage:function(b){for(;b;){var w=o.exec(b.className);if(w)return w[1].toLowerCase();b=b.parentElement}return"none"},setLanguage:function(b,w){b.className=b.className.replace(RegExp(o,"gi"),""),b.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(_){var b=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(_.stack)||[])[1];if(b){var w=document.getElementsByTagName("script");for(var C in w)if(w[C].src==b)return w[C]}return null}},isActive:function(b,w,C){for(var _="no-"+w;b;){var S=b.classList;if(S.contains(w))return!0;if(S.contains(_))return!1;b=b.parentElement}return!!C}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(b,w){var C=a.util.clone(a.languages[b]);for(var _ in w)C[_]=w[_];return C},insertBefore:function(b,w,C,_){_=_||a.languages;var S=_[b],E={};for(var j in S)if(S.hasOwnProperty(j)){if(j==w)for(var k in C)C.hasOwnProperty(k)&&(E[k]=C[k]);C.hasOwnProperty(j)||(E[j]=S[j])}var T=_[b];return _[b]=E,a.languages.DFS(a.languages,function(A,D){D===T&&A!=b&&(this[A]=E)}),E},DFS:function b(w,C,_,S){S=S||{};var E=a.util.objId;for(var j in w)if(w.hasOwnProperty(j)){C.call(w,j,w[j],_||j);var k=w[j],T=a.util.type(k);T==="Object"&&!S[E(k)]?(S[E(k)]=!0,b(k,C,null,S)):T==="Array"&&!S[E(k)]&&(S[E(k)]=!0,b(k,C,j,S))}}},plugins:{},highlightAll:function(b,w){a.highlightAllUnder(document,b,w)},highlightAllUnder:function(b,w,C){var _={callback:C,container:b,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",_),_.elements=Array.prototype.slice.apply(_.container.querySelectorAll(_.selector)),a.hooks.run("before-all-elements-highlight",_);for(var S=0,E;E=_.elements[S++];)a.highlightElement(E,w===!0,_.callback)},highlightElement:function(b,w,C){var _=a.util.getLanguage(b),S=a.languages[_];a.util.setLanguage(b,_);var E=b.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(E,_);var j=b.textContent,k={element:b,language:_,grammar:S,code:j};function T(D){k.highlightedCode=D,a.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,a.hooks.run("after-highlight",k),a.hooks.run("complete",k),C&&C.call(k.element)}if(a.hooks.run("before-sanity-check",k),E=k.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!k.code){a.hooks.run("complete",k),C&&C.call(k.element);return}if(a.hooks.run("before-highlight",k),!k.grammar){T(a.util.encode(k.code));return}if(w&&r.Worker){var A=new Worker(a.filename);A.onmessage=function(D){T(D.data)},A.postMessage(JSON.stringify({language:k.language,code:k.code,immediateClose:!0}))}else T(a.highlight(k.code,k.grammar,k.language))},highlight:function(b,w,C){var _={code:b,grammar:w,language:C};if(a.hooks.run("before-tokenize",_),!_.grammar)throw new Error('The language "'+_.language+'" has no grammar.');return _.tokens=a.tokenize(_.code,_.grammar),a.hooks.run("after-tokenize",_),c.stringify(a.util.encode(_.tokens),_.language)},tokenize:function(b,w){var C=w.rest;if(C){for(var _ in C)w[_]=C[_];delete w.rest}var S=new f;return p(S,S.head,b),d(b,S,w,S.head,0),v(S)},hooks:{all:{},add:function(b,w){var C=a.hooks.all;C[b]=C[b]||[],C[b].push(w)},run:function(b,w){var C=a.hooks.all[b];if(!(!C||!C.length))for(var _=0,S;S=C[_++];)S(w)}},Token:c};r.Prism=a;function c(b,w,C,_){this.type=b,this.content=w,this.alias=C,this.length=(_||"").length|0}c.stringify=function b(w,C){if(typeof w=="string")return w;if(Array.isArray(w)){var _="";return w.forEach(function(T){_+=b(T,C)}),_}var S={type:w.type,content:b(w.content,C),tag:"span",classes:["token",w.type],attributes:{},language:C},E=w.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(S.classes,E):S.classes.push(E)),a.hooks.run("wrap",S);var j="";for(var k in S.attributes)j+=" "+k+'="'+(S.attributes[k]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+j+">"+S.content+"</"+S.tag+">"};function u(b,w,C,_){b.lastIndex=w;var S=b.exec(C);if(S&&_&&S[1]){var E=S[1].length;S.index+=E,S[0]=S[0].slice(E)}return S}function d(b,w,C,_,S,E){for(var j in C)if(!(!C.hasOwnProperty(j)||!C[j])){var k=C[j];k=Array.isArray(k)?k:[k];for(var T=0;T<k.length;++T){if(E&&E.cause==j+","+T)return;var A=k[T],D=A.inside,I=!!A.lookbehind,O=!!A.greedy,$=A.alias;if(O&&!A.pattern.global){var R=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,R+"g")}for(var V=A.pattern||A,N=_.next,W=S;N!==w.tail&&!(E&&W>=E.reach);W+=N.value.length,N=N.next){var q=N.value;if(w.length>b.length)return;if(!(q instanceof c)){var H=1,Y;if(O){if(Y=u(V,W,b,I),!Y||Y.index>=b.length)break;var z=Y.index,X=Y.index+Y[0].length,B=W;for(B+=N.value.length;z>=B;)N=N.next,B+=N.value.length;if(B-=N.value.length,W=B,N.value instanceof c)continue;for(var K=N;K!==w.tail&&(B<X||typeof K.value=="string");K=K.next)H++,B+=K.value.length;H--,q=b.slice(W,B),Y.index-=W}else if(Y=u(V,0,q,I),!Y)continue;var z=Y.index,Z=Y[0],Q=q.slice(0,z),ne=q.slice(z+Z.length),G=W+q.length;E&&G>E.reach&&(E.reach=G);var J=N.prev;Q&&(J=p(w,J,Q),W+=Q.length),m(w,J,H);var re=new c(j,D?a.tokenize(Z,D):Z,$,Z);if(N=p(w,J,re),ne&&p(w,N,ne),H>1){var fe={cause:j+","+T,reach:G};d(b,w,C,N.prev,W,fe),E&&fe.reach>E.reach&&(E.reach=fe.reach)}}}}}}function f(){var b={value:null,prev:null,next:null},w={value:null,prev:b,next:null};b.next=w,this.head=b,this.tail=w,this.length=0}function p(b,w,C){var _=w.next,S={value:C,prev:w,next:_};return w.next=S,_.prev=S,b.length++,S}function m(b,w,C){for(var _=w.next,S=0;S<C&&_!==b.tail;S++)_=_.next;w.next=_,_.prev=w,b.length-=S}function v(b){for(var w=[],C=b.head.next;C!==b.tail;)w.push(C.value),C=C.next;return w}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(b){var w=JSON.parse(b.data),C=w.language,_=w.code,S=w.immediateClose;r.postMessage(a.highlight(_,a.languages[C],C)),S&&r.close()},!1)),a;var g=a.util.currentScript();g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0));function y(){a.manual||a.highlightAll()}if(!a.manual){var x=document.readyState;x==="loading"||x==="interactive"&&g&&g.defer?document.addEventListener("DOMContentLoaded",y):window.requestAnimationFrame?window.requestAnimationFrame(y):window.setTimeout(y,16)}return a}(t);e.exports&&(e.exports=n),typeof Qs<"u"&&(Qs.Prism=n)})(wye);var aVe=wye.exports,lVe=L6;L6.displayName="markup";L6.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function L6(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var o={};o["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};i["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var s={};s[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",s)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}var cVe=B6;B6.displayName="css";B6.aliases=[];function B6(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}var uVe=N6;N6.displayName="clike";N6.aliases=[];function N6(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var Cye=z6;z6.displayName="javascript";z6.aliases=["js"];function z6(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}const dVe=Ie(Cye);var Ay=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof Qs=="object"?Qs:{},fVe=TVe();Ay.Prism={manual:!0,disableWorkerMessageHandler:!0};var hVe=TBe,pVe=Uze,_ye=aVe,mVe=lVe,gVe=cVe,vVe=uVe,yVe=Cye;fVe();var V6={}.hasOwnProperty;function Sye(){}Sye.prototype=_ye;var fo=new Sye,bVe=fo;fo.highlight=wVe;fo.register=Cw;fo.alias=xVe;fo.registered=CVe;fo.listLanguages=_Ve;Cw(mVe);Cw(gVe);Cw(vVe);Cw(yVe);fo.util.encode=kVe;fo.Token.stringify=SVe;function Cw(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `grammar`, got `"+e+"`");fo.languages[e.displayName]===void 0&&e(fo)}function xVe(e,t){var n=fo.languages,r=e,o,i,s,a;t&&(r={},r[e]=t);for(o in r)for(i=r[o],i=typeof i=="string"?[i]:i,s=i.length,a=-1;++a<s;)n[i[a]]=n[o]}function wVe(e,t){var n=_ye.highlight,r;if(typeof e!="string")throw new Error("Expected `string` for `value`, got `"+e+"`");if(fo.util.type(t)==="Object")r=t,t=null;else{if(typeof t!="string")throw new Error("Expected `string` for `name`, got `"+t+"`");if(V6.call(fo.languages,t))r=fo.languages[t];else throw new Error("Unknown language: `"+t+"` is not registered")}return n.call(this,e,r,t)}function CVe(e){if(typeof e!="string")throw new Error("Expected `string` for `language`, got `"+e+"`");return V6.call(fo.languages,e)}function _Ve(){var e=fo.languages,t=[],n;for(n in e)V6.call(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function SVe(e,t,n){var r;return typeof e=="string"?{type:"text",value:e}:fo.util.type(e)==="Array"?EVe(e,t):(r={type:e.type,content:fo.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias)),fo.hooks.run("wrap",r),hVe(r.tag+"."+r.classes.join("."),jVe(r.attributes),r.content))}function EVe(e,t){for(var n=[],r=e.length,o=-1,i;++o<r;)i=e[o],i!==""&&i!==null&&i!==void 0&&n.push(i);for(o=-1,r=n.length;++o<r;)i=n[o],n[o]=fo.Token.stringify(i,t,n);return n}function kVe(e){return e}function jVe(e){var t;for(t in e)e[t]=pVe(e[t]);return e}function TVe(){var e="Prism"in Ay,t=e?Ay.Prism:void 0;return n;function n(){e?Ay.Prism=t:delete Ay.Prism,e=void 0,t=void 0}}var Eye={},AVe=h;function DVe(e,t,n){if(e.tagName){var r=e.properties&&Array.isArray(e.properties.className)?e.properties.className.join(" "):e.properties.className;return AVe.createElement(e.tagName,Object.assign({key:"fract-".concat(n,"-").concat(t)},e.properties,{className:r}),e.children&&e.children.map(kye(n+1)))}return e.value}function kye(e){return function(n,r){return DVe(n,r,e)}}Eye.depth=kye;var jye=Tye;function Tye(e){if(e==null)return RVe;if(typeof e=="string")return PVe(e);if(typeof e=="object")return"length"in e?OVe(e):IVe(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function IVe(e){return t;function t(n){var r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function OVe(e){for(var t=[],n=-1;++n<e.length;)t[n]=Tye(e[n]);return r;function r(){for(var o=-1;++o<t.length;)if(t[o].apply(this,arguments))return!0;return!1}}function PVe(e){return t;function t(n){return!!(n&&n.type===e)}}function RVe(){return!0}var $Ve=jye,MVe=LVe,FVe={}.hasOwnProperty;function LVe(e,t,n){var r=$Ve(n||t),o=t.cascade==null?!0:t.cascade;return i(e,null,null);function i(s,a,c){var u,d,f,p,m;if(!r(s,a,c))return null;if(s.children){for(u=[],d=-1;++d<s.children.length;)f=i(s.children[d],d,s),f&&u.push(f);if(o&&s.children.length&&!u.length)return null}p={};for(m in s)FVe.call(s,m)&&(p[m]=m==="children"?u:s[m]);return p}}var BVe=NVe;function NVe(e){return e}var zVe=Tj,VVe=jye,HVe=BVe,Aye=!0,Dye="skip",pR=!1;Tj.CONTINUE=Aye;Tj.SKIP=Dye;Tj.EXIT=pR;function Tj(e,t,n,r){var o,i;typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),i=VVe(t),o=r?-1:1,s(e,null,[])();function s(a,c,u){var d=typeof a=="object"&&a!==null?a:{},f;return typeof d.type=="string"&&(f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0,p.displayName="node ("+HVe(d.type+(f?"<"+f+">":""))+")"),p;function p(){var m=u.concat(a),v=[],g,y;if((!t||i(a,c,u[u.length-1]||null))&&(v=UVe(n(a,u)),v[0]===pR))return v;if(a.children&&v[0]!==Dye)for(y=(r?a.children.length:-1)+o;y>-1&&y<a.children.length;){if(g=s(a.children[y],y,m)(),g[0]===pR)return g;y=typeof g[1]=="number"?g[1]:y+o}return v}}}function UVe(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[Aye,e]:[e]}var WVe=typeof WeakMap=="function"?_w:Sw;function _w(){this.map=new WeakMap}_w.prototype.has=function(e){return this.map.has(e)};_w.prototype.set=function(e,t){return this.map.set(e,t),this};_w.prototype.get=function(e){return this.map.get(e)};_w.prototype.clear=function(){};function Sw(){this.keys=[],this.values=[]}Sw.prototype.has=function(e){return this.keys.indexOf(e)!==-1};Sw.prototype.set=function(e,t){var n=this.keys.indexOf(e);return n===-1?(this.keys.push(e),this.values.push(t)):this.values[n]=t,this};Sw.prototype.get=function(e){var t=this.keys.indexOf(e);return t===-1?void 0:this.values[t]};Sw.prototype.clear=function(){this.keys=[],this.values=[]};var YVe=MVe,vH=zVe,iI=WVe;function Iye(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return e.reduce(function(n,r){var o=t.lineNumber;if(r.type==="text"){if(r.value.indexOf(`
`)===-1)return r.lineStart=o,r.lineEnd=o,n.nodes.push(r),n;for(var i=r.value.split(`
`),s=0;s<i.length;s++){var a=s===0?t.lineNumber:++t.lineNumber;n.nodes.push({type:"text",value:s===i.length-1?i[s]:"".concat(i[s],`
`),lineStart:a,lineEnd:a})}return n.lineNumber=t.lineNumber,n}if(r.children){var c=Iye(r.children,t),u=c.nodes[0],d=c.nodes[c.nodes.length-1];return r.lineStart=u?u.lineStart:o,r.lineEnd=d?d.lineEnd:o,r.children=c.nodes,n.lineNumber=c.lineNumber,n.nodes.push(r),n}return n.nodes.push(r),n},{nodes:[],lineNumber:t.lineNumber})}function qVe(e,t){var n={type:"root",children:t},r=new iI,o=new iI,i=new iI,s=[];function a(f,p,m){s.push(p),m.forEach(function(b){f.has(b)||(f.set(b,Object.assign({},b,{children:[]})),b!==n&&s.push(b))});for(var v=m.length;v--;){var g=f.get(m[v]),y=m[v+1],x=f.get(y)||p;g.children.indexOf(x)===-1&&g.children.push(x)}}vH(n,function(f,p){if(!f.children){if(f.lineStart<e){a(r,f,p);return}if(f.lineStart===e){a(o,f,p);return}f.lineEnd>e&&s.some(function(m){return p.indexOf(m)!==-1})&&a(i,f,p)}});var c=YVe(n,function(f){return s.indexOf(f)===-1}),u=function(p){var m=p.get(n);return m?(vH(m,function(v,g){if(v.children){v.lineStart=0,v.lineEnd=0;return}g.forEach(function(y){y.lineStart=Math.max(y.lineStart,v.lineStart),y.lineEnd=Math.max(y.lineEnd,v.lineEnd)})}),m.children):[]},d=[].concat(u(r),u(o),u(i),c?c.children:[]);return r.clear(),o.clear(),i.clear(),d}function GVe(e,t,n){var r=t.className||"refractor-marker";return{type:"element",tagName:t.component||"div",properties:t.component?Object.assign({},n,{className:r}):{className:r},children:e,lineStart:t.line,lineEnd:e[e.length-1].lineEnd,isMarker:!0}}function KVe(e,t,n){if(t.length===0||e.length===0)return e;for(var r=t.reduce(function(f,p){return qVe(p.line,f)},e),o=[],i=0,s=0;s<t.length;s++){for(var a=t[s],c=r[i];c&&c.lineEnd<a.line;c=r[++i])o.push(c);for(var u=[],d=r[i];d&&d.lineEnd===a.line;d=r[++i])u.push(d);u.length>0&&o.push(GVe(u,a,n))}for(;i<r.length;)o.push(r[i++]);return o}function ZVe(e,t){var n=t.markers.map(function(o){return o.line?o:{line:o}}).sort(function(o,i){return o.line-i.line}),r=Iye(e).nodes;return KVe(r,n,t)}var XVe=ZVe,QVe=h,Ls=tye,H6=bVe,JVe=Eye,eHe=XVe,yH=QVe.createElement;function Ew(e){var t="language-".concat(e.language),n={className:t},r={className:[e.className,t].filter(Boolean).join(" ")};e.inline&&(n.style={display:"inline"},n.className=e.className);var o=H6.highlight(e.value,e.language);e.markers&&e.markers.length>0&&(o=eHe(o,{markers:e.markers}));var i=o.length===0?e.value:o.map(JVe.depth(0)),s=yH("code",n,i);return e.inline?s:yH("pre",r,s)}Ew.propTypes={className:Ls.string,inline:Ls.bool,language:Ls.string.isRequired,value:Ls.string.isRequired,markers:Ls.arrayOf(Ls.oneOfType([Ls.number,Ls.shape({line:Ls.number.isRequired,className:Ls.string,component:Ls.oneOfType([Ls.node,Ls.func])})]))};Ew.defaultProps={className:"refractor",inline:!1};Ew.registerLanguage=function(e){return H6.register(e)};Ew.hasLanguage=function(e){return H6.registered(e)};var tHe=Ew;const Gp=Ie(tHe),nHe=["top","right","bottom","left"],Gv=Math.min,Dp=Math.max,mE=Math.round,QC=Math.floor,Vf=e=>({x:e,y:e}),rHe={left:"right",right:"left",bottom:"top",top:"bottom"},oHe={start:"end",end:"start"};function mR(e,t,n){return Dp(e,Gv(t,n))}function P0(e,t){return typeof e=="function"?e(t):e}function Kp(e){return e.split("-")[0]}function kw(e){return e.split("-")[1]}function Oye(e){return e==="x"?"y":"x"}function U6(e){return e==="y"?"height":"width"}function Aj(e){return["top","bottom"].includes(Kp(e))?"y":"x"}function W6(e){return Oye(Aj(e))}function iHe(e,t,n){n===void 0&&(n=!1);const r=kw(e),o=W6(e),i=U6(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=gE(s)),[s,gE(s)]}function sHe(e){const t=gE(e);return[gR(e),t,gR(t)]}function gR(e){return e.replace(/start|end/g,t=>oHe[t])}function aHe(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function lHe(e,t,n,r){const o=kw(e);let i=aHe(Kp(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(gR)))),i}function gE(e){return e.replace(/left|right|bottom|top/g,t=>rHe[t])}function cHe(e){return{top:0,right:0,bottom:0,left:0,...e}}function Pye(e){return typeof e!="number"?cHe(e):{top:e,right:e,bottom:e,left:e}}function vE(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function bH(e,t,n){let{reference:r,floating:o}=e;const i=Aj(t),s=W6(t),a=U6(s),c=Kp(t),u=i==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2;let m;switch(c){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}switch(kw(t)){case"start":m[s]-=p*(n&&u?-1:1);break;case"end":m[s]+=p*(n&&u?-1:1);break}return m}const uHe=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=bH(u,r,c),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:x}=a[g],{x:b,y:w,data:C,reset:_}=await x({x:d,y:f,initialPlacement:r,placement:p,strategy:o,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});if(d=b??d,f=w??f,m={...m,[y]:{...m[y],...C}},_&&v<=50){v++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:d,y:f}=bH(u,p,c)),g=-1;continue}}return{x:d,y:f,placement:p,strategy:o,middlewareData:m}};async function Wb(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=P0(t,e),v=Pye(m),y=a[p?f==="floating"?"reference":"floating":f],x=vE(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{...s.floating,x:r,y:o}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},_=vE(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-_.top+v.top)/C.y,bottom:(_.bottom-x.bottom+v.bottom)/C.y,left:(x.left-_.left+v.left)/C.x,right:(_.right-x.right+v.right)/C.x}}const xH=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=P0(e,t)||{};if(u==null)return{};const f=Pye(d),p={x:n,y:r},m=W6(o),v=U6(m),g=await s.getDimensions(u),y=m==="y",x=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",C=i.reference[v]+i.reference[m]-p[m]-i.floating[v],_=p[m]-i.reference[m],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let E=S?S[w]:0;(!E||!await(s.isElement==null?void 0:s.isElement(S)))&&(E=a.floating[w]||i.floating[v]);const j=C/2-_/2,k=E/2-g[v]/2-1,T=Gv(f[x],k),A=Gv(f[b],k),D=T,I=E-g[v]-A,O=E/2-g[v]/2+j,$=mR(D,O,I),R=!c.arrow&&kw(o)!=null&&O!=$&&i.reference[v]/2-(O<D?T:A)-g[v]/2<0,V=R?O<D?O-D:O-I:0;return{[m]:p[m]+V,data:{[m]:$,centerOffset:O-$-V,...R&&{alignmentOffset:V}},reset:R}}}),Rye=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=P0(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Kp(o),b=Kp(a)===a,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=p||(b||!g?[gE(a)]:sHe(a));!p&&v!=="none"&&C.push(...lHe(a,g,v,w));const _=[a,...C],S=await Wb(t,y),E=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&E.push(S[x]),f){const D=iHe(o,s,w);E.push(S[D[0]],S[D[1]])}if(j=[...j,{placement:o,overflows:E}],!E.every(D=>D<=0)){var k,T;const D=(((k=i.flip)==null?void 0:k.index)||0)+1,I=_[D];if(I)return{data:{index:D,overflows:j},reset:{placement:I}};let O=(T=j.filter($=>$.overflows[0]<=0).sort(($,R)=>$.overflows[1]-R.overflows[1])[0])==null?void 0:T.placement;if(!O)switch(m){case"bestFit":{var A;const $=(A=j.map(R=>[R.placement,R.overflows.filter(V=>V>0).reduce((V,N)=>V+N,0)]).sort((R,V)=>R[1]-V[1])[0])==null?void 0:A[0];$&&(O=$);break}case"initialPlacement":O=a;break}if(o!==O)return{reset:{placement:O}}}return{}}}};function wH(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function CH(e){return nHe.some(t=>e[t]>=0)}const dHe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=P0(e,t);switch(r){case"referenceHidden":{const i=await Wb(t,{...o,elementContext:"reference"}),s=wH(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:CH(s)}}}case"escaped":{const i=await Wb(t,{...o,altBoundary:!0}),s=wH(i,n.floating);return{data:{escapedOffsets:s,escaped:CH(s)}}}default:return{}}}}};async function fHe(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Kp(n),a=kw(n),c=Aj(n)==="y",u=["left","top"].includes(s)?-1:1,d=i&&c?-1:1,f=P0(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const $ye=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await fHe(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},Mye=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:y=>{let{x,y:b}=y;return{x,y:b}}},...c}=P0(e,t),u={x:n,y:r},d=await Wb(t,c),f=Aj(Kp(o)),p=Oye(f);let m=u[p],v=u[f];if(i){const y=p==="y"?"top":"left",x=p==="y"?"bottom":"right",b=m+d[y],w=m-d[x];m=mR(b,m,w)}if(s){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=v+d[y],w=v-d[x];v=mR(b,v,w)}const g=a.fn({...t,[p]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r}}}}};function Hf(e){return Fye(e)?(e.nodeName||"").toLowerCase():"#document"}function ra(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function pd(e){var t;return(t=(Fye(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Fye(e){return e instanceof Node||e instanceof ra(e).Node}function Wu(e){return e instanceof Element||e instanceof ra(e).Element}function Lc(e){return e instanceof HTMLElement||e instanceof ra(e).HTMLElement}function _H(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ra(e).ShadowRoot}function jw(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Ha(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function hHe(e){return["table","td","th"].includes(Hf(e))}function Y6(e){const t=q6(),n=Ha(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function pHe(e){let t=Kv(e);for(;Lc(t)&&!Dj(t);){if(Y6(t))return t;t=Kv(t)}return null}function q6(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Dj(e){return["html","body","#document"].includes(Hf(e))}function Ha(e){return ra(e).getComputedStyle(e)}function Ij(e){return Wu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Kv(e){if(Hf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||_H(e)&&e.host||pd(e);return _H(t)?t.host:t}function Lye(e){const t=Kv(e);return Dj(t)?e.ownerDocument?e.ownerDocument.body:e.body:Lc(t)&&jw(t)?t:Lye(t)}function Yb(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Lye(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=ra(o);return i?t.concat(s,s.visualViewport||[],jw(o)?o:[],s.frameElement&&n?Yb(s.frameElement):[]):t.concat(o,Yb(o,[],n))}function Bye(e){const t=Ha(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Lc(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=mE(n)!==i||mE(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function G6(e){return Wu(e)?e:e.contextElement}function uv(e){const t=G6(e);if(!Lc(t))return Vf(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Bye(t);let s=(i?mE(n.width):n.width)/r,a=(i?mE(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const mHe=Vf(0);function Nye(e){const t=ra(e);return!q6()||!t.visualViewport?mHe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gHe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ra(e)?!1:t}function Zp(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=G6(e);let s=Vf(1);t&&(r?Wu(r)&&(s=uv(r)):s=uv(e));const a=gHe(i,n,r)?Nye(i):Vf(0);let c=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,d=o.width/s.x,f=o.height/s.y;if(i){const p=ra(i),m=r&&Wu(r)?ra(r):r;let v=p.frameElement;for(;v&&r&&m!==p;){const g=uv(v),y=v.getBoundingClientRect(),x=Ha(v),b=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*g.x,w=y.top+(v.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=b,u+=w,v=ra(v).frameElement}}return vE({width:d,height:f,x:c,y:u})}function vHe(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=Lc(n),i=pd(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},a=Vf(1);const c=Vf(0);if((o||!o&&r!=="fixed")&&((Hf(n)!=="body"||jw(i))&&(s=Ij(n)),Lc(n))){const u=Zp(n);a=uv(n),c.x=u.x+n.clientLeft,c.y=u.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+c.x,y:t.y*a.y-s.scrollTop*a.y+c.y}}function yHe(e){return Array.from(e.getClientRects())}function zye(e){return Zp(pd(e)).left+Ij(e).scrollLeft}function bHe(e){const t=pd(e),n=Ij(e),r=e.ownerDocument.body,o=Dp(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Dp(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+zye(e);const a=-n.scrollTop;return Ha(r).direction==="rtl"&&(s+=Dp(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function xHe(e,t){const n=ra(e),r=pd(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;const u=q6();(!u||u&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a,y:c}}function wHe(e,t){const n=Zp(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Lc(e)?uv(e):Vf(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,c=o*i.x,u=r*i.y;return{width:s,height:a,x:c,y:u}}function SH(e,t,n){let r;if(t==="viewport")r=xHe(e,n);else if(t==="document")r=bHe(pd(e));else if(Wu(t))r=wHe(t,n);else{const o=Nye(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return vE(r)}function Vye(e,t){const n=Kv(e);return n===t||!Wu(n)||Dj(n)?!1:Ha(n).position==="fixed"||Vye(n,t)}function CHe(e,t){const n=t.get(e);if(n)return n;let r=Yb(e,[],!1).filter(a=>Wu(a)&&Hf(a)!=="body"),o=null;const i=Ha(e).position==="fixed";let s=i?Kv(e):e;for(;Wu(s)&&!Dj(s);){const a=Ha(s),c=Y6(s);!c&&a.position==="fixed"&&(o=null),(i?!c&&!o:!c&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||jw(s)&&!c&&Vye(e,s))?r=r.filter(d=>d!==s):o=a,s=Kv(s)}return t.set(e,r),r}function _He(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?CHe(t,this._c):[].concat(n),r],a=s[0],c=s.reduce((u,d)=>{const f=SH(t,d,o);return u.top=Dp(f.top,u.top),u.right=Gv(f.right,u.right),u.bottom=Gv(f.bottom,u.bottom),u.left=Dp(f.left,u.left),u},SH(t,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function SHe(e){return Bye(e)}function EHe(e,t,n){const r=Lc(t),o=pd(t),i=n==="fixed",s=Zp(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=Vf(0);if(r||!r&&!i)if((Hf(t)!=="body"||jw(o))&&(a=Ij(t)),r){const u=Zp(t,!0,i,t);c.x=u.x+t.clientLeft,c.y=u.y+t.clientTop}else o&&(c.x=zye(o));return{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function EH(e,t){return!Lc(e)||Ha(e).position==="fixed"?null:t?t(e):e.offsetParent}function Hye(e,t){const n=ra(e);if(!Lc(e))return n;let r=EH(e,t);for(;r&&hHe(r)&&Ha(r).position==="static";)r=EH(r,t);return r&&(Hf(r)==="html"||Hf(r)==="body"&&Ha(r).position==="static"&&!Y6(r))?n:r||pHe(e)||n}const kHe=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||Hye,i=this.getDimensions;return{reference:EHe(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function jHe(e){return Ha(e).direction==="rtl"}const THe={convertOffsetParentRelativeRectToViewportRelativeRect:vHe,getDocumentElement:pd,getClippingRect:_He,getOffsetParent:Hye,getElementRects:kHe,getClientRects:yHe,getDimensions:SHe,getScale:uv,isElement:Wu,isRTL:jHe};function AHe(e,t){let n=null,r;const o=pd(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:p}=e.getBoundingClientRect();if(a||t(),!f||!p)return;const m=QC(d),v=QC(o.clientWidth-(u+f)),g=QC(o.clientHeight-(d+p)),y=QC(u),b={rootMargin:-m+"px "+-v+"px "+-g+"px "+-y+"px",threshold:Dp(0,Gv(1,c))||1};let w=!0;function C(_){const S=_[0].intersectionRatio;if(S!==c){if(!w)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(C,{...b,root:o.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return s(!0),i}function Uye(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=G6(e),d=o||i?[...u?Yb(u):[],...Yb(t)]:[];d.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&a?AHe(u,n):null;let p=-1,m=null;s&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{m&&m.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let v,g=c?Zp(e):null;c&&y();function y(){const x=Zp(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,v=requestAnimationFrame(y)}return n(),()=>{d.forEach(x=>{o&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f&&f(),m&&m.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const DHe=(e,t,n)=>{const r=new Map,o={platform:THe,...n},i={...o.platform,_c:r};return uHe(e,t,{...o,platform:i})};var Wye={exports:{}},ha={},Yye={exports:{}},qye={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,W){var q=N.length;N.push(W);e:for(;0<q;){var H=q-1>>>1,Y=N[H];if(0<o(Y,W))N[H]=W,N[q]=Y,q=H;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var W=N[0],q=N.pop();if(q!==W){N[0]=q;e:for(var H=0,Y=N.length,X=Y>>>1;H<X;){var B=2*(H+1)-1,K=N[B],z=B+1,Z=N[z];if(0>o(K,q))z<Y&&0>o(Z,K)?(N[H]=Z,N[z]=q,H=z):(N[H]=K,N[B]=q,H=B);else if(z<Y&&0>o(Z,q))N[H]=Z,N[z]=q,H=z;else break e}}return W}function o(N,W){var q=N.sortIndex-W.sortIndex;return q!==0?q:N.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],u=[],d=1,f=null,p=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=N)r(u),W.sortIndex=W.expirationTime,t(c,W);else break;W=n(u)}}function C(N){if(g=!1,w(N),!v)if(n(c)!==null)v=!0,R(_);else{var W=n(u);W!==null&&V(C,W.startTime-N)}}function _(N,W){v=!1,g&&(g=!1,x(j),j=-1),m=!0;var q=p;try{for(w(W),f=n(c);f!==null&&(!(f.expirationTime>W)||N&&!A());){var H=f.callback;if(typeof H=="function"){f.callback=null,p=f.priorityLevel;var Y=H(f.expirationTime<=W);W=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(c)&&r(c),w(W)}else r(c);f=n(c)}if(f!==null)var X=!0;else{var B=n(u);B!==null&&V(C,B.startTime-W),X=!1}return X}finally{f=null,p=q,m=!1}}var S=!1,E=null,j=-1,k=5,T=-1;function A(){return!(e.unstable_now()-T<k)}function D(){if(E!==null){var N=e.unstable_now();T=N;var W=!0;try{W=E(!0,N)}finally{W?I():(S=!1,E=null)}}else S=!1}var I;if(typeof b=="function")I=function(){b(D)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,$=O.port2;O.port1.onmessage=D,I=function(){$.postMessage(null)}}else I=function(){y(D,0)};function R(N){E=N,S||(S=!0,I())}function V(N,W){j=y(function(){N(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,R(_))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(N){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var q=p;p=W;try{return N()}finally{p=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,W){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var q=p;p=N;try{return W()}finally{p=q}},e.unstable_scheduleCallback=function(N,W,q){var H=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?H+q:H):q=H,N){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=q+Y,N={id:d++,callback:W,priorityLevel:N,startTime:q,expirationTime:Y,sortIndex:-1},q>H?(N.sortIndex=q,t(u,N),n(c)===null&&N===n(u)&&(g?(x(j),j=-1):g=!0,V(C,q-H))):(N.sortIndex=Y,t(c,N),v||m||(v=!0,R(_))),N},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(N){var W=p;return function(){var q=p;p=W;try{return N.apply(this,arguments)}finally{p=q}}}})(qye);Yye.exports=qye;var IHe=Yye.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gye=h,aa=IHe;function Te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kye=new Set,qb={};function Tm(e,t){Zv(e,t),Zv(e+"Capture",t)}function Zv(e,t){for(qb[e]=t,e=0;e<t.length;e++)Kye.add(t[e])}var Yu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vR=Object.prototype.hasOwnProperty,OHe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kH={},jH={};function PHe(e){return vR.call(jH,e)?!0:vR.call(kH,e)?!1:OHe.test(e)?jH[e]=!0:(kH[e]=!0,!1)}function RHe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $He(e,t,n,r){if(t===null||typeof t>"u"||RHe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function os(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ri={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ri[e]=new os(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ri[t]=new os(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ri[e]=new os(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ri[e]=new os(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ri[e]=new os(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ri[e]=new os(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ri[e]=new os(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ri[e]=new os(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ri[e]=new os(e,5,!1,e.toLowerCase(),null,!1,!1)});var K6=/[\-:]([a-z])/g;function Z6(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(K6,Z6);ri[t]=new os(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(K6,Z6);ri[t]=new os(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(K6,Z6);ri[t]=new os(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ri[e]=new os(e,1,!1,e.toLowerCase(),null,!1,!1)});ri.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ri[e]=new os(e,1,!1,e.toLowerCase(),null,!0,!0)});function X6(e,t,n,r){var o=ri.hasOwnProperty(t)?ri[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($He(t,n,o,r)&&(n=null),r||o===null?PHe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var md=Gye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,JC=Symbol.for("react.element"),Lg=Symbol.for("react.portal"),Bg=Symbol.for("react.fragment"),Q6=Symbol.for("react.strict_mode"),yR=Symbol.for("react.profiler"),Zye=Symbol.for("react.provider"),Xye=Symbol.for("react.context"),J6=Symbol.for("react.forward_ref"),bR=Symbol.for("react.suspense"),xR=Symbol.for("react.suspense_list"),eL=Symbol.for("react.memo"),Nd=Symbol.for("react.lazy"),Qye=Symbol.for("react.offscreen"),TH=Symbol.iterator;function F1(e){return e===null||typeof e!="object"?null:(e=TH&&e[TH]||e["@@iterator"],typeof e=="function"?e:null)}var Rr=Object.assign,sI;function Dy(e){if(sI===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sI=t&&t[1]||""}return`
`+sI+e}var aI=!1;function lI(e,t){if(!e||aI)return"";aI=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{aI=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Dy(e):""}function MHe(e){switch(e.tag){case 5:return Dy(e.type);case 16:return Dy("Lazy");case 13:return Dy("Suspense");case 19:return Dy("SuspenseList");case 0:case 2:case 15:return e=lI(e.type,!1),e;case 11:return e=lI(e.type.render,!1),e;case 1:return e=lI(e.type,!0),e;default:return""}}function wR(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bg:return"Fragment";case Lg:return"Portal";case yR:return"Profiler";case Q6:return"StrictMode";case bR:return"Suspense";case xR:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xye:return(e.displayName||"Context")+".Consumer";case Zye:return(e._context.displayName||"Context")+".Provider";case J6:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eL:return t=e.displayName||null,t!==null?t:wR(e.type)||"Memo";case Nd:t=e._payload,e=e._init;try{return wR(e(t))}catch{}}return null}function FHe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wR(t);case 8:return t===Q6?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Uf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jye(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function LHe(e){var t=Jye(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function e_(e){e._valueTracker||(e._valueTracker=LHe(e))}function ebe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Jye(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function yE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function CR(e,t){var n=t.checked;return Rr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function AH(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Uf(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tbe(e,t){t=t.checked,t!=null&&X6(e,"checked",t,!1)}function _R(e,t){tbe(e,t);var n=Uf(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?SR(e,t.type,n):t.hasOwnProperty("defaultValue")&&SR(e,t.type,Uf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function DH(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function SR(e,t,n){(t!=="number"||yE(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Iy=Array.isArray;function dv(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Uf(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ER(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Te(91));return Rr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function IH(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Te(92));if(Iy(n)){if(1<n.length)throw Error(Te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Uf(n)}}function nbe(e,t){var n=Uf(t.value),r=Uf(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function OH(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rbe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kR(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rbe(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var t_,obe=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(t_=t_||document.createElement("div"),t_.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=t_.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gb(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BHe=["Webkit","ms","Moz","O"];Object.keys(nb).forEach(function(e){BHe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nb[t]=nb[e]})});function ibe(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||nb.hasOwnProperty(e)&&nb[e]?(""+t).trim():t+"px"}function sbe(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=ibe(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var NHe=Rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jR(e,t){if(t){if(NHe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Te(62))}}function TR(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AR=null;function tL(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var DR=null,fv=null,hv=null;function PH(e){if(e=Dw(e)){if(typeof DR!="function")throw Error(Te(280));var t=e.stateNode;t&&(t=Mj(t),DR(e.stateNode,e.type,t))}}function abe(e){fv?hv?hv.push(e):hv=[e]:fv=e}function lbe(){if(fv){var e=fv,t=hv;if(hv=fv=null,PH(e),t)for(e=0;e<t.length;e++)PH(t[e])}}function cbe(e,t){return e(t)}function ube(){}var cI=!1;function dbe(e,t,n){if(cI)return e(t,n);cI=!0;try{return cbe(e,t,n)}finally{cI=!1,(fv!==null||hv!==null)&&(ube(),lbe())}}function Kb(e,t){var n=e.stateNode;if(n===null)return null;var r=Mj(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Te(231,t,typeof n));return n}var IR=!1;if(Yu)try{var L1={};Object.defineProperty(L1,"passive",{get:function(){IR=!0}}),window.addEventListener("test",L1,L1),window.removeEventListener("test",L1,L1)}catch{IR=!1}function zHe(e,t,n,r,o,i,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var rb=!1,bE=null,xE=!1,OR=null,VHe={onError:function(e){rb=!0,bE=e}};function HHe(e,t,n,r,o,i,s,a,c){rb=!1,bE=null,zHe.apply(VHe,arguments)}function UHe(e,t,n,r,o,i,s,a,c){if(HHe.apply(this,arguments),rb){if(rb){var u=bE;rb=!1,bE=null}else throw Error(Te(198));xE||(xE=!0,OR=u)}}function Am(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fbe(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function RH(e){if(Am(e)!==e)throw Error(Te(188))}function WHe(e){var t=e.alternate;if(!t){if(t=Am(e),t===null)throw Error(Te(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return RH(o),e;if(i===r)return RH(o),t;i=i.sibling}throw Error(Te(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(Te(189))}}if(n.alternate!==r)throw Error(Te(190))}if(n.tag!==3)throw Error(Te(188));return n.stateNode.current===n?e:t}function hbe(e){return e=WHe(e),e!==null?pbe(e):null}function pbe(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pbe(e);if(t!==null)return t;e=e.sibling}return null}var mbe=aa.unstable_scheduleCallback,$H=aa.unstable_cancelCallback,YHe=aa.unstable_shouldYield,qHe=aa.unstable_requestPaint,Kr=aa.unstable_now,GHe=aa.unstable_getCurrentPriorityLevel,nL=aa.unstable_ImmediatePriority,gbe=aa.unstable_UserBlockingPriority,wE=aa.unstable_NormalPriority,KHe=aa.unstable_LowPriority,vbe=aa.unstable_IdlePriority,Oj=null,Ic=null;function ZHe(e){if(Ic&&typeof Ic.onCommitFiberRoot=="function")try{Ic.onCommitFiberRoot(Oj,e,void 0,(e.current.flags&128)===128)}catch{}}var Dl=Math.clz32?Math.clz32:JHe,XHe=Math.log,QHe=Math.LN2;function JHe(e){return e>>>=0,e===0?32:31-(XHe(e)/QHe|0)|0}var n_=64,r_=4194304;function Oy(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function CE(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=Oy(a):(i&=s,i!==0&&(r=Oy(i)))}else s=n&~o,s!==0?r=Oy(s):i!==0&&(r=Oy(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dl(t),o=1<<n,r|=e[n],t&=~o;return r}function eUe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tUe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Dl(i),a=1<<s,c=o[s];c===-1?(!(a&n)||a&r)&&(o[s]=eUe(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function PR(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ybe(){var e=n_;return n_<<=1,!(n_&4194240)&&(n_=64),e}function uI(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tw(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dl(t),e[t]=n}function nUe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Dl(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function rL(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dl(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bn=0;function bbe(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xbe,oL,wbe,Cbe,_be,RR=!1,o_=[],wf=null,Cf=null,_f=null,Zb=new Map,Xb=new Map,Kd=[],rUe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function MH(e,t){switch(e){case"focusin":case"focusout":wf=null;break;case"dragenter":case"dragleave":Cf=null;break;case"mouseover":case"mouseout":_f=null;break;case"pointerover":case"pointerout":Zb.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xb.delete(t.pointerId)}}function B1(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Dw(t),t!==null&&oL(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function oUe(e,t,n,r,o){switch(t){case"focusin":return wf=B1(wf,e,t,n,r,o),!0;case"dragenter":return Cf=B1(Cf,e,t,n,r,o),!0;case"mouseover":return _f=B1(_f,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Zb.set(i,B1(Zb.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Xb.set(i,B1(Xb.get(i)||null,e,t,n,r,o)),!0}return!1}function Sbe(e){var t=pp(e.target);if(t!==null){var n=Am(t);if(n!==null){if(t=n.tag,t===13){if(t=fbe(n),t!==null){e.blockedOn=t,_be(e.priority,function(){wbe(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function q2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$R(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);AR=r,n.target.dispatchEvent(r),AR=null}else return t=Dw(n),t!==null&&oL(t),e.blockedOn=n,!1;t.shift()}return!0}function FH(e,t,n){q2(e)&&n.delete(t)}function iUe(){RR=!1,wf!==null&&q2(wf)&&(wf=null),Cf!==null&&q2(Cf)&&(Cf=null),_f!==null&&q2(_f)&&(_f=null),Zb.forEach(FH),Xb.forEach(FH)}function N1(e,t){e.blockedOn===t&&(e.blockedOn=null,RR||(RR=!0,aa.unstable_scheduleCallback(aa.unstable_NormalPriority,iUe)))}function Qb(e){function t(o){return N1(o,e)}if(0<o_.length){N1(o_[0],e);for(var n=1;n<o_.length;n++){var r=o_[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wf!==null&&N1(wf,e),Cf!==null&&N1(Cf,e),_f!==null&&N1(_f,e),Zb.forEach(t),Xb.forEach(t),n=0;n<Kd.length;n++)r=Kd[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Kd.length&&(n=Kd[0],n.blockedOn===null);)Sbe(n),n.blockedOn===null&&Kd.shift()}var pv=md.ReactCurrentBatchConfig,_E=!0;function sUe(e,t,n,r){var o=bn,i=pv.transition;pv.transition=null;try{bn=1,iL(e,t,n,r)}finally{bn=o,pv.transition=i}}function aUe(e,t,n,r){var o=bn,i=pv.transition;pv.transition=null;try{bn=4,iL(e,t,n,r)}finally{bn=o,pv.transition=i}}function iL(e,t,n,r){if(_E){var o=$R(e,t,n,r);if(o===null)xI(e,t,r,SE,n),MH(e,r);else if(oUe(o,e,t,n,r))r.stopPropagation();else if(MH(e,r),t&4&&-1<rUe.indexOf(e)){for(;o!==null;){var i=Dw(o);if(i!==null&&xbe(i),i=$R(e,t,n,r),i===null&&xI(e,t,r,SE,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else xI(e,t,r,null,n)}}var SE=null;function $R(e,t,n,r){if(SE=null,e=tL(r),e=pp(e),e!==null)if(t=Am(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fbe(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return SE=e,null}function Ebe(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GHe()){case nL:return 1;case gbe:return 4;case wE:case KHe:return 16;case vbe:return 536870912;default:return 16}default:return 16}}var ef=null,sL=null,G2=null;function kbe(){if(G2)return G2;var e,t=sL,n=t.length,r,o="value"in ef?ef.value:ef.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return G2=o.slice(e,1<r?1-r:void 0)}function K2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function i_(){return!0}function LH(){return!1}function pa(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?i_:LH,this.isPropagationStopped=LH,this}return Rr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=i_)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=i_)},persist:function(){},isPersistent:i_}),t}var R0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aL=pa(R0),Aw=Rr({},R0,{view:0,detail:0}),lUe=pa(Aw),dI,fI,z1,Pj=Rr({},Aw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lL,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==z1&&(z1&&e.type==="mousemove"?(dI=e.screenX-z1.screenX,fI=e.screenY-z1.screenY):fI=dI=0,z1=e),dI)},movementY:function(e){return"movementY"in e?e.movementY:fI}}),BH=pa(Pj),cUe=Rr({},Pj,{dataTransfer:0}),uUe=pa(cUe),dUe=Rr({},Aw,{relatedTarget:0}),hI=pa(dUe),fUe=Rr({},R0,{animationName:0,elapsedTime:0,pseudoElement:0}),hUe=pa(fUe),pUe=Rr({},R0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mUe=pa(pUe),gUe=Rr({},R0,{data:0}),NH=pa(gUe),vUe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yUe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bUe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xUe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bUe[e])?!!t[e]:!1}function lL(){return xUe}var wUe=Rr({},Aw,{key:function(e){if(e.key){var t=vUe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=K2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yUe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lL,charCode:function(e){return e.type==="keypress"?K2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?K2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),CUe=pa(wUe),_Ue=Rr({},Pj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zH=pa(_Ue),SUe=Rr({},Aw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lL}),EUe=pa(SUe),kUe=Rr({},R0,{propertyName:0,elapsedTime:0,pseudoElement:0}),jUe=pa(kUe),TUe=Rr({},Pj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AUe=pa(TUe),DUe=[9,13,27,32],cL=Yu&&"CompositionEvent"in window,ob=null;Yu&&"documentMode"in document&&(ob=document.documentMode);var IUe=Yu&&"TextEvent"in window&&!ob,jbe=Yu&&(!cL||ob&&8<ob&&11>=ob),VH=String.fromCharCode(32),HH=!1;function Tbe(e,t){switch(e){case"keyup":return DUe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Abe(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ng=!1;function OUe(e,t){switch(e){case"compositionend":return Abe(t);case"keypress":return t.which!==32?null:(HH=!0,VH);case"textInput":return e=t.data,e===VH&&HH?null:e;default:return null}}function PUe(e,t){if(Ng)return e==="compositionend"||!cL&&Tbe(e,t)?(e=kbe(),G2=sL=ef=null,Ng=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jbe&&t.locale!=="ko"?null:t.data;default:return null}}var RUe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UH(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RUe[e.type]:t==="textarea"}function Dbe(e,t,n,r){abe(r),t=EE(t,"onChange"),0<t.length&&(n=new aL("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ib=null,Jb=null;function $Ue(e){zbe(e,0)}function Rj(e){var t=Hg(e);if(ebe(t))return e}function MUe(e,t){if(e==="change")return t}var Ibe=!1;if(Yu){var pI;if(Yu){var mI="oninput"in document;if(!mI){var WH=document.createElement("div");WH.setAttribute("oninput","return;"),mI=typeof WH.oninput=="function"}pI=mI}else pI=!1;Ibe=pI&&(!document.documentMode||9<document.documentMode)}function YH(){ib&&(ib.detachEvent("onpropertychange",Obe),Jb=ib=null)}function Obe(e){if(e.propertyName==="value"&&Rj(Jb)){var t=[];Dbe(t,Jb,e,tL(e)),dbe($Ue,t)}}function FUe(e,t,n){e==="focusin"?(YH(),ib=t,Jb=n,ib.attachEvent("onpropertychange",Obe)):e==="focusout"&&YH()}function LUe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rj(Jb)}function BUe(e,t){if(e==="click")return Rj(t)}function NUe(e,t){if(e==="input"||e==="change")return Rj(t)}function zUe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ml=typeof Object.is=="function"?Object.is:zUe;function ex(e,t){if(Ml(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!vR.call(t,o)||!Ml(e[o],t[o]))return!1}return!0}function qH(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function GH(e,t){var n=qH(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qH(n)}}function Pbe(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pbe(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rbe(){for(var e=window,t=yE();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=yE(e.document)}return t}function uL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VUe(e){var t=Rbe(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pbe(n.ownerDocument.documentElement,n)){if(r!==null&&uL(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=GH(n,i);var s=GH(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HUe=Yu&&"documentMode"in document&&11>=document.documentMode,zg=null,MR=null,sb=null,FR=!1;function KH(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;FR||zg==null||zg!==yE(r)||(r=zg,"selectionStart"in r&&uL(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sb&&ex(sb,r)||(sb=r,r=EE(MR,"onSelect"),0<r.length&&(t=new aL("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zg)))}function s_(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vg={animationend:s_("Animation","AnimationEnd"),animationiteration:s_("Animation","AnimationIteration"),animationstart:s_("Animation","AnimationStart"),transitionend:s_("Transition","TransitionEnd")},gI={},$be={};Yu&&($be=document.createElement("div").style,"AnimationEvent"in window||(delete Vg.animationend.animation,delete Vg.animationiteration.animation,delete Vg.animationstart.animation),"TransitionEvent"in window||delete Vg.transitionend.transition);function $j(e){if(gI[e])return gI[e];if(!Vg[e])return e;var t=Vg[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $be)return gI[e]=t[n];return e}var Mbe=$j("animationend"),Fbe=$j("animationiteration"),Lbe=$j("animationstart"),Bbe=$j("transitionend"),Nbe=new Map,ZH="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lh(e,t){Nbe.set(e,t),Tm(t,[e])}for(var vI=0;vI<ZH.length;vI++){var yI=ZH[vI],UUe=yI.toLowerCase(),WUe=yI[0].toUpperCase()+yI.slice(1);lh(UUe,"on"+WUe)}lh(Mbe,"onAnimationEnd");lh(Fbe,"onAnimationIteration");lh(Lbe,"onAnimationStart");lh("dblclick","onDoubleClick");lh("focusin","onFocus");lh("focusout","onBlur");lh(Bbe,"onTransitionEnd");Zv("onMouseEnter",["mouseout","mouseover"]);Zv("onMouseLeave",["mouseout","mouseover"]);Zv("onPointerEnter",["pointerout","pointerover"]);Zv("onPointerLeave",["pointerout","pointerover"]);Tm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Py="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YUe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Py));function XH(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,UHe(r,t,void 0,e),e.currentTarget=null}function zbe(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&o.isPropagationStopped())break e;XH(o,a,u),i=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&o.isPropagationStopped())break e;XH(o,a,u),i=c}}}if(xE)throw e=OR,xE=!1,OR=null,e}function er(e,t){var n=t[VR];n===void 0&&(n=t[VR]=new Set);var r=e+"__bubble";n.has(r)||(Vbe(t,e,2,!1),n.add(r))}function bI(e,t,n){var r=0;t&&(r|=4),Vbe(n,e,r,t)}var a_="_reactListening"+Math.random().toString(36).slice(2);function tx(e){if(!e[a_]){e[a_]=!0,Kye.forEach(function(n){n!=="selectionchange"&&(YUe.has(n)||bI(n,!1,e),bI(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[a_]||(t[a_]=!0,bI("selectionchange",!1,t))}}function Vbe(e,t,n,r){switch(Ebe(t)){case 1:var o=sUe;break;case 4:o=aUe;break;default:o=iL}n=o.bind(null,t,n,e),o=void 0,!IR||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function xI(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;a!==null;){if(s=pp(a),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}a=a.parentNode}}r=r.return}dbe(function(){var u=i,d=tL(n),f=[];e:{var p=Nbe.get(e);if(p!==void 0){var m=aL,v=e;switch(e){case"keypress":if(K2(n)===0)break e;case"keydown":case"keyup":m=CUe;break;case"focusin":v="focus",m=hI;break;case"focusout":v="blur",m=hI;break;case"beforeblur":case"afterblur":m=hI;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=BH;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=uUe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=EUe;break;case Mbe:case Fbe:case Lbe:m=hUe;break;case Bbe:m=jUe;break;case"scroll":m=lUe;break;case"wheel":m=AUe;break;case"copy":case"cut":case"paste":m=mUe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=zH}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var b=u,w;b!==null;){w=b;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,x!==null&&(C=Kb(b,x),C!=null&&g.push(nx(b,C,w)))),y)break;b=b.return}0<g.length&&(p=new m(p,v,null,n,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==AR&&(v=n.relatedTarget||n.fromElement)&&(pp(v)||v[qu]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?pp(v):null,v!==null&&(y=Am(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=BH,C="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=zH,C="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?p:Hg(m),w=v==null?p:Hg(v),p=new g(C,b+"leave",m,n,d),p.target=y,p.relatedTarget=w,C=null,pp(d)===u&&(g=new g(x,b+"enter",v,n,d),g.target=w,g.relatedTarget=y,C=g),y=C,m&&v)t:{for(g=m,x=v,b=0,w=g;w;w=ig(w))b++;for(w=0,C=x;C;C=ig(C))w++;for(;0<b-w;)g=ig(g),b--;for(;0<w-b;)x=ig(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=ig(g),x=ig(x)}g=null}else g=null;m!==null&&QH(f,p,m,g,!1),v!==null&&y!==null&&QH(f,y,v,g,!0)}}e:{if(p=u?Hg(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var _=MUe;else if(UH(p))if(Ibe)_=NUe;else{_=LUe;var S=FUe}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=BUe);if(_&&(_=_(e,u))){Dbe(f,_,n,d);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&SR(p,"number",p.value)}switch(S=u?Hg(u):window,e){case"focusin":(UH(S)||S.contentEditable==="true")&&(zg=S,MR=u,sb=null);break;case"focusout":sb=MR=zg=null;break;case"mousedown":FR=!0;break;case"contextmenu":case"mouseup":case"dragend":FR=!1,KH(f,n,d);break;case"selectionchange":if(HUe)break;case"keydown":case"keyup":KH(f,n,d)}var E;if(cL)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ng?Tbe(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(jbe&&n.locale!=="ko"&&(Ng||j!=="onCompositionStart"?j==="onCompositionEnd"&&Ng&&(E=kbe()):(ef=d,sL="value"in ef?ef.value:ef.textContent,Ng=!0)),S=EE(u,j),0<S.length&&(j=new NH(j,e,null,n,d),f.push({event:j,listeners:S}),E?j.data=E:(E=Abe(n),E!==null&&(j.data=E)))),(E=IUe?OUe(e,n):PUe(e,n))&&(u=EE(u,"onBeforeInput"),0<u.length&&(d=new NH("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}zbe(f,t)})}function nx(e,t,n){return{instance:e,listener:t,currentTarget:n}}function EE(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Kb(e,n),i!=null&&r.unshift(nx(e,i,o)),i=Kb(e,t),i!=null&&r.push(nx(e,i,o))),e=e.return}return r}function ig(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function QH(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,o?(c=Kb(n,i),c!=null&&s.unshift(nx(n,c,a))):o||(c=Kb(n,i),c!=null&&s.push(nx(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var qUe=/\r\n?/g,GUe=/\u0000|\uFFFD/g;function JH(e){return(typeof e=="string"?e:""+e).replace(qUe,`
`).replace(GUe,"")}function l_(e,t,n){if(t=JH(t),JH(e)!==t&&n)throw Error(Te(425))}function kE(){}var LR=null,BR=null;function NR(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zR=typeof setTimeout=="function"?setTimeout:void 0,KUe=typeof clearTimeout=="function"?clearTimeout:void 0,eU=typeof Promise=="function"?Promise:void 0,ZUe=typeof queueMicrotask=="function"?queueMicrotask:typeof eU<"u"?function(e){return eU.resolve(null).then(e).catch(XUe)}:zR;function XUe(e){setTimeout(function(){throw e})}function wI(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Qb(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Qb(t)}function Sf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tU(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $0=Math.random().toString(36).slice(2),Cc="__reactFiber$"+$0,rx="__reactProps$"+$0,qu="__reactContainer$"+$0,VR="__reactEvents$"+$0,QUe="__reactListeners$"+$0,JUe="__reactHandles$"+$0;function pp(e){var t=e[Cc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qu]||n[Cc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=tU(e);e!==null;){if(n=e[Cc])return n;e=tU(e)}return t}e=n,n=e.parentNode}return null}function Dw(e){return e=e[Cc]||e[qu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Te(33))}function Mj(e){return e[rx]||null}var HR=[],Ug=-1;function ch(e){return{current:e}}function or(e){0>Ug||(e.current=HR[Ug],HR[Ug]=null,Ug--)}function Wn(e,t){Ug++,HR[Ug]=e.current,e.current=t}var Wf={},Oi=ch(Wf),js=ch(!1),Xp=Wf;function Xv(e,t){var n=e.type.contextTypes;if(!n)return Wf;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ts(e){return e=e.childContextTypes,e!=null}function jE(){or(js),or(Oi)}function nU(e,t,n){if(Oi.current!==Wf)throw Error(Te(168));Wn(Oi,t),Wn(js,n)}function Hbe(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Te(108,FHe(e)||"Unknown",o));return Rr({},n,r)}function TE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wf,Xp=Oi.current,Wn(Oi,e),Wn(js,js.current),!0}function rU(e,t,n){var r=e.stateNode;if(!r)throw Error(Te(169));n?(e=Hbe(e,t,Xp),r.__reactInternalMemoizedMergedChildContext=e,or(js),or(Oi),Wn(Oi,e)):or(js),Wn(js,n)}var xu=null,Fj=!1,CI=!1;function Ube(e){xu===null?xu=[e]:xu.push(e)}function eWe(e){Fj=!0,Ube(e)}function uh(){if(!CI&&xu!==null){CI=!0;var e=0,t=bn;try{var n=xu;for(bn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xu=null,Fj=!1}catch(o){throw xu!==null&&(xu=xu.slice(e+1)),mbe(nL,uh),o}finally{bn=t,CI=!1}}return null}var Wg=[],Yg=0,AE=null,DE=0,Ta=[],Aa=0,Qp=null,Su=1,Eu="";function Hh(e,t){Wg[Yg++]=DE,Wg[Yg++]=AE,AE=e,DE=t}function Wbe(e,t,n){Ta[Aa++]=Su,Ta[Aa++]=Eu,Ta[Aa++]=Qp,Qp=e;var r=Su;e=Eu;var o=32-Dl(r)-1;r&=~(1<<o),n+=1;var i=32-Dl(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Su=1<<32-Dl(t)+o|n<<o|r,Eu=i+e}else Su=1<<i|n<<o|r,Eu=e}function dL(e){e.return!==null&&(Hh(e,1),Wbe(e,1,0))}function fL(e){for(;e===AE;)AE=Wg[--Yg],Wg[Yg]=null,DE=Wg[--Yg],Wg[Yg]=null;for(;e===Qp;)Qp=Ta[--Aa],Ta[Aa]=null,Eu=Ta[--Aa],Ta[Aa]=null,Su=Ta[--Aa],Ta[Aa]=null}var oa=null,Js=null,br=!1,yl=null;function Ybe(e,t){var n=$a(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function oU(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,oa=e,Js=Sf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,oa=e,Js=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qp!==null?{id:Su,overflow:Eu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$a(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,oa=e,Js=null,!0):!1;default:return!1}}function UR(e){return(e.mode&1)!==0&&(e.flags&128)===0}function WR(e){if(br){var t=Js;if(t){var n=t;if(!oU(e,t)){if(UR(e))throw Error(Te(418));t=Sf(n.nextSibling);var r=oa;t&&oU(e,t)?Ybe(r,n):(e.flags=e.flags&-4097|2,br=!1,oa=e)}}else{if(UR(e))throw Error(Te(418));e.flags=e.flags&-4097|2,br=!1,oa=e}}}function iU(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;oa=e}function c_(e){if(e!==oa)return!1;if(!br)return iU(e),br=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!NR(e.type,e.memoizedProps)),t&&(t=Js)){if(UR(e))throw qbe(),Error(Te(418));for(;t;)Ybe(e,t),t=Sf(t.nextSibling)}if(iU(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Js=Sf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Js=null}}else Js=oa?Sf(e.stateNode.nextSibling):null;return!0}function qbe(){for(var e=Js;e;)e=Sf(e.nextSibling)}function Qv(){Js=oa=null,br=!1}function hL(e){yl===null?yl=[e]:yl.push(e)}var tWe=md.ReactCurrentBatchConfig;function gl(e,t){if(e&&e.defaultProps){t=Rr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var IE=ch(null),OE=null,qg=null,pL=null;function mL(){pL=qg=OE=null}function gL(e){var t=IE.current;or(IE),e._currentValue=t}function YR(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function mv(e,t){OE=e,pL=qg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ss=!0),e.firstContext=null)}function Ua(e){var t=e._currentValue;if(pL!==e)if(e={context:e,memoizedValue:t,next:null},qg===null){if(OE===null)throw Error(Te(308));qg=e,OE.dependencies={lanes:0,firstContext:e}}else qg=qg.next=e;return t}var mp=null;function vL(e){mp===null?mp=[e]:mp.push(e)}function Gbe(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,vL(t)):(n.next=o.next,o.next=n),t.interleaved=n,Gu(e,r)}function Gu(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zd=!1;function yL(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kbe(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ou(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ef(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,nn&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Gu(e,n)}return o=r.interleaved,o===null?(t.next=t,vL(r)):(t.next=o.next,o.next=t),r.interleaved=t,Gu(e,n)}function Z2(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rL(e,n)}}function sU(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function PE(e,t,n,r){var o=e.updateQueue;zd=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=o.baseState;s=0,d=u=c=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(p=t,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Rr({},f,p);break e;case 2:zd=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(1);if(d===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);em|=s,e.lanes=s,e.memoizedState=f}}function aU(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Te(191,o));o.call(r)}}}var Zbe=new Gye.Component().refs;function qR(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Rr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Lj={isMounted:function(e){return(e=e._reactInternals)?Am(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ji(),o=jf(e),i=Ou(r,o);i.payload=t,n!=null&&(i.callback=n),t=Ef(e,i,o),t!==null&&(Il(t,e,o,r),Z2(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ji(),o=jf(e),i=Ou(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ef(e,i,o),t!==null&&(Il(t,e,o,r),Z2(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ji(),r=jf(e),o=Ou(n,r);o.tag=2,t!=null&&(o.callback=t),t=Ef(e,o,r),t!==null&&(Il(t,e,r,n),Z2(t,e,r))}};function lU(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!ex(n,r)||!ex(o,i):!0}function Xbe(e,t,n){var r=!1,o=Wf,i=t.contextType;return typeof i=="object"&&i!==null?i=Ua(i):(o=Ts(t)?Xp:Oi.current,r=t.contextTypes,i=(r=r!=null)?Xv(e,o):Wf),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lj,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function cU(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Lj.enqueueReplaceState(t,t.state,null)}function GR(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Zbe,yL(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Ua(i):(i=Ts(t)?Xp:Oi.current,o.context=Xv(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(qR(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Lj.enqueueReplaceState(o,o.state,null),PE(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function V1(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Te(309));var r=n.stateNode}if(!r)throw Error(Te(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;a===Zbe&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Te(284));if(!n._owner)throw Error(Te(290,e))}return e}function u_(e,t){throw e=Object.prototype.toString.call(t),Error(Te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uU(e){var t=e._init;return t(e._payload)}function Qbe(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function o(x,b){return x=Tf(x,b),x.index=0,x.sibling=null,x}function i(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,b,w,C){return b===null||b.tag!==6?(b=AI(w,x.mode,C),b.return=x,b):(b=o(b,w),b.return=x,b)}function c(x,b,w,C){var _=w.type;return _===Bg?d(x,b,w.props.children,C,w.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Nd&&uU(_)===b.type)?(C=o(b,w.props),C.ref=V1(x,b,w),C.return=x,C):(C=nS(w.type,w.key,w.props,null,x.mode,C),C.ref=V1(x,b,w),C.return=x,C)}function u(x,b,w,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=DI(w,x.mode,C),b.return=x,b):(b=o(b,w.children||[]),b.return=x,b)}function d(x,b,w,C,_){return b===null||b.tag!==7?(b=Op(w,x.mode,C,_),b.return=x,b):(b=o(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=AI(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case JC:return w=nS(b.type,b.key,b.props,null,x.mode,w),w.ref=V1(x,null,b),w.return=x,w;case Lg:return b=DI(b,x.mode,w),b.return=x,b;case Nd:var C=b._init;return f(x,C(b._payload),w)}if(Iy(b)||F1(b))return b=Op(b,x.mode,w,null),b.return=x,b;u_(x,b)}return null}function p(x,b,w,C){var _=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(x,b,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case JC:return w.key===_?c(x,b,w,C):null;case Lg:return w.key===_?u(x,b,w,C):null;case Nd:return _=w._init,p(x,b,_(w._payload),C)}if(Iy(w)||F1(w))return _!==null?null:d(x,b,w,C,null);u_(x,w)}return null}function m(x,b,w,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(w)||null,a(b,x,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case JC:return x=x.get(C.key===null?w:C.key)||null,c(b,x,C,_);case Lg:return x=x.get(C.key===null?w:C.key)||null,u(b,x,C,_);case Nd:var S=C._init;return m(x,b,w,S(C._payload),_)}if(Iy(C)||F1(C))return x=x.get(w)||null,d(b,x,C,_,null);u_(b,C)}return null}function v(x,b,w,C){for(var _=null,S=null,E=b,j=b=0,k=null;E!==null&&j<w.length;j++){E.index>j?(k=E,E=null):k=E.sibling;var T=p(x,E,w[j],C);if(T===null){E===null&&(E=k);break}e&&E&&T.alternate===null&&t(x,E),b=i(T,b,j),S===null?_=T:S.sibling=T,S=T,E=k}if(j===w.length)return n(x,E),br&&Hh(x,j),_;if(E===null){for(;j<w.length;j++)E=f(x,w[j],C),E!==null&&(b=i(E,b,j),S===null?_=E:S.sibling=E,S=E);return br&&Hh(x,j),_}for(E=r(x,E);j<w.length;j++)k=m(E,x,j,w[j],C),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?j:k.key),b=i(k,b,j),S===null?_=k:S.sibling=k,S=k);return e&&E.forEach(function(A){return t(x,A)}),br&&Hh(x,j),_}function g(x,b,w,C){var _=F1(w);if(typeof _!="function")throw Error(Te(150));if(w=_.call(w),w==null)throw Error(Te(151));for(var S=_=null,E=b,j=b=0,k=null,T=w.next();E!==null&&!T.done;j++,T=w.next()){E.index>j?(k=E,E=null):k=E.sibling;var A=p(x,E,T.value,C);if(A===null){E===null&&(E=k);break}e&&E&&A.alternate===null&&t(x,E),b=i(A,b,j),S===null?_=A:S.sibling=A,S=A,E=k}if(T.done)return n(x,E),br&&Hh(x,j),_;if(E===null){for(;!T.done;j++,T=w.next())T=f(x,T.value,C),T!==null&&(b=i(T,b,j),S===null?_=T:S.sibling=T,S=T);return br&&Hh(x,j),_}for(E=r(x,E);!T.done;j++,T=w.next())T=m(E,x,j,T.value,C),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?j:T.key),b=i(T,b,j),S===null?_=T:S.sibling=T,S=T);return e&&E.forEach(function(D){return t(x,D)}),br&&Hh(x,j),_}function y(x,b,w,C){if(typeof w=="object"&&w!==null&&w.type===Bg&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case JC:e:{for(var _=w.key,S=b;S!==null;){if(S.key===_){if(_=w.type,_===Bg){if(S.tag===7){n(x,S.sibling),b=o(S,w.props.children),b.return=x,x=b;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Nd&&uU(_)===S.type){n(x,S.sibling),b=o(S,w.props),b.ref=V1(x,S,w),b.return=x,x=b;break e}n(x,S);break}else t(x,S);S=S.sibling}w.type===Bg?(b=Op(w.props.children,x.mode,C,w.key),b.return=x,x=b):(C=nS(w.type,w.key,w.props,null,x.mode,C),C.ref=V1(x,b,w),C.return=x,x=C)}return s(x);case Lg:e:{for(S=w.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=o(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=DI(w,x.mode,C),b.return=x,x=b}return s(x);case Nd:return S=w._init,y(x,b,S(w._payload),C)}if(Iy(w))return v(x,b,w,C);if(F1(w))return g(x,b,w,C);u_(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=o(b,w),b.return=x,x=b):(n(x,b),b=AI(w,x.mode,C),b.return=x,x=b),s(x)):n(x,b)}return y}var Jv=Qbe(!0),Jbe=Qbe(!1),Iw={},Oc=ch(Iw),ox=ch(Iw),ix=ch(Iw);function gp(e){if(e===Iw)throw Error(Te(174));return e}function bL(e,t){switch(Wn(ix,t),Wn(ox,e),Wn(Oc,Iw),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kR(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kR(t,e)}or(Oc),Wn(Oc,t)}function e0(){or(Oc),or(ox),or(ix)}function exe(e){gp(ix.current);var t=gp(Oc.current),n=kR(t,e.type);t!==n&&(Wn(ox,e),Wn(Oc,n))}function xL(e){ox.current===e&&(or(Oc),or(ox))}var Tr=ch(0);function RE(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _I=[];function wL(){for(var e=0;e<_I.length;e++)_I[e]._workInProgressVersionPrimary=null;_I.length=0}var X2=md.ReactCurrentDispatcher,SI=md.ReactCurrentBatchConfig,Jp=0,Or=null,_o=null,Ro=null,$E=!1,ab=!1,sx=0,nWe=0;function pi(){throw Error(Te(321))}function CL(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ml(e[n],t[n]))return!1;return!0}function _L(e,t,n,r,o,i){if(Jp=i,Or=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,X2.current=e===null||e.memoizedState===null?sWe:aWe,e=n(r,o),ab){i=0;do{if(ab=!1,sx=0,25<=i)throw Error(Te(301));i+=1,Ro=_o=null,t.updateQueue=null,X2.current=lWe,e=n(r,o)}while(ab)}if(X2.current=ME,t=_o!==null&&_o.next!==null,Jp=0,Ro=_o=Or=null,$E=!1,t)throw Error(Te(300));return e}function SL(){var e=sx!==0;return sx=0,e}function hc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ro===null?Or.memoizedState=Ro=e:Ro=Ro.next=e,Ro}function Wa(){if(_o===null){var e=Or.alternate;e=e!==null?e.memoizedState:null}else e=_o.next;var t=Ro===null?Or.memoizedState:Ro.next;if(t!==null)Ro=t,_o=e;else{if(e===null)throw Error(Te(310));_o=e,e={memoizedState:_o.memoizedState,baseState:_o.baseState,baseQueue:_o.baseQueue,queue:_o.queue,next:null},Ro===null?Or.memoizedState=Ro=e:Ro=Ro.next=e}return Ro}function ax(e,t){return typeof t=="function"?t(e):t}function EI(e){var t=Wa(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=_o,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,c=null,u=i;do{var d=u.lane;if((Jp&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,s=r):c=c.next=f,Or.lanes|=d,em|=d}u=u.next}while(u!==null&&u!==i);c===null?s=r:c.next=a,Ml(r,t.memoizedState)||(Ss=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Or.lanes|=i,em|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function kI(e){var t=Wa(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Ml(i,t.memoizedState)||(Ss=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function txe(){}function nxe(e,t){var n=Or,r=Wa(),o=t(),i=!Ml(r.memoizedState,o);if(i&&(r.memoizedState=o,Ss=!0),r=r.queue,EL(ixe.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ro!==null&&Ro.memoizedState.tag&1){if(n.flags|=2048,lx(9,oxe.bind(null,n,r,o,t),void 0,null),Bo===null)throw Error(Te(349));Jp&30||rxe(n,t,o)}return o}function rxe(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Or.updateQueue,t===null?(t={lastEffect:null,stores:null},Or.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function oxe(e,t,n,r){t.value=n,t.getSnapshot=r,sxe(t)&&axe(e)}function ixe(e,t,n){return n(function(){sxe(t)&&axe(e)})}function sxe(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ml(e,n)}catch{return!0}}function axe(e){var t=Gu(e,1);t!==null&&Il(t,e,1,-1)}function dU(e){var t=hc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ax,lastRenderedState:e},t.queue=e,e=e.dispatch=iWe.bind(null,Or,e),[t.memoizedState,e]}function lx(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Or.updateQueue,t===null?(t={lastEffect:null,stores:null},Or.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function lxe(){return Wa().memoizedState}function Q2(e,t,n,r){var o=hc();Or.flags|=e,o.memoizedState=lx(1|t,n,void 0,r===void 0?null:r)}function Bj(e,t,n,r){var o=Wa();r=r===void 0?null:r;var i=void 0;if(_o!==null){var s=_o.memoizedState;if(i=s.destroy,r!==null&&CL(r,s.deps)){o.memoizedState=lx(t,n,i,r);return}}Or.flags|=e,o.memoizedState=lx(1|t,n,i,r)}function fU(e,t){return Q2(8390656,8,e,t)}function EL(e,t){return Bj(2048,8,e,t)}function cxe(e,t){return Bj(4,2,e,t)}function uxe(e,t){return Bj(4,4,e,t)}function dxe(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fxe(e,t,n){return n=n!=null?n.concat([e]):null,Bj(4,4,dxe.bind(null,t,e),n)}function kL(){}function hxe(e,t){var n=Wa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&CL(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pxe(e,t){var n=Wa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&CL(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function mxe(e,t,n){return Jp&21?(Ml(n,t)||(n=ybe(),Or.lanes|=n,em|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ss=!0),e.memoizedState=n)}function rWe(e,t){var n=bn;bn=n!==0&&4>n?n:4,e(!0);var r=SI.transition;SI.transition={};try{e(!1),t()}finally{bn=n,SI.transition=r}}function gxe(){return Wa().memoizedState}function oWe(e,t,n){var r=jf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vxe(e))yxe(t,n);else if(n=Gbe(e,t,n,r),n!==null){var o=Ji();Il(n,e,r,o),bxe(n,t,r)}}function iWe(e,t,n){var r=jf(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vxe(e))yxe(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Ml(a,s)){var c=t.interleaved;c===null?(o.next=o,vL(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Gbe(e,t,o,r),n!==null&&(o=Ji(),Il(n,e,r,o),bxe(n,t,r))}}function vxe(e){var t=e.alternate;return e===Or||t!==null&&t===Or}function yxe(e,t){ab=$E=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bxe(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rL(e,n)}}var ME={readContext:Ua,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},sWe={readContext:Ua,useCallback:function(e,t){return hc().memoizedState=[e,t===void 0?null:t],e},useContext:Ua,useEffect:fU,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Q2(4194308,4,dxe.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Q2(4194308,4,e,t)},useInsertionEffect:function(e,t){return Q2(4,2,e,t)},useMemo:function(e,t){var n=hc();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hc();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oWe.bind(null,Or,e),[r.memoizedState,e]},useRef:function(e){var t=hc();return e={current:e},t.memoizedState=e},useState:dU,useDebugValue:kL,useDeferredValue:function(e){return hc().memoizedState=e},useTransition:function(){var e=dU(!1),t=e[0];return e=rWe.bind(null,e[1]),hc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Or,o=hc();if(br){if(n===void 0)throw Error(Te(407));n=n()}else{if(n=t(),Bo===null)throw Error(Te(349));Jp&30||rxe(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,fU(ixe.bind(null,r,i,e),[e]),r.flags|=2048,lx(9,oxe.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=hc(),t=Bo.identifierPrefix;if(br){var n=Eu,r=Su;n=(r&~(1<<32-Dl(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=sx++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=nWe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aWe={readContext:Ua,useCallback:hxe,useContext:Ua,useEffect:EL,useImperativeHandle:fxe,useInsertionEffect:cxe,useLayoutEffect:uxe,useMemo:pxe,useReducer:EI,useRef:lxe,useState:function(){return EI(ax)},useDebugValue:kL,useDeferredValue:function(e){var t=Wa();return mxe(t,_o.memoizedState,e)},useTransition:function(){var e=EI(ax)[0],t=Wa().memoizedState;return[e,t]},useMutableSource:txe,useSyncExternalStore:nxe,useId:gxe,unstable_isNewReconciler:!1},lWe={readContext:Ua,useCallback:hxe,useContext:Ua,useEffect:EL,useImperativeHandle:fxe,useInsertionEffect:cxe,useLayoutEffect:uxe,useMemo:pxe,useReducer:kI,useRef:lxe,useState:function(){return kI(ax)},useDebugValue:kL,useDeferredValue:function(e){var t=Wa();return _o===null?t.memoizedState=e:mxe(t,_o.memoizedState,e)},useTransition:function(){var e=kI(ax)[0],t=Wa().memoizedState;return[e,t]},useMutableSource:txe,useSyncExternalStore:nxe,useId:gxe,unstable_isNewReconciler:!1};function t0(e,t){try{var n="",r=t;do n+=MHe(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function jI(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function KR(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cWe=typeof WeakMap=="function"?WeakMap:Map;function xxe(e,t,n){n=Ou(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){LE||(LE=!0,i$=r),KR(e,t)},n}function wxe(e,t,n){n=Ou(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){KR(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){KR(e,t),typeof r!="function"&&(kf===null?kf=new Set([this]):kf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function hU(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new cWe;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=_We.bind(null,e,t,n),t.then(e,e))}function pU(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mU(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ou(-1,1),t.tag=2,Ef(n,t,1))),n.lanes|=1),e)}var uWe=md.ReactCurrentOwner,Ss=!1;function Gi(e,t,n,r){t.child=e===null?Jbe(t,null,n,r):Jv(t,e.child,n,r)}function gU(e,t,n,r,o){n=n.render;var i=t.ref;return mv(t,o),r=_L(e,t,n,r,i,o),n=SL(),e!==null&&!Ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ku(e,t,o)):(br&&n&&dL(t),t.flags|=1,Gi(e,t,r,o),t.child)}function vU(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!RL(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Cxe(e,t,i,r,o)):(e=nS(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:ex,n(s,r)&&e.ref===t.ref)return Ku(e,t,o)}return t.flags|=1,e=Tf(i,r),e.ref=t.ref,e.return=t,t.child=e}function Cxe(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(ex(i,r)&&e.ref===t.ref)if(Ss=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Ss=!0);else return t.lanes=e.lanes,Ku(e,t,o)}return ZR(e,t,n,r,o)}function _xe(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(Kg,Us),Us|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wn(Kg,Us),Us|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Wn(Kg,Us),Us|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Wn(Kg,Us),Us|=r;return Gi(e,t,o,n),t.child}function Sxe(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ZR(e,t,n,r,o){var i=Ts(n)?Xp:Oi.current;return i=Xv(t,i),mv(t,o),n=_L(e,t,n,r,i,o),r=SL(),e!==null&&!Ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ku(e,t,o)):(br&&r&&dL(t),t.flags|=1,Gi(e,t,n,o),t.child)}function yU(e,t,n,r,o){if(Ts(n)){var i=!0;TE(t)}else i=!1;if(mv(t,o),t.stateNode===null)J2(e,t),Xbe(t,n,r),GR(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ua(u):(u=Ts(n)?Xp:Oi.current,u=Xv(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==u)&&cU(t,s,r,u),zd=!1;var p=t.memoizedState;s.state=p,PE(t,r,s,o),c=t.memoizedState,a!==r||p!==c||js.current||zd?(typeof d=="function"&&(qR(t,n,d,r),c=t.memoizedState),(a=zd||lU(t,n,a,r,p,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Kbe(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:gl(t.type,a),s.props=u,f=t.pendingProps,p=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ua(c):(c=Ts(n)?Xp:Oi.current,c=Xv(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==c)&&cU(t,s,r,c),zd=!1,p=t.memoizedState,s.state=p,PE(t,r,s,o);var v=t.memoizedState;a!==f||p!==v||js.current||zd?(typeof m=="function"&&(qR(t,n,m,r),v=t.memoizedState),(u=zd||lU(t,n,u,r,p,v,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return XR(e,t,n,r,i,o)}function XR(e,t,n,r,o,i){Sxe(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&rU(t,n,!1),Ku(e,t,i);r=t.stateNode,uWe.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Jv(t,e.child,null,i),t.child=Jv(t,null,a,i)):Gi(e,t,a,i),t.memoizedState=r.state,o&&rU(t,n,!0),t.child}function Exe(e){var t=e.stateNode;t.pendingContext?nU(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nU(e,t.context,!1),bL(e,t.containerInfo)}function bU(e,t,n,r,o){return Qv(),hL(o),t.flags|=256,Gi(e,t,n,r),t.child}var QR={dehydrated:null,treeContext:null,retryLane:0};function JR(e){return{baseLanes:e,cachePool:null,transitions:null}}function kxe(e,t,n){var r=t.pendingProps,o=Tr.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Wn(Tr,o&1),e===null)return WR(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Vj(s,r,0,null),e=Op(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=JR(n),t.memoizedState=QR,e):jL(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return dWe(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Tf(o,c),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Tf(a,i):(i=Op(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?JR(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=QR,r}return i=e.child,e=i.sibling,r=Tf(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function jL(e,t){return t=Vj({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function d_(e,t,n,r){return r!==null&&hL(r),Jv(t,e.child,null,n),e=jL(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dWe(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=jI(Error(Te(422))),d_(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Vj({mode:"visible",children:r.children},o,0,null),i=Op(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Jv(t,e.child,null,s),t.child.memoizedState=JR(s),t.memoizedState=QR,i);if(!(t.mode&1))return d_(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Te(419)),r=jI(i,r,void 0),d_(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ss||a){if(r=Bo,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Gu(e,o),Il(r,e,o,-1))}return PL(),r=jI(Error(Te(421))),d_(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=SWe.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Js=Sf(o.nextSibling),oa=t,br=!0,yl=null,e!==null&&(Ta[Aa++]=Su,Ta[Aa++]=Eu,Ta[Aa++]=Qp,Su=e.id,Eu=e.overflow,Qp=t),t=jL(t,r.children),t.flags|=4096,t)}function xU(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),YR(e.return,t,n)}function TI(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function jxe(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Gi(e,t,r.children,n),r=Tr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xU(e,n,t);else if(e.tag===19)xU(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Wn(Tr,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&RE(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),TI(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&RE(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}TI(t,!0,n,null,i);break;case"together":TI(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function J2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),em|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Te(153));if(t.child!==null){for(e=t.child,n=Tf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fWe(e,t,n){switch(t.tag){case 3:Exe(t),Qv();break;case 5:exe(t);break;case 1:Ts(t.type)&&TE(t);break;case 4:bL(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Wn(IE,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Wn(Tr,Tr.current&1),t.flags|=128,null):n&t.child.childLanes?kxe(e,t,n):(Wn(Tr,Tr.current&1),e=Ku(e,t,n),e!==null?e.sibling:null);Wn(Tr,Tr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jxe(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Wn(Tr,Tr.current),r)break;return null;case 22:case 23:return t.lanes=0,_xe(e,t,n)}return Ku(e,t,n)}var Txe,e$,Axe,Dxe;Txe=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};e$=function(){};Axe=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,gp(Oc.current);var i=null;switch(n){case"input":o=CR(e,o),r=CR(e,r),i=[];break;case"select":o=Rr({},o,{value:void 0}),r=Rr({},r,{value:void 0}),i=[];break;case"textarea":o=ER(e,o),r=ER(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=kE)}jR(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qb.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qb.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&er("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Dxe=function(e,t,n,r){n!==r&&(t.flags|=4)};function H1(e,t){if(!br)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function mi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hWe(e,t,n){var r=t.pendingProps;switch(fL(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(t),null;case 1:return Ts(t.type)&&jE(),mi(t),null;case 3:return r=t.stateNode,e0(),or(js),or(Oi),wL(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(c_(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yl!==null&&(l$(yl),yl=null))),e$(e,t),mi(t),null;case 5:xL(t);var o=gp(ix.current);if(n=t.type,e!==null&&t.stateNode!=null)Axe(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Te(166));return mi(t),null}if(e=gp(Oc.current),c_(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Cc]=t,r[rx]=i,e=(t.mode&1)!==0,n){case"dialog":er("cancel",r),er("close",r);break;case"iframe":case"object":case"embed":er("load",r);break;case"video":case"audio":for(o=0;o<Py.length;o++)er(Py[o],r);break;case"source":er("error",r);break;case"img":case"image":case"link":er("error",r),er("load",r);break;case"details":er("toggle",r);break;case"input":AH(r,i),er("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},er("invalid",r);break;case"textarea":IH(r,i),er("invalid",r)}jR(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&l_(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&l_(r.textContent,a,e),o=["children",""+a]):qb.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&er("scroll",r)}switch(n){case"input":e_(r),DH(r,i,!0);break;case"textarea":e_(r),OH(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=kE)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rbe(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Cc]=t,e[rx]=r,Txe(e,t,!1,!1),t.stateNode=e;e:{switch(s=TR(n,r),n){case"dialog":er("cancel",e),er("close",e),o=r;break;case"iframe":case"object":case"embed":er("load",e),o=r;break;case"video":case"audio":for(o=0;o<Py.length;o++)er(Py[o],e);o=r;break;case"source":er("error",e),o=r;break;case"img":case"image":case"link":er("error",e),er("load",e),o=r;break;case"details":er("toggle",e),o=r;break;case"input":AH(e,r),o=CR(e,r),er("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Rr({},r,{value:void 0}),er("invalid",e);break;case"textarea":IH(e,r),o=ER(e,r),er("invalid",e);break;default:o=r}jR(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?sbe(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&obe(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Gb(e,c):typeof c=="number"&&Gb(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qb.hasOwnProperty(i)?c!=null&&i==="onScroll"&&er("scroll",e):c!=null&&X6(e,i,c,s))}switch(n){case"input":e_(e),DH(e,r,!1);break;case"textarea":e_(e),OH(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Uf(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?dv(e,!!r.multiple,i,!1):r.defaultValue!=null&&dv(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=kE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mi(t),null;case 6:if(e&&t.stateNode!=null)Dxe(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Te(166));if(n=gp(ix.current),gp(Oc.current),c_(t)){if(r=t.stateNode,n=t.memoizedProps,r[Cc]=t,(i=r.nodeValue!==n)&&(e=oa,e!==null))switch(e.tag){case 3:l_(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&l_(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cc]=t,t.stateNode=r}return mi(t),null;case 13:if(or(Tr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(br&&Js!==null&&t.mode&1&&!(t.flags&128))qbe(),Qv(),t.flags|=98560,i=!1;else if(i=c_(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Te(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Te(317));i[Cc]=t}else Qv(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mi(t),i=!1}else yl!==null&&(l$(yl),yl=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Tr.current&1?Eo===0&&(Eo=3):PL())),t.updateQueue!==null&&(t.flags|=4),mi(t),null);case 4:return e0(),e$(e,t),e===null&&tx(t.stateNode.containerInfo),mi(t),null;case 10:return gL(t.type._context),mi(t),null;case 17:return Ts(t.type)&&jE(),mi(t),null;case 19:if(or(Tr),i=t.memoizedState,i===null)return mi(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)H1(i,!1);else{if(Eo!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=RE(e),s!==null){for(t.flags|=128,H1(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Wn(Tr,Tr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Kr()>n0&&(t.flags|=128,r=!0,H1(i,!1),t.lanes=4194304)}else{if(!r)if(e=RE(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),H1(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!br)return mi(t),null}else 2*Kr()-i.renderingStartTime>n0&&n!==1073741824&&(t.flags|=128,r=!0,H1(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Kr(),t.sibling=null,n=Tr.current,Wn(Tr,r?n&1|2:n&1),t):(mi(t),null);case 22:case 23:return OL(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Us&1073741824&&(mi(t),t.subtreeFlags&6&&(t.flags|=8192)):mi(t),null;case 24:return null;case 25:return null}throw Error(Te(156,t.tag))}function pWe(e,t){switch(fL(t),t.tag){case 1:return Ts(t.type)&&jE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return e0(),or(js),or(Oi),wL(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xL(t),null;case 13:if(or(Tr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Te(340));Qv()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return or(Tr),null;case 4:return e0(),null;case 10:return gL(t.type._context),null;case 22:case 23:return OL(),null;case 24:return null;default:return null}}var f_=!1,Ei=!1,mWe=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Gg(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fr(e,t,r)}else n.current=null}function t$(e,t,n){try{n()}catch(r){Fr(e,t,r)}}var wU=!1;function gWe(e,t){if(LR=_E,e=Rbe(),uL(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===o&&(a=s),p===i&&++d===r&&(c=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(BR={focusedElem:e,selectionRange:n},_E=!1,qe=t;qe!==null;)if(t=qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,qe=e;else for(;qe!==null;){t=qe;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:gl(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(C){Fr(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,qe=e;break}qe=t.return}return v=wU,wU=!1,v}function lb(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&t$(t,n,i)}o=o.next}while(o!==r)}}function Nj(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function n$(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ixe(e){var t=e.alternate;t!==null&&(e.alternate=null,Ixe(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cc],delete t[rx],delete t[VR],delete t[QUe],delete t[JUe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Oxe(e){return e.tag===5||e.tag===3||e.tag===4}function CU(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Oxe(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function r$(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kE));else if(r!==4&&(e=e.child,e!==null))for(r$(e,t,n),e=e.sibling;e!==null;)r$(e,t,n),e=e.sibling}function o$(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(o$(e,t,n),e=e.sibling;e!==null;)o$(e,t,n),e=e.sibling}var Ko=null,vl=!1;function Dd(e,t,n){for(n=n.child;n!==null;)Pxe(e,t,n),n=n.sibling}function Pxe(e,t,n){if(Ic&&typeof Ic.onCommitFiberUnmount=="function")try{Ic.onCommitFiberUnmount(Oj,n)}catch{}switch(n.tag){case 5:Ei||Gg(n,t);case 6:var r=Ko,o=vl;Ko=null,Dd(e,t,n),Ko=r,vl=o,Ko!==null&&(vl?(e=Ko,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ko.removeChild(n.stateNode));break;case 18:Ko!==null&&(vl?(e=Ko,n=n.stateNode,e.nodeType===8?wI(e.parentNode,n):e.nodeType===1&&wI(e,n),Qb(e)):wI(Ko,n.stateNode));break;case 4:r=Ko,o=vl,Ko=n.stateNode.containerInfo,vl=!0,Dd(e,t,n),Ko=r,vl=o;break;case 0:case 11:case 14:case 15:if(!Ei&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&t$(n,t,s),o=o.next}while(o!==r)}Dd(e,t,n);break;case 1:if(!Ei&&(Gg(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fr(n,t,a)}Dd(e,t,n);break;case 21:Dd(e,t,n);break;case 22:n.mode&1?(Ei=(r=Ei)||n.memoizedState!==null,Dd(e,t,n),Ei=r):Dd(e,t,n);break;default:Dd(e,t,n)}}function _U(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mWe),t.forEach(function(r){var o=EWe.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function dl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ko=a.stateNode,vl=!1;break e;case 3:Ko=a.stateNode.containerInfo,vl=!0;break e;case 4:Ko=a.stateNode.containerInfo,vl=!0;break e}a=a.return}if(Ko===null)throw Error(Te(160));Pxe(i,s,o),Ko=null,vl=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){Fr(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rxe(t,e),t=t.sibling}function Rxe(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dl(t,e),oc(e),r&4){try{lb(3,e,e.return),Nj(3,e)}catch(g){Fr(e,e.return,g)}try{lb(5,e,e.return)}catch(g){Fr(e,e.return,g)}}break;case 1:dl(t,e),oc(e),r&512&&n!==null&&Gg(n,n.return);break;case 5:if(dl(t,e),oc(e),r&512&&n!==null&&Gg(n,n.return),e.flags&32){var o=e.stateNode;try{Gb(o,"")}catch(g){Fr(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&tbe(o,i),TR(a,s);var u=TR(a,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?sbe(o,f):d==="dangerouslySetInnerHTML"?obe(o,f):d==="children"?Gb(o,f):X6(o,d,f,u)}switch(a){case"input":_R(o,i);break;case"textarea":nbe(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?dv(o,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?dv(o,!!i.multiple,i.defaultValue,!0):dv(o,!!i.multiple,i.multiple?[]:"",!1))}o[rx]=i}catch(g){Fr(e,e.return,g)}}break;case 6:if(dl(t,e),oc(e),r&4){if(e.stateNode===null)throw Error(Te(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){Fr(e,e.return,g)}}break;case 3:if(dl(t,e),oc(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qb(t.containerInfo)}catch(g){Fr(e,e.return,g)}break;case 4:dl(t,e),oc(e);break;case 13:dl(t,e),oc(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(DL=Kr())),r&4&&_U(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ei=(u=Ei)||d,dl(t,e),Ei=u):dl(t,e),oc(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(qe=e,d=e.child;d!==null;){for(f=qe=d;qe!==null;){switch(p=qe,m=p.child,p.tag){case 0:case 11:case 14:case 15:lb(4,p,p.return);break;case 1:Gg(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Fr(r,n,g)}}break;case 5:Gg(p,p.return);break;case 22:if(p.memoizedState!==null){EU(f);continue}}m!==null?(m.return=p,qe=m):EU(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=ibe("display",s))}catch(g){Fr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Fr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:dl(t,e),oc(e),r&4&&_U(e);break;case 21:break;default:dl(t,e),oc(e)}}function oc(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Oxe(n)){var r=n;break e}n=n.return}throw Error(Te(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Gb(o,""),r.flags&=-33);var i=CU(e);o$(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=CU(e);r$(e,a,s);break;default:throw Error(Te(161))}}catch(c){Fr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vWe(e,t,n){qe=e,$xe(e)}function $xe(e,t,n){for(var r=(e.mode&1)!==0;qe!==null;){var o=qe,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||f_;if(!s){var a=o.alternate,c=a!==null&&a.memoizedState!==null||Ei;a=f_;var u=Ei;if(f_=s,(Ei=c)&&!u)for(qe=o;qe!==null;)s=qe,c=s.child,s.tag===22&&s.memoizedState!==null?kU(o):c!==null?(c.return=s,qe=c):kU(o);for(;i!==null;)qe=i,$xe(i),i=i.sibling;qe=o,f_=a,Ei=u}SU(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,qe=i):SU(e)}}function SU(e){for(;qe!==null;){var t=qe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ei||Nj(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ei)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:gl(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&aU(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}aU(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Qb(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}Ei||t.flags&512&&n$(t)}catch(p){Fr(t,t.return,p)}}if(t===e){qe=null;break}if(n=t.sibling,n!==null){n.return=t.return,qe=n;break}qe=t.return}}function EU(e){for(;qe!==null;){var t=qe;if(t===e){qe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,qe=n;break}qe=t.return}}function kU(e){for(;qe!==null;){var t=qe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Nj(4,t)}catch(c){Fr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){Fr(t,o,c)}}var i=t.return;try{n$(t)}catch(c){Fr(t,i,c)}break;case 5:var s=t.return;try{n$(t)}catch(c){Fr(t,s,c)}}}catch(c){Fr(t,t.return,c)}if(t===e){qe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,qe=a;break}qe=t.return}}var yWe=Math.ceil,FE=md.ReactCurrentDispatcher,TL=md.ReactCurrentOwner,Ba=md.ReactCurrentBatchConfig,nn=0,Bo=null,co=null,ni=0,Us=0,Kg=ch(0),Eo=0,cx=null,em=0,zj=0,AL=0,cb=null,xs=null,DL=0,n0=1/0,vu=null,LE=!1,i$=null,kf=null,h_=!1,tf=null,BE=0,ub=0,s$=null,eS=-1,tS=0;function Ji(){return nn&6?Kr():eS!==-1?eS:eS=Kr()}function jf(e){return e.mode&1?nn&2&&ni!==0?ni&-ni:tWe.transition!==null?(tS===0&&(tS=ybe()),tS):(e=bn,e!==0||(e=window.event,e=e===void 0?16:Ebe(e.type)),e):1}function Il(e,t,n,r){if(50<ub)throw ub=0,s$=null,Error(Te(185));Tw(e,n,r),(!(nn&2)||e!==Bo)&&(e===Bo&&(!(nn&2)&&(zj|=n),Eo===4&&Zd(e,ni)),As(e,r),n===1&&nn===0&&!(t.mode&1)&&(n0=Kr()+500,Fj&&uh()))}function As(e,t){var n=e.callbackNode;tUe(e,t);var r=CE(e,e===Bo?ni:0);if(r===0)n!==null&&$H(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&$H(n),t===1)e.tag===0?eWe(jU.bind(null,e)):Ube(jU.bind(null,e)),ZUe(function(){!(nn&6)&&uh()}),n=null;else{switch(bbe(r)){case 1:n=nL;break;case 4:n=gbe;break;case 16:n=wE;break;case 536870912:n=vbe;break;default:n=wE}n=Hxe(n,Mxe.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Mxe(e,t){if(eS=-1,tS=0,nn&6)throw Error(Te(327));var n=e.callbackNode;if(gv()&&e.callbackNode!==n)return null;var r=CE(e,e===Bo?ni:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=NE(e,r);else{t=r;var o=nn;nn|=2;var i=Lxe();(Bo!==e||ni!==t)&&(vu=null,n0=Kr()+500,Ip(e,t));do try{wWe();break}catch(a){Fxe(e,a)}while(1);mL(),FE.current=i,nn=o,co!==null?t=0:(Bo=null,ni=0,t=Eo)}if(t!==0){if(t===2&&(o=PR(e),o!==0&&(r=o,t=a$(e,o))),t===1)throw n=cx,Ip(e,0),Zd(e,r),As(e,Kr()),n;if(t===6)Zd(e,r);else{if(o=e.current.alternate,!(r&30)&&!bWe(o)&&(t=NE(e,r),t===2&&(i=PR(e),i!==0&&(r=i,t=a$(e,i))),t===1))throw n=cx,Ip(e,0),Zd(e,r),As(e,Kr()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Te(345));case 2:Uh(e,xs,vu);break;case 3:if(Zd(e,r),(r&130023424)===r&&(t=DL+500-Kr(),10<t)){if(CE(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ji(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=zR(Uh.bind(null,e,xs,vu),t);break}Uh(e,xs,vu);break;case 4:if(Zd(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Dl(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Kr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yWe(r/1960))-r,10<r){e.timeoutHandle=zR(Uh.bind(null,e,xs,vu),r);break}Uh(e,xs,vu);break;case 5:Uh(e,xs,vu);break;default:throw Error(Te(329))}}}return As(e,Kr()),e.callbackNode===n?Mxe.bind(null,e):null}function a$(e,t){var n=cb;return e.current.memoizedState.isDehydrated&&(Ip(e,t).flags|=256),e=NE(e,t),e!==2&&(t=xs,xs=n,t!==null&&l$(t)),e}function l$(e){xs===null?xs=e:xs.push.apply(xs,e)}function bWe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Ml(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zd(e,t){for(t&=~AL,t&=~zj,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dl(t),r=1<<n;e[n]=-1,t&=~r}}function jU(e){if(nn&6)throw Error(Te(327));gv();var t=CE(e,0);if(!(t&1))return As(e,Kr()),null;var n=NE(e,t);if(e.tag!==0&&n===2){var r=PR(e);r!==0&&(t=r,n=a$(e,r))}if(n===1)throw n=cx,Ip(e,0),Zd(e,t),As(e,Kr()),n;if(n===6)throw Error(Te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Uh(e,xs,vu),As(e,Kr()),null}function IL(e,t){var n=nn;nn|=1;try{return e(t)}finally{nn=n,nn===0&&(n0=Kr()+500,Fj&&uh())}}function tm(e){tf!==null&&tf.tag===0&&!(nn&6)&&gv();var t=nn;nn|=1;var n=Ba.transition,r=bn;try{if(Ba.transition=null,bn=1,e)return e()}finally{bn=r,Ba.transition=n,nn=t,!(nn&6)&&uh()}}function OL(){Us=Kg.current,or(Kg)}function Ip(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,KUe(n)),co!==null)for(n=co.return;n!==null;){var r=n;switch(fL(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jE();break;case 3:e0(),or(js),or(Oi),wL();break;case 5:xL(r);break;case 4:e0();break;case 13:or(Tr);break;case 19:or(Tr);break;case 10:gL(r.type._context);break;case 22:case 23:OL()}n=n.return}if(Bo=e,co=e=Tf(e.current,null),ni=Us=t,Eo=0,cx=null,AL=zj=em=0,xs=cb=null,mp!==null){for(t=0;t<mp.length;t++)if(n=mp[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}mp=null}return e}function Fxe(e,t){do{var n=co;try{if(mL(),X2.current=ME,$E){for(var r=Or.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}$E=!1}if(Jp=0,Ro=_o=Or=null,ab=!1,sx=0,TL.current=null,n===null||n.return===null){Eo=1,cx=t,co=null;break}e:{var i=e,s=n.return,a=n,c=t;if(t=ni,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=pU(s);if(m!==null){m.flags&=-257,mU(m,s,a,i,t),m.mode&1&&hU(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){hU(i,u,t),PL();break e}c=Error(Te(426))}}else if(br&&a.mode&1){var y=pU(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),mU(y,s,a,i,t),hL(t0(c,a));break e}}i=c=t0(c,a),Eo!==4&&(Eo=2),cb===null?cb=[i]:cb.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=xxe(i,c,t);sU(i,x);break e;case 1:a=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(kf===null||!kf.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=wxe(i,a,t);sU(i,C);break e}}i=i.return}while(i!==null)}Nxe(n)}catch(_){t=_,co===n&&n!==null&&(co=n=n.return);continue}break}while(1)}function Lxe(){var e=FE.current;return FE.current=ME,e===null?ME:e}function PL(){(Eo===0||Eo===3||Eo===2)&&(Eo=4),Bo===null||!(em&268435455)&&!(zj&268435455)||Zd(Bo,ni)}function NE(e,t){var n=nn;nn|=2;var r=Lxe();(Bo!==e||ni!==t)&&(vu=null,Ip(e,t));do try{xWe();break}catch(o){Fxe(e,o)}while(1);if(mL(),nn=n,FE.current=r,co!==null)throw Error(Te(261));return Bo=null,ni=0,Eo}function xWe(){for(;co!==null;)Bxe(co)}function wWe(){for(;co!==null&&!YHe();)Bxe(co)}function Bxe(e){var t=Vxe(e.alternate,e,Us);e.memoizedProps=e.pendingProps,t===null?Nxe(e):co=t,TL.current=null}function Nxe(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=pWe(n,t),n!==null){n.flags&=32767,co=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Eo=6,co=null;return}}else if(n=hWe(n,t,Us),n!==null){co=n;return}if(t=t.sibling,t!==null){co=t;return}co=t=e}while(t!==null);Eo===0&&(Eo=5)}function Uh(e,t,n){var r=bn,o=Ba.transition;try{Ba.transition=null,bn=1,CWe(e,t,n,r)}finally{Ba.transition=o,bn=r}return null}function CWe(e,t,n,r){do gv();while(tf!==null);if(nn&6)throw Error(Te(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Te(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(nUe(e,i),e===Bo&&(co=Bo=null,ni=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||h_||(h_=!0,Hxe(wE,function(){return gv(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ba.transition,Ba.transition=null;var s=bn;bn=1;var a=nn;nn|=4,TL.current=null,gWe(e,n),Rxe(n,e),VUe(BR),_E=!!LR,BR=LR=null,e.current=n,vWe(n),qHe(),nn=a,bn=s,Ba.transition=i}else e.current=n;if(h_&&(h_=!1,tf=e,BE=o),i=e.pendingLanes,i===0&&(kf=null),ZHe(n.stateNode),As(e,Kr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(LE)throw LE=!1,e=i$,i$=null,e;return BE&1&&e.tag!==0&&gv(),i=e.pendingLanes,i&1?e===s$?ub++:(ub=0,s$=e):ub=0,uh(),null}function gv(){if(tf!==null){var e=bbe(BE),t=Ba.transition,n=bn;try{if(Ba.transition=null,bn=16>e?16:e,tf===null)var r=!1;else{if(e=tf,tf=null,BE=0,nn&6)throw Error(Te(331));var o=nn;for(nn|=4,qe=e.current;qe!==null;){var i=qe,s=i.child;if(qe.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(qe=u;qe!==null;){var d=qe;switch(d.tag){case 0:case 11:case 15:lb(8,d,i)}var f=d.child;if(f!==null)f.return=d,qe=f;else for(;qe!==null;){d=qe;var p=d.sibling,m=d.return;if(Ixe(d),d===u){qe=null;break}if(p!==null){p.return=m,qe=p;break}qe=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}qe=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,qe=s;else e:for(;qe!==null;){if(i=qe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:lb(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,qe=x;break e}qe=i.return}}var b=e.current;for(qe=b;qe!==null;){s=qe;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,qe=w;else e:for(s=b;qe!==null;){if(a=qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nj(9,a)}}catch(_){Fr(a,a.return,_)}if(a===s){qe=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,qe=C;break e}qe=a.return}}if(nn=o,uh(),Ic&&typeof Ic.onPostCommitFiberRoot=="function")try{Ic.onPostCommitFiberRoot(Oj,e)}catch{}r=!0}return r}finally{bn=n,Ba.transition=t}}return!1}function TU(e,t,n){t=t0(n,t),t=xxe(e,t,1),e=Ef(e,t,1),t=Ji(),e!==null&&(Tw(e,1,t),As(e,t))}function Fr(e,t,n){if(e.tag===3)TU(e,e,n);else for(;t!==null;){if(t.tag===3){TU(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kf===null||!kf.has(r))){e=t0(n,e),e=wxe(t,e,1),t=Ef(t,e,1),e=Ji(),t!==null&&(Tw(t,1,e),As(t,e));break}}t=t.return}}function _We(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ji(),e.pingedLanes|=e.suspendedLanes&n,Bo===e&&(ni&n)===n&&(Eo===4||Eo===3&&(ni&130023424)===ni&&500>Kr()-DL?Ip(e,0):AL|=n),As(e,t)}function zxe(e,t){t===0&&(e.mode&1?(t=r_,r_<<=1,!(r_&130023424)&&(r_=4194304)):t=1);var n=Ji();e=Gu(e,t),e!==null&&(Tw(e,t,n),As(e,n))}function SWe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zxe(e,n)}function EWe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Te(314))}r!==null&&r.delete(t),zxe(e,n)}var Vxe;Vxe=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||js.current)Ss=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ss=!1,fWe(e,t,n);Ss=!!(e.flags&131072)}else Ss=!1,br&&t.flags&1048576&&Wbe(t,DE,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;J2(e,t),e=t.pendingProps;var o=Xv(t,Oi.current);mv(t,n),o=_L(null,t,r,e,o,n);var i=SL();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ts(r)?(i=!0,TE(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,yL(t),o.updater=Lj,t.stateNode=o,o._reactInternals=t,GR(t,r,e,n),t=XR(null,t,r,!0,i,n)):(t.tag=0,br&&i&&dL(t),Gi(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(J2(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=jWe(r),e=gl(r,e),o){case 0:t=ZR(null,t,r,e,n);break e;case 1:t=yU(null,t,r,e,n);break e;case 11:t=gU(null,t,r,e,n);break e;case 14:t=vU(null,t,r,gl(r.type,e),n);break e}throw Error(Te(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gl(r,o),ZR(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gl(r,o),yU(e,t,r,o,n);case 3:e:{if(Exe(t),e===null)throw Error(Te(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Kbe(e,t),PE(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=t0(Error(Te(423)),t),t=bU(e,t,r,n,o);break e}else if(r!==o){o=t0(Error(Te(424)),t),t=bU(e,t,r,n,o);break e}else for(Js=Sf(t.stateNode.containerInfo.firstChild),oa=t,br=!0,yl=null,n=Jbe(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qv(),r===o){t=Ku(e,t,n);break e}Gi(e,t,r,n)}t=t.child}return t;case 5:return exe(t),e===null&&WR(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,NR(r,o)?s=null:i!==null&&NR(r,i)&&(t.flags|=32),Sxe(e,t),Gi(e,t,s,n),t.child;case 6:return e===null&&WR(t),null;case 13:return kxe(e,t,n);case 4:return bL(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Jv(t,null,r,n):Gi(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gl(r,o),gU(e,t,r,o,n);case 7:return Gi(e,t,t.pendingProps,n),t.child;case 8:return Gi(e,t,t.pendingProps.children,n),t.child;case 12:return Gi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Wn(IE,r._currentValue),r._currentValue=s,i!==null)if(Ml(i.value,s)){if(i.children===o.children&&!js.current){t=Ku(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ou(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),YR(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Te(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),YR(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Gi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,mv(t,n),o=Ua(o),r=r(o),t.flags|=1,Gi(e,t,r,n),t.child;case 14:return r=t.type,o=gl(r,t.pendingProps),o=gl(r.type,o),vU(e,t,r,o,n);case 15:return Cxe(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gl(r,o),J2(e,t),t.tag=1,Ts(r)?(e=!0,TE(t)):e=!1,mv(t,n),Xbe(t,r,o),GR(t,r,o,n),XR(null,t,r,!0,e,n);case 19:return jxe(e,t,n);case 22:return _xe(e,t,n)}throw Error(Te(156,t.tag))};function Hxe(e,t){return mbe(e,t)}function kWe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $a(e,t,n,r){return new kWe(e,t,n,r)}function RL(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jWe(e){if(typeof e=="function")return RL(e)?1:0;if(e!=null){if(e=e.$$typeof,e===J6)return 11;if(e===eL)return 14}return 2}function Tf(e,t){var n=e.alternate;return n===null?(n=$a(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nS(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")RL(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Bg:return Op(n.children,o,i,t);case Q6:s=8,o|=8;break;case yR:return e=$a(12,n,t,o|2),e.elementType=yR,e.lanes=i,e;case bR:return e=$a(13,n,t,o),e.elementType=bR,e.lanes=i,e;case xR:return e=$a(19,n,t,o),e.elementType=xR,e.lanes=i,e;case Qye:return Vj(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zye:s=10;break e;case Xye:s=9;break e;case J6:s=11;break e;case eL:s=14;break e;case Nd:s=16,r=null;break e}throw Error(Te(130,e==null?e:typeof e,""))}return t=$a(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Op(e,t,n,r){return e=$a(7,e,r,t),e.lanes=n,e}function Vj(e,t,n,r){return e=$a(22,e,r,t),e.elementType=Qye,e.lanes=n,e.stateNode={isHidden:!1},e}function AI(e,t,n){return e=$a(6,e,null,t),e.lanes=n,e}function DI(e,t,n){return t=$a(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function TWe(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uI(0),this.expirationTimes=uI(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uI(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function $L(e,t,n,r,o,i,s,a,c){return e=new TWe(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$a(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yL(i),e}function AWe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lg,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Uxe(e){if(!e)return Wf;e=e._reactInternals;e:{if(Am(e)!==e||e.tag!==1)throw Error(Te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ts(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Te(171))}if(e.tag===1){var n=e.type;if(Ts(n))return Hbe(e,n,t)}return t}function Wxe(e,t,n,r,o,i,s,a,c){return e=$L(n,r,!0,e,o,i,s,a,c),e.context=Uxe(null),n=e.current,r=Ji(),o=jf(n),i=Ou(r,o),i.callback=t??null,Ef(n,i,o),e.current.lanes=o,Tw(e,o,r),As(e,r),e}function Hj(e,t,n,r){var o=t.current,i=Ji(),s=jf(o);return n=Uxe(n),t.context===null?t.context=n:t.pendingContext=n,t=Ou(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ef(o,t,s),e!==null&&(Il(e,o,s,i),Z2(e,o,s)),s}function zE(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function AU(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ML(e,t){AU(e,t),(e=e.alternate)&&AU(e,t)}function DWe(){return null}var Yxe=typeof reportError=="function"?reportError:function(e){console.error(e)};function FL(e){this._internalRoot=e}Uj.prototype.render=FL.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Te(409));Hj(e,t,null,null)};Uj.prototype.unmount=FL.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tm(function(){Hj(null,e,null,null)}),t[qu]=null}};function Uj(e){this._internalRoot=e}Uj.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cbe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kd.length&&t!==0&&t<Kd[n].priority;n++);Kd.splice(n,0,e),n===0&&Sbe(e)}};function LL(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function DU(){}function IWe(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=zE(s);i.call(u)}}var s=Wxe(t,r,e,0,null,!1,!1,"",DU);return e._reactRootContainer=s,e[qu]=s.current,tx(e.nodeType===8?e.parentNode:e),tm(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=zE(c);a.call(u)}}var c=$L(e,0,!1,null,null,!1,!1,"",DU);return e._reactRootContainer=c,e[qu]=c.current,tx(e.nodeType===8?e.parentNode:e),tm(function(){Hj(t,c,n,r)}),c}function Yj(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var c=zE(s);a.call(c)}}Hj(t,s,e,o)}else s=IWe(n,t,e,o,r);return zE(s)}xbe=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Oy(t.pendingLanes);n!==0&&(rL(t,n|1),As(t,Kr()),!(nn&6)&&(n0=Kr()+500,uh()))}break;case 13:tm(function(){var r=Gu(e,1);if(r!==null){var o=Ji();Il(r,e,1,o)}}),ML(e,1)}};oL=function(e){if(e.tag===13){var t=Gu(e,134217728);if(t!==null){var n=Ji();Il(t,e,134217728,n)}ML(e,134217728)}};wbe=function(e){if(e.tag===13){var t=jf(e),n=Gu(e,t);if(n!==null){var r=Ji();Il(n,e,t,r)}ML(e,t)}};Cbe=function(){return bn};_be=function(e,t){var n=bn;try{return bn=e,t()}finally{bn=n}};DR=function(e,t,n){switch(t){case"input":if(_R(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Mj(r);if(!o)throw Error(Te(90));ebe(r),_R(r,o)}}}break;case"textarea":nbe(e,n);break;case"select":t=n.value,t!=null&&dv(e,!!n.multiple,t,!1)}};cbe=IL;ube=tm;var OWe={usingClientEntryPoint:!1,Events:[Dw,Hg,Mj,abe,lbe,IL]},U1={findFiberByHostInstance:pp,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},PWe={bundleType:U1.bundleType,version:U1.version,rendererPackageName:U1.rendererPackageName,rendererConfig:U1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:md.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hbe(e),e===null?null:e.stateNode},findFiberByHostInstance:U1.findFiberByHostInstance||DWe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p_.isDisabled&&p_.supportsFiber)try{Oj=p_.inject(PWe),Ic=p_}catch{}}ha.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OWe;ha.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!LL(t))throw Error(Te(200));return AWe(e,t,null,n)};ha.createRoot=function(e,t){if(!LL(e))throw Error(Te(299));var n=!1,r="",o=Yxe;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=$L(e,1,!1,null,null,n,!1,r,o),e[qu]=t.current,tx(e.nodeType===8?e.parentNode:e),new FL(t)};ha.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Te(188)):(e=Object.keys(e).join(","),Error(Te(268,e)));return e=hbe(t),e=e===null?null:e.stateNode,e};ha.flushSync=function(e){return tm(e)};ha.hydrate=function(e,t,n){if(!Wj(t))throw Error(Te(200));return Yj(null,e,t,!0,n)};ha.hydrateRoot=function(e,t,n){if(!LL(e))throw Error(Te(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Yxe;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Wxe(t,null,e,1,n??null,o,!1,i,s),e[qu]=t.current,tx(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Uj(t)};ha.render=function(e,t,n){if(!Wj(t))throw Error(Te(200));return Yj(null,e,t,!1,n)};ha.unmountComponentAtNode=function(e){if(!Wj(e))throw Error(Te(40));return e._reactRootContainer?(tm(function(){Yj(null,null,e,!1,function(){e._reactRootContainer=null,e[qu]=null})}),!0):!1};ha.unstable_batchedUpdates=IL;ha.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Wj(n))throw Error(Te(200));if(e==null||e._reactInternals===void 0)throw Error(Te(38));return Yj(e,t,n,!1,r)};ha.version="18.2.0-next-9e3b772b8-20220608";function qxe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qxe)}catch(e){console.error(e)}}qxe(),Wye.exports=ha;var _c=Wye.exports;const RWe=Ie(_c),Gxe=e=>{const{element:t,padding:n}=e;function r(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return t&&r(t)?t.current!=null?xH({element:t.current,padding:n}).fn(o):{}:t?xH({element:t,padding:n}).fn(o):{}}}};var rS=typeof document<"u"?h.useLayoutEffect:h.useEffect;function VE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!VE(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!VE(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Kxe(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function IU(e,t){const n=Kxe(e);return Math.round(t*n)/n}function OU(e){const t=h.useRef(e);return rS(()=>{t.current=e}),t}function Zxe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=h.useState(r);VE(p,r)||m(r);const[v,g]=h.useState(null),[y,x]=h.useState(null),b=h.useCallback(R=>{R!=S.current&&(S.current=R,g(R))},[g]),w=h.useCallback(R=>{R!==E.current&&(E.current=R,x(R))},[x]),C=i||v,_=s||y,S=h.useRef(null),E=h.useRef(null),j=h.useRef(d),k=OU(c),T=OU(o),A=h.useCallback(()=>{if(!S.current||!E.current)return;const R={placement:t,strategy:n,middleware:p};T.current&&(R.platform=T.current),DHe(S.current,E.current,R).then(V=>{const N={...V,isPositioned:!0};D.current&&!VE(j.current,N)&&(j.current=N,_c.flushSync(()=>{f(N)}))})},[p,t,n,T]);rS(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const D=h.useRef(!1);rS(()=>(D.current=!0,()=>{D.current=!1}),[]),rS(()=>{if(C&&(S.current=C),_&&(E.current=_),C&&_){if(k.current)return k.current(C,_,A);A()}},[C,_,A,k]);const I=h.useMemo(()=>({reference:S,floating:E,setReference:b,setFloating:w}),[b,w]),O=h.useMemo(()=>({reference:C,floating:_}),[C,_]),$=h.useMemo(()=>{const R={position:n,left:0,top:0};if(!O.floating)return R;const V=IU(O.floating,d.x),N=IU(O.floating,d.y);return a?{...R,transform:"translate("+V+"px, "+N+"px)",...Kxe(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:N}},[n,a,O.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:A,refs:I,elements:O,floatingStyles:$}),[d,A,I,O,$])}const Xxe=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),qj=h.createContext({}),Gj=h.createContext(null),Kj=typeof document<"u",BL=Kj?h.useLayoutEffect:h.useEffect,Qxe=h.createContext({strict:!1});function $We(e,t,n,r){const{visualElement:o}=h.useContext(qj),i=h.useContext(Qxe),s=h.useContext(Gj),a=h.useContext(Xxe).reducedMotion,c=h.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=c.current;h.useInsertionEffect(()=>{u&&u.update(n,s)});const d=h.useRef(!!window.HandoffAppearAnimations);return BL(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,d.current=!1)}),u}function Zg(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function MWe(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Zg(n)&&(n.current=r))},[t])}function ux(e){return typeof e=="string"||Array.isArray(e)}function Zj(e){return typeof e=="object"&&typeof e.start=="function"}const NL=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zL=["initial",...NL];function Xj(e){return Zj(e.animate)||zL.some(t=>ux(e[t]))}function Jxe(e){return!!(Xj(e)||e.variants)}function FWe(e,t){if(Xj(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ux(n)?n:void 0,animate:ux(r)?r:void 0}}return e.inherit!==!1?t:{}}function LWe(e){const{initial:t,animate:n}=FWe(e,h.useContext(qj));return h.useMemo(()=>({initial:t,animate:n}),[PU(t),PU(n)])}function PU(e){return Array.isArray(e)?e.join(" "):e}const RU={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dx={};for(const e in RU)dx[e]={isEnabled:t=>RU[e].some(n=>!!t[n])};function BWe(e){for(const t in e)dx[t]={...dx[t],...e[t]}}const VL=h.createContext({}),ewe=h.createContext({}),NWe=Symbol.for("motionComponentSymbol");function zWe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&BWe(e);function i(a,c){let u;const d={...h.useContext(Xxe),...a,layoutId:VWe(a)},{isStatic:f}=d,p=LWe(a),m=r(a,f);if(!f&&Kj){p.visualElement=$We(o,m,d,t);const v=h.useContext(ewe),g=h.useContext(Qxe).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,g,e,v))}return h.createElement(qj.Provider,{value:p},u&&p.visualElement?h.createElement(u,{visualElement:p.visualElement,...d}):null,n(o,a,MWe(m,p.visualElement,c),m,f,p.visualElement))}const s=h.forwardRef(i);return s[NWe]=o,s}function VWe({layoutId:e}){const t=h.useContext(VL).id;return t&&e!==void 0?t+"-"+e:e}function HWe(e){function t(r,o={}){return zWe(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const UWe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function HL(e){return typeof e!="string"||e.includes("-")?!1:!!(UWe.indexOf(e)>-1||/[A-Z]/.test(e))}const HE={};function WWe(e){Object.assign(HE,e)}const Ow=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dm=new Set(Ow);function twe(e,{layout:t,layoutId:n}){return Dm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!HE[e]||e==="opacity")}const Os=e=>!!(e&&e.getVelocity),YWe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qWe=Ow.length;function GWe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<qWe;s++){const a=Ow[s];if(e[a]!==void 0){const c=YWe[a]||a;i+=`${c}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const nwe=e=>t=>typeof t=="string"&&t.startsWith(e),rwe=nwe("--"),c$=nwe("var(--"),KWe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ZWe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Yf=(e,t,n)=>Math.min(Math.max(n,e),t),Im={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},db={...Im,transform:e=>Yf(0,1,e)},m_={...Im,default:1},fb=e=>Math.round(e*1e5)/1e5,Qj=/(-)?([\d]*\.?[\d])+/g,owe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,XWe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Pw(e){return typeof e=="string"}const Rw=e=>({test:t=>Pw(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Md=Rw("deg"),Pc=Rw("%"),ct=Rw("px"),QWe=Rw("vh"),JWe=Rw("vw"),$U={...Pc,parse:e=>Pc.parse(e)/100,transform:e=>Pc.transform(e*100)},MU={...Im,transform:Math.round},iwe={borderWidth:ct,borderTopWidth:ct,borderRightWidth:ct,borderBottomWidth:ct,borderLeftWidth:ct,borderRadius:ct,radius:ct,borderTopLeftRadius:ct,borderTopRightRadius:ct,borderBottomRightRadius:ct,borderBottomLeftRadius:ct,width:ct,maxWidth:ct,height:ct,maxHeight:ct,size:ct,top:ct,right:ct,bottom:ct,left:ct,padding:ct,paddingTop:ct,paddingRight:ct,paddingBottom:ct,paddingLeft:ct,margin:ct,marginTop:ct,marginRight:ct,marginBottom:ct,marginLeft:ct,rotate:Md,rotateX:Md,rotateY:Md,rotateZ:Md,scale:m_,scaleX:m_,scaleY:m_,scaleZ:m_,skew:Md,skewX:Md,skewY:Md,distance:ct,translateX:ct,translateY:ct,translateZ:ct,x:ct,y:ct,z:ct,perspective:ct,transformPerspective:ct,opacity:db,originX:$U,originY:$U,originZ:ct,zIndex:MU,fillOpacity:db,strokeOpacity:db,numOctaves:MU};function UL(e,t,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=e;let c=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(rwe(f)){i[f]=p;continue}const m=iwe[f],v=ZWe(p,m);if(Dm.has(f)){if(c=!0,s[f]=v,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,a[f]=v):o[f]=v}if(t.transform||(c||r?o.transform=GWe(e.transform,n,d,r):o.transform&&(o.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;o.transformOrigin=`${f} ${p} ${m}`}}const WL=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function swe(e,t,n){for(const r in t)!Os(t[r])&&!twe(r,n)&&(e[r]=t[r])}function eYe({transformTemplate:e},t,n){return h.useMemo(()=>{const r=WL();return UL(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function tYe(e,t,n){const r=e.style||{},o={};return swe(o,r,e),Object.assign(o,eYe(e,t,n)),e.transformValues?e.transformValues(o):o}function nYe(e,t,n){const r={},o=tYe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const rYe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function UE(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||rYe.has(e)}let awe=e=>!UE(e);function oYe(e){e&&(awe=t=>t.startsWith("on")?!UE(t):e(t))}try{oYe(require("@emotion/is-prop-valid").default)}catch{}function iYe(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(awe(o)||n===!0&&UE(o)||!t&&!UE(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function FU(e,t,n){return typeof e=="string"?e:ct.transform(t+n*e)}function sYe(e,t,n){const r=FU(t,e.x,e.width),o=FU(n,e.y,e.height);return`${r} ${o}`}const aYe={offset:"stroke-dashoffset",array:"stroke-dasharray"},lYe={offset:"strokeDashoffset",array:"strokeDasharray"};function cYe(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?aYe:lYe;e[i.offset]=ct.transform(-r);const s=ct.transform(t),a=ct.transform(n);e[i.array]=`${s} ${a}`}function YL(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:c=0,...u},d,f,p){if(UL(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:g}=e;m.transform&&(g&&(v.transform=m.transform),delete m.transform),g&&(o!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=sYe(g,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&cYe(m,s,a,c,!1)}const lwe=()=>({...WL(),attrs:{}}),qL=e=>typeof e=="string"&&e.toLowerCase()==="svg";function uYe(e,t,n,r){const o=h.useMemo(()=>{const i=lwe();return YL(i,t,{enableHardwareAcceleration:!1},qL(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};swe(i,e.style,e),o.style={...i,...o.style}}return o}function dYe(e=!1){return(n,r,o,{latestValues:i},s)=>{const c=(HL(n)?uYe:nYe)(r,i,s,n),d={...iYe(r,typeof n=="string",e),...c,ref:o},{children:f}=r,p=h.useMemo(()=>Os(f)?f.get():f,[f]);return h.createElement(n,{...d,children:p})}}const GL=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function cwe(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const uwe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dwe(e,t,n,r){cwe(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(uwe.has(o)?o:GL(o),t.attrs[o])}function KL(e,t){const{style:n}=e,r={};for(const o in n)(Os(n[o])||t.style&&Os(t.style[o])||twe(o,e))&&(r[o]=n[o]);return r}function fwe(e,t){const n=KL(e,t);for(const r in e)if(Os(e[r])||Os(t[r])){const o=Ow.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function ZL(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function hwe(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const WE=e=>Array.isArray(e),fYe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),hYe=e=>WE(e)?e[e.length-1]||0:e;function oS(e){const t=Os(e)?e.get():e;return fYe(t)?t.toValue():t}function pYe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const s={latestValues:mYe(r,o,i,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const pwe=e=>(t,n)=>{const r=h.useContext(qj),o=h.useContext(Gj),i=()=>pYe(e,t,r,o);return n?i():hwe(i)};function mYe(e,t,n,r){const o={},i=r(e,{});for(const p in i)o[p]=oS(i[p]);let{initial:s,animate:a}=e;const c=Xj(e),u=Jxe(e);t&&u&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?a:s;return f&&typeof f!="boolean"&&!Zj(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const v=ZL(e,m);if(!v)return;const{transitionEnd:g,transition:y,...x}=v;for(const b in x){let w=x[b];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(o[b]=w)}for(const b in g)o[b]=g[b]}),o}const Br=e=>e;class LU{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function gYe(e){let t=new LU,n=new LU,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(c,u=!1,d=!1)=>{const f=d&&o,p=f?t:n;return u&&s.add(c),p.add(c)&&f&&o&&(r=t.order.length),c},cancel:c=>{n.remove(c),s.delete(c)},process:c=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),s.has(d)&&(a.schedule(d),e())}o=!1,i&&(i=!1,a.process(c))}};return a}const g_=["prepare","read","update","preRender","render","postRender"],vYe=40;function yYe(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=g_.reduce((f,p)=>(f[p]=gYe(()=>n=!0),f),{}),s=f=>i[f].process(o),a=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,vYe),1),o.timestamp=f,o.isProcessing=!0,g_.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(a))},c=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:g_.reduce((f,p)=>{const m=i[p];return f[p]=(v,g=!1,y=!1)=>(n||c(),m.schedule(v,g,y)),f},{}),cancel:f=>g_.forEach(p=>i[p].cancel(f)),state:o,steps:i}}const{schedule:Yn,cancel:Zu,state:Io,steps:II}=yYe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Br,!0),bYe={useVisualState:pwe({scrapeMotionValuesFromProps:fwe,createRenderState:lwe,onMount:(e,t,{renderState:n,latestValues:r})=>{Yn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Yn.render(()=>{YL(n,r,{enableHardwareAcceleration:!1},qL(t.tagName),e.transformTemplate),dwe(t,n)})}})},xYe={useVisualState:pwe({scrapeMotionValuesFromProps:KL,createRenderState:WL})};function wYe(e,{forwardMotionProps:t=!1},n,r){return{...HL(e)?bYe:xYe,preloadedFeatures:n,useRender:dYe(t),createVisualElement:r,Component:e}}function ku(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const mwe=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Jj(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const CYe=e=>t=>mwe(t)&&e(t,Jj(t));function Pu(e,t,n,r){return ku(e,t,CYe(n),r)}const _Ye=(e,t)=>n=>t(e(n)),Af=(...e)=>e.reduce(_Ye);function gwe(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const BU=gwe("dragHorizontal"),NU=gwe("dragVertical");function vwe(e){let t=!1;if(e==="y")t=NU();else if(e==="x")t=BU();else{const n=BU(),r=NU();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function ywe(){const e=vwe(!0);return e?(e(),!1):!0}class dh{constructor(t){this.isMounted=!1,this.node=t}update(){}}function zU(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,s)=>{if(i.type==="touch"||ywe())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Yn.update(()=>a[r](i,s))};return Pu(e.current,n,o,{passive:!e.getProps()[r]})}class SYe extends dh{mount(){this.unmount=Af(zU(this.node,!0),zU(this.node,!1))}unmount(){}}class EYe extends dh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Af(ku(this.node.current,"focus",()=>this.onFocus()),ku(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const bwe=(e,t)=>t?e===t?!0:bwe(e,t.parentElement):!1;function OI(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Jj(n))}class kYe extends dh{constructor(){super(...arguments),this.removeStartListeners=Br,this.removeEndListeners=Br,this.removeAccessibleListeners=Br,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=Pu(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d}=this.node.getProps();Yn.update(()=>{bwe(this.node.current,a.target)?u&&u(a,c):d&&d(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),s=Pu(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Af(i,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||OI("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Yn.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=ku(this.node.current,"keyup",s),OI("down",(a,c)=>{this.startPress(a,c)})},n=ku(this.node.current,"keydown",t),r=()=>{this.isPressing&&OI("cancel",(i,s)=>this.cancelPress(i,s))},o=ku(this.node.current,"blur",r);this.removeAccessibleListeners=Af(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Yn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ywe()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Yn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Pu(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ku(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Af(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const u$=new WeakMap,PI=new WeakMap,jYe=e=>{const t=u$.get(e.target);t&&t(e)},TYe=e=>{e.forEach(jYe)};function AYe({root:e,...t}){const n=e||document;PI.has(n)||PI.set(n,{});const r=PI.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(TYe,{root:e,...t})),r[o]}function DYe(e,t,n){const r=AYe(t);return u$.set(e,n),r.observe(e),()=>{u$.delete(e),r.unobserve(e)}}const IYe={some:0,all:1};class OYe extends dh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:IYe[o]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return DYe(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(PYe(t,n))&&this.startObserver()}unmount(){}}function PYe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const RYe={inView:{Feature:OYe},tap:{Feature:kYe},focus:{Feature:EYe},hover:{Feature:SYe}};function xwe(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function $Ye(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function MYe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function eT(e,t,n){const r=e.getProps();return ZL(r,t,n!==void 0?n:r.custom,$Ye(e),MYe(e))}const FYe="framerAppearId",LYe="data-"+GL(FYe);let BYe=Br,XL=Br;const Df=e=>e*1e3,Ru=e=>e/1e3,NYe={current:!1},wwe=e=>Array.isArray(e)&&typeof e[0]=="number";function Cwe(e){return!!(!e||typeof e=="string"&&_we[e]||wwe(e)||Array.isArray(e)&&e.every(Cwe))}const Ry=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,_we={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ry([0,.65,.55,1]),circOut:Ry([.55,0,1,.45]),backIn:Ry([.31,.01,.66,-.59]),backOut:Ry([.33,1.53,.69,.99])};function Swe(e){if(e)return wwe(e)?Ry(e):Array.isArray(e)?e.map(Swe):_we[e]}function zYe(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=Swe(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function VYe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Ewe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,HYe=1e-7,UYe=12;function WYe(e,t,n,r,o){let i,s,a=0;do s=t+(n-t)/2,i=Ewe(s,r,o)-e,i>0?n=s:t=s;while(Math.abs(i)>HYe&&++a<UYe);return s}function $w(e,t,n,r){if(e===t&&n===r)return Br;const o=i=>WYe(i,0,1,e,n);return i=>i===0||i===1?i:Ewe(o(i),t,r)}const YYe=$w(.42,0,1,1),qYe=$w(0,0,.58,1),kwe=$w(.42,0,.58,1),GYe=e=>Array.isArray(e)&&typeof e[0]!="number",jwe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Twe=e=>t=>1-e(1-t),Awe=e=>1-Math.sin(Math.acos(e)),QL=Twe(Awe),KYe=jwe(QL),Dwe=$w(.33,1.53,.69,.99),JL=Twe(Dwe),ZYe=jwe(JL),XYe=e=>(e*=2)<1?.5*JL(e):.5*(2-Math.pow(2,-10*(e-1))),QYe={linear:Br,easeIn:YYe,easeInOut:kwe,easeOut:qYe,circIn:Awe,circInOut:KYe,circOut:QL,backIn:JL,backInOut:ZYe,backOut:Dwe,anticipate:XYe},VU=e=>{if(Array.isArray(e)){XL(e.length===4);const[t,n,r,o]=e;return $w(t,n,r,o)}else if(typeof e=="string")return QYe[e];return e},e8=(e,t)=>n=>!!(Pw(n)&&XWe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Iwe=(e,t,n)=>r=>{if(!Pw(r))return r;const[o,i,s,a]=r.match(Qj);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},JYe=e=>Yf(0,255,e),RI={...Im,transform:e=>Math.round(JYe(e))},vp={test:e8("rgb","red"),parse:Iwe("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+RI.transform(e)+", "+RI.transform(t)+", "+RI.transform(n)+", "+fb(db.transform(r))+")"};function eqe(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const d$={test:e8("#"),parse:eqe,transform:vp.transform},Xg={test:e8("hsl","hue"),parse:Iwe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Pc.transform(fb(t))+", "+Pc.transform(fb(n))+", "+fb(db.transform(r))+")"},qi={test:e=>vp.test(e)||d$.test(e)||Xg.test(e),parse:e=>vp.test(e)?vp.parse(e):Xg.test(e)?Xg.parse(e):d$.parse(e),transform:e=>Pw(e)?e:e.hasOwnProperty("red")?vp.transform(e):Xg.transform(e)},Ar=(e,t,n)=>-n*e+n*t+e;function $I(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function tqe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,s=0;if(!t)o=i=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;o=$I(c,a,e+1/3),i=$I(c,a,e),s=$I(c,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const MI=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},nqe=[d$,vp,Xg],rqe=e=>nqe.find(t=>t.test(e));function HU(e){const t=rqe(e);let n=t.parse(e);return t===Xg&&(n=tqe(n)),n}const Owe=(e,t)=>{const n=HU(e),r=HU(t),o={...n};return i=>(o.red=MI(n.red,r.red,i),o.green=MI(n.green,r.green,i),o.blue=MI(n.blue,r.blue,i),o.alpha=Ar(n.alpha,r.alpha,i),vp.transform(o))};function oqe(e){var t,n;return isNaN(e)&&Pw(e)&&(((t=e.match(Qj))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(owe))===null||n===void 0?void 0:n.length)||0)>0}const Pwe={regex:KWe,countKey:"Vars",token:"${v}",parse:Br},Rwe={regex:owe,countKey:"Colors",token:"${c}",parse:qi.parse},$we={regex:Qj,countKey:"Numbers",token:"${n}",parse:Im.parse};function FI(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function YE(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&FI(n,Pwe),FI(n,Rwe),FI(n,$we),n}function Mwe(e){return YE(e).values}function Fwe(e){const{values:t,numColors:n,numVars:r,tokenised:o}=YE(e),i=t.length;return s=>{let a=o;for(let c=0;c<i;c++)c<r?a=a.replace(Pwe.token,s[c]):c<r+n?a=a.replace(Rwe.token,qi.transform(s[c])):a=a.replace($we.token,fb(s[c]));return a}}const iqe=e=>typeof e=="number"?0:e;function sqe(e){const t=Mwe(e);return Fwe(e)(t.map(iqe))}const qf={test:oqe,parse:Mwe,createTransformer:Fwe,getAnimatableNone:sqe},Lwe=(e,t)=>n=>`${n>0?t:e}`;function Bwe(e,t){return typeof e=="number"?n=>Ar(e,t,n):qi.test(e)?Owe(e,t):e.startsWith("var(")?Lwe(e,t):zwe(e,t)}const Nwe=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,s)=>Bwe(i,t[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},aqe=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Bwe(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},zwe=(e,t)=>{const n=qf.createTransformer(t),r=YE(e),o=YE(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?Af(Nwe(r.values,o.values),n):Lwe(e,t)},fx=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},UU=(e,t)=>n=>Ar(e,t,n);function lqe(e){return typeof e=="number"?UU:typeof e=="string"?qi.test(e)?Owe:zwe:Array.isArray(e)?Nwe:typeof e=="object"?aqe:UU}function cqe(e,t,n){const r=[],o=n||lqe(e[0]),i=e.length-1;for(let s=0;s<i;s++){let a=o(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||Br:t;a=Af(c,a)}r.push(a)}return r}function Vwe(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(XL(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=cqe(t,r,o),a=s.length,c=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=fx(e[d],e[d+1],u);return s[d](f)};return n?u=>c(Yf(e[0],e[i-1],u)):c}function uqe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=fx(0,t,r);e.push(Ar(n,1,o))}}function dqe(e){const t=[0];return uqe(t,e.length-1),t}function fqe(e,t){return e.map(n=>n*t)}function hqe(e,t){return e.map(()=>t||kwe).splice(0,e.length-1)}function qE({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=GYe(r)?r.map(VU):VU(r),i={done:!1,value:t[0]},s=fqe(n&&n.length===t.length?n:dqe(t),e),a=Vwe(s,t,{ease:Array.isArray(o)?o:hqe(t,o)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}function Hwe(e,t){return t?e*(1e3/t):0}const pqe=5;function Uwe(e,t,n){const r=Math.max(t-pqe,0);return Hwe(n-e(r),t-r)}const LI=.001,mqe=.01,WU=10,gqe=.05,vqe=1;function yqe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;BYe(e<=Df(WU));let s=1-t;s=Yf(gqe,vqe,s),e=Yf(mqe,WU,Ru(e)),s<1?(o=u=>{const d=u*s,f=d*e,p=d-n,m=f$(u,s),v=Math.exp(-f);return LI-p/m*v},i=u=>{const f=u*s*e,p=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,v=Math.exp(-f),g=f$(Math.pow(u,2),s);return(-o(u)+LI>0?-1:1)*((p-m)*v)/g}):(o=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-LI+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const a=5/e,c=xqe(o,i,a);if(e=Df(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const bqe=12;function xqe(e,t,n){let r=n;for(let o=1;o<bqe;o++)r=r-e(r)/t(r);return r}function f$(e,t){return e*Math.sqrt(1-t*t)}const wqe=["duration","bounce"],Cqe=["stiffness","damping","mass"];function YU(e,t){return t.some(n=>e[n]!==void 0)}function _qe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!YU(e,Cqe)&&YU(e,wqe)){const n=yqe(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function Wwe({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],s={done:!1,value:o},{stiffness:a,damping:c,mass:u,velocity:d,duration:f,isResolvedFromDuration:p}=_qe(r),m=d?-Ru(d):0,v=c/(2*Math.sqrt(a*u)),g=i-o,y=Ru(Math.sqrt(a/u)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let b;if(v<1){const w=f$(y,v);b=C=>{const _=Math.exp(-v*y*C);return i-_*((m+v*y*g)/w*Math.sin(w*C)+g*Math.cos(w*C))}}else if(v===1)b=w=>i-Math.exp(-y*w)*(g+(m+y*g)*w);else{const w=y*Math.sqrt(v*v-1);b=C=>{const _=Math.exp(-v*y*C),S=Math.min(w*C,300);return i-_*((m+v*y*g)*Math.sinh(S)+w*g*Math.cosh(S))/w}}return{calculatedDuration:p&&f||null,next:w=>{const C=b(w);if(p)s.done=w>=f;else{let _=m;w!==0&&(v<1?_=Uwe(b,w,C):_=0);const S=Math.abs(_)<=n,E=Math.abs(i-C)<=t;s.done=S&&E}return s.value=s.done?i:C,s}}}function qU({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=j=>a!==void 0&&j<a||c!==void 0&&j>c,v=j=>a===void 0?c:c===void 0||Math.abs(a-j)<Math.abs(c-j)?a:c;let g=n*t;const y=f+g,x=s===void 0?y:s(y);x!==y&&(g=x-f);const b=j=>-g*Math.exp(-j/r),w=j=>x+b(j),C=j=>{const k=b(j),T=w(j);p.done=Math.abs(k)<=u,p.value=p.done?x:T};let _,S;const E=j=>{m(p.value)&&(_=j,S=Wwe({keyframes:[p.value,v(p.value)],velocity:Uwe(w,j,p.value),damping:o,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:j=>{let k=!1;return!S&&_===void 0&&(k=!0,C(j),E(j)),_!==void 0&&j>_?S.next(j-_):(!k&&C(j),p)}}}const Sqe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Yn.update(t,!0),stop:()=>Zu(t),now:()=>Io.isProcessing?Io.timestamp:performance.now()}},GU=2e4;function KU(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<GU;)t+=n,r=e.next(t);return t>=GU?1/0:t}const Eqe={decay:qU,inertia:qU,tween:qE,keyframes:qE,spring:Wwe};function GE({autoplay:e=!0,delay:t=0,driver:n=Sqe,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,v=!1,g,y;const x=()=>{y=new Promise(H=>{g=H})};x();let b;const w=Eqe[o]||qE;let C;w!==qE&&typeof r[0]!="number"&&(C=Vwe([0,100],r,{clamp:!1}),r=[0,100]);const _=w({...p,keyframes:r});let S;a==="mirror"&&(S=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let E="idle",j=null,k=null,T=null;_.calculatedDuration===null&&i&&(_.calculatedDuration=KU(_));const{calculatedDuration:A}=_;let D=1/0,I=1/0;A!==null&&(D=A+s,I=D*(i+1)-s);let O=0;const $=H=>{if(k===null)return;m>0&&(k=Math.min(k,H)),m<0&&(k=Math.min(H-I/m,k)),j!==null?O=j:O=Math.round(H-k)*m;const Y=O-t*(m>=0?1:-1),X=m>=0?Y<0:Y>I;O=Math.max(Y,0),E==="finished"&&j===null&&(O=I);let B=O,K=_;if(i){const ne=O/D;let G=Math.floor(ne),J=ne%1;!J&&ne>=1&&(J=1),J===1&&G--,G=Math.min(G,i+1);const re=!!(G%2);re&&(a==="reverse"?(J=1-J,s&&(J-=s/D)):a==="mirror"&&(K=S));let fe=Yf(0,1,J);O>I&&(fe=a==="reverse"&&re?1:0),B=fe*D}const z=X?{done:!1,value:r[0]}:K.next(B);C&&(z.value=C(z.value));let{done:Z}=z;!X&&A!==null&&(Z=m>=0?O>=I:O<=0);const Q=j===null&&(E==="finished"||E==="running"&&Z);return f&&f(z.value),Q&&N(),z},R=()=>{b&&b.stop(),b=void 0},V=()=>{E="idle",R(),g(),x(),k=T=null},N=()=>{E="finished",d&&d(),R(),g()},W=()=>{if(v)return;b||(b=n($));const H=b.now();c&&c(),j!==null?k=H-j:(!k||E==="finished")&&(k=H),E==="finished"&&x(),T=k,j=null,E="running",b.start()};e&&W();const q={then(H,Y){return y.then(H,Y)},get time(){return Ru(O)},set time(H){H=Df(H),O=H,j!==null||!b||m===0?j=H:k=b.now()-H/m},get duration(){const H=_.calculatedDuration===null?KU(_):_.calculatedDuration;return Ru(H)},get speed(){return m},set speed(H){H===m||!b||(m=H,q.time=Ru(O))},get state(){return E},play:W,pause:()=>{E="paused",j=O},stop:()=>{v=!0,E!=="idle"&&(E="idle",u&&u(),V())},cancel:()=>{T!==null&&$(T),V()},complete:()=>{E="finished"},sample:H=>(k=0,$(H))};return q}function kqe(e){let t;return()=>(t===void 0&&(t=e()),t)}const jqe=kqe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Tqe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),v_=10,Aqe=2e4,Dqe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Cwe(t.ease);function Iqe(e,t,{onUpdate:n,onComplete:r,...o}){if(!(jqe()&&Tqe.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,c;const u=()=>{c=new Promise(b=>{a=b})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=o;if(Dqe(t,o)){const b=GE({...o,repeat:0,delay:0});let w={done:!1,value:d[0]};const C=[];let _=0;for(;!w.done&&_<Aqe;)w=b.sample(_),C.push(w.value),_+=v_;m=void 0,d=C,f=_-v_,p="linear"}const v=zYe(e.owner.current,t,d,{...o,duration:f,ease:p,times:m});o.syncStart&&(v.startTime=Io.isProcessing?Io.timestamp:document.timeline?document.timeline.currentTime:performance.now());const g=()=>v.cancel(),y=()=>{Yn.update(g),a(),u()};return v.onfinish=()=>{e.set(VYe(d,o)),r&&r(),y()},{then(b,w){return c.then(b,w)},attachTimeline(b){return v.timeline=b,v.onfinish=null,Br},get time(){return Ru(v.currentTime||0)},set time(b){v.currentTime=Df(b)},get speed(){return v.playbackRate},set speed(b){v.playbackRate=b},get duration(){return Ru(f)},play:()=>{s||(v.play(),Zu(g))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:b}=v;if(b){const w=GE({...o,autoplay:!1});e.setWithVelocity(w.sample(b-v_).value,w.sample(b).value,v_)}y()},complete:()=>v.finish(),cancel:y}}function Oqe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Br,pause:Br,stop:Br,then:i=>(i(),Promise.resolve()),cancel:Br,complete:Br});return t?GE({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const Pqe={type:"spring",stiffness:500,damping:25,restSpeed:10},Rqe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$qe={type:"keyframes",duration:.8},Mqe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Fqe=(e,{keyframes:t})=>t.length>2?$qe:Dm.has(e)?e.startsWith("scale")?Rqe(t[1]):Pqe:Mqe,h$=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(qf.test(t)||t==="0")&&!t.startsWith("url(")),Lqe=new Set(["brightness","contrast","saturate","opacity"]);function Bqe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Qj)||[];if(!r)return e;const o=n.replace(r,"");let i=Lqe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const Nqe=/([a-z-]*)\(.*?\)/g,p$={...qf,getAnimatableNone:e=>{const t=e.match(Nqe);return t?t.map(Bqe).join(" "):e}},zqe={...iwe,color:qi,backgroundColor:qi,outlineColor:qi,fill:qi,stroke:qi,borderColor:qi,borderTopColor:qi,borderRightColor:qi,borderBottomColor:qi,borderLeftColor:qi,filter:p$,WebkitFilter:p$},t8=e=>zqe[e];function Ywe(e,t){let n=t8(e);return n!==p$&&(n=qf),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const qwe=e=>/^0[^.\s]+$/.test(e);function Vqe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||qwe(e)}function Hqe(e,t,n,r){const o=h$(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?s:i[u-1]),Vqe(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(o&&c.length&&a)for(let u=0;u<c.length;u++){const d=c[u];i[d]=Ywe(t,a)}return i}function Uqe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Gwe(e,t){return e[t]||e.default||e}const n8=(e,t,n,r={})=>o=>{const i=Gwe(r,e)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Df(s);const c=Hqe(t,e,n,i),u=c[0],d=c[c.length-1],f=h$(e,u),p=h$(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(Uqe(i)||(m={...m,...Fqe(e,m)}),m.duration&&(m.duration=Df(m.duration)),m.repeatDelay&&(m.repeatDelay=Df(m.repeatDelay)),!f||!p||NYe.current||i.type===!1)return Oqe(m);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=Iqe(t,e,m);if(v)return v}return GE(m)};function KE(e){return!!(Os(e)&&e.add)}const Kwe=e=>/^\-?\d*\.?\d+$/.test(e);function r8(e,t){e.indexOf(t)===-1&&e.push(t)}function o8(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class i8{constructor(){this.subscriptions=[]}add(t){return r8(this.subscriptions,t),()=>o8(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wqe=e=>!isNaN(parseFloat(e));class Yqe{constructor(t,n={}){this.version="10.16.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=Io;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,Yn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Yn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Wqe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new i8);const r=this.events[t].add(n);return t==="change"?()=>{r(),Yn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Hwe(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function r0(e,t){return new Yqe(e,t)}const Zwe=e=>t=>t.test(e),qqe={test:e=>e==="auto",parse:e=>e},Xwe=[Im,ct,Pc,Md,JWe,QWe,qqe],W1=e=>Xwe.find(Zwe(e)),Gqe=[...Xwe,qi,qf],Kqe=e=>Gqe.find(Zwe(e));function Zqe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,r0(n))}function Xqe(e,t){const n=eT(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=hYe(i[s]);Zqe(e,s,a)}}function Qqe(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const c=i[a],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(o=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&o!==void 0?o:t[c]),d!=null&&(typeof d=="string"&&(Kwe(d)||qwe(d))?d=parseFloat(d):!Kqe(d)&&qf.test(u)&&(d=Ywe(c,u)),e.addValue(c,r0(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function Jqe(e,t){return t?(t[e]||t.default||t).from:void 0}function eGe(e,t,n){const r={};for(const o in e){const i=Jqe(o,t);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function tGe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Qwe(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const p=e.getValue(f),m=a[f];if(!p||m===void 0||d&&tGe(d,f))continue;const v={delay:n,elapsed:0,...i};if(window.HandoffAppearAnimations&&!p.hasAnimated){const y=e.getProps()[LYe];y&&(v.elapsed=window.HandoffAppearAnimations(y,f,p,Yn),v.syncStart=!0)}p.start(n8(f,p,m,e.shouldReduceMotion&&Dm.has(f)?{type:!1}:v));const g=p.animation;KE(c)&&(c.add(f),g.then(()=>c.remove(f))),u.push(g)}return s&&Promise.all(u).then(()=>{s&&Xqe(e,s)}),u}function m$(e,t,n={}){const r=eT(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(Qwe(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=o;return nGe(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[c,u]=a==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(n.delay)])}function nGe(e,t,n=0,r=0,o=1,i){const s=[],a=(e.variantChildren.size-1)*r,c=o===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(rGe).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(m$(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function rGe(e,t){return e.sortNodePosition(t)}function oGe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>m$(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=m$(e,t,n);else{const o=typeof t=="function"?eT(e,t,n.custom):t;r=Promise.all(Qwe(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const iGe=[...NL].reverse(),sGe=NL.length;function aGe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>oGe(e,n,r)))}function lGe(e){let t=aGe(e);const n=uGe();let r=!0;const o=(c,u)=>{const d=eT(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;c={...c,...m,...p}}return c};function i(c){t=c(e)}function s(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let v={},g=1/0;for(let x=0;x<sGe;x++){const b=iGe[x],w=n[b],C=d[b]!==void 0?d[b]:f[b],_=ux(C),S=b===u?w.isActive:null;S===!1&&(g=x);let E=C===f[b]&&C!==d[b]&&_;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...v},!w.isActive&&S===null||!C&&!w.prevProp||Zj(C)||typeof C=="boolean")continue;const j=cGe(w.prevProp,C);let k=j||b===u&&w.isActive&&!E&&_||x>g&&_;const T=Array.isArray(C)?C:[C];let A=T.reduce(o,{});S===!1&&(A={});const{prevResolvedValues:D={}}=w,I={...D,...A},O=$=>{k=!0,m.delete($),w.needsAnimating[$]=!0};for(const $ in I){const R=A[$],V=D[$];v.hasOwnProperty($)||(R!==V?WE(R)&&WE(V)?!xwe(R,V)||j?O($):w.protectedKeys[$]=!0:R!==void 0?O($):m.add($):R!==void 0&&m.has($)?O($):w.protectedKeys[$]=!0)}w.prevProp=C,w.prevResolvedValues=A,w.isActive&&(v={...v,...A}),r&&e.blockInitialAnimation&&(k=!1),k&&!E&&p.push(...T.map($=>({animation:$,options:{type:b,...c}})))}if(m.size){const x={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(x[b]=w)}),p.push({animation:x})}let y=!!p.length;return r&&d.initial===!1&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(p):Promise.resolve()}function a(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const p=s(d,c);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function cGe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!xwe(t,e):!1}function Oh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uGe(){return{animate:Oh(!0),whileInView:Oh(),whileHover:Oh(),whileTap:Oh(),whileDrag:Oh(),whileFocus:Oh(),exit:Oh()}}class dGe extends dh{constructor(t){super(t),t.animationState||(t.animationState=lGe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Zj(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let fGe=0;class hGe extends dh{constructor(){super(...arguments),this.id=fGe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const pGe={animation:{Feature:dGe},exit:{Feature:hGe}},ZU=(e,t)=>Math.abs(e-t);function mGe(e,t){const n=ZU(e.x,t.x),r=ZU(e.y,t.y);return Math.sqrt(n**2+r**2)}class Jwe{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=NI(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,f=mGe(u.offset,{x:0,y:0})>=3;if(!d&&!f)return;const{point:p}=u,{timestamp:m}=Io;this.history.push({...p,timestamp:m});const{onStart:v,onMove:g}=this.handlers;d||(v&&v(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,u)},this.handlePointerMove=(u,d)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=BI(d,this.transformPagePoint),Yn.update(this.updatePoint,!0)},this.handlePointerUp=(u,d)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:p}=this.handlers,m=NI(u.type==="pointercancel"?this.lastMoveEventInfo:BI(d,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,m),p&&p(u,m)},!mwe(t))return;this.handlers=n,this.transformPagePoint=r;const o=Jj(t),i=BI(o,this.transformPagePoint),{point:s}=i,{timestamp:a}=Io;this.history=[{...s,timestamp:a}];const{onSessionStart:c}=n;c&&c(t,NI(i,this.history)),this.removeListeners=Af(Pu(window,"pointermove",this.handlePointerMove),Pu(window,"pointerup",this.handlePointerUp),Pu(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zu(this.updatePoint)}}function BI(e,t){return t?{point:t(e.point)}:e}function XU(e,t){return{x:e.x-t.x,y:e.y-t.y}}function NI({point:e},t){return{point:e,delta:XU(e,eCe(t)),offset:XU(e,gGe(t)),velocity:vGe(t,.1)}}function gGe(e){return e[0]}function eCe(e){return e[e.length-1]}function vGe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=eCe(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Df(t)));)n--;if(!r)return{x:0,y:0};const i=Ru(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function la(e){return e.max-e.min}function g$(e,t=0,n=.01){return Math.abs(e-t)<=n}function QU(e,t,n,r=.5){e.origin=r,e.originPoint=Ar(t.min,t.max,e.origin),e.scale=la(n)/la(t),(g$(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ar(n.min,n.max,e.origin)-e.originPoint,(g$(e.translate)||isNaN(e.translate))&&(e.translate=0)}function hb(e,t,n,r){QU(e.x,t.x,n.x,r?r.originX:void 0),QU(e.y,t.y,n.y,r?r.originY:void 0)}function JU(e,t,n){e.min=n.min+t.min,e.max=e.min+la(t)}function yGe(e,t,n){JU(e.x,t.x,n.x),JU(e.y,t.y,n.y)}function eW(e,t,n){e.min=t.min-n.min,e.max=e.min+la(t)}function pb(e,t,n){eW(e.x,t.x,n.x),eW(e.y,t.y,n.y)}function bGe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ar(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ar(n,e,r.max):Math.min(e,n)),e}function tW(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function xGe(e,{top:t,left:n,bottom:r,right:o}){return{x:tW(e.x,n,o),y:tW(e.y,t,r)}}function nW(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function wGe(e,t){return{x:nW(e.x,t.x),y:nW(e.y,t.y)}}function CGe(e,t){let n=.5;const r=la(e),o=la(t);return o>r?n=fx(t.min,t.max-r,e.min):r>o&&(n=fx(e.min,e.max-o,t.min)),Yf(0,1,n)}function _Ge(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const v$=.35;function SGe(e=v$){return e===!1?e=0:e===!0&&(e=v$),{x:rW(e,"left","right"),y:rW(e,"top","bottom")}}function rW(e,t,n){return{min:oW(e,t),max:oW(e,n)}}function oW(e,t){return typeof e=="number"?e:e[t]||0}const iW=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qg=()=>({x:iW(),y:iW()}),sW=()=>({min:0,max:0}),ro=()=>({x:sW(),y:sW()});function pc(e){return[e("x"),e("y")]}function tCe({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function EGe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function kGe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function zI(e){return e===void 0||e===1}function y$({scale:e,scaleX:t,scaleY:n}){return!zI(e)||!zI(t)||!zI(n)}function Wh(e){return y$(e)||nCe(e)||e.z||e.rotate||e.rotateX||e.rotateY}function nCe(e){return aW(e.x)||aW(e.y)}function aW(e){return e&&e!=="0%"}function ZE(e,t,n){const r=e-n,o=t*r;return n+o}function lW(e,t,n,r,o){return o!==void 0&&(e=ZE(e,o,r)),ZE(e,n,r)+t}function b$(e,t=0,n=1,r,o){e.min=lW(e.min,t,n,r,o),e.max=lW(e.max,t,n,r,o)}function rCe(e,{x:t,y:n}){b$(e.x,t.translate,t.scale,t.originPoint),b$(e.y,n.translate,n.scale,n.originPoint)}function jGe(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Jg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,rCe(e,s)),r&&Wh(i.latestValues)&&Jg(e,i.latestValues))}t.x=cW(t.x),t.y=cW(t.y)}function cW(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Vd(e,t){e.min=e.min+t,e.max=e.max+t}function uW(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,s=Ar(e.min,e.max,i);b$(e,t[n],t[r],s,t.scale)}const TGe=["x","scaleX","originX"],AGe=["y","scaleY","originY"];function Jg(e,t){uW(e.x,t,TGe),uW(e.y,t,AGe)}function oCe(e,t){return tCe(kGe(e.getBoundingClientRect(),t))}function DGe(e,t,n){const r=oCe(e,n),{scroll:o}=t;return o&&(Vd(r.x,o.offset.x),Vd(r.y,o.offset.y)),r}const IGe=new WeakMap;class OGe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ro(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=c=>{this.stopAnimation(),n&&this.snapToCursor(Jj(c,"page").point)},i=(c,u)=>{const{drag:d,dragPropagation:f,onDragStart:p}=this.getProps();if(d&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=vwe(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pc(v=>{let g=this.getAxisMotionValue(v).get()||0;if(Pc.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[v];x&&(g=la(x)*(parseFloat(g)/100))}}this.originPoint[v]=g}),p&&Yn.update(()=>p(c,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(c,u)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:v}=u;if(f&&this.currentDirection===null){this.currentDirection=PGe(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),m&&m(c,u)},a=(c,u)=>this.stop(c,u);this.panSession=new Jwe(t,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&Yn.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!y_(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=bGe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},o=this.constraints;t&&Zg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=xGe(r.layoutBox,t):this.constraints=!1,this.elastic=SGe(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&pc(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=_Ge(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Zg(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=DGe(r,o.root,this.visualElement.getTransformPagePoint());let s=wGe(o.layout.layoutBox,i);if(n){const a=n(EGe(s));this.hasMutatedConstraints=!!a,a&&(s=tCe(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=pc(d=>{if(!y_(d,n,this.currentDirection))return;let f=c&&c[d]||{};s&&(f={min:0,max:0});const p=o?200:1e6,m=o?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(n8(t,r,0,n))}stopAnimation(){pc(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){pc(n=>{const{drag:r}=this.getProps();if(!y_(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(t[n]-Ar(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zg(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};pc(s=>{const a=this.getAxisMotionValue(s);if(a){const c=a.get();o[s]=CGe({min:c,max:c},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),pc(s=>{if(!y_(s,t,null))return;const a=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];a.set(Ar(c,u,o[s]))})}addListeners(){if(!this.visualElement.current)return;IGe.set(this.visualElement,this);const t=this.visualElement.current,n=Pu(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Zg(c)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=ku(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(pc(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=v$,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function y_(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function PGe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class RGe extends dh{constructor(t){super(t),this.removeGroupControls=Br,this.removeListeners=Br,this.controls=new OGe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Br}unmount(){this.removeGroupControls(),this.removeListeners()}}const dW=e=>(t,n)=>{e&&Yn.update(()=>e(t,n))};class $Ge extends dh{constructor(){super(...arguments),this.removePointerDownListener=Br}onPointerDown(t){this.session=new Jwe(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:dW(t),onStart:dW(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&Yn.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=Pu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function MGe(){const e=h.useContext(Gj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=h.useId();return h.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const iS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fW(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Y1={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ct.test(e))e=parseFloat(e);else return e;const n=fW(e,t.target.x),r=fW(e,t.target.y);return`${n}% ${r}%`}},FGe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=qf.parse(e);if(o.length>5)return r;const i=qf.createTransformer(e),s=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;o[0+s]/=a,o[1+s]/=c;const u=Ar(a,c,.5);return typeof o[2+s]=="number"&&(o[2+s]/=u),typeof o[3+s]=="number"&&(o[3+s]/=u),i(o)}};class LGe extends ie.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;WWe(BGe),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),iS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Yn.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function iCe(e){const[t,n]=MGe(),r=h.useContext(VL);return ie.createElement(LGe,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(ewe),isPresent:t,safeToRemove:n})}const BGe={borderRadius:{...Y1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Y1,borderTopRightRadius:Y1,borderBottomLeftRadius:Y1,borderBottomRightRadius:Y1,boxShadow:FGe},sCe=["TopLeft","TopRight","BottomLeft","BottomRight"],NGe=sCe.length,hW=e=>typeof e=="string"?parseFloat(e):e,pW=e=>typeof e=="number"||ct.test(e);function zGe(e,t,n,r,o,i){o?(e.opacity=Ar(0,n.opacity!==void 0?n.opacity:1,VGe(r)),e.opacityExit=Ar(t.opacity!==void 0?t.opacity:1,0,HGe(r))):i&&(e.opacity=Ar(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<NGe;s++){const a=`border${sCe[s]}Radius`;let c=mW(t,a),u=mW(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||pW(c)===pW(u)?(e[a]=Math.max(Ar(hW(c),hW(u),r),0),(Pc.test(u)||Pc.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Ar(t.rotate||0,n.rotate||0,r))}function mW(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const VGe=aCe(0,.5,QL),HGe=aCe(.5,.95,Br);function aCe(e,t,n){return r=>r<e?0:r>t?1:n(fx(e,t,r))}function gW(e,t){e.min=t.min,e.max=t.max}function xa(e,t){gW(e.x,t.x),gW(e.y,t.y)}function vW(e,t,n,r,o){return e-=t,e=ZE(e,1/n,r),o!==void 0&&(e=ZE(e,1/o,r)),e}function UGe(e,t=0,n=1,r=.5,o,i=e,s=e){if(Pc.test(t)&&(t=parseFloat(t),t=Ar(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Ar(i.min,i.max,r);e===i&&(a-=t),e.min=vW(e.min,t,n,a,o),e.max=vW(e.max,t,n,a,o)}function yW(e,t,[n,r,o],i,s){UGe(e,t[n],t[r],t[o],t.scale,i,s)}const WGe=["x","scaleX","originX"],YGe=["y","scaleY","originY"];function bW(e,t,n,r){yW(e.x,t,WGe,n?n.x:void 0,r?r.x:void 0),yW(e.y,t,YGe,n?n.y:void 0,r?r.y:void 0)}function xW(e){return e.translate===0&&e.scale===1}function lCe(e){return xW(e.x)&&xW(e.y)}function qGe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function cCe(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function wW(e){return la(e.x)/la(e.y)}class GGe{constructor(){this.members=[]}add(t){r8(this.members,t),t.scheduleRender()}remove(t){if(o8(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function CW(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const KGe=(e,t)=>e.depth-t.depth;class ZGe{constructor(){this.children=[],this.isDirty=!1}add(t){r8(this.children,t),this.isDirty=!0}remove(t){o8(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(KGe),this.isDirty=!1,this.children.forEach(t)}}function XGe(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(Zu(r),e(i-t))};return Yn.read(r,!0),()=>Zu(r)}function QGe(e){window.MotionDebug&&window.MotionDebug.record(e)}function JGe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function eKe(e,t,n){const r=Os(e)?e:r0(e);return r.start(n8("",r,t,n)),r.animation}const _W=["","X","Y","Z"],SW=1e3;let tKe=0;const Yh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function uCe({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=t==null?void 0:t()){this.id=tKe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Yh.totalNodes=Yh.resolvedTargetDeltas=Yh.recalculatedProjection=0,this.nodes.forEach(oKe),this.nodes.forEach(cKe),this.nodes.forEach(uKe),this.nodes.forEach(iKe),QGe(Yh)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZGe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new i8),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const c=this.eventHandlers.get(s);c&&c.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=JGe(s),this.instance=s;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=XGe(p,250),iS.hasAnimatedSinceResize&&(iS.hasAnimatedSinceResize=!1,this.nodes.forEach(kW))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||mKe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!cCe(this.targetLayout,v)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const C={...Gwe(g,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||kW(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dKe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(EW);return}this.isUpdating||this.nodes.forEach(aKe),this.isUpdating=!1,this.nodes.forEach(lKe),this.nodes.forEach(nKe),this.nodes.forEach(rKe),this.clearAllSnapshots();const a=performance.now();Io.delta=Yf(0,1e3/60,a-Io.timestamp),Io.timestamp=a,Io.isProcessing=!0,II.update.process(Io),II.preRender.process(Io),II.render.process(Io),Io.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(sKe),this.sharedNodes.forEach(fKe)}scheduleUpdateProjection(){Yn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Yn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ro(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!lCe(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(a||Wh(this.latestValues)||d)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return s&&(c=this.removeTransform(c)),gKe(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return ro();const a=s.measureViewportBox(),{scroll:c}=this.root;return c&&(Vd(a.x,c.offset.x),Vd(a.y,c.offset.y)),a}removeElementScroll(s){const a=ro();xa(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){xa(a,s);const{scroll:p}=this.root;p&&(Vd(a.x,-p.offset.x),Vd(a.y,-p.offset.y))}Vd(a.x,d.offset.x),Vd(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const c=ro();xa(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Jg(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Wh(d.latestValues)&&Jg(c,d.latestValues)}return Wh(this.latestValues)&&Jg(c,this.latestValues),c}removeTransform(s){const a=ro();xa(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Wh(u.latestValues))continue;y$(u.latestValues)&&u.updateSnapshot();const d=ro(),f=u.measurePageBox();xa(d,f),bW(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Wh(this.latestValues)&&bW(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Io.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Io.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ro(),this.relativeTargetOrigin=ro(),pb(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),xa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ro(),this.targetWithTransforms=ro()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yGe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xa(this.target,this.layout.layoutBox),rCe(this.target,this.targetDelta)):xa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ro(),this.relativeTargetOrigin=ro(),pb(this.relativeTargetOrigin,this.target,m.target),xa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Yh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||y$(this.parent.latestValues)||nCe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Io.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;xa(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;jGe(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=Qg(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Qg(),this.projectionDeltaWithTransform=Qg());const g=this.projectionTransform;hb(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=CW(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Yh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Qg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=ro(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,y=this.getStack(),x=!y||y.members.length<=1,b=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(pKe));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const _=C/1e3;jW(f.x,s.x,_),jW(f.y,s.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pb(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hKe(this.relativeTarget,this.relativeTargetOrigin,p,_),w&&qGe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ro()),xa(w,this.relativeTarget)),g&&(this.animationValues=d,zGe(d,u,this.latestValues,_,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yn.update(()=>{iS.hasAnimatedSinceResize=!0,this.currentAnimation=eKe(0,SW,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=s;if(!(!a||!c||!u)){if(this!==s&&this.layout&&u&&dCe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ro();const f=la(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+f;const p=la(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+p}xa(a,c),Jg(a,d),hb(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new GGe),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:c}=s;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<_W.length;d++){const f="rotate"+_W[d];c[f]&&(u[f]=c[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s={}){var a,c;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=oS(s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=oS(s.pointerEvents)||""),this.hasProjected&&!Wh(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=CW(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in HE){if(p[g]===void 0)continue;const{correct:y,applyTo:x}=HE[g],b=u.transform==="none"?p[g]:y(p[g],f);if(x){const w=x.length;for(let C=0;C<w;C++)u[x[C]]=b}else u[g]=b}return this.options.layoutId&&(u.pointerEvents=f===this?oS(s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(EW),this.root.sharedNodes.clear()}}}function nKe(e){e.updateLayout()}function rKe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;i==="size"?pc(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=la(p);p.min=r[f].min,p.max=p.min+m}):dCe(i,n.layoutBox,r)&&pc(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=la(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=Qg();hb(a,r,n.layoutBox);const c=Qg();s?hb(c,e.applyTransform(o,!0),n.measuredBox):hb(c,r,n.layoutBox);const u=!lCe(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=ro();pb(v,n.layoutBox,p.layoutBox);const g=ro();pb(g,r,m.layoutBox),cCe(v,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function oKe(e){Yh.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function iKe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function sKe(e){e.clearSnapshot()}function EW(e){e.clearMeasurements()}function aKe(e){e.isLayoutDirty=!1}function lKe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function kW(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function cKe(e){e.resolveTargetDelta()}function uKe(e){e.calcProjection()}function dKe(e){e.resetRotation()}function fKe(e){e.removeLeadSnapshot()}function jW(e,t,n){e.translate=Ar(t.translate,0,n),e.scale=Ar(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function TW(e,t,n,r){e.min=Ar(t.min,n.min,r),e.max=Ar(t.max,n.max,r)}function hKe(e,t,n,r){TW(e.x,t.x,n.x,r),TW(e.y,t.y,n.y,r)}function pKe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const mKe={duration:.45,ease:[.4,0,.1,1]},AW=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),DW=AW("applewebkit/")&&!AW("chrome/")?Math.round:Br;function IW(e){e.min=DW(e.min),e.max=DW(e.max)}function gKe(e){IW(e.x),IW(e.y)}function dCe(e,t,n){return e==="position"||e==="preserve-aspect"&&!g$(wW(t),wW(n),.2)}const vKe=uCe({attachResizeListener:(e,t)=>ku(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),VI={current:void 0},fCe=uCe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!VI.current){const e=new vKe({});e.mount(window),e.setOptions({layoutScroll:!0}),VI.current=e}return VI.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),yKe={pan:{Feature:$Ge},drag:{Feature:RGe,ProjectionNode:fCe,MeasureLayout:iCe}},bKe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function xKe(e){const t=bKe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function x$(e,t,n=1){const[r,o]=xKe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const s=i.trim();return Kwe(s)?parseFloat(s):s}else return c$(o)?x$(o,t,n+1):o}function wKe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!c$(i))return;const s=x$(i,r);s&&o.set(s)});for(const o in t){const i=t[o];if(!c$(i))continue;const s=x$(i,r);s&&(t[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const CKe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),hCe=e=>CKe.has(e),_Ke=e=>Object.keys(e).some(hCe),OW=e=>e===Im||e===ct,PW=(e,t)=>parseFloat(e.split(", ")[t]),RW=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return PW(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?PW(i[1],e):0}},SKe=new Set(["x","y","z"]),EKe=Ow.filter(e=>!SKe.has(e));function kKe(e){const t=[];return EKe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const o0={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:RW(4,13),y:RW(5,14)};o0.translateX=o0.x;o0.translateY=o0.y;const jKe=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=o0[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=o0[u](c,i)}),e},TKe=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(hCe);let i=[],s=!1;const a=[];if(o.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=W1(d);const p=t[c];let m;if(WE(p)){const v=p.length,g=p[0]===null?1:0;d=p[g],f=W1(d);for(let y=g;y<v&&p[y]!==null;y++)m?XL(W1(p[y])===m):m=W1(p[y])}else m=W1(p);if(f!==m)if(OW(f)&&OW(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&m===ct&&(t[c]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[c]=f.transform(p):(s||(i=kKe(e),s=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(p))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,u=jKe(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Kj&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function AKe(e,t,n,r){return _Ke(t)?TKe(e,t,n,r):{target:t,transitionEnd:r}}const DKe=(e,t,n,r)=>{const o=wKe(e,t,r);return t=o.target,r=o.transitionEnd,AKe(e,t,n,r)},w$={current:null},pCe={current:!1};function IKe(){if(pCe.current=!0,!!Kj)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>w$.current=e.matches;e.addListener(t),t()}else w$.current=!1}function OKe(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],s=n[o];if(Os(i))e.addValue(o,i),KE(r)&&r.add(o);else if(Os(s))e.addValue(o,r0(i,{owner:e})),KE(r)&&r.remove(o);else if(s!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,r0(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const $W=new WeakMap,mCe=Object.keys(dx),PKe=mCe.length,MW=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],RKe=zL.length;class $Ke{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Yn.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=Xj(n),this.isVariantNode=Jxe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];a[f]!==void 0&&Os(p)&&(p.set(a[f],!1),KE(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,$W.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),pCe.current||IKe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:w$.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$W.delete(this.current),this.projection&&this.projection.unmount(),Zu(this.notifyUpdate),Zu(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Dm.has(t),o=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Yn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let s,a;for(let c=0;c<PKe;c++){const u=mCe[c],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=dx[u];p&&(s=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Zg(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ro()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<MW.length;r++){const o=MW[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=OKe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<RKe;r++){const o=zL[r],i=this.props[o];(ux(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=r0(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=ZL(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Os(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new i8),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class gCe extends $Ke{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let s=eGe(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){Qqe(this,r,s);const a=DKe(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function MKe(e){return window.getComputedStyle(e)}class FKe extends gCe{readValueFromInstance(t,n){if(Dm.has(n)){const r=t8(n);return r&&r.default||0}else{const r=MKe(t),o=(rwe(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return oCe(t,n)}build(t,n,r,o){UL(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return KL(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Os(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){cwe(t,n,r,o)}}class LKe extends gCe{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Dm.has(n)){const r=t8(n);return r&&r.default||0}return n=uwe.has(n)?n:GL(n),t.getAttribute(n)}measureInstanceViewportBox(){return ro()}scrapeMotionValuesFromProps(t,n){return fwe(t,n)}build(t,n,r,o){YL(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){dwe(t,n,r,o)}mount(t){this.isSVGTag=qL(t.tagName),super.mount(t)}}const BKe=(e,t)=>HL(e)?new LKe(t,{enableHardwareAcceleration:!1}):new FKe(t,{enableHardwareAcceleration:!0}),NKe={layout:{ProjectionNode:fCe,MeasureLayout:iCe}},zKe={...pGe,...RYe,...yKe,...NKe},gd=HWe((e,t)=>wYe(e,t,zKe,BKe));function vCe(){const e=h.useRef(!1);return BL(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function VKe(){const e=vCe(),[t,n]=h.useState(0),r=h.useCallback(()=>{e.current&&n(t+1)},[t]);return[h.useCallback(()=>Yn.postRender(r),[r]),t]}class HKe extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function UKe({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:c}=o.current;if(t||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.createElement(HKe,{isPresent:t,childRef:r,sizeRef:o},h.cloneElement(e,{ref:r}))}const HI=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=hwe(WKe),c=h.useId(),u=h.useMemo(()=>({id:c,initial:t,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return h.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),h.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=h.createElement(UKe,{isPresent:n},e)),h.createElement(Gj.Provider,{value:u},e)};function WKe(){return new Map}function YKe(e){return h.useEffect(()=>()=>e(),[])}const qh=e=>e.key||"";function qKe(e,t){e.forEach(n=>{const r=qh(n);t.set(r,n)})}function GKe(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const s8=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=h.useContext(VL).forceRender||VKe()[0],c=vCe(),u=GKe(e);let d=u;const f=h.useRef(new Map).current,p=h.useRef(d),m=h.useRef(new Map).current,v=h.useRef(!0);if(BL(()=>{v.current=!1,qKe(u,m),p.current=d}),YKe(()=>{v.current=!0,m.clear(),f.clear()}),v.current)return h.createElement(h.Fragment,null,d.map(b=>h.createElement(HI,{key:qh(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},b)));d=[...d];const g=p.current.map(qh),y=u.map(qh),x=g.length;for(let b=0;b<x;b++){const w=g[b];y.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return s==="wait"&&f.size&&(d=[]),f.forEach((b,w)=>{if(y.indexOf(w)!==-1)return;const C=m.get(w);if(!C)return;const _=g.indexOf(w);let S=b;if(!S){const E=()=>{f.delete(w);const j=Array.from(m.keys()).filter(k=>!y.includes(k));if(j.forEach(k=>m.delete(k)),p.current=u.filter(k=>{const T=qh(k);return T===w||j.includes(T)}),!f.size){if(c.current===!1)return;a(),r&&r()}};S=h.createElement(HI,{key:qh(C),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:i,mode:s},C),f.set(w,S)}d.splice(_,0,S)}),d=d.map(b=>{const w=b.key;return f.has(w)?b:h.createElement(HI,{key:qh(b),isPresent:!0,presenceAffectsLayout:i,mode:s},b)}),h.createElement(h.Fragment,null,f.size?d:d.map(b=>h.cloneElement(b)))},Mw=[],If={},yCe={top:"bottom",right:"left",bottom:"top",left:"right"};function KKe(e,t){return e.reduce((n,r)=>(n[r]=t,n),{})}function ye(e){return e===0?0:"".concat(e/16,"rem")}function pt(e,t,n){return((t==null?void 0:t.map(n))||[]).map((o,i)=>i===0?o:{["@media screen and (min-width: ".concat(e[i-1],"px)")]:o})}function ZKe(e,t){return e===void 0?t||Mw:Array.isArray(e)?e:[e]}function bs(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mw;if(!Array.isArray(n))throw new Error("the property must be array of numbers");return n.length===0?null:pt(e.sanity.media,n,r=>KKe(t,ye(e.sanity.space[r])))}function i0(e,t){const{$size:n,$weight:r,theme:o}=t,{fonts:i,media:s}=o.sanity,{family:a,sizes:c,weights:u}=i[e],d=r&&u[r]||u.regular,f=c[2],p={position:"relative",fontFamily:a,fontWeight:d,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!n)return i0.warned||(console.warn("No size specified for responsive font",{fontKey:e,$size:n,props:t,base:p}),i0.warned=!0),[p];const m=pt(s,n,v=>XKe(c[v]||f));return[p,...m]}function XKe(e){const{ascenderHeight:t,descenderHeight:n,fontSize:r,iconSize:o,letterSpacing:i,lineHeight:s}=e,a=t+n,c=s-a,u=(c-o)/2,d=Math.floor(r*1.125/2)*2+1,f=(c-d)/2;return{fontSize:ye(r),lineHeight:"calc(".concat(s," / ").concat(r,")"),letterSpacing:ye(i),transform:"translateY(".concat(ye(n),")"),"&:before":{marginTop:"calc(".concat(ye(0-a)," - 1px)")},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:"calc(".concat(d," / 16 * 1rem)"),margin:ye(f)},"& [data-sanity-icon]":{fontSize:"calc(".concat(o," / 16 * 1rem)"),margin:ye(u)}}}function QKe(e){return i0("code",e)}function JKe(e){return i0("heading",e)}function eZe(e){return i0("label",e)}function a8(e){const{theme:t}=e;return pt(t.sanity.media,e.$align,n=>({textAlign:n}))}function tZe(e){return i0("text",e)}function Ce(e,t){const n=h.useMemo(()=>JSON.stringify(e??t),[t,e]);return h.useMemo(()=>ZKe(e,t),[n])}function FW(e,t){const n=[e];for(const r of t)Array.isArray(r)?n.push(...r):n.push(r);return n.filter(Boolean)}function lr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mw,n=arguments.length>2?arguments[2]:void 0;const[r,o]=h.useState(null),[i,s]=h.useState(()=>FW(r,t)),a=h.useRef(i);return h.useEffect(()=>{const c=a.current,u=FW(r,t);if(c.length!==u.length){s(u),a.current=u;return}for(const d of c)if(!u.includes(d)){s(u),a.current=u;return}for(const d of u)if(!c.includes(d)){s(u),a.current=u;return}},[r,t]),h.useEffect(()=>{if(!e)return;const c=u=>{const d=u.target;if(d instanceof Node&&!(n&&!n.contains(d))){for(const f of i)if(d===f||f.contains(d))return;e(u)}};return window.addEventListener("mousedown",c),()=>{window.removeEventListener("mousedown",c)}},[n,e,i]),o}var Pp=[],nZe=function(){return Pp.some(function(e){return e.activeTargets.length>0})},rZe=function(){return Pp.some(function(e){return e.skippedTargets.length>0})},LW="ResizeObserver loop completed with undelivered notifications.",oZe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:LW}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=LW),window.dispatchEvent(e)},hx;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(hx||(hx={}));var Rp=function(e){return Object.freeze(e)},iZe=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,Rp(this)}return e}(),bCe=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Rp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,c=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:c,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),l8=function(e){return e instanceof SVGElement&&"getBBox"in e},xCe=function(e){if(l8(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},BW=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},sZe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},mb=typeof window<"u"?window:{},b_=new WeakMap,NW=/auto|scroll/,aZe=/^tb|vertical/,lZe=/msie|trident/i.test(mb.navigator&&mb.navigator.userAgent),ic=function(e){return parseFloat(e||"0")},vv=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new iZe((n?t:e)||0,(n?e:t)||0)},zW=Rp({devicePixelContentBoxSize:vv(),borderBoxSize:vv(),contentBoxSize:vv(),contentRect:new bCe(0,0,0,0)}),wCe=function(e,t){if(t===void 0&&(t=!1),b_.has(e)&&!t)return b_.get(e);if(xCe(e))return b_.set(e,zW),zW;var n=getComputedStyle(e),r=l8(e)&&e.ownerSVGElement&&e.getBBox(),o=!lZe&&n.boxSizing==="border-box",i=aZe.test(n.writingMode||""),s=!r&&NW.test(n.overflowY||""),a=!r&&NW.test(n.overflowX||""),c=r?0:ic(n.paddingTop),u=r?0:ic(n.paddingRight),d=r?0:ic(n.paddingBottom),f=r?0:ic(n.paddingLeft),p=r?0:ic(n.borderTopWidth),m=r?0:ic(n.borderRightWidth),v=r?0:ic(n.borderBottomWidth),g=r?0:ic(n.borderLeftWidth),y=f+u,x=c+d,b=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-b-e.clientWidth:0,S=o?y+b:0,E=o?x+w:0,j=r?r.width:ic(n.width)-S-_,k=r?r.height:ic(n.height)-E-C,T=j+y+_+b,A=k+x+C+w,D=Rp({devicePixelContentBoxSize:vv(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:vv(T,A,i),contentBoxSize:vv(j,k,i),contentRect:new bCe(f,c,j,k)});return b_.set(e,D),D},CCe=function(e,t,n){var r=wCe(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case hx.DEVICE_PIXEL_CONTENT_BOX:return s;case hx.BORDER_BOX:return o;default:return i}},cZe=function(){function e(t){var n=wCe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=Rp([n.borderBoxSize]),this.contentBoxSize=Rp([n.contentBoxSize]),this.devicePixelContentBoxSize=Rp([n.devicePixelContentBoxSize])}return e}(),_Ce=function(e){if(xCe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},uZe=function(){var e=1/0,t=[];Pp.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new cZe(u.target),f=_Ce(u.target);a.push(d),u.lastReportedSize=CCe(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},VW=function(e){Pp.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(_Ce(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},dZe=function(){var e=0;for(VW(e);nZe();)e=uZe(),VW(e);return rZe()&&oZe(),e>0},UI,SCe=[],fZe=function(){return SCe.splice(0).forEach(function(e){return e()})},hZe=function(e){if(!UI){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return fZe()}).observe(n,r),UI=function(){n.textContent="".concat(t?t--:t++)}}SCe.push(e),UI()},pZe=function(e){hZe(function(){requestAnimationFrame(e)})},sS=0,mZe=function(){return!!sS},gZe=250,vZe={attributes:!0,characterData:!0,childList:!0,subtree:!0},HW=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],UW=function(e){return e===void 0&&(e=0),Date.now()+e},WI=!1,yZe=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=gZe),!WI){WI=!0;var r=UW(t);pZe(function(){var o=!1;try{o=dZe()}finally{if(WI=!1,t=r-UW(),!mZe())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,vZe)};document.body?n():mb.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),HW.forEach(function(n){return mb.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),HW.forEach(function(n){return mb.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),C$=new yZe,WW=function(e){!sS&&e>0&&C$.start(),sS+=e,!sS&&C$.stop()},bZe=function(e){return!l8(e)&&!sZe(e)&&getComputedStyle(e).display==="inline"},xZe=function(){function e(t,n){this.target=t,this.observedBox=n||hx.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=CCe(this.target,this.observedBox,!0);return bZe(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),wZe=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),x_=new WeakMap,YW=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},w_=function(){function e(){}return e.connect=function(t,n){var r=new wZe(t,n);x_.set(t,r)},e.observe=function(t,n,r){var o=x_.get(t),i=o.observationTargets.length===0;YW(o.observationTargets,n)<0&&(i&&Pp.push(o),o.observationTargets.push(new xZe(n,r&&r.box)),WW(1),C$.schedule())},e.unobserve=function(t,n){var r=x_.get(t),o=YW(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&Pp.splice(Pp.indexOf(r),1),r.observationTargets.splice(o,1),WW(-1))},e.disconnect=function(t){var n=this,r=x_.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),CZe=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");w_.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!BW(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");w_.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!BW(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");w_.unobserve(this,t)},e.prototype.disconnect=function(){w_.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const ECe=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:CZe,_Ze=EZe();function SZe(){return{subscribe(e,t){const n=new ECe(r=>{let[o]=r;t({_contentRect:o.contentRect,border:{width:o.borderBoxSize[0].inlineSize,height:o.borderBoxSize[0].blockSize},content:{width:o.contentRect.width,height:o.contentRect.height}})});return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}}}function EZe(){const e=new WeakMap,t=new WeakMap;return{subscribe(n,r){const o=t.get(n)||[];let i=e.get(n);return t.has(n)||(t.set(n,o),i=SZe().subscribe(n,a=>{for(const c of o)c(a)})),o.push(r),()=>{const s=o.indexOf(r);s>-1&&o.splice(s,1),o.length===0&&i&&i()}}}}function tT(e){const[t,n]=h.useState(null);return h.useEffect(()=>{if(e)return _Ze.subscribe(e,n)},[e]),t}function fh(e){const t=tT(e);return(t==null?void 0:t._contentRect)||null}function is(e){return h.useEffect(()=>(addEventListener("keydown",e),()=>removeEventListener("keydown",e)),[e])}function YI(e,t){return e*t}function kZe(e,t){return{r:Math.round(qI(YI(e.r/255,t.r/255)*255)),g:Math.round(qI(YI(e.g/255,t.g/255)*255)),b:Math.round(qI(YI(e.b/255,t.b/255)*255))}}function qI(e){return Math.max(Math.min(e,255),0)}function GI(e,t){return e+t-e*t}function jZe(e,t){return{r:Math.round(KI(GI(e.r/255,t.r/255)*255)),g:Math.round(KI(GI(e.g/255,t.g/255)*255)),b:Math.round(KI(GI(e.b/255,t.b/255)*255))}}function KI(e){return Math.max(Math.min(e,255),0)}function TZe(e){if(e.length===4){const t=e.slice(1,2),n=e.slice(2,3),r=e.slice(3,4);return{r:parseInt(t+t,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}}function kCe(e){let{r:t,g:n,b:r}=e;return"#"+((1<<24)+(t<<16)+(n<<8)+r).toString(16).slice(1)}function AZe(e){const t=e.s/100,n=e.l/100,r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(e.h/60%2-1)),i=n-r/2;let s=0,a=0,c=0;return 0<=e.h&&e.h<60?(s=r,a=o,c=0):60<=e.h&&e.h<120?(s=o,a=r,c=0):120<=e.h&&e.h<180?(s=0,a=r,c=o):180<=e.h&&e.h<240?(s=0,a=o,c=r):240<=e.h&&e.h<300?(s=o,a=0,c=r):300<=e.h&&e.h<360&&(s=r,a=0,c=o),{r:Math.round((s+i)*255),g:Math.round((a+i)*255),b:Math.round((c+i)*255)}}const DZe="0123456789ABCDEFabcdef",IZe=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function OZe(e){for(const t of e)if(DZe.indexOf(t)===-1)return!1;return!0}function PZe(e){return e[0]!=="#"||!(e.length===4||e.length===7)?!1:OZe(e.slice(1))}function RZe(e){const t=IZe.exec(e);if(!t)throw new Error('parseHsl: string is not a HSL color: "'.concat(e,'"'));return{h:parseInt(t[1]),s:parseFloat(t[3]),l:parseFloat(t[5])}}function px(e){if(!e)return{r:0,g:0,b:0};if(typeof e!="string")throw new Error("parseColor: expected a string");if(PZe(e))return TZe(e);if(e.startsWith("hsl("))return AZe(RZe(e));throw new Error('parseColor: unexpected color format: "'.concat(e,'"'))}function Dt(e,t){const n=px(e);return"rgba(".concat(n.r,",").concat(n.g,",").concat(n.b,",").concat(t,")")}function ZI(e,t,n,r,o,i){return{default:e.button({base:t,dark:n,solid:r.default,muted:o.default,mode:i}),primary:e.button({base:t,dark:n,solid:r.primary,muted:o.primary,mode:i}),positive:e.button({base:t,dark:n,solid:r.positive,muted:o.positive,mode:i}),caution:e.button({base:t,dark:n,solid:r.caution,muted:o.caution,mode:i}),critical:e.button({base:t,dark:n,solid:r.critical,muted:o.critical,mode:i})}}function $Ze(e,t,n,r,o){return{default:ZI(e,t,n,r,o,"default"),ghost:ZI(e,t,n,r,o,"ghost"),bleed:ZI(e,t,n,r,o,"bleed")}}function MZe(e,t,n,r,o,i){return{enabled:e.card({base:t,dark:n,name:r,state:"enabled",solid:o,muted:i}),disabled:e.card({base:t,dark:n,name:r,state:"disabled",solid:o,muted:i}),hovered:e.card({base:t,dark:n,name:r,state:"hovered",solid:o,muted:i}),pressed:e.card({base:t,dark:n,name:r,state:"pressed",solid:o,muted:i}),selected:e.card({base:t,dark:n,name:r,state:"selected",solid:o,muted:i})}}const je="hsl(0, 0%, 0%)",sg="hsl(0, 0%, 100%)",mt={default:{lightest:"hsl(0, 0%, 95%)",lighter:"hsl(0, 0%, 70%)",light:"hsl(0, 0%, 65%)",base:"hsl(0, 0%, 50%)",dark:"hsl(0, 0%, 35%)",darker:"hsl(0, 0%, 20%)",darkest:"hsl(0, 0%, 5%)"},transparent:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},primary:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},positive:{lightest:"hsl(120, 100%, 95%)",lighter:"hsl(120, 100%, 70%)",light:"hsl(120, 100%, 65%)",base:"hsl(120, 100%, 50%)",dark:"hsl(120, 100%, 35%)",darker:"hsl(120, 100%, 20%)",darkest:"hsl(120, 100%, 5%)"},caution:{lightest:"hsl(60, 100%, 95%)",lighter:"hsl(60, 100%, 70%)",light:"hsl(60, 100%, 65%)",base:"hsl(60, 100%, 50%)",dark:"hsl(60, 100%, 35%)",darker:"hsl(60, 100%, 20%)",darkest:"hsl(60, 100%, 5%)"},critical:{lightest:"hsl(0, 100%, 95%)",lighter:"hsl(0, 100%, 70%)",light:"hsl(0, 100%, 65%)",base:"hsl(0, 100%, 50%)",dark:"hsl(0, 100%, 35%)",darker:"hsl(0, 100%, 20%)",darkest:"hsl(0, 100%, 5%)"}},FZe={gray:"hsl(0, 0%, 50%)",red:"hsl(0, 100%, 50%)",orange:"hsl(30, 100%, 50%)",yellow:"hsl(60, 100%, 50%)",green:"hsl(120, 100%, 50%)",cyan:"hsl(180, 100%, 50%)",blue:"hsl(240, 100%, 50%)",purple:"hsl(270, 100%, 50%)",magenta:"hsl(300, 100%, 50%)"},C_={transparent:{bg:[mt.transparent.darkest,mt.transparent.lightest],fg:[mt.transparent.lightest,mt.transparent.darkest],border:[mt.transparent.darker,mt.transparent.lighter],focusRing:[mt.transparent.base,mt.transparent.base]},primary:{bg:[mt.primary.darkest,mt.primary.lightest],fg:[mt.primary.lightest,mt.primary.darkest],border:[mt.primary.darker,mt.primary.lighter],focusRing:[mt.primary.base,mt.primary.base]},positive:{bg:[mt.positive.darkest,mt.positive.lightest],fg:[mt.positive.lightest,mt.positive.darkest],border:[mt.positive.darker,mt.positive.lighter],focusRing:[mt.positive.base,mt.positive.base]},caution:{bg:[mt.caution.darkest,mt.caution.lightest],fg:[mt.caution.lightest,mt.caution.darkest],border:[mt.caution.darker,mt.caution.lighter],focusRing:[mt.caution.base,mt.caution.base]},critical:{bg:[mt.critical.darkest,mt.critical.lightest],fg:[mt.critical.lightest,mt.critical.darkest],border:[mt.critical.darker,mt.critical.lighter],focusRing:[mt.critical.base,mt.critical.base]}},LZe={base:e=>{let{dark:t,name:n}=e;return n==="default"?{bg:t?je:sg,fg:t?sg:je,border:t?mt.default.darkest:mt.default.lightest,focusRing:mt.primary.base,shadow:{outline:je,umbra:je,penumbra:je,ambient:je},skeleton:{from:t?sg:je,to:t?sg:je}}:{bg:C_[n].bg[t?0:1],fg:C_[n].fg[t?0:1],border:C_[n].border[t?0:1],focusRing:C_[n].focusRing[t?0:1],shadow:{outline:je,umbra:je,penumbra:je,ambient:je},skeleton:{from:t?sg:je,to:t?sg:je}}},solid:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=mt[o];return r==="hovered"?{bg:n?i.light:i.dark,bg2:n?i.light:i.dark,border:n?i.lighter:i.darker,fg:n?i.darkest:i.lightest,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}:{bg:i.base,bg2:i.base,border:n?i.light:i.dark,fg:n?i.darkest:i.lightest,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}},muted:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=mt[o];return r==="hovered"?{bg:n?i.darker:i.lighter,bg2:n?i.darker:i.lighter,border:n?i.lighter:i.darker,fg:n?i.lightest:i.darkest,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}:{bg:n?i.darkest:i.lightest,bg2:n?i.darkest:i.lightest,border:n?i.darker:i.lighter,fg:n?i.lighter:i.darker,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{...r,enabled:{bg:"transparent",bg2:"transparent",fg:r.enabled.fg,border:"transparent",muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton},hovered:{bg:r.enabled.bg,bg2:r.enabled.bg,fg:r.hovered.fg,border:"transparent",muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}}:n==="ghost"?{...o,enabled:r.enabled}:o},card:e=>{let{base:t}=e;return{bg:je,bg2:je,fg:je,border:je,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}},input:()=>({bg:je,fg:je,border:je,placeholder:je}),selectable:e=>{let{muted:t,state:n,tone:r}=e;return t[r][n]},spot:e=>{let{key:t}=e;return FZe[t]},syntax:()=>({atrule:je,attrName:je,attrValue:je,attribute:je,boolean:je,builtin:je,cdata:je,char:je,class:je,className:je,comment:je,constant:je,deleted:je,doctype:je,entity:je,function:je,hexcode:je,id:je,important:je,inserted:je,keyword:je,number:je,operator:je,prolog:je,property:je,pseudoClass:je,pseudoElement:je,punctuation:je,regex:je,selector:je,string:je,symbol:je,tag:je,unit:je,url:je,variable:je})};function BZe(e,t,n,r,o){return{default:{enabled:e.input({base:t,dark:n,mode:"default",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"default",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"default",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"default",state:"readOnly",solid:r.default,muted:o.default})},invalid:{enabled:e.input({base:t,dark:n,mode:"invalid",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"invalid",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"invalid",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"invalid",state:"readOnly",solid:r.default,muted:o.default})}}}function NZe(e,t,n,r){return{default:{enabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function zZe(e,t,n,r,o){return{default:q1(e,t,n,r,o,"default"),primary:q1(e,t,n,r,o,"primary"),positive:q1(e,t,n,r,o,"positive"),caution:q1(e,t,n,r,o,"caution"),critical:q1(e,t,n,r,o,"critical")}}function q1(e,t,n,r,o,i){return{enabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"enabled",tone:i}),hovered:e.selectable({base:t,dark:n,solid:r,muted:o,state:"hovered",tone:i}),pressed:e.selectable({base:t,dark:n,solid:r,muted:o,state:"pressed",tone:i}),selected:e.selectable({base:t,dark:n,solid:r,muted:o,state:"selected",tone:i}),disabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"disabled",tone:i})}}function VZe(e,t,n,r){return{default:{enabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function HZe(e,t,n){return{gray:e.spot({base:t,dark:n,key:"gray"}),blue:e.spot({base:t,dark:n,key:"blue"}),purple:e.spot({base:t,dark:n,key:"purple"}),magenta:e.spot({base:t,dark:n,key:"magenta"}),red:e.spot({base:t,dark:n,key:"red"}),orange:e.spot({base:t,dark:n,key:"orange"}),yellow:e.spot({base:t,dark:n,key:"yellow"}),green:e.spot({base:t,dark:n,key:"green"}),cyan:e.spot({base:t,dark:n,key:"cyan"})}}function UZe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={...LZe,...e};return{light:qW(t,!1),dark:qW(t,!0)}}function qW(e,t){return{default:ag(e,t,"default"),transparent:ag(e,t,"transparent"),primary:ag(e,t,"primary"),positive:ag(e,t,"positive"),caution:ag(e,t,"caution"),critical:ag(e,t,"critical")}}function ag(e,t,n){const r=e.base({dark:t,name:n}),o=VZe(e,r,t,n),i=NZe(e,r,t,n);return{base:r,button:$Ze(e,r,t,o,i),card:MZe(e,r,t,n,o,i),dark:t,input:BZe(e,r,t,o,i),selectable:zZe(e,r,t,o,i),spot:HZe(e,r,t),syntax:e.syntax({base:r,dark:t}),solid:o,muted:i}}function Ph(e,t){const n=px(e),r=px(t);return kCe(kZe(n,r))}function Rh(e,t){const n=px(e),r=px(t);return kCe(jZe(n,r))}const Ui={default:pe.gray,transparent:pe.gray,primary:pe.blue,positive:pe.green,caution:pe.yellow,critical:pe.red},G1=["default","transparent"],WZe=UZe({base:e=>{let{dark:t,name:n}=e;if(n==="default"){const i=pe.gray,s=t?i[900].hex:i[100].hex;return{fg:t?ka.hex:vc.hex,bg:t?vc.hex:ka.hex,border:i[t?800:200].hex,focusRing:pe.blue[500].hex,shadow:{outline:Dt(i[500].hex,.4),umbra:t?Dt(i[950].hex,.4):Dt(i[500].hex,.2),penumbra:t?Dt(i[950].hex,.28):Dt(i[500].hex,.14),ambient:t?Dt(i[950].hex,.24):Dt(i[500].hex,.12)},skeleton:{from:s,to:Dt(s,.5)}}}if(n==="transparent"){const i=Ui.default,s=i[t?800:200].hex;return{fg:i[t?100:900].hex,bg:i[t?950:50].hex,border:i[t?800:300].hex,focusRing:pe.blue[500].hex,shadow:{outline:Dt(i[500].hex,.4),umbra:t?Dt(i[900].hex,.4):Dt(i[500].hex,.2),penumbra:t?Dt(i[900].hex,.28):Dt(i[500].hex,.14),ambient:t?Dt(i[900].hex,.24):Dt(i[500].hex,.12)},skeleton:{from:s,to:Dt(s,.5)}}}const r=Ui[n]||Ui.default,o=r[t?800:200].hex;return{fg:r[t?100:900].hex,bg:r[t?950:50].hex,border:r[t?800:200].hex,focusRing:r[500].hex,shadow:{outline:Dt(r[500].hex,.4),umbra:t?Dt(r[900].hex,.4):Dt(r[500].hex,.2),penumbra:t?Dt(r[900].hex,.28):Dt(r[500].hex,.14),ambient:t?Dt(r[900].hex,.24):Dt(r[500].hex,.12)},skeleton:{from:o,to:Dt(o,.5)}}},solid:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?Rh:Ph,a=n?Ph:Rh,c=Ui[r]||Ui.default,u=G1.includes(r)&&G1.includes(i);let d=Ui[i==="default"?r:i]||c;if(o==="disabled"){d=c;const m=s(t.bg,d[n?800:200].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?800:200].hex),fg:s(t.bg,n?vc.hex:ka.hex),muted:{fg:s(t.bg,d[n?950:50].hex)},accent:{fg:s(t.bg,d[n?950:50].hex)},link:{fg:s(t.bg,d[n?950:50].hex)},code:{bg:m,fg:s(t.bg,d[n?950:50].hex)},skeleton:{from:v,to:Dt(v,.5)}}}if(o==="hovered"){const m=s(t.bg,d[n?300:600].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?300:600].hex),fg:s(t.bg,n?vc.hex:ka.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,pe.red[n?800:200].hex)},link:{fg:a(m,pe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:Dt(v,.5)}}}if(o==="pressed"){const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:s(t.bg,d[n?200:800].hex),bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?vc.hex:ka.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,pe.red[n?800:200].hex)},link:{fg:a(m,pe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:Dt(v,.5)}}}if(o==="selected"){u&&(d=Ui.primary);const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?vc.hex:ka.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,pe.red[n?800:200].hex)},link:{fg:a(m,pe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:Dt(v,.5)}}}const f=s(t.bg,d[n?400:500].hex),p=a(f,d[n?200:800].hex);return{bg:f,bg2:a(f,d[n?50:950].hex),border:s(t.bg,d[n?400:500].hex),fg:s(t.bg,n?vc.hex:ka.hex),muted:{fg:s(t.bg,d[n?900:100].hex)},accent:{fg:a(f,pe.red[n?900:100].hex)},link:{fg:a(f,pe.blue[n?900:100].hex)},code:{bg:s(f,d[n?950:50].hex),fg:s(t.bg,d[n?900:100].hex)},skeleton:{from:p,to:Dt(p,.5)}}},muted:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?Rh:Ph,a=Ui[r]||Ui.default,c=G1.includes(r)&&G1.includes(i);let u=Ui[i==="default"?r:i]||a;if(o==="disabled"){u=a;const p=t.bg,m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?950:50].hex),fg:s(p,u[n?800:200].hex),muted:{fg:s(p,u[n?900:100].hex)},accent:{fg:s(p,u[n?900:100].hex)},link:{fg:s(p,u[n?900:100].hex)},code:{bg:p,fg:s(p,u[n?900:100].hex)},skeleton:{from:Dt(m,.5),to:Dt(m,.25)}}}if(o==="hovered"){const p=s(t.bg,u[n?950:50].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,pe.red[n?400:500].hex)},link:{fg:s(t.bg,pe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Dt(m,.5)}}}if(o==="pressed"){c&&(u=Ui.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,pe.red[n?400:500].hex)},link:{fg:s(p,pe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Dt(m,.5)}}}if(o==="selected"){c&&(u=Ui.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,pe.red[n?400:500].hex)},link:{fg:s(p,pe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Dt(m,.5)}}}const d=t.bg,f=s(d,u[n?900:100].hex);return{bg:d,bg2:s(d,u[n?950:50].hex),border:s(d,u[n?900:100].hex),fg:s(t.bg,u[n?300:700].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,pe.red[n?400:500].hex)},link:{fg:s(t.bg,pe.blue[n?400:600].hex)},code:{bg:s(t.bg,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:f,to:Dt(f,.5)}}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{enabled:{...r.enabled,border:r.enabled.bg},hovered:{...r.hovered,border:r.hovered.bg},pressed:{...r.pressed,border:r.pressed.bg},selected:{...r.selected,border:r.selected.bg},disabled:{...r.disabled,border:r.disabled.bg}}:n==="ghost"?{...o,enabled:{...r.enabled,border:t.border},disabled:r.disabled}:o},card:e=>{let{base:t,dark:n,muted:r,name:o,solid:i,state:s}=e;if(s==="hovered")return r[o].hovered;if(s==="disabled")return r[o].disabled;const a=G1.includes(o),c=Ui[o]||Ui.default,u=n?Rh:Ph;if(s==="pressed")return a?r.primary.pressed:r[o].pressed;if(s==="selected")return a?i.primary.enabled:i[o].enabled;const d=t.bg,f=u(t.bg,c[n?900:100].hex);return{bg:d,bg2:u(d,c[n?950:50].hex),fg:t.fg,border:t.border,muted:{fg:u(t.bg,c[n?400:600].hex)},accent:{fg:u(t.bg,pe.red[n?400:500].hex)},link:{fg:u(t.bg,pe.blue[n?400:600].hex)},code:{bg:u(t.bg,c[n?950:50].hex),fg:c[n?400:600].hex},skeleton:{from:f,to:Dt(f,.5)}}},input:e=>{let{base:t,dark:n,mode:r,state:o}=e;const i=n?Rh:Ph;if(r==="invalid"){const s=Ui.critical;return{bg:i(t.bg,s[n?950:50].hex),fg:i(t.bg,s[n?400:600].hex),border:i(t.bg,s[n?800:200].hex),placeholder:i(t.bg,s[n?600:400].hex)}}return o==="hovered"?{bg:t.bg,fg:t.fg,border:i(t.bg,pe.gray[n?700:300].hex),placeholder:i(t.bg,pe.gray[n?600:400].hex)}:o==="disabled"?{bg:i(t.bg,pe.gray[n?950:50].hex),fg:i(t.bg,pe.gray[n?700:300].hex),border:i(t.bg,pe.gray[n?900:100].hex),placeholder:i(t.bg,pe.gray[n?800:200].hex)}:o==="readOnly"?{bg:i(t.bg,pe.gray[n?950:50].hex),fg:i(t.bg,pe.gray[n?200:800].hex),border:i(t.bg,pe.gray[n?800:200].hex),placeholder:i(t.bg,pe.gray[n?600:400].hex)}:{bg:t.bg,fg:t.fg,border:t.border,placeholder:i(t.bg,pe.gray[n?600:400].hex)}},selectable:e=>{let{base:t,muted:n,tone:r,solid:o,state:i}=e;return i==="enabled"?{...n[r].enabled,bg:t.bg}:i==="pressed"?r==="default"?n.primary.pressed:n[r].pressed:i==="selected"?r==="default"?o.primary.enabled:o[r].enabled:i==="disabled"?{...n[r].disabled,bg:t.bg}:n[r][i]},spot:e=>{let{base:t,dark:n,key:r}=e;return(n?Rh:Ph)(t.bg,pe[r][n?400:500].hex)},syntax:e=>{let{base:t,dark:n}=e;const r=n?Rh:Ph,o=n?400:600,i=n?600:400;return{atrule:r(t.bg,pe.purple[o].hex),attrName:r(t.bg,pe.green[o].hex),attrValue:r(t.bg,pe.yellow[o].hex),attribute:r(t.bg,pe.yellow[o].hex),boolean:r(t.bg,pe.purple[o].hex),builtin:r(t.bg,pe.purple[o].hex),cdata:r(t.bg,pe.yellow[o].hex),char:r(t.bg,pe.yellow[o].hex),class:r(t.bg,pe.orange[o].hex),className:r(t.bg,pe.cyan[o].hex),comment:r(t.bg,pe.gray[i].hex),constant:r(t.bg,pe.purple[o].hex),deleted:r(t.bg,pe.red[o].hex),doctype:r(t.bg,pe.gray[i].hex),entity:r(t.bg,pe.red[o].hex),function:r(t.bg,pe.green[o].hex),hexcode:r(t.bg,pe.blue[o].hex),id:r(t.bg,pe.purple[o].hex),important:r(t.bg,pe.purple[o].hex),inserted:r(t.bg,pe.yellow[o].hex),keyword:r(t.bg,pe.magenta[o].hex),number:r(t.bg,pe.purple[o].hex),operator:r(t.bg,pe.magenta[o].hex),prolog:r(t.bg,pe.gray[i].hex),property:r(t.bg,pe.blue[o].hex),pseudoClass:r(t.bg,pe.yellow[o].hex),pseudoElement:r(t.bg,pe.yellow[o].hex),punctuation:r(t.bg,pe.gray[o].hex),regex:r(t.bg,pe.blue[o].hex),selector:r(t.bg,pe.red[o].hex),string:r(t.bg,pe.yellow[o].hex),symbol:r(t.bg,pe.purple[o].hex),tag:r(t.bg,pe.red[o].hex),unit:r(t.bg,pe.orange[o].hex),url:r(t.bg,pe.red[o].hex),variable:r(t.bg,pe.red[o].hex)}}}),YZe={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]},heading:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:12,iconSize:17,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:21,iconSize:33,lineHeight:27,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:27,iconSize:41,lineHeight:33,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:33,iconSize:49,lineHeight:39,letterSpacing:0},{ascenderHeight:9,descenderHeight:9,fontSize:38,iconSize:53,lineHeight:45,letterSpacing:0}]},label:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:9.8,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:11.25,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.75,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:14,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15.5,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]}},Gf={avatar:{sizes:[{distance:-3,size:25},{distance:-6,size:35},{distance:-9,size:55}]},button:{textWeight:"medium"},color:WZe,container:[320,640,960,1280,1600,1920],focusRing:{offset:1,width:2},fonts:YZe,media:[360,600,900,1200,1800,2400],radius:[0,1,3,6,9,12,21],shadows:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-1],penumbra:[0,6,10,0],ambient:[0,1,18,0]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{checkbox:{size:17},radio:{size:17,markSize:9},switch:{width:33,height:17,padding:4,transitionDurationMs:150,transitionTimingFunction:"ease-out"},border:{width:1}}},qZe={dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}};function GZe(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const Xt=GZe(),_$=Symbol.for("@sanity/ui/context/theme");Xt[_$]=Xt[_$]||h.createContext(null);const S$=Xt[_$];function XE(e){const t=h.useContext(S$),{children:n,scheme:r=(t==null?void 0:t.scheme)||"light",theme:o=(t==null?void 0:t.theme)||null,tone:i=(t==null?void 0:t.tone)||"default"}=e,s=h.useMemo(()=>{if(!o)return null;const{color:c,layer:u,...d}=o,f=c[r]||c.light,p=f[i]||f.default;return{sanity:{...d,color:p,layer:u||qZe}}},[r,o,i]),a=h.useMemo(()=>o&&{version:0,theme:o,scheme:r,tone:i},[o,r,i]);return s?l.jsx(S$.Provider,{value:a,children:l.jsx(ZLe,{theme:s,children:n})}):l.jsx("pre",{children:'ThemeProvider: no "theme" property provided'})}function M0(e){return!!(e&&typeof e=="object")}function F0(){const e=h.useContext(S$);if(!e)throw new Error("useRootTheme(): missing context value");if(!M0(e)||e.version!==0)throw new Error("useRootTheme(): the context value is not compatible");return e}function jCe(e){const{children:t,scheme:n,tone:r}=e,o=F0();return l.jsx(XE,{scheme:n||o.scheme,theme:o.theme,tone:r,children:t})}function Rs(){return b1e()}const GW=new WeakMap;function KZe(e,t){return t===0?"screen and (max-width: ".concat(e[t]-1,"px)"):t===e.length?"screen and (min-width: ".concat(e[t-1],"px)"):"screen and (min-width: ".concat(e[t-1],"px) and (max-width: ").concat(e[t]-1,"px)")}function ZZe(e){const t=e.length;let n;const r=()=>{if(!n){n=[];for(let s=t;s>-1;s-=1){const a=KZe(e,s);n.push({index:s,mq:window.matchMedia(a)})}}return n};return{getSnapshot:()=>{for(const{index:s,mq:a}of r())if(a.matches)return s;return 0},subscribe:s=>{const a=[];for(const{mq:c}of r()){const u=()=>{c.matches&&s()};c.addEventListener("change",u),a.push(()=>c.removeEventListener("change",u))}return()=>{for(const c of a)c()}}}}function XZe(){return 0}function Om(){const e=Rs(),{media:t}=e.sanity;let n=GW.get(t);return n||(n=ZZe(t),GW.set(t,n)),h.useSyncExternalStore(n.subscribe,n.getSnapshot,XZe)}let XI;function TCe(){return XI||(XI=window.matchMedia("(prefers-color-scheme: dark)")),XI}function QZe(e){const t=TCe();return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}function JZe(){return TCe().matches}function eXe(){return!1}function tXe(){return h.useSyncExternalStore(QZe,JZe,eXe)}const nXe=typeof window<"u"?h.useLayoutEffect:h.useEffect;function cr(e){const t=h.useRef(null);return nXe(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}function Fw(e,t){h.useEffect(()=>{e.current&&e.current.setCustomValidity(t||"")},[t,e])}const Lw="1px solid var(--card-border-color)";function rXe(){return[oXe,iXe,sXe,aXe,lXe]}function oXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$border,r=>r?{"&&":{border:Lw}}:{"&&":{border:0}})}function iXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$borderTop,r=>r?{"&&":{borderTop:Lw}}:{"&&":{borderTop:0}})}function sXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$borderRight,r=>r?{"&&":{borderRight:Lw}}:{"&&":{borderRight:0}})}function aXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$borderBottom,r=>r?{"&&":{borderBottom:Lw}}:{"&&":{borderBottom:0}})}function lXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$borderLeft,r=>r?{"&&":{borderLeft:Lw}}:{"&&":{borderLeft:0}})}const cXe={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},uXe={content:"content-box",border:"border-box"},dXe={stretch:"stretch",fill:"100%"};function fXe(){return cXe}function hXe(){return[mXe,gXe,vXe,pXe]}function pXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$display,r=>({"&:not([hidden])":{display:r}}))}function mXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$sizing,r=>({boxSizing:uXe[r]}))}function gXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$height,r=>({height:dXe[r]}))}function vXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$overflow,r=>({overflow:r}))}const yXe={"&&:not([hidden])":{display:"flex"}};function bXe(){return[yXe,xXe,wXe,CXe,_Xe,SXe]}function xXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$align,r=>({alignItems:r}))}function wXe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return pt(n,e.$gap,o=>({gap:o?ye(r[o]):void 0}))}function CXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$wrap,r=>({flexWrap:r}))}function _Xe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$justify,r=>({justifyContent:r}))}function SXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$direction,r=>({flexDirection:r}))}const EXe={minWidth:0,minHeight:0};function ACe(){return[EXe,kXe]}function kXe(e){const{theme:t}=e,{media:n}=t.sanity;return e.$flex?pt(n,e.$flex,r=>({flex:r})):Mw}function ko(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Bc(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&ko(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}const jXe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},TXe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},AXe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function DXe(){return[jXe,IXe,OXe,PXe,RXe,$Xe,MXe,FXe,LXe]}function IXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$autoFlow,r=>({gridAutoFlow:r}))}function OXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$autoRows,r=>({gridAutoRows:r&&AXe[r]}))}function PXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$autoCols,r=>({gridAutoColumns:r&&TXe[r]}))}function RXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$columns,r=>({gridTemplateColumns:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function $Xe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$rows,r=>({gridTemplateRows:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function MXe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return pt(n,e.$gap,o=>({gridGap:o?ye(r[o]):void 0}))}function FXe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return pt(n,e.$gapX,o=>({columnGap:o?ye(r[o]):void 0}))}function LXe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return pt(n,e.$gapY,o=>({rowGap:o?ye(r[o]):void 0}))}function BXe(){return[VXe,HXe,UXe,WXe,YXe,qXe]}const NXe={auto:"auto",full:"1 / -1"},zXe={auto:"auto",full:"1 / -1"};function VXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$row,r=>typeof r=="number"?{gridRow:"span ".concat(r," / span ").concat(r)}:{gridRow:NXe[r]})}function HXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$rowStart,r=>({gridRowStart:r}))}function UXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$rowEnd,r=>({gridRowEnd:r}))}function WXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$column,r=>typeof r=="number"?{gridColumn:"span ".concat(r," / span ").concat(r)}:{gridColumn:zXe[r]})}function YXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$columnStart,r=>({gridColumnStart:r}))}function qXe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$columnEnd,r=>({gridColumnEnd:r}))}function c8(e){const{$fontSize:t,$iconLeft:n,$iconRight:r,$padding:o,$space:i,theme:s}=e,{fonts:a,media:c,space:u}=s.sanity,d=Math.max(o.length,i.length,t.length),f=[],p=[],m=[];for(let v=0;v<d;v+=1)m[v]=t[v]===void 0?m[v-1]:t[v],f[v]=o[v]===void 0?f[v-1]:o[v],p[v]=i[v]===void 0?p[v-1]:i[v];return pt(c,f,(v,g)=>{const y=a.text.sizes[m[g]]||a.text.sizes[2],x=y.lineHeight-y.ascenderHeight-y.descenderHeight,b=u[f[g]],w=u[p[g]],C={paddingTop:ye(b-y.ascenderHeight),paddingRight:ye(b),paddingBottom:ye(b-y.descenderHeight),paddingLeft:ye(b)};return r&&(C.paddingRight=ye(b+x+w)),n&&(C.paddingLeft=ye(b+x+w)),C})}function GXe(e){return c8({...e,$iconRight:!0})}var KW=Object.freeze,KXe=Object.defineProperty,u8=(e,t)=>KW(KXe(e,"raw",{value:KW(t||e.slice())})),ZW,XW,QW;const ZXe=he(ZW||(ZW=u8([`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`])));function DCe(){return ZXe}function ICe(e){const{theme:t,$scheme:n,$tone:r,$weight:o}=e,i=t.sanity.fonts.text,s=t.sanity.color.input;return he(XW||(XW=u8([`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: `,`;
    font-weight: `,`;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chrome’s autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='`,"'][data-tone='",`'] {
      --input-fg-color: `,`;
      --input-placeholder-color: `,`;

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* invalid */
      &:invalid {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }
    }
  `])),i.family,o&&i.weights[o]||i.weights.regular,n,r,s.default.enabled.fg,s.default.enabled.placeholder,s.default.enabled.fg,s.default.enabled.placeholder,s.default.disabled.fg,s.default.disabled.placeholder,s.invalid.enabled.fg,s.invalid.enabled.placeholder,s.default.readOnly.fg,s.default.readOnly.placeholder)}function OCe(e){const{theme:t}=e,{fonts:n,media:r}=t.sanity;return pt(r,e.$fontSize,o=>{const i=n.text.sizes[o]||n.text.sizes[2];return{fontSize:ye(i.fontSize),lineHeight:i.lineHeight/i.fontSize}})}function PCe(e){const{$hasPrefix:t,$hasSuffix:n,$scheme:r,$tone:o,theme:i}=e,{focusRing:s,input:a}=i.sanity,c=i.sanity.color.input;return he(QW||(QW=u8([`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: `,`;
    border-bottom-left-radius: `,`;
    border-top-right-radius: `,`;
    border-bottom-right-radius: `,`;

    &[data-scheme='`,"'][data-tone='",`'] {
      --card-bg-color: `,`;
      --card-fg-color: `,`;

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: `,`;
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: `,`;
        --card-fg-color: `,`;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: `,`;
        }

        &:not([data-border]) {
          --input-box-shadow: `,`;
        }
      }

      /* disabled */
      *:disabled + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* readOnly */
      *:read-only + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: `,`;
          --card-fg-color: `,`;
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: `,`;
        }
      }
    }
  `])),t?0:void 0,t?0:void 0,n?0:void 0,n?0:void 0,r,o,c.default.enabled.bg,c.default.enabled.fg,ko({color:c.default.enabled.border,width:a.border.width}),c.invalid.enabled.bg,c.invalid.enabled.fg,ko({color:c.invalid.enabled.border,width:a.border.width}),Bc({border:{color:c.default.enabled.border,width:a.border.width},focusRing:s}),Bc({focusRing:s}),c.default.disabled.bg,c.default.disabled.fg,ko({color:c.default.disabled.border,width:a.border.width}),c.default.readOnly.bg,c.default.readOnly.fg,c.default.hovered.bg,c.default.hovered.fg,ko({color:c.default.hovered.border,width:a.border.width}))}function XXe(e){const{theme:t}=e;return[bs(t,["margin"],e.$margin),bs(t,["marginLeft","marginRight"],e.$marginX),bs(t,["marginTop","marginBottom"],e.$marginY),bs(t,["marginTop"],e.$marginTop),bs(t,["marginRight"],e.$marginRight),bs(t,["marginBottom"],e.$marginBottom),bs(t,["marginLeft"],e.$marginLeft)].filter(Boolean)}function RCe(e){const{theme:t}=e;return[bs(t,["padding"],e.$padding),bs(t,["paddingLeft","paddingRight"],e.$paddingX),bs(t,["paddingTop","paddingBottom"],e.$paddingY),bs(t,["paddingTop"],e.$paddingTop),bs(t,["paddingRight"],e.$paddingRight),bs(t,["paddingBottom"],e.$paddingBottom),bs(t,["paddingLeft"],e.$paddingLeft)].filter(Boolean)}function vd(e){const{theme:t}=e,{media:n,radius:r}=t.sanity;return pt(n,e.$radius,o=>({borderRadius:ye(r[o])}))}function QI(e,t){return"".concat(e.map(ye).join(" ")," ").concat(t)}function QXe(e){if(!e)return If;const t="0 0 0 ".concat(ye(1)," var(--card-shadow-outline-color)"),n=QI(e.umbra,"var(--card-shadow-umbra-color)"),r=QI(e.penumbra,"var(--card-shadow-penumbra-color)"),o=QI(e.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:"".concat(t,", ").concat(n,", ").concat(r,", ").concat(o)}}function JXe(e){const{theme:t}=e,{media:n,shadows:r}=t.sanity;return pt(n,e.$shadow,o=>QXe(r[o]))}var JW=Object.freeze,eQe=Object.defineProperty,JI=(e,t)=>JW(eQe(e,"raw",{value:JW(t||e.slice())})),eY,tY,nY;function tQe(e){const{$accent:t,$muted:n,theme:r}=e,{weights:o}=r.sanity.fonts.text;return he(nY||(nY=JI([`
    color: var(--card-fg-color);

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: `,`;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&he(eY||(eY=JI([`
      color: var(--card-accent-fg-color);
    `]))),n&&he(tY||(tY=JI([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family,o.bold)}var rY=Object.freeze,nQe=Object.defineProperty,rQe=(e,t)=>rY(nQe(e,"raw",{value:rY(t||e.slice())})),oY;const oQe=P.div(tZe,a8,tQe),iQe=P.span(oY||(oY=rQe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),L=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"&&(f=l.jsx(iQe,{children:f})),l.jsx(oQe,{"data-ui":"Text",...d,$accent:r,$align:Ce(o),$muted:s,ref:n,$size:Ce(a),$weight:u,children:l.jsx("span",{children:f})})}),Bw={root:aQe,arrow:sQe,bgStroke:uQe,stroke:dQe,initials:cQe};function sQe(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function aQe(e){const{$color:t,theme:n}=e,{focusRing:r}=n.sanity;return{backgroundColor:t,position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:Bc({focusRing:r})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function lQe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return pt(r,e.$size,o=>{const i=n.sizes[o]||n.sizes[0];return{width:ye(i.size),height:ye(i.size),borderRadius:ye(i.size/2),"&>svg":{width:ye(i.size),height:ye(i.size),borderRadius:ye(i.size/2)}}})}function cQe(e){const{theme:t}=e,{base:n}=t.sanity.color;return{width:"100%",height:"100%",color:n.fg,alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function uQe(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function dQe(){return{strokeWidth:"3px",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const fQe=P.div(lQe,Bw.root),hQe=P.div(Bw.arrow),pQe=P.ellipse(Bw.bgStroke),mQe=P.ellipse(Bw.stroke),gQe=P.div(Bw.initials),$Ce=h.forwardRef(function(t,n){const{as:r,color:o="gray",src:i,title:s,initials:a,onImageLoadError:c,arrowPosition:u,animateArrowFrom:d,status:f="online",size:p=0,...m}=t,v=aLe.isValidElementType(r)?r:"div",g=Ce(p),y=Rs(),x=y.sanity.color.spot[o]||y.sanity.color.spot.gray,w=(y.sanity.avatar.sizes[g[0]]||y.sanity.avatar.sizes[0]).size,C=w/2,_=h.useId(),[S,E]=h.useState(d||u||"inside"),[j,k]=h.useState(!1),T="avatar-image-".concat(_);h.useEffect(()=>{if(S===u)return;const I=requestAnimationFrame(()=>E(u));return()=>cancelAnimationFrame(I)},[S,u]),h.useEffect(()=>{i&&k(!1)},[i]);const A=h.useCallback(()=>{k(!0),c&&c(new Error("Avatar: the image failed to load"))},[c]),D=h.useMemo(()=>g.map(I=>I===0?0:I+1),[g]);return l.jsxs(fQe,{as:v,"data-as":typeof v=="string"?v:void 0,"data-ui":"Avatar",...m,$size:g,$color:x,"aria-label":s,"data-arrow-position":S,"data-status":f,ref:n,title:s,children:[l.jsx(hQe,{children:l.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:l.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:x})})}),!j&&i&&l.jsxs("svg",{viewBox:"0 0 ".concat(w," ").concat(w),fill:"none",children:[l.jsx("defs",{children:l.jsx("pattern",{id:T,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:l.jsx("image",{href:i,width:"1",height:"1",onError:A})})}),l.jsx("circle",{cx:C,cy:C,r:C,fill:"url(#".concat(T,")")}),l.jsx(pQe,{cx:C,cy:C,rx:C,ry:C,vectorEffect:"non-scaling-stroke"}),l.jsx(mQe,{cx:C,cy:C,rx:C,ry:C,stroke:x,vectorEffect:"non-scaling-stroke"})]}),(j||!i)&&a&&l.jsx(l.Fragment,{children:l.jsx(gQe,{children:l.jsx(L,{as:"span",size:D,children:l.jsx("strong",{children:a})})})})]})});var iY=Object.freeze,vQe=Object.defineProperty,yQe=(e,t)=>iY(vQe(e,"raw",{value:iY(t||e.slice())})),sY;function bQe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return pt(r,e.$size,o=>{const i=n.sizes[o];return i?{borderRadius:ye(i.size/2),minWidth:ye(i.size),height:ye(i.size)}:If})}function xQe(e){const{theme:t}=e;return he(sY||(sY=yQe([`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1.5px var(--card-hairline-hard-color);
    padding: 0 `,`;

    &:not([hidden]) {
      display: flex;
    }
  `])),ye(t.sanity.space[2]))}const wQe=P.div(bQe,xQe),E$=h.forwardRef(function(t,n){const{count:r,size:o=0}=t,i=Ce(o),s=h.useMemo(()=>i.map(a=>a===0?0:a+1),[i]);return l.jsx(wQe,{$size:i,"data-ui":"AvatarCounter",ref:n,children:l.jsx(L,{as:"span",size:s,children:l.jsx("strong",{children:r})})})});function MCe(e){return(Array.isArray(e)?e:[e]).filter(n=>Di.isElement(n)||Di.isFragment(n)||typeof n=="string")}var aY=Object.freeze,CQe=Object.defineProperty,_Qe=(e,t)=>aY(CQe(e,"raw",{value:aY(t||e.slice())})),lY;const SQe=he(lY||(lY=_Qe([`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`])));function EQe(){return SQe}function kQe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return pt(r,e.$size,o=>{const i=n.sizes[o];return i?{"& > div + div":{marginLeft:ye(i.distance)}}:If})}const jQe=P.div(kQe,EQe),nT=h.forwardRef(function(t,n){const{children:r,maxLength:o=4,size:i=0,...s}=t,a=MCe(r).filter(v=>typeof v!="string"),c=Math.max(o,0),u=Ce(i),d=a.length,f=c-1,p=d-f,m=p>1?a.slice(p,d):a;return l.jsxs(jQe,{"data-ui":"AvatarStack",...s,ref:n,$size:u,children:[d===0&&l.jsx("div",{children:l.jsx(E$,{count:d})}),d!==0&&p>1&&l.jsx("div",{children:l.jsx(E$,{count:p,size:u})}),m.map((v,g)=>l.jsx("div",{children:h.cloneElement(v,{size:u})},String(g)))]})}),TQe=P.div(fXe,ACe,hXe,BXe,XXe,RCe),M=h.forwardRef(function(t,n){const{as:r="div",column:o,columnStart:i,columnEnd:s,display:a="block",flex:c,height:u,margin:d=0,marginX:f,marginY:p,marginTop:m,marginRight:v,marginBottom:g,marginLeft:y,overflow:x,padding:b=0,paddingX:w,paddingY:C,paddingTop:_,paddingRight:S,paddingBottom:E,paddingLeft:j,row:k,rowStart:T,rowEnd:A,sizing:D,...I}=t;return l.jsx(TQe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Box",...I,$column:Ce(o),$columnStart:Ce(i),$columnEnd:Ce(s),$display:Ce(a),$flex:Ce(c),$height:Ce(u),$margin:Ce(d),$marginX:Ce(f),$marginY:Ce(p),$marginTop:Ce(m),$marginRight:Ce(v),$marginBottom:Ce(g),$marginLeft:Ce(y),$overflow:Ce(x),$padding:Ce(b),$paddingX:Ce(w),$paddingY:Ce(C),$paddingTop:Ce(_),$paddingRight:Ce(S),$paddingBottom:Ce(E),$paddingLeft:Ce(j),$row:Ce(k),$rowStart:Ce(T),$rowEnd:Ce(A),$sizing:Ce(D),as:r,ref:n,children:t.children})});var cY=Object.freeze,AQe=Object.defineProperty,eO=(e,t)=>cY(AQe(e,"raw",{value:cY(t||e.slice())})),uY,dY,fY;function DQe(e){const{$accent:t,$muted:n,theme:r}=e,{fonts:o}=r.sanity;return he(fY||(fY=eO([`
    text-transform: uppercase;

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&he(uY||(uY=eO([`
      color: var(--card-accent-fg-color);
    `]))),n&&he(dY||(dY=eO([`
      color: var(--card-muted-fg-color);
    `]))),o.code.family)}var hY=Object.freeze,IQe=Object.defineProperty,OQe=(e,t)=>hY(IQe(e,"raw",{value:hY(t||e.slice())})),pY;const PQe=P.div(eZe,a8,DQe),RQe=P.span(pY||(pY=OQe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Vt=h.forwardRef(function(t,n){const{accent:r,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"?f=l.jsx(RQe,{children:f}):f=l.jsx("span",{children:f}),l.jsx(PQe,{"data-ui":"Label",...d,$accent:r,$align:Ce(o),$muted:s,$size:Ce(a),$weight:u,ref:n,children:f})});function $Qe(e){const{$mode:t,$tone:n,theme:r}=e,o=r.sanity.color[t==="outline"?"muted":"solid"],i=o[n]||o.default;return{backgroundColor:i.enabled.bg,color:i.enabled.fg,boxShadow:"inset 0 0 0 1px ".concat(i.enabled.border),cursor:"default","&:not([hidden])":{display:"inline-block"}}}const MQe=P(M)(vd,$Qe),d8=h.forwardRef(function(t,n){const{children:r,fontSize:o,mode:i="default",padding:s=1,radius:a=2,tone:c="default",...u}=t;return l.jsx(MQe,{"data-ui":"Badge",...u,$mode:i,$tone:c,$radius:Ce(a),padding:Ce(s),ref:n,children:l.jsx(Vt,{size:o,children:r})})}),FQe=P(M)(ACe,bXe),U=h.forwardRef(function(t,n){const{align:r,as:o,direction:i="row",gap:s,justify:a,wrap:c,...u}=t;return l.jsx(FQe,{"data-ui":"Flex",...u,$align:Ce(r),$direction:Ce(i),$gap:Ce(s),$justify:Ce(a),$wrap:Ce(c),forwardedAs:o,ref:n})});var mY=Object.freeze,LQe=Object.defineProperty,FCe=(e,t)=>mY(LQe(e,"raw",{value:mY(t||e.slice())})),gY,vY;const BQe=Em(gY||(gY=FCe([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),NQe=P(L)(vY||(vY=FCe([`
  & > span > svg {
    animation: `,` 500ms linear infinite;
  }
`])),BQe),ur=h.forwardRef(function(t,n){return l.jsx(NQe,{"data-ui":"Spinner",...t,ref:n,children:l.jsx(xw,{})})});function zt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var r,o,i,s,a,c,u,d;return{"--card-shadow-outline-color":e.shadow.outline,"--card-shadow-umbra-color":e.shadow.umbra,"--card-shadow-penumbra-color":e.shadow.penumbra,"--card-shadow-ambient-color":e.shadow.ambient,"--card-focus-ring-color":e.focusRing,"--card-bg-color":t.bg,"--card-bg-image":n?"repeating-conic-gradient(".concat(t.bg," 0% 25%, ").concat(t.bg2||t.bg," 0% 50%)"):void 0,"--card-fg-color":t.fg,"--card-border-color":t.border,"--card-muted-fg-color":(r=t.muted)==null?void 0:r.fg,"--card-accent-fg-color":(o=t.accent)==null?void 0:o.fg,"--card-link-fg-color":(i=t.link)==null?void 0:i.fg,"--card-code-bg-color":(s=t.code)==null?void 0:s.bg,"--card-code-fg-color":(a=t.code)==null?void 0:a.fg,"--card-skeleton-color-from":(c=t.skeleton)==null?void 0:c.from,"--card-skeleton-color-to":(u=t.skeleton)==null?void 0:u.to,"--card-link-color":(d=t.link)==null?void 0:d.fg,"--card-hairline-soft-color":t.border,"--card-hairline-hard-color":t.border}}var yY=Object.freeze,zQe=Object.defineProperty,VQe=(e,t)=>yY(zQe(e,"raw",{value:yY(t||e.slice())})),bY;function HQe(){return he(bY||(bY=VQe([`
    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `])))}const UQe={border:{width:1}};function WQe(e){var t,n;const{$mode:r,theme:o}=e,{focusRing:i}=o.sanity,s=o.sanity.color.base,a=o.sanity.color.button[r]||o.sanity.color.button.default,c=a[e.$tone]||a.default,u={width:UQe.border.width,color:"var(--card-border-color)"};return[zt(s,c.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:ko(u),'&:disabled, &[data-disabled="true"]':zt(s,c.disabled),"&:not([data-disabled='true'])":{"&:focus":{boxShadow:Bc({base:s,border:u,focusRing:i})},"&:focus:not(:focus-visible)":{boxShadow:ko(u)},"@media (hover: hover)":{"&:hover":zt(s,c.hovered),"&:active":zt(s,c.pressed),"&[data-hovered]":zt(s,c.hovered)},"&[data-selected]":zt(s,c.pressed)}},(n=(t=o.sanity.styles)==null?void 0:t.button)==null?void 0:n.root].filter(Boolean)}var xY=Object.freeze,YQe=Object.defineProperty,qQe=(e,t)=>xY(YQe(e,"raw",{value:xY(t||e.slice())})),wY;const GQe=P.button(vd,HQe,WQe),KQe=P.div(wY||(wY=qQe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`]))),se=h.forwardRef(function(t,n){const{children:r,disabled:o,fontSize:i,icon:s,iconRight:a,justify:c="center",loading:u,mode:d="default",padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingBottom:g,paddingLeft:y,paddingRight:x,radius:b=2,selected:w,space:C=3,text:_,textAlign:S,tone:E="default",type:j="button",...k}=t,T=Ce(c),A=Ce(f),D=Ce(p),I=Ce(m),O=Ce(v),$=Ce(g),R=Ce(y),V=Ce(x),N=Ce(b),W=Ce(C),q=Rs(),H=h.useMemo(()=>({padding:A,paddingX:D,paddingY:I,paddingTop:O,paddingBottom:$,paddingLeft:R,paddingRight:V}),[A,D,I,O,$,R,V]);return l.jsxs(GQe,{"data-ui":"Button",...k,$mode:d,$radius:N,$tone:E,"data-disabled":!!(u||o),"data-selected":w?"":void 0,disabled:!!(u||o),ref:n,type:j,children:[!!u&&l.jsx(KQe,{children:l.jsx(ur,{})}),(s||_||a)&&l.jsx(M,{as:"span",...H,children:l.jsxs(U,{as:"span",justify:T,children:[s&&l.jsxs(L,{size:i,children:[h.isValidElement(s)&&s,Di.isValidElementType(s)&&h.createElement(s)]}),_&&l.jsx(M,{flex:a?1:void 0,marginLeft:s?W:void 0,marginRight:a?W:void 0,children:l.jsx(L,{align:S,size:i,textOverflow:"ellipsis",weight:q.sanity.button.textWeight,children:_})}),a&&l.jsxs(L,{size:i,children:[h.isValidElement(a)&&a,Di.isValidElementType(a)&&h.createElement(a)]})]})}),r&&l.jsx(M,{as:"span",...H,children:r})]})});var CY=Object.freeze,ZQe=Object.defineProperty,k$=(e,t)=>CY(ZQe(e,"raw",{value:CY(t||e.slice())})),_Y,SY,EY;function XQe(e){return[QQe(e),JQe(e)]}function QQe(e){const{$checkered:t,theme:n}=e,r=n.sanity.space;return he(SY||(SY=k$([`
    `,`

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `])),t&&he(_Y||(_Y=k$([`
      background-size: `,"px ",`px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `])),r[3],r[3]))}function JQe(e){var t,n;const{$checkered:r,$focusRing:o,theme:i}=e,{focusRing:s}=i.sanity,{base:a,card:c,dark:u}=i.sanity.color,d={width:0,color:"var(--card-border-color)"};return he(EY||(EY=k$([`
    color-scheme: `,`;

    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    `,`
  `])),u?"dark":"light",zt(a,c.enabled,r),zt(a,c.disabled,r),zt(a,c.pressed,r),zt(a,c.selected,r),zt(a,c.hovered,r),zt(a,c.pressed,r),o?Bc({base:a,border:d,focusRing:s}):void 0,o?ko(d):void 0,zt(a,c.disabled,r),zt(a,c.pressed,r),zt(a,c.selected,r),zt(a,c.hovered,r),zt(a,c.pressed,r),o?Bc({base:a,border:d,focusRing:s}):void 0,o?ko(d):void 0,(n=(t=i.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const eJe=P(M)(rXe,vd,JXe,XQe),ee=h.forwardRef(function(t,n){const{__unstable_checkered:r=!1,__unstable_focusRing:o=!1,as:i,border:s,borderTop:a,borderRight:c,borderBottom:u,borderLeft:d,pressed:f,radius:p=0,scheme:m,selected:v,shadow:g,tone:y="default",...x}=t,b=Di.isValidElementType(i)?i:"div",w=F0(),C=y==="inherit"?w.tone:y;return l.jsx(jCe,{scheme:m,tone:C,children:l.jsx(eJe,{"data-as":typeof b=="string"?b:void 0,"data-scheme":w.scheme,"data-ui":"Card","data-tone":C,...x,$border:Ce(s),$borderTop:Ce(a),$borderRight:Ce(c),$borderBottom:Ce(u),$borderLeft:Ce(d),$checkered:r,$focusRing:o,$radius:Ce(p),$shadow:Ce(g),$tone:C,"data-checkered":r?"":void 0,"data-pressed":f?"":void 0,"data-selected":v?"":void 0,forwardedAs:b,ref:n,selected:v})})});var kY=Object.freeze,tJe=Object.defineProperty,LCe=(e,t)=>kY(tJe(e,"raw",{value:kY(t||e.slice())})),jY,TY;function nJe(){return he(jY||(jY=LCe([`
    position: relative;
    display: inline-block;
  `])))}function rJe(e){const{theme:t}=e,n=t.sanity.color.input,{focusRing:r,input:o,radius:i}=t.sanity;return he(TY||(TY=LCe([`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: `,`;
      width: `,`;
      box-sizing: border-box;
      box-shadow: `,`;
      border-radius: `,`;
      line-height: 1;
      background-color: `,`;

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 2 !important;
        }
      }
    }

    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }

    &[data-read-only] + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:not([data-read-only]):disabled + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `])),ye(o.checkbox.size),ye(o.checkbox.size),ko({color:n.default.enabled.border,width:o.border.width}),ye(i[2]),n.default.enabled.bg,Bc({border:{width:o.border.width,color:n.default.enabled.border},focusRing:r}),ko({color:n.default.enabled.border,width:o.border.width}),n.default.readOnly.bg,ko({width:o.border.width,color:n.default.readOnly.border}),n.default.readOnly.fg,n.default.disabled.bg,ko({width:o.border.width,color:n.default.disabled.border}),n.default.disabled.fg)}const oJe=P.div(nJe),iJe=P.input(rJe),rT=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,customValidity:a,readOnly:c,style:u,...d}=t,f=cr(n);return Fw(f,a),h.useEffect(()=>{f.current&&(f.current.indeterminate=s||!1)},[s,f]),l.jsxs(oJe,{className:o,"data-ui":"Checkbox",style:u,children:[l.jsx(iJe,{"data-read-only":!i&&c?"":void 0,...d,checked:r,disabled:i||c,type:"checkbox",readOnly:c,ref:f}),l.jsxs("span",{children:[l.jsx(sa,{}),l.jsx(Y1e,{})]})]})});var AY=Object.freeze,sJe=Object.defineProperty,aJe=(e,t)=>AY(sJe(e,"raw",{value:AY(t||e.slice())})),DY;function lJe(e){let{theme:t}=e;const n=t.sanity.color.syntax;return{"&.atrule":{color:n.atrule},"&.attr-name":{color:n.attrName},"&.attr-value":{color:n.attrValue},"&.attribute":{color:n.attribute},"&.boolean":{color:n.boolean},"&.builtin":{color:n.builtin},"&.cdata":{color:n.cdata},"&.char":{color:n.char},"&.class":{color:n.class},"&.class-name":{color:n.className},"&.comment":{color:n.comment},"&.constant":{color:n.constant},"&.deleted":{color:n.deleted},"&.doctype":{color:n.doctype},"&.entity":{color:n.entity},"&.function":{color:n.function},"&.hexcode":{color:n.hexcode},"&.id":{color:n.id},"&.important":{color:n.important},"&.inserted":{color:n.inserted},"&.keyword":{color:n.keyword},"&.number":{color:n.number},"&.operator":{color:n.operator},"&.prolog":{color:n.prolog},"&.property":{color:n.property},"&.pseudo-class":{color:n.pseudoClass},"&.pseudo-element":{color:n.pseudoElement},"&.punctuation":{color:n.punctuation},"&.regex":{color:n.regex},"&.selector":{color:n.selector},"&.string":{color:n.string},"&.symbol":{color:n.symbol},"&.tag":{color:n.tag},"&.unit":{color:n.unit},"&.url":{color:n.url},"&.variable":{color:n.variable}}}function cJe(){return he(DY||(DY=aJe([`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        `,`
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),lJe)}const uJe=P.pre(cJe,QKe),ir=h.forwardRef(function(t,n){const{children:r,language:o,size:i=2,weight:s,...a}=t,c=typeof o=="string"?o:void 0,u=c?Gp.hasLanguage(c):!1;return l.jsxs(uJe,{"data-ui":"Code",...a,$size:Ce(i),$weight:s,ref:n,children:[!(c&&u)&&l.jsx("code",{children:r}),c&&u&&l.jsx(Gp,{inline:!0,language:c,value:String(r)})]})}),dJe={width:"100%",margin:"0 auto"};function fJe(){return dJe}function hJe(e){const{theme:t}=e,{container:n,media:r}=t.sanity;return pt(r,e.$width,o=>({maxWidth:o==="auto"?"none":ye(n[o])}))}const pJe=P(M)(fJe,hJe),Qr=h.forwardRef(function(t,n){const{as:r,width:o=2,...i}=t;return l.jsx(pJe,{"data-ui":"Container",...i,$width:Ce(o),forwardedAs:r,ref:n})}),mJe=P(M)(DXe),Qt=h.forwardRef(function(t,n){const{as:r,autoRows:o,autoCols:i,autoFlow:s,columns:a,gap:c,gapX:u,gapY:d,rows:f,children:p,...m}=t;return l.jsx(mJe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Grid",...m,$autoRows:Ce(o),$autoCols:Ce(i),$autoFlow:Ce(s),$columns:Ce(a),$gap:Ce(c),$gapX:Ce(u),$gapY:Ce(d),$rows:Ce(f),forwardedAs:r,ref:n,children:p})});var IY=Object.freeze,gJe=Object.defineProperty,tO=(e,t)=>IY(gJe(e,"raw",{value:IY(t||e.slice())})),OY,PY,RY;function vJe(e){const{$accent:t,$muted:n,theme:r}=e;return he(RY||(RY=tO([`
    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&he(OY||(OY=tO([`
      color: var(--card-accent-fg-color);
    `]))),n&&he(PY||(PY=tO([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family)}var $Y=Object.freeze,yJe=Object.defineProperty,bJe=(e,t)=>$Y(yJe(e,"raw",{value:$Y(t||e.slice())})),MY;const xJe=P.div(vJe,a8,JKe),wJe=P.span(MY||(MY=bJe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Uo=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"&&(f=l.jsx(wJe,{children:f})),l.jsx(xJe,{"data-ui":"Heading",...d,$accent:r,$align:Ce(o),$muted:s,$size:Ce(a),$weight:u,ref:n,children:l.jsx("span",{children:f})})});function CJe(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function _Je(e){const{theme:t}=e;return pt(t.sanity.media,e.$space,n=>{const r=ye(t.sanity.space[n]);return{margin:"-".concat(r," 0 0 -").concat(r),"& > div":{padding:"".concat(r," 0 0 ").concat(r)}}})}const SJe=P(M)(CJe,_Je),qt=h.forwardRef(function(t,n){const{as:r,children:o,space:i,...s}=t,a=h.useMemo(()=>MCe(o).filter(Boolean).map((c,u)=>l.jsx("div",{children:c},u)),[o]);return l.jsx(SJe,{"data-ui":"Inline",...s,$space:Ce(i),forwardedAs:r,ref:n,children:a})});var FY=Object.freeze,EJe=Object.defineProperty,kJe=(e,t)=>FY(EJe(e,"raw",{value:FY(t||e.slice())})),LY;function jJe(){return he(LY||(LY=kJe([`
    background: var(--card-bg-color);
    font: inherit;
    box-shadow: inset 0 0 0 1px var(--card-hairline-hard-color);

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}const TJe=P.kbd(vd,jJe),j$=h.forwardRef(function(t,n){const{children:r,fontSize:o=1,padding:i=1,radius:s=2,...a}=t;return l.jsx(TJe,{"data-ui":"KBD",...a,$radius:Ce(s),ref:n,children:l.jsx(M,{as:"span",padding:i,children:l.jsx(ir,{as:"span",muted:!0,size:o,children:r})})})}),T$=Symbol.for("@sanity/ui/context/boundaryElement");Xt[T$]=Xt[T$]||h.createContext(null);const BCe=Xt[T$];function Xu(e){const{children:t,element:n}=e,r=h.useMemo(()=>({version:0,element:n}),[n]);return l.jsx(BCe.Provider,{value:r,children:t})}const AJe={version:0,element:null};function hh(){const e=h.useContext(BCe);if(e&&(!M0(e)||e.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return e||AJe}function DJe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]>t&&n.push(r);return n}function IJe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]<=t&&n.push(r);return n}const OJe=h.forwardRef(function(t,n){const r=Rs(),{children:o,media:i=r.sanity.media,...s}=t,a=cr(n),[c,u]=h.useState(null),d=tT(c),f=h.useMemo(()=>{var g;return(g=d==null?void 0:d.border.width)!=null?g:window.innerWidth},[d]),p=h.useMemo(()=>DJe(i,f),[i,f]),m=h.useMemo(()=>IJe(i,f),[i,f]),v=h.useCallback(g=>{a.current=g,u(g)},[a]);return l.jsx("div",{"data-ui":"ElementQuery",...s,"data-eq-max":p.length?p.join(" "):void 0,"data-eq-min":m.length?m.join(" "):void 0,ref:v,children:o})});var PJe=Object.defineProperty,RJe=(e,t,n)=>t in e?PJe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$Je=(e,t,n)=>(RJe(e,typeof t!="symbol"?t+"":t,n),n);class L0 extends h.Component{constructor(){super(...arguments),$Je(this,"state",{error:null})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){this.props.onCatch({error:t,info:n})}render(){const{error:t}=this.state;if(t){const n=typeof(t==null?void 0:t.message)=="string"?t.message:"Error";return l.jsx(ir,{children:n})}return this.props.children}}function NCe(e){if(!M0(e)||e.version!==0)throw new Error("the context value is not compatible");if(!e)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(e.version===0)return e;throw new Error("could not get layer context")}const A$=Symbol.for("@sanity/ui/context/layer");Xt[A$]=Xt[A$]||h.createContext(null);const D$=Xt[A$];function rl(){const e=h.useContext(D$);if(!e)throw new Error("useLayer(): missing context value");try{return NCe(e)}catch(t){throw t instanceof Error?new Error("useLayer(): ".concat(t.message)):new Error("useLayer(): ".concat(t))}}function I$(e){const t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}}function MJe(e){let t=null;const n=I$(()=>{t=I$(e)});return()=>{t&&t(),n()}}function FJe(e){return f8(e)||h8(e)}function Yc(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}function f8(e){return Yc(e)&&e.nodeName==="A"}function LJe(e){return Yc(e)&&e.nodeName==="INPUT"}function h8(e){return Yc(e)&&e.nodeName==="BUTTON"}function BJe(e){return Yc(e)&&e.nodeName==="SELECT"}function NJe(e){return Yc(e)&&e.nodeName==="TEXTAREA"}function O$(e,t){return e.contains(t)||e===t}function zJe(e){return!!document.activeElement&&e.contains(document.activeElement)}function VJe(e){return e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null?!0:f8(e)?!!e.href&&e.rel!=="ignore":LJe(e)?e.type!=="hidden"&&e.type!=="file"&&!e.disabled:h8(e)||BJe(e)||NJe(e)?!e.disabled:!1}function zCe(e){if(!VJe(e))return!1;try{e.focus()}catch{}return document.activeElement===e}function nm(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(Yc(n)&&(zCe(n)||nm(n)))return!0}return!1}function p8(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(Yc(n)&&(zCe(n)||p8(n)))return!0}return!1}function HJe(e){if(!(e instanceof Element))return!1;const t=window.getComputedStyle(e);return t.overflowX.includes("auto")||t.overflowX.includes("scroll")||t.overflowY.includes("auto")||t.overflowY.includes("scroll")}function Qu(e){var t;const{children:n,zOffset:r=0}=e,o=h.useContext(D$),i=o&&NCe(o),s=i==null?void 0:i.registerChild,c=((t=i==null?void 0:i.level)!=null?t:0)+1,u=Ce(r),d=u.length-1,f=Math.min(Om(),d),p=i?i.zIndex+u[f]:u[f],[,m]=h.useState({}),[v,g]=h.useState(0),y=v===0,x=h.useCallback(w=>{const C=s==null?void 0:s(w);return w!==void 0?m(_=>{var S;const E=(S=_[w])!=null?S:0,j={..._,[w]:E+1};return g(Object.keys(j).length),j}):g(_=>_+1),()=>{w!==void 0?m(_=>{const S={..._};return S[w]===1?(delete S[w],g(Object.keys(S).length)):S[w]-=1,S}):g(_=>_-1),C==null||C()}},[s]);h.useEffect(()=>s==null?void 0:s(c),[c,s]);const b=h.useMemo(()=>({version:0,isTopLayer:y,level:c,registerChild:x,size:v,zIndex:p}),[y,c,x,v,p]);return l.jsx(D$.Provider,{value:b,children:n})}const UJe=P.div({position:"relative"}),WJe=h.forwardRef(function(t,n){const{children:r,onActivate:o,onFocus:i,style:s=If,...a}=t,{zIndex:c,isTopLayer:u}=rl(),d=h.useRef(null),f=cr(n),p=h.useRef(u);h.useEffect(()=>{p.current!==u&&u&&(o==null||o({activeElement:d.current})),p.current=u},[u,o]);const m=h.useCallback(v=>{i==null||i(v);const g=f.current,y=document.activeElement;!u||!g||!y||Yc(y)&&O$(g,y)&&(d.current=y)},[f,u,i]);return l.jsx(UJe,{...a,"data-ui":"Layer",onFocus:m,ref:f,style:{...s,zIndex:c},children:r})}),ss=h.forwardRef(function(t,n){const{children:r,zOffset:o=1,...i}=t;return l.jsx(Qu,{zOffset:o,children:l.jsx(WJe,{...i,ref:n,children:r})})}),P$=Symbol.for("@sanity/ui/context/portal"),Gh=Symbol.for("@sanity/ui/context/portal/element");Xt[Gh]=null;const YJe={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(Xt[Gh]||(Xt[Gh]=document.createElement("div"),Xt[Gh].setAttribute("data-portal",""),document.body.appendChild(Xt[Gh])),Xt[Gh])}};Xt[P$]=Xt[P$]||h.createContext(YJe);const VCe=Xt[P$];function Pm(){const e=h.useContext(VCe);if(!e)throw new Error("usePortal(): missing context value");if(!M0(e)||e.version!==0)throw new Error("usePortal(): the context value is not compatible");return e}function Rm(e){var t;const{children:n,__unstable_name:r}=e,o=Pm(),i=(r?o.elements&&o.elements[r]:o.element)||((t=o.elements)==null?void 0:t.default);return i?_c.createPortal(n,i):null}function qJe(e){const t=h.useRef(e);return GJe(t.current,e)||(t.current=e),t.current}function GJe(e,t){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(o=>e[o]===t[o])}const KJe=typeof document<"u";function yd(e){const{boundaryElement:t,children:n,element:r,__unstable_elements:o}=e,i=qJe(o),s=h.useMemo(()=>({version:0,boundaryElement:t||null,element:r||KJe&&document.body||null,elements:i}),[t,r,i]);return l.jsx(VCe.Provider,{value:s,children:n})}var BY=Object.freeze,ZJe=Object.defineProperty,XJe=(e,t)=>BY(ZJe(e,"raw",{value:BY(t||e.slice())})),NY;const QJe=P.div(NY||(NY=XJe([`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`])));h.forwardRef(function(t,n){const{as:r,children:o}=t;return l.jsx(QJe,{"aria-hidden":!0,as:r,"data-ui":"SrOnly",ref:n,children:o})});var zY=Object.freeze,JJe=Object.defineProperty,HCe=(e,t)=>zY(JJe(e,"raw",{value:zY(t||e.slice())})),VY,HY;const eet=P.div(VY||(VY=HCe([`
  position: relative;
`]))),UY=P.div(HY||(HY=HCe([`
  position: absolute;
  left: 0;
  right: 0;
`])));h.forwardRef(function(t,n){const{as:r="div",gap:o=0,getItemKey:i,items:s=[],onChange:a,renderItem:c,...u}=t,{space:d}=Rs().sanity,f=cr(n),p=h.useRef(null),[m,v]=h.useState(0),[g,y]=h.useState(0),[x,b]=h.useState(-1);h.useEffect(()=>{if(!p.current)return;const k=p.current.firstChild;k instanceof HTMLElement&&b(k.offsetHeight)},[c]),h.useEffect(()=>{if(!f.current)return;let k=f.current.parentNode;for(;k&&!HJe(k);)k=k.parentNode;if(k){const D=k;if(!(D instanceof HTMLElement))return;const I=()=>{v(D.scrollTop)};D.addEventListener("scroll",I,{passive:!0});const O=new ECe($=>{y($[0].contentRect.height)});return O.observe(D),I(),()=>{D.removeEventListener("scroll",I),O.unobserve(D),O.disconnect()}}const T=()=>{v(window.scrollY)},A=()=>{y(window.innerHeight)};return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",A),y(window.innerHeight),T(),()=>{window.removeEventListener("scroll",T),window.removeEventListener("resize",A)}},[f]);const w=s.length,C=x?w*(x+d[o])-d[o]:0,_=C?Math.max(Math.floor(m/C*w)-2,0):0,S=C?Math.ceil((m+g)/C*w)+1:0;h.useEffect(()=>{a&&a({fromIndex:_,gap:d[o],itemHeight:x,scrollHeight:g,scrollTop:m,toIndex:S})},[_,o,x,a,g,m,d,S]);const E=h.useMemo(()=>!c||s.length===0?null:x===-1?[l.jsx(UY,{children:c(s[0])},0)]:s.slice(_,S).map((k,T)=>{const A=_+T,D=c(k),I=i?i(k,A):A;return l.jsx(UY,{style:{top:A*(x+d[o])},children:D},I)}),[_,o,i,x,s,c,d,S]),j=h.useMemo(()=>({height:C}),[C]);return l.jsx(eet,{as:r,"data-ui":"VirtualList",...u,ref:f,children:l.jsx("div",{ref:p,style:j,children:E})})});const tet=4,Sg=4,mc=27,net=11,UCe=[0,0,0,0],ret={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function oet(e){const{apply:t,margins:n,padding:r=0}=e;return{name:"@sanity/ui/size",async fn(o){const{elements:i,placement:s,platform:a,rects:c}=o,{floating:u,reference:d}=c,f=await Wb(o,{altBoundary:!0,boundary:e.boundaryElement||void 0,elementContext:"floating",padding:r,rootBoundary:"viewport"});let p=1/0,m=1/0;const v=u.width,g=u.height;s.includes("top")&&(p=v-(f.left+f.right),m=g-f.top),s.includes("right")&&(p=v-f.right,m=g-(f.top+f.bottom)),s.includes("bottom")&&(p=v-(f.left+f.right),m=g-f.bottom),s.includes("left")&&(p=v-f.left,m=g-(f.top+f.bottom)),t({availableWidth:p-n[1]-n[3],availableHeight:m-n[0]-n[2],elements:i,referenceWidth:d.width-n[1]-n[3]});const y=await a.getDimensions(i.floating),x=y.height,b=y.width;return v!==b||g!==x?{reset:{rects:!0}}:{}}}}function iet(e){const{mediaIndex:t,theme:n,width:r}=e,o=r[t],i=o===void 0?r[r.length-1]:o;return typeof i=="number"?n.sanity.container[i]:void 0}function set(e){const{boundaryWidth:t,currentWidth:n}=e;if(!(n===void 0&&t===void 0))return Math.min(n??1/0,(t||1/0)-Sg*2)}var WY=Object.freeze,aet=Object.defineProperty,m8=(e,t)=>WY(aet(e,"raw",{value:WY(t||e.slice())})),YY,qY,GY;const cet=P.div(YY||(YY=m8([`
  position: absolute;
  pointer-events: none;
  width: `,`px;
  height: `,`px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: `,"px ",`px;
  }

  [data-placement^='top'] > & {
    bottom: -`,`px;
  }

  [data-placement^='right'] > & {
    left: -`,`px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -`,`px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -`,`px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`])),mc,mc,mc/2,mc/2,mc,mc,mc,mc),uet=P.path(qY||(qY=m8([`
  fill: var(--card-shadow-outline-color);
`]))),det=P.path(GY||(GY=m8([`
  fill: var(--card-bg-color);
`]))),fet=h.forwardRef(function(t,n){return l.jsx(cet,{"data-ui":"Popover__arrow",...t,ref:n,children:l.jsxs("svg",{width:mc,height:net,viewBox:"0 0 27 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx(uet,{d:"M1.18708 1C3.29803 1.0011 5.29585 1.95479 6.62414 3.59561L11.1683 9.20895C12.369 10.6922 14.631 10.6922 15.8317 9.20894L20.3759 3.59561C21.7042 1.95478 23.702 1.0011 25.8129 1H21.9436C21.0533 1.49255 20.2545 2.15618 19.5986 2.96641L15.0545 8.57975C14.254 9.56855 12.746 9.56855 11.9455 8.57975L7.40139 2.96642C6.74548 2.15618 5.94673 1.49255 5.05643 1H1.18708Z"}),l.jsx(det,{d:"M1.18342 0C3.59749 0 5.88246 1.0901 7.40138 2.96642L11.9455 8.57975C12.746 9.56855 14.254 9.56855 15.0545 8.57975L19.5986 2.96641C21.1175 1.0901 23.4025 0 25.8166 0H27H0H1.18342Z"})]})})}),het=P(ee)({"&:not([hidden])":{display:"flex"},flexDirection:"column",width:"max-content",minWidth:"min-content"}),WCe=h.memo(h.forwardRef(function(t,n){const{__unstable_margins:r,arrow:o,arrowRef:i,arrowX:s,arrowY:a,children:c,padding:u,placement:d,overflow:f,radius:p,scheme:m,shadow:v,strategy:g,style:y,tone:x,width:b,x:w,y:C,..._}=t,{zIndex:S}=rl(),E=h.useMemo(()=>r||UCe,[r]),j=(w??0)+E[3],k=(C??0)+E[0],T=h.useMemo(()=>({position:g,top:k,left:j,width:b,zIndex:S,...y}),[g,y,b,j,k,S]),A=d&&yCe[d.split("-")[0]],D=h.useMemo(()=>{const I={left:s!==null?s:void 0,top:a!==null?a:void 0,right:void 0,bottom:void 0};return A&&(I[A]=0-mc),I},[s,a,A]);return l.jsxs(het,{"data-ui":"Popover",..._,"data-placement":d,radius:p,ref:n,scheme:m,shadow:v,sizing:"border",style:T,tone:x,children:[l.jsx(U,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:f,children:l.jsx(U,{direction:"column",flex:1,padding:u,children:c})}),o&&l.jsx(fet,{ref:i,style:D})]})}));WCe.displayName="PopoverCard";const Jt=h.memo(h.forwardRef(function(t,n){var r,o,i,s,a,c,u,d,f;const p=Rs(),m=hh(),{__unstable_margins:v=UCe,arrow:g=!0,boundaryElement:y=m.element,children:x,constrainSize:b=!1,content:w,disabled:C,fallbackPlacements:_=(o=t.fallbackPlacements)!=null?o:ret[(r=t.placement)!=null?r:"bottom"],matchReferenceWidth:S,floatingBoundary:E=(i=t.boundaryElement)!=null?i:m.element,open:j,overflow:k="hidden",padding:T,placement:A="bottom",portal:D,preventOverflow:I=!0,radius:O=3,referenceBoundary:$=(s=t.boundaryElement)!=null?s:m.element,referenceElement:R,scheme:V,shadow:N=3,tone:W="inherit",width:q="auto",zOffset:H=(a=p.sanity.layer)==null?void 0:a.popover.zOffset,updateRef:Y,...X}=t,B=(c=tT(y))==null?void 0:c.border,K=Ce(T),z=Ce(O),Z=Ce(N),Q=Ce(q),ne=Ce(H),G=cr(n),J=h.useRef(null),re="viewport",fe=Om(),le=b||I?B==null?void 0:B.width:void 0,ge=iet({mediaIndex:fe,theme:p,width:Q}),we=h.useRef(ge);h.useEffect(()=>{we.current=ge},[ge]);const ce=set({boundaryWidth:le,currentWidth:ge}),ve=h.useRef(ce);h.useEffect(()=>{ve.current=ce},[ce]);const $e=h.useRef();h.useEffect(()=>{const Wt=G.current;if(!j||!Wt)return;const eo=$e.current;S?eo!==void 0&&(Wt.style.width="".concat(eo,"px")):ge!==void 0&&(Wt.style.width="".concat(ge,"px")),typeof ce=="number"&&(Wt.style.maxWidth="".concat(ce,"px"))},[ge,G,S,ce,j]);const Ae=h.useMemo(()=>{const Wt=[];return(b||I)&&Wt.push(Rye({boundary:E||void 0,fallbackPlacements:_,padding:Sg,rootBoundary:re})),Wt.push($ye({mainAxis:g?tet:0})),(b||S)&&Wt.push(oet({apply(eo){let{availableWidth:cl,availableHeight:ul,elements:Ms,referenceWidth:Mn}=eo;$e.current=Mn;const Ln=we.current,Yr=ve.current;S?Ms.floating.style.width="".concat(Mn,"px"):Ln!==void 0&&(Ms.floating.style.width="".concat(Ln,"px")),b&&(Ms.floating.style.maxWidth="".concat(Math.min(cl,Yr??1/0),"px"),Ms.floating.style.maxHeight="".concat(ul,"px"))},boundaryElement:E||void 0,constrainSize:b,margins:v,matchReferenceWidth:S,padding:Sg})),I&&Wt.push(Mye({boundary:E||void 0,rootBoundary:re,padding:Sg})),g&&Wt.push(Gxe({element:J,padding:Sg})),Wt.push(dHe({boundary:$||void 0,padding:Sg,strategy:"referenceHidden"})),Wt},[g,b,_,E,v,S,I,$]),{x:it,y:et,middlewareData:lt,placement:Pe,refs:xe,strategy:We,update:ze}=Zxe({middleware:Ae,placement:A,whileElementsMounted:Uye}),Ze=(u=lt.hide)==null?void 0:u.referenceHidden,xt=(d=lt.arrow)==null?void 0:d.x,ke=(f=lt.arrow)==null?void 0:f.y,Ne=h.useCallback(Wt=>{J.current=Wt},[]),dt=h.useCallback(Wt=>{G.current=Wt,xe.setFloating(Wt)},[G,xe]),di=h.useCallback(Wt=>{xe.setReference(Wt);const eo=x==null?void 0:x.ref;typeof eo=="function"?eo(Wt):eo&&(eo.current=Wt)},[x,xe]),Xn=h.useMemo(()=>!x||R?null:h.cloneElement(x,{ref:di}),[x,R,di]);if(h.useEffect(()=>{Y&&(typeof Y=="function"?Y(ze):Y&&(Y.current=ze))},[ze,Y]),h.useEffect(()=>{xe.setReference(R||null)},[R,xe]),C)return x||l.jsx(l.Fragment,{});const qo=l.jsx(Qu,{zOffset:ne,children:l.jsx(WCe,{...X,__unstable_margins:v,arrow:g,arrowRef:Ne,arrowX:xt,arrowY:ke,hidden:Ze,overflow:k,padding:K,placement:Pe,radius:z,ref:dt,scheme:V,shadow:Z,strategy:We,tone:W,width:S?$e.current:ge,x:it,y:et,children:w})});return l.jsxs(l.Fragment,{children:[j&&l.jsx(l.Fragment,{children:D?l.jsx(Rm,{__unstable_name:typeof D=="string"?D:void 0,children:qo}):qo}),Xn]})}));Jt.displayName="Popover";var KY=Object.freeze,pet=Object.defineProperty,YCe=(e,t)=>KY(pet(e,"raw",{value:KY(t||e.slice())})),ZY,XY;function met(){return he(ZY||(ZY=YCe([`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `])))}function get(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input,i=(r.radio.size-r.radio.markSize)/2;return he(XY||(XY=YCe([`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: `,`;
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: `,`;
      width: `,`;
      border-radius: `,`;
      background: `,`;
      box-shadow: `,`;

      &::after {
        content: '';
        position: absolute;
        top: `,`;
        left: `,`;
        height: `,`;
        width: `,`;
        border-radius: `,`;
        background: `,`;
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }
  `])),ye(r.radio.size/2),ye(r.radio.size),ye(r.radio.size),ye(r.radio.size/2),o.default.enabled.bg,ko({color:o.default.enabled.border,width:r.border.width}),ye(i),ye(i),ye(r.radio.markSize),ye(r.radio.markSize),ye(r.radio.markSize/2),o.default.enabled.fg,Bc({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),ko({color:o.default.enabled.border,width:r.border.width}),o.default.readOnly.border,o.default.readOnly.bg,o.default.readOnly.fg,o.default.disabled.border,o.default.disabled.bg,o.default.disabled.fg)}const vet=P.div(met),yet=P.input(get),bet=h.forwardRef(function(t,n){const{className:r,disabled:o,style:i,customValidity:s,readOnly:a,...c}=t,u=cr(n);return Fw(u,s),l.jsxs(vet,{className:r,"data-ui":"Radio",style:i,children:[l.jsx(yet,{"data-read-only":!o&&a?"":void 0,...c,disabled:o||a,readOnly:a,ref:u,type:"radio"}),l.jsx("span",{})]})});var QY=Object.freeze,xet=Object.defineProperty,oT=(e,t)=>QY(xet(e,"raw",{value:QY(t||e.slice())})),JY,eq,tq,nq;function wet(){return he(JY||(JY=oT([`
    position: relative;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function Cet(e){const{theme:t}=e,n=t.sanity.fonts.text;return he(eq||(eq=oT([`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: `,`;
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `])),n.family)}function _et(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input;return he(tq||(tq=oT([`
    /* enabled */
    background-color: `,`;
    color: `,`;
    box-shadow: `,`;

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: `,`;
        color: `,`;
        box-shadow: `,`;
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: `,`;
    }

    /* read-only */
    &[data-read-only] {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,ko({color:o.default.enabled.border,width:r.border.width}),o.default.hovered.bg,o.default.hovered.fg,ko({color:o.default.hovered.border,width:r.border.width}),Bc({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),o.default.readOnly.bg,o.default.readOnly.fg,ko({color:o.default.readOnly.border,width:r.border.width}),o.default.disabled.bg,o.default.disabled.fg,ko({color:o.default.disabled.border,width:r.border.width}))}function Eet(e){return{fontSize:ye(e.fontSize),lineHeight:ye(e.lineHeight)}}function ket(e){const{theme:t,$fontSize:n}=e,{sizes:r}=t.sanity.fonts.text;return pt(t.sanity.media,n,o=>Eet(r[o]||r[2]))}function jet(){return[vd,Cet,_et,ket,GXe]}function Tet(e){const{theme:t}=e,n=t.sanity.color.input;return he(nq||(nq=oT([`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: `,`;

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: `,`;
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: `,`;
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: `,`;
    }
  `])),n.default.enabled.fg,n.default.hovered.fg,n.default.disabled.fg,n.default.readOnly.fg)}const g8={root:wet,input:jet,iconBox:Tet},Aet=P.div(g8.root),Det=P.select(g8.input),Iet=P(M)(g8.iconBox),Kf=h.forwardRef(function(t,n){const{children:r,customValidity:o,disabled:i,fontSize:s=2,padding:a=3,radius:c=1,readOnly:u,space:d=3,...f}=t,p=cr(n);return Fw(p,o),l.jsxs(Aet,{"data-ui":"Select",children:[l.jsx(Det,{"data-read-only":!i&&u?"":void 0,"data-ui":"Select",...f,$fontSize:Ce(s),$padding:Ce(a),$radius:Ce(c),$space:Ce(d),disabled:i||u,ref:p,children:r}),l.jsx(Iet,{padding:a,children:l.jsx(L,{size:s,children:l.jsx(ql,{})})})]})}),Oet={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function Pet(){return Oet}function Ret(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return pt(n,e.$space,o=>({gridGap:ye(r[o])}))}const $et=P(M)(Pet,Ret),oe=h.forwardRef(function(t,n){const{as:r,space:o,...i}=t;return l.jsx($et,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Stack",...i,$space:Ce(o),forwardedAs:r,ref:n})});var rq=Object.freeze,Met=Object.defineProperty,$p=(e,t)=>rq(Met(e,"raw",{value:rq(t||e.slice())})),oq,iq,sq,aq,lq,cq,uq;function Fet(){return he(oq||(oq=$p([`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function Let(){return he(iq||(iq=$p([`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `])))}function Bet(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.button.default;return he(sq||(sq=$p([`
    --switch-bg-color: `,`;
    --switch-fg-color: `,`;
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: `,`;
    height: `,`;
    border-radius: `,`;

    /* Make sure it’s not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: `,`;
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,ye(r.switch.width),ye(r.switch.height),ye(r.switch.height/2),Bc({focusRing:n}),o.positive.enabled.bg,o.positive.enabled.fg,o.default.hovered.bg,o.default.hovered.fg,o.positive.hovered.bg,o.positive.hovered.fg,o.default.disabled.bg,o.default.disabled.fg)}function Net(e){const{theme:t}=e,{input:n}=t.sanity;return he(aq||(aq=$p([`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: `,`;
    height: `,`;
    border-radius: `,`;
  `])),ye(n.switch.width),ye(n.switch.height),ye(n.switch.height/2))}function zet(e){const{$indeterminate:t,theme:n}=e,{input:r}=n.sanity,o=r.switch.width,i=r.switch.height,s=r.switch.padding,a=i-r.switch.padding*2,c=o-s*2-a,u=o/2-a/2-s,d=t!==!0&&e.$checked===!0;return he(uq||(uq=$p([`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: `,`;
    top: `,`;
    height: `,`;
    width: `,`;
    border-radius: `,`;
    transition-property: transform;
    transition-duration: `,`ms;
    transition-timing-function: `,`;
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);

    `,`

    `,`
  `])),ye(s),ye(s),ye(a),ye(a),ye(a/2),r.switch.transitionDurationMs,r.switch.transitionTimingFunction,d&&he(lq||(lq=$p([`
      transform: translate3d(`,`px, 0, 0);
    `])),c),t&&he(cq||(cq=$p([`
      transform: translate3d(`,`px, 0, 0);
    `])),u))}const Vet=P.span(Fet),Het=P.input(Let),Uet=P.span(Bet),Wet=P.span(Net),Yet=P.span(zet),qCe=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,readOnly:a,style:c,...u}=t,d=cr(n);return h.useEffect(()=>{d.current&&(d.current.indeterminate=s||!1)},[s,d]),l.jsxs(Vet,{className:o,"data-ui":"Switch",style:c,children:[l.jsx(Het,{"data-read-only":!i&&a?"":void 0,...u,checked:s!==!0&&r,disabled:i||a,type:"checkbox",ref:d}),l.jsxs(Uet,{"aria-hidden":!0,"data-name":"representation",children:[l.jsx(Wet,{}),l.jsx(Yet,{$checked:r,$indeterminate:s})]})]})});var dq=Object.freeze,qet=Object.defineProperty,Get=(e,t)=>dq(qet(e,"raw",{value:dq(t||e.slice())})),fq;const Ket=P.span(DCe),Zet=P.span(fq||(fq=Get([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),Xet=P.textarea(c8,ICe,OCe),Qet=P.div(vd,PCe),GCe=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i=!1,fontSize:s=2,padding:a=3,radius:c=1,weight:u,...d}=t,f=cr(n),p=F0();return Fw(f,o),l.jsx(Ket,{"data-ui":"TextArea",children:l.jsxs(Zet,{children:[l.jsx(Xet,{"data-as":"textarea","data-scheme":p.scheme,"data-tone":p.tone,...d,$fontSize:Ce(s),$padding:Ce(a),$scheme:p.scheme,$space:Ce(0),$tone:p.tone,$weight:u,disabled:i,ref:f}),l.jsx(Qet,{$radius:Ce(c),$scheme:p.scheme,$tone:p.tone,"data-border":r?"":void 0,"data-scheme":p.scheme,"data-tone":p.tone})]})})});var hq=Object.freeze,Jet=Object.defineProperty,B0=(e,t)=>hq(Jet(e,"raw",{value:hq(t||e.slice())})),pq,mq,gq,vq,yq,bq;const ett={zIndex:2},ttt=P(ee).attrs({forwardedAs:"span"})(DCe),ntt=P.span(pq||(pq=B0([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),rtt=P(ee).attrs({forwardedAs:"span"})(mq||(mq=B0([`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),ott=P(ee).attrs({forwardedAs:"span"})(gq||(gq=B0([`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),itt=P.input(c8,ICe,OCe),stt=P.span(vd,PCe),att=P(M)(vq||(vq=B0([`
  position: absolute;
  top: 0;
  left: 0;
`]))),ltt=P(M)(yq||(yq=B0([`
  position: absolute;
  top: 0;
  right: 0;
`]))),ctt=P(ee)(bq||(bq=B0([`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`]))),utt=P(se)({"&:not([hidden])":{display:"block"}}),$r=h.forwardRef(function(t,n){const{border:r=!0,clearButton:o,disabled:i=!1,fontSize:s=2,icon:a,iconRight:c,onClear:u,padding:d=3,prefix:f,radius:p=1,readOnly:m,space:v=3,suffix:g,customValidity:y,type:x="text",weight:b,...w}=t,C=cr(n),_=F0(),S=Ce(s),E=Ce(d),j=Ce(p),k=Ce(v),T=!!o,A=!!a,D=!!c,I=!!g,O=!!f;Fw(C,y);const $=h.useCallback(B=>{B.preventDefault(),B.stopPropagation()},[]),R=h.useCallback(B=>{var K;B.preventDefault(),B.stopPropagation(),u&&u(),(K=C.current)==null||K.focus()},[u,C]),V=h.useMemo(()=>f&&l.jsx(rtt,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:l.jsx("span",{children:f})}),[f,j]),N=h.useMemo(()=>l.jsxs(stt,{$hasPrefix:O,$hasSuffix:I,$radius:j,$scheme:_.scheme,$tone:_.tone,"data-border":r?"":void 0,"data-scheme":_.scheme,"data-tone":_.tone,children:[a&&l.jsx(att,{padding:E,children:l.jsxs(L,{size:S,children:[h.isValidElement(a)&&a,Di.isValidElementType(a)&&h.createElement(a)]})}),!T&&c&&l.jsx(ltt,{padding:E,children:l.jsxs(L,{size:S,children:[h.isValidElement(c)&&c,Di.isValidElementType(c)&&h.createElement(c)]})})]}),[r,S,a,c,E,j,_,T,O,I]),W=h.useMemo(()=>E.map(B=>B===0?0:B===1||B===2?1:B-2),[E]),q=h.useMemo(()=>E.map(B=>B===0||B===1?0:B===2?1:B-1),[E]),H=h.useMemo(()=>typeof o=="object"?o:If,[o]),Y=h.useMemo(()=>!i&&!m&&o&&l.jsx(ctt,{forwardedAs:"span",padding:W,style:ett,tone:y?"critical":"inherit",children:l.jsx(utt,{"aria-label":"Clear","data-qa":"clear-button",fontSize:S,icon:Ii,mode:"bleed",padding:q,radius:j,...H,onClick:R,onMouseDown:$})}),[o,W,q,H,y,i,S,R,$,j,m]),X=h.useMemo(()=>g&&l.jsx(ott,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:l.jsx("span",{children:g})}),[j,g]);return l.jsxs(ttt,{"data-ui":"TextInput",tone:_.tone,children:[V,l.jsxs(ntt,{children:[l.jsx(itt,{"data-as":"input","data-scheme":_.scheme,"data-tone":_.tone,...w,$fontSize:S,$iconLeft:A,$iconRight:D||T,$padding:E,$scheme:_.scheme,$space:k,$tone:_.tone,$weight:b,disabled:i,readOnly:m,ref:C,type:x}),N,Y]}),X]})});function R$(e){const[t,n]=h.useState(e),r=h.useRef(),o=h.useCallback((i,s)=>{const a=()=>{n(i)};if(r.current&&(clearTimeout(r.current),r.current=void 0),!s)return a();r.current=setTimeout(a,s)},[]);return[t,o]}const nO=4,dtt={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};var xq=Object.freeze,ftt=Object.defineProperty,v8=(e,t)=>xq(ftt(e,"raw",{value:xq(t||e.slice())})),wq,Cq,_q;const htt=P.div(wq||(wq=v8([`
  position: absolute;
  pointer-events: none;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: 7.5px 7.5px;
  }

  /* position: absolute;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    &:not([hidden]) {
      display: block;
    }
    transform-origin: 7.5px 7.5px;
  } */

  [data-placement^='top'] > & {
    bottom: -27px;
  }

  [data-placement^='right'] > & {
    left: -27px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -27px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -27px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`]))),ptt=P.path(Cq||(Cq=v8([`
  fill: var(--card-shadow-outline-color);
`]))),mtt=P.path(_q||(_q=v8([`
  fill: var(--card-bg-color);
`]))),gtt=h.forwardRef(function(t,n){const{...r}=t;return l.jsx(htt,{"data-ui":"Tooltip__arrow",...r,ref:n,children:l.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 15 15",children:[l.jsx(ptt,{d:"M11.5266 1C11.032 1.32802 10.5837 1.73105 10.1995 2.20057L9.04792 3.6081C8.24771 4.58614 6.7523 4.58614 5.95209 3.6081L4.80047 2.20057C4.41632 1.73105 3.96796 1.32802 3.47341 1H0.156727C1.65639 1 3.07687 1.67313 4.02651 2.83381L5.17813 4.24134C6.37844 5.70839 8.62156 5.70839 9.82187 4.24134L10.9735 2.83381C11.9231 1.67313 13.3436 1 14.8433 1H11.5266Z"}),l.jsx(mtt,{d:"M0.156725 0C1.95632 0 3.66089 0.80776 4.80047 2.20057L5.95209 3.6081C6.75229 4.58614 8.24771 4.58614 9.04791 3.6081L10.1995 2.20057C11.3391 0.80776 13.0437 0 14.8433 0H15H0H0.156725Z"})]})})}),$$=Symbol.for("@sanity/ui/context/tooltipDelayGroup");Xt[$$]=Xt[$$]||h.createContext(null);const KCe=Xt[$$];function ZCe(){return h.useContext(KCe)}function XCe(e){const{children:t,delay:n}=e,[r,o]=R$(!1),[i,s]=R$(null);if(ZCe())throw new Error("TooltipDelayGroupProvider cannot be nested inside another TooltipDelayGroupProvider");const c=typeof n=="number"?n:(n==null?void 0:n.open)||0,u=typeof n=="number"?n:(n==null?void 0:n.close)||0,d=h.useMemo(()=>({isGroupActive:r,setIsGroupActive:o,openTooltipId:i,setOpenTooltipId:s,openDelay:r?1:c,closeDelay:u}),[u,r,c,i,o,s]);return l.jsx(KCe.Provider,{value:d,children:t})}var Sq=Object.freeze,vtt=Object.defineProperty,ytt=(e,t)=>Sq(vtt(e,"raw",{value:Sq(t||e.slice())})),Eq;const btt=P(ss)(Eq||(Eq=ytt([`
  pointer-events: none;
  max-width: `,`px;
`])),e=>{let{$maxWidth:t}=e;return t}),at=h.forwardRef(function(t,n){var r,o,i,s,a,c;const u=hh(),d=Rs(),{boundaryElement:f=u==null?void 0:u.element,children:p,content:m,disabled:v,fallbackPlacements:g=(o=t.fallbackPlacements)!=null?o:dtt[(r=t.placement)!=null?r:"bottom"],padding:y,placement:x="bottom",portal:b,scheme:w,shadow:C=2,zOffset:_=(i=d.sanity.layer)==null?void 0:i.tooltip.zOffset,delay:S,...E}=t,j=Ce(g),k=cr(n),[T,A]=h.useState(null),D=h.useRef(null),I="viewport",O=Pm(),$=typeof b=="string"?((s=O.elements)==null?void 0:s[b])||null:O.element,R=h.useMemo(()=>{const ke=[...f?[f.offsetWidth]:[],($==null?void 0:$.offsetWidth)||document.body.offsetWidth];return Math.min(...ke)-nO*2},[f,$==null?void 0:$.offsetWidth]),V=h.useMemo(()=>{const ke=[];return ke.push(Rye({boundary:f||void 0,fallbackPlacements:j,padding:nO,rootBoundary:I})),ke.push($ye({mainAxis:3})),ke.push(Mye({boundary:f||void 0,rootBoundary:I,padding:nO})),ke.push(Gxe({element:D,padding:2})),ke},[f,j]),{floatingStyles:N,placement:W,middlewareData:q,refs:H,update:Y}=Zxe({middleware:V,placement:x,whileElementsMounted:Uye}),X=W&&yCe[W.split("-")[0]],B=(a=q.arrow)==null?void 0:a.x,K=(c=q.arrow)==null?void 0:c.y,z=h.useMemo(()=>{const ke={left:B!==null?B:void 0,top:K!==null?K:void 0,right:void 0,bottom:void 0};return X&&(ke[X]=-15),ke},[B,K,X]),Z=h.useId(),[Q,ne]=R$(!1),G=ZCe(),J=Q||(G==null?void 0:G.openTooltipId)===Z,re=G!==null,fe=typeof S=="number"?S:(S==null?void 0:S.open)||0,le=typeof S=="number"?S:(S==null?void 0:S.close)||0,ge=re?G.openDelay:fe,we=re?G.closeDelay:le,ce=h.useCallback((ke,Ne)=>{if(re)if(ke){const dt=Ne?0:ge;G.setIsGroupActive(ke,dt),G.setOpenTooltipId(Z,dt)}else{const di=we>200?we:200;G.setIsGroupActive(ke,di),G.setOpenTooltipId(null,Ne?0:we)}else ne(ke,Ne?0:ke?ge:we)},[re,G,ge,Z,we,ne]),ve=h.useCallback(ke=>{var Ne,dt;ce(!1),(dt=(Ne=p==null?void 0:p.props)==null?void 0:Ne.onBlur)==null||dt.call(Ne,ke)},[p==null?void 0:p.props,ce]),$e=h.useCallback(ke=>{var Ne,dt;ce(!1,!0),(dt=p==null?void 0:(Ne=p.props).onClick)==null||dt.call(Ne,ke)},[p==null?void 0:p.props,ce]),Ae=h.useCallback(ke=>{var Ne,dt;ce(!1,!0),(dt=p==null?void 0:(Ne=p.props).onContextMenu)==null||dt.call(Ne,ke)},[p==null?void 0:p.props,ce]),it=h.useCallback(ke=>{var Ne,dt;ce(!0),(dt=(Ne=p==null?void 0:p.props)==null?void 0:Ne.onFocus)==null||dt.call(Ne,ke)},[p==null?void 0:p.props,ce]),et=h.useCallback(ke=>{var Ne,dt;ce(!0),(dt=(Ne=p==null?void 0:p.props)==null?void 0:Ne.onMouseEnter)==null||dt.call(Ne,ke)},[p==null?void 0:p.props,ce]),lt=h.useCallback(ke=>{var Ne,dt;ce(!1),(dt=(Ne=p==null?void 0:p.props)==null?void 0:Ne.onMouseLeave)==null||dt.call(Ne,ke)},[p==null?void 0:p.props,ce]);h.useEffect(()=>{if(!Q)return;function ke(Ne){if(!T)return;T===Ne.target||Ne.target instanceof Node&&T.contains(Ne.target)||(ce(!1),window.removeEventListener("mousemove",ke))}return window.addEventListener("mousemove",ke),()=>{window.removeEventListener("mousemove",ke)}},[Q,T,ce]),h.useEffect(()=>{v&&ce(!1)},[v,ce]),h.useEffect(()=>{m||ce(!1)},[m,ce]),h.useEffect(()=>H.setReference(T),[T,H]),h.useEffect(()=>{if(!J)return;function ke(Ne){Ne.key==="Escape"&&ce(!1,!0)}return window.addEventListener("keydown",ke),()=>{window.removeEventListener("keydown",ke)}},[ce,J]);const Pe=h.useCallback(ke=>{D.current=ke,Y()},[Y]),xe=h.useCallback(ke=>{k.current=ke,H.setFloating(ke)},[k,H]),We=p==null?void 0:p.ref,ze=h.useCallback(ke=>{typeof We=="function"?We(ke):We&&(We.current=ke),A(ke)},[We]),Ze=h.useMemo(()=>p?h.cloneElement(p,{onBlur:ve,onFocus:it,onMouseEnter:et,onMouseLeave:lt,onClick:$e,onContextMenu:Ae,ref:ze}):null,[p,ve,$e,Ae,it,et,lt,ze]);if(!Ze)return l.jsx(l.Fragment,{});if(v)return Ze;const xt=l.jsx(btt,{"data-ui":"Tooltip",...E,ref:xe,style:N,zOffset:_,$maxWidth:R,children:l.jsxs(ee,{"data-ui":"Tooltip__card","data-placement":W,padding:y,radius:2,scheme:w,shadow:C,children:[m,l.jsx(gtt,{ref:Pe,style:z})]})});return l.jsxs(l.Fragment,{children:[Ze,J&&l.jsx(l.Fragment,{children:b?l.jsx(Rm,{__unstable_name:typeof b=="string"?b:void 0,children:xt}):xt})]})});var kq=Object.freeze,xtt=Object.defineProperty,iT=(e,t)=>kq(xtt(e,"raw",{value:kq(t||e.slice())})),jq,Tq,Aq,Dq;const wtt=P.div(jq||(jq=iT([`
  line-height: 0;
`]))),Ctt=P(M)(Tq||(Tq=iT([`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`]))),_tt=Em(Aq||(Aq=iT([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),Stt=P(xw)(Dq||(Dq=iT([`
  animation: `,` 500ms linear infinite;
`])),_tt);function Ett(e){const{children:t,id:n,onSelect:r,selected:o,value:i}=e,s=h.useCallback(()=>{setTimeout(()=>{r(i)},0)},[r,i]),a=h.useCallback(c=>{c.key==="Enter"&&!FJe(c.currentTarget)&&s()},[s]);return l.jsx("li",{"aria-selected":o,"data-ui":"AutocompleteOption",id:n,role:"option",onClick:s,onKeyDown:a,children:t})}function ktt(e,t){return t.type==="input/change"?{...e,activeValue:null,focused:!0,query:t.query}:t.type==="input/focus"?{...e,focused:!0}:t.type==="root/blur"?{...e,focused:!1,query:null}:t.type==="root/clear"?{...e,activeValue:null,query:null,value:null}:t.type==="root/escape"?{...e,focused:!1,query:null}:t.type==="root/open"?{...e,query:e.query||t.query}:t.type==="root/setActiveValue"?{...e,activeValue:t.value,listFocused:t.listFocused||e.listFocused}:t.type==="root/setListFocused"?{...e,listFocused:t.listFocused}:t.type==="value/change"?{...e,activeValue:t.value,query:null,value:t.value}:e}const jtt=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],Ttt="bottom-start",Att=["bottom-start","top-start"],Dtt=(e,t)=>t?t.value:e,Itt=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>-1,Ott=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i,filterOption:s,fontSize:a=2,icon:c,id:u,listBox:d=If,loading:f,onBlur:p,onChange:m,onFocus:v,onQueryChange:g,onSelect:y,openButton:x,options:b,padding:w=3,popover:C=If,prefix:_,radius:S=3,readOnly:E,relatedElements:j,renderOption:k,renderPopover:T,renderValue:A=Dtt,suffix:D,value:I,...O}=t,[$,R]=h.useReducer(ktt,{activeValue:I||null,focused:!1,listFocused:!1,query:null,value:I||null}),{activeValue:V,focused:N,listFocused:W,query:q,value:H}=$,Y=h.useCallback(Ge=>{let{value:wt}=Ge;return l.jsx(ee,{"data-as":"button",padding:w,radius:2,tone:"inherit",children:l.jsx(L,{size:a,textOverflow:"ellipsis",children:wt})})},[a,w]),X=typeof k=="function"?k:Y,B=typeof s=="function"?s:Itt,K=h.useRef(null),z=h.useRef(null),Z=h.useRef(null),Q=h.useRef(null),ne=h.useRef(!1),G=h.useRef(H),J=h.useRef(I),re=h.useRef(!1),fe=cr(n),le="".concat(u,"-listbox"),ge=Array.isArray(b)?b:Mw,we=Ce(w),ce=h.useMemo(()=>H!==null?ge.find(Ge=>Ge.value===H):void 0,[ge,H]),ve=h.useMemo(()=>ge.filter(Ge=>q?B(q,Ge):!0),[B,ge,q]),$e=ve.length,Ae=V?"".concat(u,"-option-").concat(V):void 0,it=q!==null&&f||N&&q!==null,et=h.useCallback(Ge=>{setTimeout(()=>{if(re.current)return;const wt=(j||[]).concat(K.current?[K.current]:[],z.current?[z.current]:[]);let Qn=!1;if(document.activeElement){for(const Fn of wt)if(Fn===document.activeElement||Fn.contains(document.activeElement)){Qn=!0;break}}Qn===!1&&(R({type:"root/blur"}),re.current=!1,g&&g(null),p&&p(Ge))},0)},[p,g,j]),lt=h.useCallback(Ge=>{const wt=Q.current,Qn=Ge.target instanceof HTMLElement?Ge.target:null,Fn=(wt==null?void 0:wt.contains(Qn))||!1;Fn!==ne.current&&(ne.current=Fn,R({type:"root/setListFocused",listFocused:Fn}))},[]),Pe=h.useCallback(Ge=>{var wt;R({type:"value/change",value:Ge}),re.current=!1,y&&y(Ge),G.current=Ge,m&&m(Ge),g&&g(null),(wt=Z.current)==null||wt.focus()},[m,y,g]),xe=h.useCallback(Ge=>{var wt,Qn;if(Ge.key==="ArrowDown"){if(Ge.preventDefault(),!$e)return;const Er=ve.find(ya=>ya.value===V),fi=Er?ve.indexOf(Er):-1,Fs=ve[(fi+1)%$e];Fs&&R({type:"root/setActiveValue",value:Fs.value,listFocused:!0});return}if(Ge.key==="ArrowUp"){if(Ge.preventDefault(),!$e)return;const Er=ve.find(ya=>ya.value===V),fi=Er?ve.indexOf(Er):-1,Fs=ve[fi===-1?$e-1:($e+fi-1)%$e];Fs&&R({type:"root/setActiveValue",value:Fs.value,listFocused:!0});return}if(Ge.key==="Escape"){R({type:"root/escape"}),re.current=!1,g&&g(null),(wt=Z.current)==null||wt.focus();return}const Fn=Ge.target,va=Q.current;if((va===Fn||va!=null&&va.contains(Fn))&&!jtt.includes(Ge.key)){(Qn=Z.current)==null||Qn.focus();return}},[V,ve,$e,g]),We=h.useCallback(Ge=>{const wt=Ge.currentTarget.value;R({type:"input/change",query:wt}),g&&g(wt)},[g]),ze=h.useCallback(Ge=>{N||(R({type:"input/focus"}),v&&v(Ge))},[N,v]),Ze=h.useCallback(()=>{re.current=!0},[]),xt=h.useCallback(()=>{re.current=!1},[]),ke=h.useCallback(()=>{var Ge;R({type:"root/clear"}),G.current="",m&&m(""),g&&g(null),(Ge=Z.current)==null||Ge.focus()},[m,g]),Ne=h.useCallback(()=>{R({type:"input/focus"})},[]);h.useEffect(()=>{if(I!==J.current){J.current=I,I!==void 0&&(R({type:"value/change",value:I}),G.current=I);return}I!==G.current&&(G.current=I||null,R({type:"value/change",value:I||null}))},[I]),h.useEffect(()=>{!N&&G.current&&R({type:"root/setActiveValue",value:G.current})},[N]),h.useEffect(()=>{const Ge=Q.current;if(!Ge)return;const wt=ve.find(Qn=>Qn.value===V);if(wt){const Qn=ve.indexOf(wt),Fn=Ge.childNodes[Qn];if(Fn){if(zJe(Fn))return;nm(Fn)}}},[V,ve]);const dt=h.useCallback(Ge=>{Z.current=Ge,fe.current=Ge},[fe]),di=h.useMemo(()=>{if(!f&&!i&&H)return{"aria-label":"Clear",onFocus:Ne}},[i,Ne,f,H]),Xn=h.useMemo(()=>we.map(Ge=>Ge===0?0:Ge===1||Ge===2?1:Ge-2),[we]),qo=h.useMemo(()=>we.map(Ge=>Math.max(Ge-1,0)),[we]),Wt=h.useMemo(()=>typeof x=="object"?x:If,[x]),eo=h.useCallback(Ge=>{R({type:"root/open",query:H?A(H,ce):""}),Wt.onClick&&Wt.onClick(Ge),I$(()=>{var wt;return(wt=Z.current)==null?void 0:wt.focus()})},[ce,Wt,A,H]),cl=h.useMemo(()=>!i&&!E&&x?l.jsx(M,{"aria-hidden":it,padding:Xn,children:l.jsx(se,{"aria-label":"Open",disabled:it,fontSize:a,icon:tl,mode:"bleed",padding:qo,...Wt,onClick:eo})}):void 0,[i,it,a,eo,x,Xn,qo,Wt,E]),ul=h.useMemo(()=>q===null?H!==null?A(H,ce):"":q,[ce,q,A,H]),Ms=l.jsx($r,{...O,"aria-activedescendant":Ae,"aria-autocomplete":"list","aria-expanded":it,"aria-owns":le,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:r,clearButton:di,customValidity:o,disabled:i,fontSize:a,icon:c,iconRight:f&&Stt,id:u,inputMode:"search",onChange:We,onClear:ke,onFocus:ze,padding:we,prefix:_,radius:S,readOnly:E,ref:dt,role:"combobox",spellCheck:!1,suffix:D||cl,value:ul}),Mn=h.useCallback(Ge=>{var wt;Ge.key==="Tab"&&W&&((wt=Z.current)==null||wt.focus())},[W]),Ln=h.useMemo(()=>ve.length===0?null:l.jsx(Ctt,{"data-ui":"AutoComplete__results",onKeyDown:Mn,padding:1,...d,tabIndex:-1,children:l.jsx(oe,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:le,ref:Q,role:"listbox",space:1,children:ve.map(Ge=>{const wt=V!==null?Ge.value===V:ce===Ge;return l.jsx(Ett,{id:"".concat(u,"-option-").concat(Ge.value),onSelect:Pe,selected:wt,value:Ge.value,children:h.cloneElement(X(Ge),{disabled:f,selected:wt,tabIndex:W&&wt?0:-1})},Ge.value)})})}),[V,ce,ve,Pe,Mn,u,d,le,W,f,X]),Yr=h.useMemo(()=>T?T({content:Ln,hidden:!it,inputElement:Z.current,onMouseEnter:Ze,onMouseLeave:xt},z):$e===0?null:l.jsx(Jt,{arrow:!1,constrainSize:!0,content:Ln,fallbackPlacements:Att,matchReferenceWidth:!0,onMouseEnter:Ze,onMouseLeave:xt,open:it,overflow:"auto",placement:Ttt,portal:!0,radius:S,ref:z,referenceElement:Z.current,...C}),[Ln,it,$e,Ze,xt,C,S,T]);return l.jsxs(wtt,{"data-ui":"Autocomplete",onBlur:et,onFocus:lt,onKeyDown:xe,ref:K,children:[Ms,Yr]})}),y8=Ott;var Iq=Object.freeze,Ptt=Object.defineProperty,QCe=(e,t)=>Iq(Ptt(e,"raw",{value:Iq(t||e.slice())})),Oq,Pq;const Rtt=P.ol(Oq||(Oq=QCe([`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`]))),$tt=P(se)(Pq||(Pq=QCe([`
  appearance: none;
  margin: -4px;
`]))),b8=h.forwardRef(function(t,n){const{children:r,maxLength:o,separator:i,space:s=2,...a}=t,c=Ce(s),[u,d]=h.useState(!1),[f,p]=h.useState(null),[m,v]=h.useState(null),g=h.useCallback(()=>d(!1),[]),y=h.useCallback(()=>d(!0),[]);lr(g,[f,m]);const x=h.useMemo(()=>h.Children.toArray(r).filter(w=>h.isValidElement(w)),[r]),b=h.useMemo(()=>{const w=x.length;if(o&&w>o){const C=Math.ceil(o/2),_=Math.floor(o/2);return[...x.slice(0,C-1),l.jsx(Jt,{constrainSize:!0,content:l.jsx(oe,{as:"ol",overflow:"auto",padding:c,space:c,children:x.slice(C-1,w-_)}),open:u,placement:"top",portal:!0,ref:v,children:l.jsx($tt,{fontSize:1,mode:"bleed",onClick:u?g:y,padding:1,ref:p,selected:u,text:"…"})},"button"),...x.slice(w-_)]}return x},[g,y,o,u,x,c]);return l.jsx(Rtt,{"data-ui":"Breadcrumbs",...a,ref:n,children:b.map((w,C)=>l.jsxs(h.Fragment,{children:[C>0&&l.jsx(M,{"aria-hidden":!0,as:"li",paddingX:c,children:i||l.jsx(L,{muted:!0,children:"/"})}),l.jsx(M,{as:"li",children:w})]},C))})});function Mtt(e){let{theme:t}=e;const n=t.sanity.color.base;return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:n.shadow.umbra}}function Ftt(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$position,r=>({"&&":{position:r}}))}const M$=Symbol.for("@sanity/ui/context/dialog");Xt[M$]=Xt[M$]||h.createContext({version:0});const JCe=Xt[M$];function Ltt(){return h.useContext(JCe)}var Rq=Object.freeze,Btt=Object.defineProperty,N0=(e,t)=>Rq(Btt(e,"raw",{value:Rq(t||e.slice())})),$q,Mq,Fq,Lq,Bq,Nq;function F$(e,t,n){return!e||!t?!0:O$(e,n)||O$(t,n)}const Ntt=P(ss)(RCe,Mtt,Ftt),ztt=P(Qr)($q||($q=N0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`]))),Vtt=P(ee)(Mq||(Mq=N0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`]))),Htt=P(U)(Fq||(Fq=N0([`
  flex: 1;
  min-height: 0;
  width: 100%;
`]))),Utt=P(ee)(Lq||(Lq=N0([`
  position: relative;
  z-index: 2;

  &:after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-hairline-soft-color);
  }
`]))),Wtt=P(M)(Bq||(Bq=N0([`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`]))),Ytt=P(M)(Nq||(Nq=N0([`
  position: relative;
  z-index: 3;
  border-top: 1px solid var(--card-hairline-soft-color);
`]))),qtt=h.forwardRef(function(t,n){var r;const{__unstable_autoFocus:o,__unstable_hideCloseButton:i,children:s,contentRef:a,footer:c,header:u,id:d,onClickOutside:f,onClose:p,portal:m,radius:v,scheme:g,shadow:y,width:x}=t,b=Pm(),w=m?((r=b.elements)==null?void 0:r[m])||null:b.element,C=hh().element,_=Ce(v),S=Ce(y),E=Ce(x),j=cr(n),[k,T]=h.useState(null),A=h.useRef(null),D=rl(),{isTopLayer:I}=D,O="".concat(d,"_label"),$=!!p&&i===!1,R=!!u||$;h.useEffect(()=>{o&&j.current&&nm(j.current)},[o,j]),is(h.useCallback(W=>{if(!I||!p)return;const q=document.activeElement;q&&!F$(C,w,q)||W.key==="Escape"&&(W.preventDefault(),W.stopPropagation(),p())},[C,I,p,w])),lr(h.useCallback(W=>{if(!I||!f)return;const q=W.target;q&&!F$(C,w,q)||f()},[C,I,f,w]),[k]);const V=h.useCallback(W=>{T(W),j.current=W},[j]),N=h.useCallback(W=>{A.current=W,typeof a=="function"?a(W):a&&(a.current=W)},[a]);return l.jsx(ztt,{"data-ui":"DialogCard",width:E,children:l.jsx(Vtt,{radius:_,ref:V,scheme:g,shadow:S,children:l.jsxs(Htt,{direction:"column",children:[R&&l.jsx(Utt,{children:l.jsxs(U,{children:[l.jsx(M,{flex:1,padding:4,children:u&&l.jsx(L,{id:O,weight:"semibold",children:u})}),$&&l.jsx(M,{padding:2,children:l.jsx(se,{"aria-label":"Close dialog",disabled:!p,icon:Ii,mode:"bleed",onClick:p,padding:3})})]})}),l.jsx(Wtt,{flex:1,ref:N,tabIndex:-1,children:s}),c&&l.jsx(Ytt,{children:c})]})})})}),Li=h.forwardRef(function(t,n){var r,o;const i=Ltt(),s=Rs(),{__unstable_autoFocus:a=!0,__unstable_hideCloseButton:c=!1,cardRadius:u=3,cardShadow:d=4,children:f,contentRef:p,footer:m,header:v,id:g,onActivate:y,onClickOutside:x,onClose:b,onFocus:w,padding:C=4,portal:_,position:S=i.position||"fixed",scheme:E,width:j=0,zOffset:k=i.zOffset||((r=s.sanity.layer)==null?void 0:r.dialog.zOffset),...T}=t,A=Pm(),D=_?((o=A.elements)==null?void 0:o[_])||null:A.element,I=hh().element,O=Ce(u),$=Ce(C),R=Ce(S),V=Ce(j),N=Ce(k),W=h.useRef(null),q=h.useRef(null),H=h.useRef(null),Y=h.useRef(null),X=h.useCallback(Z=>{w==null||w(Z);const Q=Z.target,ne=H.current;if(ne&&Q===W.current){p8(ne);return}if(ne&&Q===q.current){nm(ne);return}Yc(Z.target)&&(Y.current=Z.target)},[w]),B="".concat(g,"_label"),K=h.useRef(),z=h.useCallback(()=>{K.current&&clearTimeout(K.current),K.current=setTimeout(()=>{const Z=document.activeElement;if(Z&&!F$(I,D,Z)){const Q=Y.current;if(!Q||!document.body.contains(Q)){const ne=H.current;ne&&nm(ne);return}Q.focus()}},0)},[I,D]);return l.jsx(Rm,{__unstable_name:_,children:l.jsxs(Ntt,{...T,$padding:$,$position:R,"aria-labelledby":B,"aria-modal":!0,"data-ui":"Dialog",id:g,onActivate:y,onClick:z,onFocus:X,ref:n,role:"dialog",zOffset:N,children:[l.jsx("div",{ref:W,tabIndex:0}),l.jsx(qtt,{__unstable_autoFocus:a,__unstable_hideCloseButton:c,contentRef:p,footer:m,header:v,id:g,onClickOutside:x,onClose:b,portal:_,radius:O,ref:H,scheme:E,shadow:d,width:V,children:f}),l.jsx("div",{ref:q,tabIndex:0})]})})});function L$(e){const{children:t,position:n,zOffset:r}=e,o=h.useMemo(()=>({version:0,position:n,zOffset:r}),[n,r]);return l.jsx(JCe.Provider,{value:o,children:t})}var zq=Object.freeze,Gtt=Object.defineProperty,e_e=(e,t)=>zq(Gtt(e,"raw",{value:zq(t||e.slice())})),Vq,Hq;const Ktt=P.kbd(Vq||(Vq=e_e([`
  &:not([hidden]) {
    display: block;
  }
  font: inherit;
`]))),Ztt=P(j$)(Hq||(Hq=e_e([`
  &:not([hidden]) {
    display: block;
  }
`]))),x8=h.forwardRef(function(t,n){const{fontSize:r,keys:o,padding:i,radius:s,space:a=1,...c}=t,u=Ce(a);return!o||o.length===0?l.jsx(l.Fragment,{}):l.jsx(Ktt,{"data-ui":"Hotkeys",...c,ref:n,children:l.jsx(qt,{as:"span",space:u,children:o.map((d,f)=>l.jsx(Ztt,{fontSize:r,padding:i,radius:s,children:d},f))})})}),B$=Symbol.for("@sanity/ui/context/menu");Xt[B$]=Xt[B$]||h.createContext(null);const t_e=Xt[B$];function Xtt(e){return f8(e)&&e.getAttribute("data-disabled")!=="true"||h8(e)&&!e.disabled}function lg(e){return e.filter(Xtt)}function Qtt(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const Uq=[];function Jtt(e,t){if(!e)return;const n=new WeakMap;for(const o of t)n.set(o,Qtt(e,o));const r=(o,i)=>{const s=n.get(o)||Uq,a=n.get(i)||Uq,c=Math.max(s.length,a.length);for(let u=0;u<c;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function ent(e){const{onKeyDown:t,originElement:n,shouldFocus:r}=e,o=h.useRef([]),[i,s]=h.useState(null),[a,c]=h.useState(-1),u=h.useRef(a),d=o.current[a]||null,f=!!i,p=h.useCallback(x=>{c(x),u.current=x},[]),m=h.useCallback((x,b)=>{if(!x)return()=>{};if(o.current.indexOf(x)===-1&&(o.current.push(x),Jtt(i,o.current)),b){const w=o.current.indexOf(x);p(w)}return()=>{const w=o.current.indexOf(x);w>-1&&o.current.splice(w,1)}},[i,p]),v=h.useCallback(x=>{if(x.key==="Tab"){n&&n.focus();return}if(x.key==="Home"){x.preventDefault(),x.stopPropagation();const w=lg(o.current)[0];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="End"){x.preventDefault(),x.stopPropagation();const b=lg(o.current),w=b[b.length-1];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="ArrowUp"){x.preventDefault(),x.stopPropagation();const b=lg(o.current),w=b.length;if(w===0)return;const C=o.current[u.current];let _=b.indexOf(C);_=(_-1+w)%w;const S=b[_],E=o.current.indexOf(S);p(E);return}if(x.key==="ArrowDown"){x.preventDefault(),x.stopPropagation();const b=lg(o.current),w=b.length;if(w===0)return;const C=o.current[u.current];let _=b.indexOf(C);_=(_+1)%w;const S=b[_],E=o.current.indexOf(S);p(E);return}t&&t(x)},[t,n,p]),g=h.useCallback(x=>{const b=x.currentTarget,w=o.current.indexOf(b);p(w)},[p]),y=h.useCallback(()=>{p(-2),i==null||i.focus()},[p,i]);return h.useEffect(()=>{if(!f)return;const x=window.requestAnimationFrame(()=>{const b=u.current;if(b===-1){if(r==="first"){const _=lg(o.current)[0];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}if(r==="last"){const C=lg(o.current),_=C[C.length-1];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}return}const w=o.current[b]||null;w==null||w.focus()});return()=>{window.cancelAnimationFrame(x)}},[a,f,p,r]),{activeElement:d,activeIndex:a,handleItemMouseEnter:g,handleItemMouseLeave:y,handleKeyDown:v,mount:m,rootElement:i,setRootElement:s}}var Wq=Object.freeze,tnt=Object.defineProperty,nnt=(e,t)=>Wq(tnt(e,"raw",{value:Wq(t||e.slice())})),Yq;const rnt=P(M)(Yq||(Yq=nnt([`
  outline: none;
  overflow: auto;
`]))),Bt=h.forwardRef(function(t,n){const{children:r,focusFirst:o,focusLast:i,onClickOutside:s,onEscape:a,onItemClick:c,onItemSelect:u,onKeyDown:d,originElement:f,padding:p=1,registerElement:m,shouldFocus:v=t.focusFirst&&"first"||t.focusLast&&"last"||null,space:g=1,...y}=t,x=cr(n),{isTopLayer:b}=rl(),{activeElement:w,activeIndex:C,handleItemMouseEnter:_,handleItemMouseLeave:S,handleKeyDown:E,mount:j,rootElement:k,setRootElement:T}=ent({onKeyDown:d,originElement:f,shouldFocus:v}),A=h.useCallback(I=>{T(I),x.current=I},[x,T]);h.useEffect(()=>{u&&u(C)},[C,u]),lr(h.useCallback(I=>b&&s&&s(I),[b,s]),[k]),is(h.useCallback(I=>{b&&I.key==="Escape"&&(I.stopPropagation(),a&&a())},[b,a])),h.useEffect(()=>{if(!(!k||!m))return m(k)},[m,k]);const D=h.useMemo(()=>({version:0,activeElement:w,activeIndex:C,mount:j,onClickOutside:s,onEscape:a,onItemClick:c,onItemMouseEnter:_,onItemMouseLeave:S,registerElement:m,onMouseEnter:_,onMouseLeave:S}),[w,C,j,_,S,s,a,c,m]);return l.jsx(t_e.Provider,{value:D,children:l.jsx(rnt,{"data-ui":"Menu",...y,onKeyDown:E,padding:p,ref:A,role:"menu",tabIndex:-1,children:l.jsx(oe,{space:g,children:r})})})}),en=h.forwardRef(function(t,n){const{__unstable_disableRestoreFocusOnClose:r=!1,boundaryElement:o,button:i,id:s,menu:a,onClose:c,onOpen:u,placement:d,popoverScheme:f,portal:p=!0,popover:m,popoverRadius:v,preventOverflow:g}=t,[y,x]=h.useState(!1),[b,w]=h.useState(null),[C,_]=h.useState(null),[S,E]=h.useState([]),j=h.useRef(y);h.useEffect(()=>{u&&y&&!j.current&&u()},[u,y]),h.useEffect(()=>{c&&!y&&j.current&&c()},[c,y]),h.useEffect(()=>{j.current=y},[y]);const k=h.useCallback(()=>{x(H=>!H),w(null)},[]),T=h.useCallback(H=>{if(H.key==="ArrowDown"||H.key==="Enter"||H.key===" "){H.preventDefault(),x(!0),w("first");return}if(H.key==="ArrowUp"){H.preventDefault(),x(!0),w("last");return}},[]),A=h.useCallback(H=>{const Y=H.target;if(Y instanceof Node&&!(C&&(Y===C||C.contains(Y)))){for(const X of S)if(Y===X||X.contains(Y))return;x(!1)}},[C,S]),D=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),I=h.useCallback(H=>{const Y=H.relatedTarget;if(Y instanceof Node){for(const X of S)if(X===Y||X.contains(Y))return;x(!1)}},[S]),O=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),$=h.useCallback(H=>(E(Y=>Y.concat([H])),()=>{E(Y=>Y.filter(X=>X!==H))}),[]),R=h.useMemo(()=>({"aria-labelledby":s,onBlurCapture:I,onClickOutside:A,onEscape:D,onItemClick:O,originElement:C,registerElement:$,shouldFocus:b}),[C,A,D,O,s,I,$,b]),V=Di.isElement(a)?h.cloneElement(a,R):null,N=h.useCallback(H=>{typeof n=="function"?n(H):n&&(n.current=H),_(H)},[n]),W=h.useMemo(()=>Di.isElement(i)?h.cloneElement(i,{"data-ui":"MenuButton",id:s,onClick:k,onKeyDown:T,"aria-haspopup":!0,"aria-expanded":y,ref:N,selected:y}):null,[i,k,T,s,y,N]),q=h.useMemo(()=>({boundaryElement:o,overflow:"auto",placement:d,portal:p,preventOverflow:g,radius:v,scheme:f,...m||{}}),[o,d,v,f,p,g,m]);return l.jsx(Jt,{"data-ui":"MenuButton__popover",...q,content:V,open:y,children:W||l.jsx(l.Fragment,{})})});var qq=Object.freeze,ont=Object.defineProperty,int=(e,t)=>qq(ont(e,"raw",{value:qq(t||e.slice())})),Gq;const Ir=P.hr(Gq||(Gq=int([`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`])));var Kq=Object.freeze,snt=Object.defineProperty,n_e=(e,t)=>Kq(snt(e,"raw",{value:Kq(t||e.slice())})),Zq,Xq;function ant(){return he(Zq||(Zq=n_e([`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `])))}function lnt(e){var t,n;const{$tone:r,theme:o}=e,{base:i,muted:s,selectable:a}=o.sanity.color,c=a?a[r]||a.default:s[r]||s.default;return he(Xq||(Xq=n_e([`
    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          `,`
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    `,`
  `])),zt(i,c.enabled),zt(i,c.disabled),zt(i,c.pressed),zt(i,c.selected),zt(i,c.hovered),zt(i,c.pressed),zt(i,c.disabled),zt(i,c.pressed),zt(i,c.selected),zt(i,c.hovered),zt(i,c.pressed),(n=(t=o.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const r_e=P(M)(vd,ant,lnt);function o_e(){const e=h.useContext(t_e);if(!e)throw new Error("useMenu(): missing context value");if(!M0(e)||e.version!==0)throw new Error("useMenu(): the context value is not compatible");return e}function w8(e){const{as:t="button",children:n,fontSize:r,icon:o,onClick:i,padding:s=3,popover:a,radius:c=2,space:u=3,text:d,tone:f="default",...p}=e,m=o_e(),{activeElement:v,mount:g,onClickOutside:y,onEscape:x,onItemClick:b,onItemMouseEnter:w=m.onMouseEnter,registerElement:C}=m,[_,S]=h.useState(null),[E,j]=h.useState(!1),k=h.useRef(null),T=!!v&&v===_,[A,D]=h.useState(!1),I=h.useCallback(q=>{D(!1),w(q),j(!0)},[w]),O=h.useCallback(q=>{q.key==="ArrowLeft"&&(q.stopPropagation(),j(!1),requestAnimationFrame(()=>{_==null||_.focus()}))},[_]),$=h.useCallback(q=>{i&&i(q),k.current="first",j(!0),requestAnimationFrame(()=>{k.current=null})},[i]),R=h.useCallback(()=>{j(!1),b&&b()},[b]),V=h.useCallback(()=>D(!0),[]);h.useEffect(()=>g(_),[g,_]),h.useEffect(()=>{T||j(!1)},[T]),h.useEffect(()=>{E||D(!1)},[E]);const N=l.jsx(Bt,{onClickOutside:y,onEscape:x,onItemClick:R,onKeyDown:O,onMouseEnter:V,registerElement:C,shouldFocus:k.current,children:n}),W=h.useCallback(q=>{const H=q.currentTarget;if(document.activeElement===H&&q.key==="ArrowRight"){k.current="first",j(!0),D(!0),requestAnimationFrame(()=>{k.current=null});return}},[]);return l.jsx(Jt,{...a,content:N,"data-ui":"MenuGroup__popover",open:E,children:l.jsx(r_e,{"data-as":t,"data-ui":"MenuGroup",forwardedAs:t,...p,"aria-pressed":t==="button"?A:void 0,"data-pressed":t!=="button"?A:void 0,"data-selected":!A&&T?"":void 0,$radius:Ce(c),$tone:f,onClick:$,onKeyDown:W,onMouseEnter:I,ref:S,tabIndex:-1,type:t==="button"?"button":void 0,children:l.jsx(M,{padding:s,children:l.jsxs(U,{children:[o&&l.jsxs(L,{size:r,children:[h.isValidElement(o)&&o,Di.isValidElementType(o)&&h.createElement(o)]}),l.jsx(M,{flex:1,marginLeft:o?u:void 0,children:l.jsx(L,{size:r,textOverflow:"ellipsis",children:d})}),l.jsx(M,{marginLeft:u,children:l.jsx(L,{size:r,children:l.jsx(Uc,{})})})]})})})})}const Ve=h.forwardRef(function(t,n){const{as:r="button",children:o,disabled:i,fontSize:s=2,hotkeys:a,icon:c,iconRight:u,onClick:d,padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:y,paddingLeft:x,pressed:b,radius:w=2,selected:C,space:_=3,text:S,tone:E="default",...j}=t,k=o_e(),{activeElement:T,mount:A,onItemClick:D,onItemMouseEnter:I=k.onMouseEnter,onItemMouseLeave:O=k.onMouseLeave}=k,[$,R]=h.useState(null),V=!!T&&T===$;h.useEffect(()=>A($,C),[A,$,C]);const N=cr(n),W=h.useCallback(Y=>{i||(d&&d(Y),D&&D())},[i,d,D]),q=h.useMemo(()=>({padding:f,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:y,paddingLeft:x}),[f,p,m,v,g,y,x]),H=h.useCallback(Y=>{N.current=Y,R(Y)},[N]);return l.jsxs(r_e,{"data-ui":"MenuItem",...j,"aria-pressed":r==="button"&&b,"data-pressed":r!=="button"&&b?"":void 0,"data-selected":V?"":void 0,"data-disabled":i?"":void 0,forwardedAs:r,$radius:Ce(w),$padding:Ce(0),$tone:E,disabled:i,onClick:W,onMouseEnter:I,onMouseLeave:O,ref:H,role:"menuitem",tabIndex:-1,type:r==="button"?"button":void 0,children:[(c||S||u)&&l.jsx(M,{as:"span",...q,children:l.jsxs(U,{as:"span",children:[c&&l.jsxs(L,{size:s,children:[h.isValidElement(c)&&c,Di.isValidElementType(c)&&h.createElement(c)]}),S&&l.jsx(M,{flex:1,marginLeft:c?_:void 0,marginRight:u?_:void 0,children:l.jsx(L,{size:s,textOverflow:"ellipsis",children:S})}),a&&l.jsx(M,{marginLeft:_,style:{marginTop:-4,marginBottom:-4},children:l.jsx(x8,{fontSize:s,keys:a})}),u&&l.jsxs(L,{size:s,children:[h.isValidElement(u)&&u,Di.isValidElementType(u)&&h.createElement(u)]})]})}),o&&l.jsx(M,{as:"span",...q,children:o})]})});var Qq=Object.freeze,cnt=Object.defineProperty,QE=(e,t)=>Qq(cnt(e,"raw",{value:Qq(t||e.slice())})),Jq,eG,tG,nG;const unt=Em(Jq||(Jq=QE([`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`]))),dnt=he(eG||(eG=QE([`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: `,`;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`])),unt),fnt=he(nG||(nG=QE([`
  opacity: `,`;
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    `,`
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`])),e=>{let{$visible:t}=e;return t?1:0},e=>{let{$animated:t}=e;return t?dnt:he(tG||(tG=QE([`
            background-color: var(--card-skeleton-color-from);
          `])))}),hnt=P(M)(vd,fnt),z0=h.forwardRef(function(t,n){const{animated:r=!1,delay:o,radius:i,...s}=t,[a,c]=h.useState(!o);return h.useEffect(()=>{if(!o)return c(!0);const u=setTimeout(()=>{c(!0)},o);return()=>{clearTimeout(u)}},[o]),l.jsx(hnt,{...s,$animated:r,$radius:Ce(i),$visible:a,ref:n})}),sT=P(z0)(e=>{let{$size:t,$style:n,theme:r}=e;const{media:o}=r.sanity,i=r.sanity.fonts[n];return pt(o,t,a=>{const c=i.sizes[a];return{height:c.lineHeight-c.ascenderHeight-c.descenderHeight}})}),Pi=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=Ce(r);return l.jsx(sT,{...o,$size:i,ref:n,$style:"text"})}),JE=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=Ce(r);return l.jsx(sT,{...o,$size:i,ref:n,$style:"label"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=Ce(r);return l.jsx(sT,{...o,$size:i,ref:n,$style:"heading"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=Ce(r);return l.jsx(sT,{...o,$size:i,ref:n,$style:"code"})});var rG=Object.freeze,pnt=Object.defineProperty,mnt=(e,t)=>rG(pnt(e,"raw",{value:rG(t||e.slice())})),oG;const gnt=P(se)(oG||(oG=mnt([`
  max-width: 100%;
`]))),mx=h.forwardRef(function(t,n){const{icon:r,id:o,focused:i,fontSize:s,label:a,onClick:c,onFocus:u,padding:d=2,selected:f,...p}=t,m=h.useRef(null),v=h.useRef(!1),g=h.useCallback(()=>{v.current=!1},[]),y=h.useCallback(w=>{v.current=!0,u&&u(w)},[u]),x=cr(n);h.useEffect(()=>{i&&!v.current&&(m.current&&m.current.focus(),v.current=!0)},[i]);const b=w=>{m.current=w,x.current=w};return l.jsx(gnt,{"data-ui":"Tab",...p,"aria-selected":f?"true":"false",fontSize:s,icon:r,id:o,mode:"bleed",onClick:c,onBlur:g,onFocus:y,padding:d,ref:b,role:"tab",selected:f,tabIndex:f?0:-1,text:a,type:"button"})});var iG=Object.freeze,vnt=Object.defineProperty,ynt=(e,t)=>iG(vnt(e,"raw",{value:iG(t||e.slice())})),sG;function bnt(e){return!!e}const xnt=P(qt)(sG||(sG=ynt([`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`]))),aT=h.forwardRef(function(t,n){const{children:r,...o}=t,[i,s]=h.useState(-1),c=h.useMemo(()=>r.filter(bnt),[r]).map((p,m)=>h.cloneElement(p,{focused:i===m,key:m,onFocus:()=>d(m)})),u=c.length,d=h.useCallback(p=>{s(p)},[]),f=h.useCallback(p=>{p.key==="ArrowLeft"&&s(m=>(m+u-1)%u),p.key==="ArrowRight"&&s(m=>(m+1)%u)},[u]);return l.jsx(xnt,{"data-ui":"TabList",...o,onKeyDown:f,ref:n,role:"tablist",children:c})}),i_e=h.forwardRef(function(t,n){const{flex:r,...o}=t;return l.jsx(M,{"data-ui":"TabPanel",...o,flex:r,ref:n,role:"tabpanel",tabIndex:t.tabIndex===void 0?0:t.tabIndex,children:t.children})});var aG=Object.freeze,wnt=Object.defineProperty,s_e=(e,t)=>aG(wnt(e,"raw",{value:aG(t||e.slice())})),lG,cG;const Cnt={error:"critical",warning:"caution",success:"positive",info:"primary"},_nt={error:"alert",warning:"alert",success:"alert",info:"alert"},Snt=P(ee)(lG||(lG=s_e([`
  pointer-events: all;
`]))),Ent=P(U)(cG||(cG=s_e([`
  overflow-x: auto;
`])));function knt(e){const{closable:t,description:n,onClose:r,title:o,status:i,...s}=e,a=i?Cnt[i]:"default",c=i?_nt[i]:"status";return l.jsx(Snt,{"data-ui":"Toast",role:c,...s,marginTop:3,radius:2,shadow:2,tone:a,children:l.jsxs(U,{align:"flex-start",children:[l.jsx(Ent,{flex:1,padding:3,children:l.jsxs(oe,{space:3,children:[o&&l.jsx(L,{weight:"semibold",children:o}),n&&l.jsx(L,{muted:!0,size:1,children:n})]})}),t&&l.jsx(M,{padding:1,children:l.jsx(se,{as:"button",icon:Ii,mode:"bleed",padding:2,onClick:r,style:{verticalAlign:"top"}})})]})})}function jnt(){const[e,t]=h.useReducer(()=>!0,!1);return h.useEffect(t,[t]),e}const N$=Symbol.for("@sanity/ui/context/toast");Xt[N$]=Xt[N$]||h.createContext(null);const a_e=Xt[N$];var uG=Object.freeze,Tnt=Object.defineProperty,l_e=(e,t)=>uG(Tnt(e,"raw",{value:uG(t||e.slice())})),dG,fG;const Ant=P(ss)(dG||(dG=l_e([`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`]))),Dnt=P.div(fG||(fG=l_e([`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`])));let Int=0;function C8(e){const{children:t,padding:n=4,paddingX:r,paddingY:o,zOffset:i}=e,[s,a]=h.useState([]),c=h.useRef({}),u=h.useCallback(p=>{const m=x=>h.startTransition(()=>a(x)),v=p.id||String(Int++),g=p.duration||5e3,y=()=>{var x;const b=(x=c.current[v])==null?void 0:x.timeoutId;m(w=>{const C=w.findIndex(_=>_.id===v);if(C>-1){const _=w.slice(0);return _.splice(C,1),_}return w}),b!==void 0&&(clearTimeout(b),delete c.current[v])};return m(x=>x.filter(b=>b.id!==v).concat([{dismiss:y,id:v,params:{...p,duration:g}}])),c.current[v]&&(clearTimeout(c.current[v].timeoutId),delete c.current[v]),c.current[v]={timeoutId:setTimeout(y,g)},v},[]);h.useEffect(()=>()=>{for(const{timeoutId:p}of Object.values(c.current))clearTimeout(p);c.current={}},[]);const d=h.useMemo(()=>({version:0,push:u}),[u]),f=jnt();return l.jsxs(a_e.Provider,{value:d,children:[t,f&&l.jsx(Ant,{"data-ui":"ToastProvider",zOffset:i,children:l.jsx(Dnt,{children:l.jsx(M,{padding:n,paddingX:r,paddingY:o,children:l.jsx(s8,{initial:!1,children:s.map(p=>{let{dismiss:m,id:v,params:g}=p;return l.jsx(gd.div,{animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},initial:{opacity:0,y:32,scale:.25},layout:"position",transition:{type:"spring",damping:30,stiffness:400},children:l.jsx(knt,{closable:g.closable,description:g.description,onClose:m,status:g.status,title:g.title})},v)})})})})})]})}function Wo(){const e=h.useContext(a_e);if(!e)throw new Error("useToast(): missing context value");if(!M0(e)||e.version!==0)throw new Error("useToast(): the context value is not compatible");return e}function Ont(e,t,n){var r;const o=t.indexOf(n),i=t.slice(0,o),s=i.length;for(let a=s-1;a>=0;a-=1){const c=i[a].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function Pnt(e,t,n){var r;const o=t.indexOf(n),i=t.slice(o),s=t.length;for(let a=1;a<s;a+=1){if(!i[a])continue;const c=i[a].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function hG(e){if(e.getAttribute("role")==="treeitem"&&e.focus(),e.getAttribute("role")==="none"){const t=e.firstChild;t&&t instanceof HTMLElement&&t.focus()}}const z$=Symbol.for("@sanity/ui/context/tree");Xt[z$]=Xt[z$]||h.createContext(null);const ek=Xt[z$],c_e=h.memo(h.forwardRef(function(t,n){const{children:r,space:o=1,onFocus:i,...s}=t,a=cr(n),[c,u]=h.useState(null),d=h.useRef(c),f=h.useMemo(()=>[],[]),[p,m]=h.useState([]),[v,g]=h.useState({}),y=h.useRef(v);h.useEffect(()=>{d.current=c},[c]),h.useEffect(()=>{y.current=v},[v]);const x=h.useCallback((S,E,j,k)=>(g(T=>({...T,[E]:{element:S,expanded:j}})),k&&u(S),()=>{g(T=>{const A={...T};return delete A[E],A})}),[]),b=h.useCallback((S,E)=>{g(j=>{const k=j[S];return k?{...j,[S]:{...k,expanded:E}}:j})},[]),w=h.useMemo(()=>({version:0,focusedElement:c||p[0]||null,level:0,path:f,registerItem:x,setExpanded:b,setFocusedElement:u,space:o,state:v}),[c,p,f,x,b,o,v]),C=h.useCallback(S=>{var E;if(d.current){if(S.key==="ArrowDown"){S.preventDefault();const j=Pnt(y.current,p,d.current);j&&(hG(j),u(j));return}if(S.key==="ArrowUp"){S.preventDefault();const j=Ont(y.current,p,d.current);j&&(hG(j),u(j));return}if(S.key==="ArrowLeft"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;const k=y.current[j];if(!k)return;if(k.expanded)g(T=>{const A=T[j];return A?{...T,[j]:{...A,expanded:!1}}:T});else{const T=j.split("/");T.pop();const A=T.join("/"),D=A&&y.current[A];D&&(D.element.focus(),u(D.element))}return}if(S.key==="ArrowRight"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;(E=y.current[j])!=null&&E.expanded||g(k=>{const T=k[j];return T?{...k,[j]:{...T,expanded:!0}}:k});return}}},[p]),_=h.useCallback(S=>{u(S.target),i==null||i(S)},[i]);return h.useEffect(()=>{if(!a.current)return;const S=Array.from(a.current.querySelectorAll('[data-ui="TreeItem"]'));m(S)},[r,a]),l.jsx(ek.Provider,{value:w,children:l.jsx(oe,{as:"ul","data-ui":"Tree",...s,onFocus:_,onKeyDown:C,ref:a,role:"tree",space:o,children:r})})}));c_e.displayName="Tree";var pG=Object.freeze,Rnt=Object.defineProperty,_8=(e,t)=>pG(Rnt(e,"raw",{value:pG(t||e.slice())})),mG,gG,vG;function $nt(){return he(mG||(mG=_8([`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;
      }

      &:focus > div {
        position: relative;
      }
    }
  `])))}function Mnt(e){const{theme:t}=e,n="default",{base:r,muted:o,selectable:i}=t.sanity.color,s=i?i[n]||i.default:o[n]||o.default;return he(gG||(gG=_8([`
    /* <div role="none"><a data-ui="TreeItem__box" role="treeitem" tabIndex="0"></div> */
    &[role='none'] {
      & > [role='treeitem'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &[data-selected] > [role='treeitem'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          `,`
        }

        & > [role='treeitem']:focus {
          `,`
        }
      }
    }

    /* <div role="treeitem" tabIndex="0"><div data-ui="TreeItem__box"></div> */
    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--card-fg-color);
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          `,`
        }

        &:focus > [data-ui='TreeItem__box'] {
          `,`
        }
      }
    }
  `])),zt(r,s.enabled),zt(r,s.pressed),zt(r,s.hovered),zt(r,s.selected),zt(r,s.enabled),zt(r,s.pressed),zt(r,s.hovered),zt(r,s.selected))}function Fnt(e){const{$level:t,theme:n}=e,{space:r}=n.sanity;return he(vG||(vG=_8([`
    padding-left: `,`;

    &[data-as='a'] {
      text-decoration: none;
    }
  `])),ye(r[2]*t))}function u_e(){const e=h.useContext(ek);if(!e)throw new Error("Tree: missing context value");return e}const yG=h.memo(function(t){const{children:n,expanded:r=!1,...o}=t,i=u_e();return l.jsx(oe,{as:"ul","data-ui":"TreeGroup",...o,hidden:!r,marginTop:i.space,role:"group",space:i.space,children:n})});var bG=Object.freeze,Lnt=Object.defineProperty,Bnt=(e,t)=>bG(Lnt(e,"raw",{value:bG(t||e.slice())})),xG;const wG=h.memo(P.li($nt,Mnt)),CG=P(M).attrs({forwardedAs:"a"})(Fnt),Nnt=P(L)(xG||(xG=Bnt([`
  & > svg {
    transition: transform 100ms;
  }
`]))),gx=h.memo(function(t){const{children:n,expanded:r=!1,fontSize:o,href:i,icon:s,id:a,linkAs:c,muted:u,onClick:d,padding:f=3,selected:p=!1,space:m=2,text:v,weight:g,...y}=t,x=h.useRef(null),b=h.useRef(null),w=u_e(),{path:C,registerItem:_,setExpanded:S,setFocusedElement:E}=w,j=h.useId(),k=a||j,T=h.useMemo(()=>C.concat([k||""]),[k,C]),A=T.join("/"),D=w.state[A],I=w.focusedElement===x.current,O=(D==null?void 0:D.expanded)===void 0?r:(D==null?void 0:D.expanded)||!1,$=w.focusedElement&&w.focusedElement===x.current?0:-1,R=h.useMemo(()=>({...w,level:w.level+1,path:T}),[T,w]),V=h.useCallback(q=>{d&&d(q);const H=q.target;H instanceof HTMLElement&&(H.getAttribute("data-ui")==="TreeItem"||H.closest('[data-ui="TreeItem__box"]'))&&(q.stopPropagation(),S(A,!O),E(x.current))},[O,A,d,S,E]),N=h.useCallback(q=>{if(I&&q.key==="Enter"){const H=b.current||x.current;H==null||H.click()}},[I]);h.useEffect(()=>{if(x.current)return _(x.current,T.join("/"),O,p)},[O,T,_,p]);const W=l.jsxs(U,{padding:f,children:[l.jsxs(M,{marginRight:m,style:{visibility:s||n?"visible":"hidden",pointerEvents:"none"},children:[s&&l.jsx(L,{muted:u,size:o,weight:g,children:h.createElement(s)}),!s&&l.jsx(Nnt,{muted:u,size:o,weight:g,children:l.jsx(Sj,{style:{transform:O?"rotate(90deg)":void 0}})})]}),l.jsx(M,{flex:1,children:l.jsx(L,{muted:u,size:o,textOverflow:"ellipsis",weight:g,children:v})})]});return i?l.jsxs(wG,{"data-selected":p?"":void 0,"data-tree-id":k,"data-tree-key":A,"data-ui":"TreeItem",...y,onClick:V,ref:x,role:"none",children:[l.jsx(CG,{$level:w.level,"aria-expanded":O,as:c,"data-ui":"TreeItem__box",href:i,ref:b,role:"treeitem",tabIndex:$,children:W}),l.jsx(ek.Provider,{value:R,children:n&&l.jsx(yG,{hidden:!O,children:n})})]}):l.jsxs(wG,{"data-selected":p?"":void 0,"data-ui":"TreeItem","data-tree-id":k,"data-tree-key":A,...y,"aria-expanded":O,onClick:V,onKeyDown:N,ref:x,role:"treeitem",tabIndex:$,children:[l.jsx(CG,{$level:w.level,as:"div","data-ui":"TreeItem__box",children:W}),l.jsx(ek.Provider,{value:R,children:n&&l.jsx(yG,{expanded:O,children:n})})]})});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var V$=function(e,t){return V$=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])},V$(e,t)};function Zn(e,t){V$(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function tk(e){return typeof e=="function"}var _G=!1,yc={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;""+t.stack}_G=e},get useDeprecatedSynchronousErrorHandling(){return _G}};function ev(e){setTimeout(function(){throw e},0)}var nk={closed:!0,next:function(e){},error:function(e){if(yc.useDeprecatedSynchronousErrorHandling)throw e;ev(e)},complete:function(){}},d_e=function(){return Array.isArray||function(e){return e&&typeof e.length=="number"}}();function f_e(e){return e!==null&&typeof e=="object"}var znt=function(){function e(t){return Error.call(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e}(),aS=znt,Ya=function(){function e(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,r=n._parentOrParents,o=n._ctorUnsubscribe,i=n._unsubscribe,s=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(r!==null)for(var a=0;a<r.length;++a){var c=r[a];c.remove(this)}if(tk(i)){o&&(this._unsubscribe=void 0);try{i.call(this)}catch(f){t=f instanceof aS?SG(f.errors):[f]}}if(d_e(s))for(var a=-1,u=s.length;++a<u;){var d=s[a];if(f_e(d))try{d.unsubscribe()}catch(p){t=t||[],p instanceof aS?t=t.concat(SG(p.errors)):t.push(p)}}if(t)throw new aS(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||typeof n.unsubscribe!="function")return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;n=new e,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(o===null)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else if(o.indexOf(this)===-1)o.push(this);else return n;var i=this._subscriptions;return i===null?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(t){var n=this._subscriptions;if(n){var r=n.indexOf(t);r!==-1&&n.splice(r,1)}},e.EMPTY=function(t){return t.closed=!0,t}(new e),e}();function SG(e){return e.reduce(function(t,n){return t.concat(n instanceof aS?n.errors:n)},[])}var rk=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Ds=function(e){Zn(t,e);function t(n,r,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=nk;break;case 1:if(!n){i.destination=nk;break}if(typeof n=="object"){n instanceof t?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new EG(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new EG(i,n,r,o);break}return i}return t.prototype[rk]=function(){return this},t.create=function(n,r,o){var i=new t(n,r,o);return i.syncErrorThrowable=!1,i},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var n=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this},t}(Ya),EG=function(e){Zn(t,e);function t(n,r,o,i){var s=e.call(this)||this;s._parentSubscriber=n;var a,c=s;return tk(r)?a=r:r&&(a=r.next,o=r.error,i=r.complete,r!==nk&&(c=Object.create(r),tk(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=a,s._error=o,s._complete=i,s}return t.prototype.next=function(n){if(!this.isStopped&&this._next){var r=this._parentSubscriber;!yc.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?this.__tryOrUnsub(this._next,n):this.__tryOrSetError(r,this._next,n)&&this.unsubscribe()}},t.prototype.error=function(n){if(!this.isStopped){var r=this._parentSubscriber,o=yc.useDeprecatedSynchronousErrorHandling;if(this._error)!o||!r.syncErrorThrowable?(this.__tryOrUnsub(this._error,n),this.unsubscribe()):(this.__tryOrSetError(r,this._error,n),this.unsubscribe());else if(r.syncErrorThrowable)o?(r.syncErrorValue=n,r.syncErrorThrown=!0):ev(n),this.unsubscribe();else{if(this.unsubscribe(),o)throw n;ev(n)}}},t.prototype.complete=function(){var n=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var o=function(){return n._complete.call(n._context)};!yc.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?(this.__tryOrUnsub(o),this.unsubscribe()):(this.__tryOrSetError(r,o),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(n,r){try{n.call(this._context,r)}catch(o){if(this.unsubscribe(),yc.useDeprecatedSynchronousErrorHandling)throw o;ev(o)}},t.prototype.__tryOrSetError=function(n,r,o){if(!yc.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,o)}catch(i){return yc.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=i,n.syncErrorThrown=!0,!0):(ev(i),!0)}return!1},t.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._context=null,this._parentSubscriber=null,n.unsubscribe()},t}(Ds);function Vnt(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;r&&r instanceof Ds?e=r:e=null}return!0}function Hnt(e,t,n){if(e){if(e instanceof Ds)return e;if(e[rk])return e[rk]()}return!e&&!t&&!n?new Ds(nk):new Ds(e,t,n)}var Nw=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Unt(e){return e}function Wnt(e){return e.length===0?Unt:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var zo=function(){function e(t){this._isScalar=!1,t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this.operator,i=Hnt(t,n,r);if(o?i.add(o.call(i,this.source)):i.add(this.source||yc.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),yc.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){yc.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=n),Vnt(t)?t.error(n):console.warn(n)}},e.prototype.forEach=function(t,n){var r=this;return n=kG(n),new n(function(o,i){var s;s=r.subscribe(function(a){try{t(a)}catch(c){i(c),s&&s.unsubscribe()}},i,o)})},e.prototype._subscribe=function(t){var n=this.source;return n&&n.subscribe(t)},e.prototype[Nw]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length===0?this:Wnt(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=kG(t),new t(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function kG(e){if(e||(e=Promise),!e)throw new Error("no Promise impl found");return e}var Ynt=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),lp=Ynt,h_e=function(e){Zn(t,e);function t(n,r){var o=e.call(this)||this;return o.subject=n,o.subscriber=r,o.closed=!1,o}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var n=this.subject,r=n.observers;if(this.subject=null,!(!r||r.length===0||n.isStopped||n.closed)){var o=r.indexOf(this.subscriber);o!==-1&&r.splice(o,1)}}},t}(Ya),qnt=function(e){Zn(t,e);function t(n){var r=e.call(this,n)||this;return r.destination=n,r}return t}(Ds),$m=function(e){Zn(t,e);function t(){var n=e.call(this)||this;return n.observers=[],n.closed=!1,n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype[rk]=function(){return new qnt(this)},t.prototype.lift=function(n){var r=new jG(this,this);return r.operator=n,r},t.prototype.next=function(n){if(this.closed)throw new lp;if(!this.isStopped)for(var r=this.observers,o=r.length,i=r.slice(),s=0;s<o;s++)i[s].next(n)},t.prototype.error=function(n){if(this.closed)throw new lp;this.hasError=!0,this.thrownError=n,this.isStopped=!0;for(var r=this.observers,o=r.length,i=r.slice(),s=0;s<o;s++)i[s].error(n);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new lp;this.isStopped=!0;for(var n=this.observers,r=n.length,o=n.slice(),i=0;i<r;i++)o[i].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(n){if(this.closed)throw new lp;return e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){if(this.closed)throw new lp;return this.hasError?(n.error(this.thrownError),Ya.EMPTY):this.isStopped?(n.complete(),Ya.EMPTY):(this.observers.push(n),new h_e(this,n))},t.prototype.asObservable=function(){var n=new zo;return n.source=this,n},t.create=function(n,r){return new jG(n,r)},t}(zo),jG=function(e){Zn(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r=this.destination;r&&r.next&&r.next(n)},t.prototype.error=function(n){var r=this.destination;r&&r.error&&this.destination.error(n)},t.prototype.complete=function(){var n=this.destination;n&&n.complete&&this.destination.complete()},t.prototype._subscribe=function(n){var r=this.source;return r?this.source.subscribe(n):Ya.EMPTY},t}($m),Gnt=function(e){Zn(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return r&&!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new lp;return this._value},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}($m),Knt=function(e){Zn(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Ya),S8=function(e){Zn(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(i,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!==null&&this.delay===o&&this.pending===!1)return r;clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i=void 0;try{this.work(n)}catch(s){o=!0,i=!!s&&s||new Error(s)}if(o)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var n=this.id,r=this.scheduler,o=r.actions,i=o.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,i!==-1&&o.splice(i,1),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null},t}(Knt),Znt=function(e){Zn(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.schedule=function(n,r){return r===void 0&&(r=0),r>0?e.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},t.prototype.execute=function(n,r){return r>0||this.closed?e.prototype.execute.call(this,n,r):this._execute(n,r)},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0||o===null&&this.delay>0?e.prototype.requestAsyncId.call(this,n,r,o):n.flush(this)},t}(S8),TG=function(){function e(t,n){n===void 0&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.SchedulerAction(this,t).schedule(r,n)},e.now=function(){return Date.now()},e}(),E8=function(e){Zn(t,e);function t(n,r){r===void 0&&(r=TG.now);var o=e.call(this,n,function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return t.prototype.schedule=function(n,r,o){return r===void 0&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(n){var r=this.actions;if(this.active){r.push(n);return}var o;this.active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this.active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(TG),Xnt=function(e){Zn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(E8),Qnt=new Xnt(Znt),Jnt=Qnt,p_e=new zo(function(e){return e.complete()});function m_e(e){return e?ert(e):p_e}function ert(e){return new zo(function(t){return e.schedule(function(){return t.complete()})})}function H$(e){return e&&typeof e.schedule=="function"}var g_e=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};function k8(e,t){return new zo(function(n){var r=new Ya,o=0;return r.add(t.schedule(function(){if(o===e.length){n.complete();return}n.next(e[o++]),n.closed||r.add(this.schedule())})),r})}function trt(e,t){return t?k8(e,t):new zo(g_e(e))}function nrt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return H$(n)?(e.pop(),k8(e,n)):trt(e)}function rrt(e,t){return t?new zo(function(n){return t.schedule(ort,0,{error:e,subscriber:n})}):new zo(function(n){return n.error(e)})}function ort(e){var t=e.error,n=e.subscriber;n.error(t)}var rO=function(){function e(t,n,r){this.kind=t,this.value=n,this.error=r,this.hasValue=t==="N"}return e.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},e.prototype.do=function(t,n,r){var o=this.kind;switch(o){case"N":return t&&t(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}},e.prototype.accept=function(t,n,r){return t&&typeof t.next=="function"?this.observe(t):this.do(t,n,r)},e.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return nrt(this.value);case"E":return rrt(this.error);case"C":return m_e()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return typeof t<"u"?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),irt=function(e){Zn(t,e);function t(n,r,o){o===void 0&&(o=0);var i=e.call(this,n)||this;return i.scheduler=r,i.delay=o,i}return t.dispatch=function(n){var r=n.notification,o=n.destination;r.observe(o),this.unsubscribe()},t.prototype.scheduleMessage=function(n){var r=this.destination;r.add(this.scheduler.schedule(t.dispatch,this.delay,new srt(n,this.destination)))},t.prototype._next=function(n){this.scheduleMessage(rO.createNext(n))},t.prototype._error=function(n){this.scheduleMessage(rO.createError(n)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(rO.createComplete()),this.unsubscribe()},t}(Ds),srt=function(){function e(t,n){this.notification=t,this.destination=n}return e}(),art=function(e){Zn(t,e);function t(n,r,o){n===void 0&&(n=Number.POSITIVE_INFINITY),r===void 0&&(r=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=o,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=n<1?1:n,i._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return t.prototype.nextInfiniteTimeWindow=function(n){if(!this.isStopped){var r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}e.prototype.next.call(this,n)},t.prototype.nextTimeWindow=function(n){this.isStopped||(this._events.push(new lrt(this._getNow(),n)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){var r=this._infiniteTimeWindow,o=r?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,s=o.length,a;if(this.closed)throw new lp;if(this.isStopped||this.hasError?a=Ya.EMPTY:(this.observers.push(n),a=new h_e(this,n)),i&&n.add(n=new irt(n,i)),r)for(var c=0;c<s&&!n.closed;c++)n.next(o[c]);else for(var c=0;c<s&&!n.closed;c++)n.next(o[c].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),a},t.prototype._getNow=function(){return(this.scheduler||Jnt).now()},t.prototype._trimBufferThenGetEvents=function(){for(var n=this._getNow(),r=this._bufferSize,o=this._windowTime,i=this._events,s=i.length,a=0;a<s&&!(n-i[a].time<o);)a++;return s>r&&(a=Math.max(a,s-r)),a>0&&i.splice(0,a),i},t}($m),lrt=function(){function e(t,n){this.time=t,this.value=n}return e}(),crt=1,urt=function(){return Promise.resolve()}(),U$={};function AG(e){return e in U$?(delete U$[e],!0):!1}var DG={setImmediate:function(e){var t=crt++;return U$[t]=!0,urt.then(function(){return AG(t)&&e()}),t},clearImmediate:function(e){AG(e)}},drt=function(e){Zn(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n.scheduled||(n.scheduled=DG.setImmediate(n.flush.bind(n,null))))},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!==null&&o>0||o===null&&this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,o);n.actions.length===0&&(DG.clearImmediate(r),n.scheduled=void 0)},t}(S8),frt=function(e){Zn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var r=this.actions,o,i=-1,s=r.length;n=n||r.shift();do if(o=n.execute(n.state,n.delay))break;while(++i<s&&(n=r.shift()));if(this.active=!1,o){for(;++i<s&&(n=r.shift());)n.unsubscribe();throw o}},t}(E8),hrt=new frt(drt),v_e=new E8(S8),prt=v_e;function hu(){}function y_e(e,t){return function(r){if(typeof e!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new mrt(e,t))}}var mrt=function(){function e(t,n){this.project=t,this.thisArg=n}return e.prototype.call=function(t,n){return n.subscribe(new grt(t,this.project,this.thisArg))},e}(),grt=function(e){Zn(t,e);function t(n,r,o){var i=e.call(this,n)||this;return i.project=r,i.count=0,i.thisArg=o||i,i}return t.prototype._next=function(n){var r;try{r=this.project.call(this.thisArg,n,this.count++)}catch(o){this.destination.error(o);return}this.destination.next(r)},t}(Ds),vrt=function(e){return function(t){return e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,ev),t}};function yrt(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var lT=yrt(),brt=function(e){return function(t){var n=e[lT]();do{var r=void 0;try{r=n.next()}catch(o){return t.error(o),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}while(!0);return typeof n.return=="function"&&t.add(function(){n.return&&n.return()}),t}},xrt=function(e){return function(t){var n=e[Nw]();if(typeof n.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},b_e=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function x_e(e){return!!e&&typeof e.subscribe!="function"&&typeof e.then=="function"}var w_e=function(e){if(e&&typeof e[Nw]=="function")return xrt(e);if(b_e(e))return g_e(e);if(x_e(e))return vrt(e);if(e&&typeof e[lT]=="function")return brt(e);var t=f_e(e)?"an invalid object":"'"+e+"'",n="You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(n)};function wrt(e,t){return new zo(function(n){var r=new Ya;return r.add(t.schedule(function(){var o=e[Nw]();r.add(o.subscribe({next:function(i){r.add(t.schedule(function(){return n.next(i)}))},error:function(i){r.add(t.schedule(function(){return n.error(i)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}function Crt(e,t){return new zo(function(n){var r=new Ya;return r.add(t.schedule(function(){return e.then(function(o){r.add(t.schedule(function(){n.next(o),r.add(t.schedule(function(){return n.complete()}))}))},function(o){r.add(t.schedule(function(){return n.error(o)}))})})),r})}function _rt(e,t){if(!e)throw new Error("Iterable cannot be null");return new zo(function(n){var r=new Ya,o;return r.add(function(){o&&typeof o.return=="function"&&o.return()}),r.add(t.schedule(function(){o=e[lT](),r.add(t.schedule(function(){if(!n.closed){var i,s;try{var a=o.next();i=a.value,s=a.done}catch(c){n.error(c);return}s?n.complete():(n.next(i),this.schedule())}}))})),r})}function Srt(e){return e&&typeof e[Nw]=="function"}function Ert(e){return e&&typeof e[lT]=="function"}function C_e(e,t){if(e!=null){if(Srt(e))return wrt(e,t);if(x_e(e))return Crt(e,t);if(b_e(e))return k8(e,t);if(Ert(e)||typeof e=="string")return _rt(e,t)}throw new TypeError((e!==null&&typeof e||e)+" is not observable")}function cT(e,t){return t?C_e(e,t):e instanceof zo?e:new zo(w_e(e))}var j8=function(e){Zn(t,e);function t(n){var r=e.call(this)||this;return r.parent=n,r}return t.prototype._next=function(n){this.parent.notifyNext(n)},t.prototype._error=function(n){this.parent.notifyError(n),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(Ds),T8=function(e){Zn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.notifyNext=function(n){this.destination.next(n)},t.prototype.notifyError=function(n){this.destination.error(n)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(Ds);function A8(e,t){if(!t.closed){if(e instanceof zo)return e.subscribe(t);var n;try{n=w_e(e)(t)}catch(r){t.error(r)}return n}}function krt(e){return new zo(function(t){var n;try{n=e()}catch(o){t.error(o);return}var r=n?cT(n):m_e();return r.subscribe(t)})}function IG(e){return!d_e(e)&&e-parseFloat(e)+1>=0}var jrt=new zo(hu);function OG(e,t,n){e===void 0&&(e=0);var r=-1;return IG(t)?r=Number(t)<1&&1||Number(t):H$(t)&&(n=t),H$(n)||(n=prt),new zo(function(o){var i=IG(e)?e:+e-n.now();return n.schedule(Trt,i,{index:0,period:r,subscriber:o})})}function Trt(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(n===-1)return r.complete();e.index=t+1,this.schedule(e,n)}}function Art(e,t){return new zo(function(n){var r;try{r=e()}catch(a){n.error(a);return}var o;try{o=t(r)}catch(a){n.error(a);return}var i=o?cT(o):p_e,s=i.subscribe(n);return function(){s.unsubscribe(),r&&r.unsubscribe()}})}function Drt(e,t){return function(n){return n.lift(new Irt(e,t))}}var Irt=function(){function e(t,n){this.compare=t,this.keySelector=n}return e.prototype.call=function(t,n){return n.subscribe(new Ort(t,this.compare,this.keySelector))},e}(),Ort=function(e){Zn(t,e);function t(n,r,o){var i=e.call(this,n)||this;return i.keySelector=o,i.hasKey=!1,typeof r=="function"&&(i.compare=r),i}return t.prototype.compare=function(n,r){return n===r},t.prototype._next=function(n){var r;try{var o=this.keySelector;r=o?o(n):n}catch(a){return this.destination.error(a)}var i=!1;if(this.hasKey)try{var s=this.compare;i=s(this.key,r)}catch(a){return this.destination.error(a)}else this.hasKey=!0;i||(this.key=r,this.destination.next(n))},t}(Ds);function __e(e,t){return t?function(n){return n.pipe(__e(function(r,o){return cT(e(r,o)).pipe(y_e(function(i,s){return t(r,i,o,s)}))}))}:function(n){return n.lift(new Prt(e))}}var Prt=function(){function e(t){this.project=t}return e.prototype.call=function(t,n){return n.subscribe(new Rrt(t,this.project))},e}(),Rrt=function(e){Zn(t,e);function t(n,r){var o=e.call(this,n)||this;return o.project=r,o.hasSubscription=!1,o.hasCompleted=!1,o.index=0,o}return t.prototype._next=function(n){this.hasSubscription||this.tryNext(n)},t.prototype.tryNext=function(n){var r,o=this.index++;try{r=this.project(n,o)}catch(i){this.destination.error(i);return}this.hasSubscription=!0,this._innerSub(r)},t.prototype._innerSub=function(n){var r=new j8(this),o=this.destination;o.add(r);var i=A8(n,r);i!==r&&o.add(i)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(n){this.destination.next(n)},t.prototype.notifyError=function(n){this.destination.error(n)},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(T8);function $rt(e){return function(t){return t.lift(new Mrt(e))}}var Mrt=function(){function e(t){this.callback=t}return e.prototype.call=function(t,n){return n.subscribe(new Frt(t,this.callback))},e}(),Frt=function(e){Zn(t,e);function t(n,r){var o=e.call(this,n)||this;return o.add(new Ya(r)),o}return t}(Ds);function Lrt(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(o){return o.lift(new Brt(e,t,n))}}var Brt=function(){function e(t,n,r){r===void 0&&(r=!1),this.accumulator=t,this.seed=n,this.hasSeed=r}return e.prototype.call=function(t,n){return n.subscribe(new Nrt(t,this.accumulator,this.seed,this.hasSeed))},e}(),Nrt=function(e){Zn(t,e);function t(n,r,o,i){var s=e.call(this,n)||this;return s.accumulator=r,s._seed=o,s.hasSeed=i,s.index=0,s}return Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(n){this.hasSeed=!0,this._seed=n},enumerable:!0,configurable:!0}),t.prototype._next=function(n){if(!this.hasSeed)this.seed=n,this.destination.next(n);else return this._tryNext(n)},t.prototype._tryNext=function(n){var r=this.index++,o;try{o=this.accumulator(this.seed,n,r)}catch(i){this.destination.error(i)}this.seed=o,this.destination.next(o)},t}(Ds);function zrt(e,t,n){var r;return e&&typeof e=="object"?r=e:r={bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(o){return o.lift(Vrt(r))}}function Vrt(e){var t=e.bufferSize,n=t===void 0?Number.POSITIVE_INFINITY:t,r=e.windowTime,o=r===void 0?Number.POSITIVE_INFINITY:r,i=e.refCount,s=e.scheduler,a,c=0,u,d=!1,f=!1;return function(m){c++;var v;!a||d?(d=!1,a=new art(n,o,s),v=a.subscribe(this),u=m.subscribe({next:function(g){a.next(g)},error:function(g){d=!0,a.error(g)},complete:function(){f=!0,u=void 0,a.complete()}}),f&&(u=void 0)):v=a.subscribe(this),this.add(function(){c--,v.unsubscribe(),v=void 0,u&&!f&&i&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function S_e(e,t){return typeof t=="function"?function(n){return n.pipe(S_e(function(r,o){return cT(e(r,o)).pipe(y_e(function(i,s){return t(r,i,o,s)}))}))}:function(n){return n.lift(new Hrt(e))}}var Hrt=function(){function e(t){this.project=t}return e.prototype.call=function(t,n){return n.subscribe(new Urt(t,this.project))},e}(),Urt=function(e){Zn(t,e);function t(n,r){var o=e.call(this,n)||this;return o.project=r,o.index=0,o}return t.prototype._next=function(n){var r,o=this.index++;try{r=this.project(n,o)}catch(i){this.destination.error(i);return}this._innerSub(r)},t.prototype._innerSub=function(n){var r=this.innerSubscription;r&&r.unsubscribe();var o=new j8(this),i=this.destination;i.add(o),this.innerSubscription=A8(n,o),this.innerSubscription!==o&&i.add(this.innerSubscription)},t.prototype._complete=function(){var n=this.innerSubscription;(!n||n.closed)&&e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(n){this.destination.next(n)},t}(T8);function W$(e,t,n){return function(o){return o.lift(new Wrt(e,t,n))}}var Wrt=function(){function e(t,n,r){this.nextOrObserver=t,this.error=n,this.complete=r}return e.prototype.call=function(t,n){return n.subscribe(new Yrt(t,this.nextOrObserver,this.error,this.complete))},e}(),Yrt=function(e){Zn(t,e);function t(n,r,o,i){var s=e.call(this,n)||this;return s._tapNext=hu,s._tapError=hu,s._tapComplete=hu,s._tapError=o||hu,s._tapComplete=i||hu,tk(r)?(s._context=s,s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||hu,s._tapError=r.error||hu,s._tapComplete=r.complete||hu),s}return t.prototype._next=function(n){try{this._tapNext.call(this._context,n)}catch(r){this.destination.error(r);return}this.destination.next(n)},t.prototype._error=function(n){try{this._tapError.call(this._context,n)}catch(r){this.destination.error(r);return}this.destination.error(n)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(n){this.destination.error(n);return}return this.destination.complete()},t}(Ds),qrt={leading:!0,trailing:!1};function Grt(e,t){return t===void 0&&(t=qrt),function(n){return n.lift(new Krt(e,!!t.leading,!!t.trailing))}}var Krt=function(){function e(t,n,r){this.durationSelector=t,this.leading=n,this.trailing=r}return e.prototype.call=function(t,n){return n.subscribe(new Zrt(t,this.durationSelector,this.leading,this.trailing))},e}(),Zrt=function(e){Zn(t,e);function t(n,r,o,i){var s=e.call(this,n)||this;return s.destination=n,s.durationSelector=r,s._leading=o,s._trailing=i,s._hasValue=!1,s}return t.prototype._next=function(n){this._hasValue=!0,this._sendValue=n,this._throttled||(this._leading?this.send():this.throttle(n))},t.prototype.send=function(){var n=this,r=n._hasValue,o=n._sendValue;r&&(this.destination.next(o),this.throttle(o)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(n){var r=this.tryDurationSelector(n);r&&this.add(this._throttled=A8(r,new j8(this)))},t.prototype.tryDurationSelector=function(n){try{return this.durationSelector(n)}catch(r){return this.destination.error(r),null}},t.prototype.throttlingDone=function(){var n=this,r=n._throttled,o=n._trailing;r&&r.unsubscribe(),this._throttled=void 0,o&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(T8);function Xrt(e,t){var n=h.useCallback(function(){var s=new Gnt(e),a=s.asObservable().pipe(Drt());return[t?a.pipe(t):a,s]},[]),r=h.useRef();r.current||(r.current=n());var o=r.current[0];h.useEffect(function(){if(r.current){var s=r.current,a=s[1];a.next(e)}},[e,r]);var i=h.useRef(!1);return h.useEffect(function(){return i.current&&(r.current||(r.current=n()),i.current=!1),function(){if(r.current){i.current=!0;var s=r.current,a=s[1];a.complete(),r.current=void 0}}},[]),o}var E_e={exports:{}},k_e={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0=h;function Qrt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jrt=typeof Object.is=="function"?Object.is:Qrt,eot=s0.useState,tot=s0.useEffect,not=s0.useLayoutEffect,rot=s0.useDebugValue;function oot(e,t){var n=t(),r=eot({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return not(function(){o.value=n,o.getSnapshot=t,oO(o)&&i({inst:o})},[e,n,t]),tot(function(){return oO(o)&&i({inst:o}),e(function(){oO(o)&&i({inst:o})})},[e]),rot(n),n}function oO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jrt(e,n)}catch{return!0}}function iot(e,t){return t()}var sot=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?iot:oot;k_e.useSyncExternalStore=s0.useSyncExternalStore!==void 0?s0.useSyncExternalStore:sot;E_e.exports=k_e;var aot=E_e.exports;function Y$(e){return typeof e=="function"?e():e}var iO=new WeakMap;function PG(e,t){if(!iO.has(e)){var n={currentValue:t};n.observable=e.pipe(zrt({refCount:!0,bufferSize:1}),W$(function(r){return n.currentValue=r})),n.subscription=n.observable.subscribe(),iO.set(e,n)}return iO.get(e)}function lot(e,t){var n=h.useMemo(function(){var s=PG(e,Y$(t));return s.subscription.closed&&(s.subscription=s.observable.subscribe()),[function(){return s.currentValue},function(c){var u=s.observable.subscribe(c);return function(){u.unsubscribe()}}]},[e]),r=n[0],o=n[1],i=h.useRef(!1);return h.useEffect(function(){var s=PG(e,Y$(t));return i.current&&(s.subscription.closed&&(s.subscription=s.observable.subscribe()),i.current=!1),function(){i.current=!s.subscription.closed,s.subscription.unsubscribe()}},[e]),aot.useSyncExternalStore(o,r)}function vo(e,t,n){return lot(h.useMemo(function(){return Y$(e)},t),n)}var cot=function(e){return e};function j_e(e){e===void 0&&(e=cot);var t=new $m;return[t.pipe(e),function(n){return t.next(n)}]}var uot=[];function uT(e,t){t===void 0&&(t=uot);var n=h.useRef();n.current||(n.current=j_e());var r=n.current,o=r[0],i=r[1],s=h.useCallback(e,t);return h.useEffect(function(){var a=o.pipe(s).subscribe();return function(){a.unsubscribe()}},[o,i,s]),i}var q$=function(e,t){return q$=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},q$(e,t)};function yo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");q$(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var G$=function(){return G$=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},G$.apply(this,arguments)};function T_e(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):o(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function dT(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Fl(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mo(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function Vo(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function $u(e){return this instanceof $u?(this.v=e,this):new $u(e)}function A_e(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(p){r[p]&&(o[p]=function(m){return new Promise(function(v,g){i.push([p,m,v,g])>1||a(p,m)})})}function a(p,m){try{c(r[p](m))}catch(v){f(i[0][3],v)}}function c(p){p.value instanceof $u?Promise.resolve(p.value.v).then(u,d):f(i[0][2],p)}function u(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}function D_e(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Fl=="function"?Fl(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}function Lt(e){return typeof e=="function"}function D8(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var sO=D8(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function ok(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var rm=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Fl(s),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(g){t={error:g}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var d=this.initialTeardown;if(Lt(d))try{d()}catch(g){i=g instanceof sO?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=Fl(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{RG(v)}catch(g){i=i??[],g instanceof sO?i=Vo(Vo([],mo(i)),mo(g.errors)):i.push(g)}}}catch(g){r={error:g}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}if(i)throw new sO(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)RG(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&ok(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&ok(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),I_e=rm.EMPTY;function O_e(e){return e instanceof rm||e&&"closed"in e&&Lt(e.remove)&&Lt(e.add)&&Lt(e.unsubscribe)}function RG(e){Lt(e)?e():e.unsubscribe()}var P_e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},K$={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=K$.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,Vo([e,t],mo(n))):setTimeout.apply(void 0,Vo([e,t],mo(n)))},clearTimeout:function(e){var t=K$.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function R_e(e){K$.setTimeout(function(){throw e})}function Zf(){}function lS(e){e()}var I8=function(e){yo(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,O_e(n)&&n.add(r)):r.destination=pot,r}return t.create=function(n,r,o){return new vx(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(rm),dot=Function.prototype.bind;function aO(e,t){return dot.call(e,t)}var fot=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){__(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){__(r)}else __(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){__(n)}},e}(),vx=function(e){yo(t,e);function t(n,r,o){var i=e.call(this)||this,s;if(Lt(n)||!n)s={next:n??void 0,error:r??void 0,complete:o??void 0};else{var a;i&&P_e.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return i.unsubscribe()},s={next:n.next&&aO(n.next,a),error:n.error&&aO(n.error,a),complete:n.complete&&aO(n.complete,a)}):s=n}return i.destination=new fot(s),i}return t}(I8);function __(e){R_e(e)}function hot(e){throw e}var pot={closed:!0,next:Zf,error:hot,complete:Zf},O8=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function bd(e){return e}function mot(e){return e.length===0?bd:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var _t=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=vot(t)?t:new vx(t,n,r);return lS(function(){var s=o,a=s.operator,c=s.source;i.add(a?a.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=$G(n),new n(function(o,i){var s=new vx({next:function(a){try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[O8]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return mot(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=$G(t),new t(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function $G(e){var t;return(t=e??P_e.Promise)!==null&&t!==void 0?t:Promise}function got(e){return e&&Lt(e.next)&&Lt(e.error)&&Lt(e.complete)}function vot(e){return e&&e instanceof I8||got(e)&&O_e(e)}function $_e(e){return Lt(e==null?void 0:e.lift)}function wn(e){return function(t){if($_e(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function on(e,t,n,r,o){return new M_e(e,t,n,r,o)}var M_e=function(e){yo(t,e);function t(n,r,o,i,s,a){var c=e.call(this,n)||this;return c.onFinalize=s,c.shouldUnsubscribe=a,c._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,c._error=i?function(u){try{i(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=o?function(){try{o()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(I8);function Sl(){return wn(function(e,t){var n=null;e._refCount++;var r=on(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var yot=function(e){yo(t,e);function t(n,r){var o=e.call(this)||this;return o.source=n,o.subjectFactory=r,o._subject=null,o._refCount=0,o._connection=null,$_e(n)&&(o.lift=n.lift),o}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new rm;var o=this.getSubject();r.add(this.source.subscribe(on(o,void 0,function(){n._teardown(),o.complete()},function(i){n._teardown(),o.error(i)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=rm.EMPTY)}return r},t.prototype.refCount=function(){return Sl()(this)},t}(_t),bot=D8(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),uo=function(e){yo(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new MG(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new bot},t.prototype.next=function(n){var r=this;lS(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Fl(r.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(n)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;lS(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;lS(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,s=o.isStopped,a=o.observers;return i||s?I_e:(this.currentObservers=null,a.push(n),new rm(function(){r.currentObservers=null,ok(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,s=r.isStopped;o?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new _t;return n.source=this,n},t.create=function(n,r){return new MG(n,r)},t}(_t),MG=function(e){yo(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:I_e},t}(uo),P8=function(e){yo(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(uo),R8={now:function(){return(R8.delegate||Date).now()},delegate:void 0},F_e=function(e){yo(t,e);function t(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=R8);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,o=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;o||(i.push(n),!s&&i.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,i=o._infiniteTimeWindow,s=o._buffer,a=s.slice(),c=0;c<a.length&&!n.closed;c+=i?1:2)n.next(a[c]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,i=n._buffer,s=n._infiniteTimeWindow,a=(s?1:2)*r;if(r<1/0&&a<i.length&&i.splice(0,i.length-a),!s){for(var c=o.now(),u=0,d=1;d<i.length&&i[d]<=c;d+=2)u=d;u&&i.splice(0,u+1)}},t}(uo),xot=function(e){yo(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(rm),ik={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=ik.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,Vo([e,t],mo(n))):setInterval.apply(void 0,Vo([e,t],mo(n)))},clearInterval:function(e){var t=ik.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},wot=function(e){yo(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),ik.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&ik.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(s){o=!0,i=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,ok(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(xot),FG=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=R8.now,e}(),Cot=function(e){yo(t,e);function t(n,r){r===void 0&&(r=FG.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(FG),Nc=new Cot(wot),_ot=Nc,Vr=new _t(function(e){return e.complete()});function Sot(e){return e?Eot(e):Vr}function Eot(e){return new _t(function(t){return e.schedule(function(){return t.complete()})})}function L_e(e){return e&&Lt(e.schedule)}function $8(e){return e[e.length-1]}function M8(e){return Lt($8(e))?e.pop():void 0}function zw(e){return L_e($8(e))?e.pop():void 0}function kot(e,t){return typeof $8(e)=="number"?e.pop():t}var F8=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function B_e(e){return Lt(e==null?void 0:e.then)}function N_e(e){return Lt(e[O8])}function z_e(e){return Symbol.asyncIterator&&Lt(e==null?void 0:e[Symbol.asyncIterator])}function V_e(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function jot(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var H_e=jot();function U_e(e){return Lt(e==null?void 0:e[H_e])}function W_e(e){return A_e(this,arguments,function(){var n,r,o,i;return dT(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,$u(n.read())];case 3:return r=s.sent(),o=r.value,i=r.done,i?[4,$u(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,$u(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Y_e(e){return Lt(e==null?void 0:e.getReader)}function wr(e){if(e instanceof _t)return e;if(e!=null){if(N_e(e))return Tot(e);if(F8(e))return Aot(e);if(B_e(e))return Dot(e);if(z_e(e))return q_e(e);if(U_e(e))return Iot(e);if(Y_e(e))return Oot(e)}throw V_e(e)}function Tot(e){return new _t(function(t){var n=e[O8]();if(Lt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Aot(e){return new _t(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Dot(e){return new _t(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,R_e)})}function Iot(e){return new _t(function(t){var n,r;try{for(var o=Fl(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function q_e(e){return new _t(function(t){Pot(e,t).catch(function(n){return t.error(n)})})}function Oot(e){return q_e(W_e(e))}function Pot(e,t){var n,r,o,i;return T_e(this,void 0,void 0,function(){var s,a;return dT(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=D_e(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Mu(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function G_e(e,t){return t===void 0&&(t=0),wn(function(n,r){n.subscribe(on(r,function(o){return Mu(r,e,function(){return r.next(o)},t)},function(){return Mu(r,e,function(){return r.complete()},t)},function(o){return Mu(r,e,function(){return r.error(o)},t)}))})}function K_e(e,t){return t===void 0&&(t=0),wn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Rot(e,t){return wr(e).pipe(K_e(t),G_e(t))}function $ot(e,t){return wr(e).pipe(K_e(t),G_e(t))}function Mot(e,t){return new _t(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Fot(e,t){return new _t(function(n){var r;return Mu(n,t,function(){r=e[H_e](),Mu(n,t,function(){var o,i,s;try{o=r.next(),i=o.value,s=o.done}catch(a){n.error(a);return}s?n.complete():n.next(i)},0,!0)}),function(){return Lt(r==null?void 0:r.return)&&r.return()}})}function Z_e(e,t){if(!e)throw new Error("Iterable cannot be null");return new _t(function(n){Mu(n,t,function(){var r=e[Symbol.asyncIterator]();Mu(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function Lot(e,t){return Z_e(W_e(e),t)}function Bot(e,t){if(e!=null){if(N_e(e))return Rot(e,t);if(F8(e))return Mot(e,t);if(B_e(e))return $ot(e,t);if(z_e(e))return Z_e(e,t);if(U_e(e))return Fot(e,t);if(Y_e(e))return Lot(e,t)}throw V_e(e)}function Cr(e,t){return t?Bot(e,t):wr(e)}function be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=zw(e);return Cr(e,n)}function Xf(e,t){var n=Lt(e)?e:function(){return e},r=function(o){return o.error(n())};return new _t(t?function(o){return t.schedule(r,0,o)}:r)}function Not(e){return!!e&&(e instanceof _t||Lt(e.lift)&&Lt(e.subscribe))}var fT=D8(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function Co(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=!1,s;e.subscribe({next:function(a){s=a,i=!0},error:o,complete:function(){i?r(s):n?r(t.defaultValue):o(new fT)}})})}function zot(e){return e instanceof Date&&!isNaN(e)}function ue(e,t){return wn(function(n,r){var o=0;n.subscribe(on(r,function(i){r.next(e.call(t,i,o++))}))})}var Vot=Array.isArray;function Hot(e,t){return Vot(t)?e.apply(void 0,Vo([],mo(t))):e(t)}function L8(e){return ue(function(t){return Hot(e,t)})}var Uot=Array.isArray,Wot=Object.getPrototypeOf,Yot=Object.prototype,qot=Object.keys;function X_e(e){if(e.length===1){var t=e[0];if(Uot(t))return{args:t,keys:null};if(Got(t)){var n=qot(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function Got(e){return e&&typeof e=="object"&&Wot(e)===Yot}function Q_e(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}function oi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=zw(e),r=M8(e),o=X_e(e),i=o.args,s=o.keys;if(i.length===0)return Cr([],n);var a=new _t(Kot(i,n,s?function(c){return Q_e(s,c)}:bd));return r?a.pipe(L8(r)):a}function Kot(e,t,n){return n===void 0&&(n=bd),function(r){LG(t,function(){for(var o=e.length,i=new Array(o),s=o,a=o,c=function(d){LG(t,function(){var f=Cr(e[d],t),p=!1;f.subscribe(on(r,function(m){i[d]=m,p||(p=!0,a--),a||r.next(n(i.slice()))},function(){--s||r.complete()}))},r)},u=0;u<o;u++)c(u)},r)}}function LG(e,t,n){e?Mu(n,e,t):t()}function Zot(e,t,n,r,o,i,s,a){var c=[],u=0,d=0,f=!1,p=function(){f&&!c.length&&!u&&t.complete()},m=function(g){return u<r?v(g):c.push(g)},v=function(g){i&&t.next(g),u++;var y=!1;wr(n(g,d++)).subscribe(on(t,function(x){o==null||o(x),i?m(x):t.next(x)},function(){y=!0},void 0,function(){if(y)try{u--;for(var x=function(){var b=c.shift();s?Mu(t,s,function(){return v(b)}):v(b)};c.length&&u<r;)x();p()}catch(b){t.error(b)}}))};return e.subscribe(on(t,m,function(){f=!0,p()})),function(){a==null||a()}}function jt(e,t,n){return n===void 0&&(n=1/0),Lt(t)?jt(function(r,o){return ue(function(i,s){return t(r,i,o,s)})(wr(e(r,o)))},n):(typeof t=="number"&&(n=t),wn(function(r,o){return Zot(r,o,e,n)}))}function hT(e){return e===void 0&&(e=1/0),jt(bd,e)}function Xot(){return hT(1)}function Hr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Xot()(Cr(e,zw(e)))}function No(e){return new _t(function(t){wr(e()).subscribe(t)})}function Qot(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=M8(e),r=X_e(e),o=r.args,i=r.keys,s=new _t(function(a){var c=o.length;if(!c){a.complete();return}for(var u=new Array(c),d=c,f=c,p=function(v){var g=!1;wr(o[v]).subscribe(on(a,function(y){g||(g=!0,f--),u[v]=y},function(){return d--},void 0,function(){(!d||!g)&&(f||a.next(i?Q_e(i,u):u),a.complete())}))},m=0;m<c;m++)p(m)});return n?s.pipe(L8(n)):s}var Jot=["addListener","removeListener"],eit=["addEventListener","removeEventListener"],tit=["on","off"];function Ps(e,t,n,r){if(Lt(n)&&(r=n,n=void 0),r)return Ps(e,t,n).pipe(L8(r));var o=mo(oit(e)?eit.map(function(a){return function(c){return e[a](t,c,n)}}):nit(e)?Jot.map(BG(e,t)):rit(e)?tit.map(BG(e,t)):[],2),i=o[0],s=o[1];if(!i&&F8(e))return jt(function(a){return Ps(a,t,n)})(wr(e));if(!i)throw new TypeError("Invalid event target");return new _t(function(a){var c=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return a.next(1<u.length?u:u[0])};return i(c),function(){return s(c)}})}function BG(e,t){return function(n){return function(r){return e[n](t,r)}}}function nit(e){return Lt(e.addListener)&&Lt(e.removeListener)}function rit(e){return Lt(e.on)&&Lt(e.off)}function oit(e){return Lt(e.addEventListener)&&Lt(e.removeEventListener)}function iit(e,t,n){return No(function(){return e()?t:n})}function as(e,t,n){e===void 0&&(e=0),n===void 0&&(n=_ot);var r=-1;return t!=null&&(L_e(t)?n=t:r=t),new _t(function(o){var i=zot(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function pn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=zw(e),r=kot(e,1/0),o=e;return o.length?o.length===1?wr(o[0]):hT(r)(Cr(o,n)):Vr}var J_e=new _t(Zf);function sit(e,t){return function(n,r){return!e.call(t,n,r)}}function bt(e,t){return wn(function(n,r){var o=0;n.subscribe(on(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}function e2e(e,t,n){return[bt(t,n)(wr(e)),bt(sit(t,n))(wr(e))]}function ait(e){return wn(function(t,n){var r=!1,o=null,i=null,s=!1,a=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var u=o;o=null,n.next(u)}s&&n.complete()},c=function(){i=null,s&&n.complete()};t.subscribe(on(n,function(u){r=!0,o=u,i||wr(e(u)).subscribe(i=on(n,a,c))},function(){s=!0,(!r||!i||i.closed)&&n.complete()}))})}function lit(e,t){return t===void 0&&(t=Nc),ait(function(){return as(e,t)})}function In(e){return wn(function(t,n){var r=null,o=!1,i;r=t.subscribe(on(n,void 0,void 0,function(s){i=wr(e(s,In(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function t2e(e,t,n,r,o){return function(i,s){var a=n,c=t,u=0;i.subscribe(on(s,function(d){var f=u++;c=a?e(c,d,f):(a=!0,d),r&&s.next(c)},o&&function(){a&&s.next(c),s.complete()}))}}function n2e(e,t){return wn(t2e(e,t,arguments.length>=2,!1,!0))}var cit=function(e,t){return e.push(t),e};function r2e(){return wn(function(e,t){n2e(cit,[])(e).subscribe(t)})}function Z$(e,t){return Lt(t)?jt(e,t,1):jt(e,1)}function uit(e){return new _t(function(t){return e.subscribe(t)})}var dit={connector:function(){return new uo}};function fit(e,t){t===void 0&&(t=dit);var n=t.connector;return wn(function(r,o){var i=n();wr(e(uit(i))).subscribe(o),o.add(r.subscribe(i))})}function B8(e){return wn(function(t,n){var r=!1,o=null,i=null,s=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var a=o;o=null,n.next(a)}};t.subscribe(on(n,function(a){i==null||i.unsubscribe(),r=!0,o=a,i=on(n,s,Zf),wr(e(a)).subscribe(i)},function(){s(),n.complete()},void 0,function(){o=i=null}))})}function N8(e,t){return t===void 0&&(t=Nc),wn(function(n,r){var o=null,i=null,s=null,a=function(){if(o){o.unsubscribe(),o=null;var u=i;i=null,r.next(u)}};function c(){var u=s+e,d=t.now();if(d<u){o=this.schedule(void 0,u-d),r.add(o);return}a()}n.subscribe(on(r,function(u){i=u,s=t.now(),o||(o=t.schedule(c,e),r.add(o))},function(){a(),r.complete()},void 0,function(){i=o=null}))})}function o2e(e){return wn(function(t,n){var r=!1;t.subscribe(on(n,function(o){r=!0,n.next(o)},function(){r||n.next(e),n.complete()}))})}function Ll(e){return e<=0?function(){return Vr}:wn(function(t,n){var r=0;t.subscribe(on(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function hit(){return wn(function(e,t){e.subscribe(on(t,Zf))})}function z8(e){return ue(function(){return e})}function i2e(e,t){return t?function(n){return Hr(t.pipe(Ll(1),hit()),n.pipe(i2e(e)))}:jt(function(n,r){return wr(e(n,r)).pipe(Ll(1),z8(n))})}function s2e(e,t){t===void 0&&(t=Nc);var n=as(e,t);return i2e(function(){return n})}function pit(e,t){return wn(function(n,r){var o=new Set;n.subscribe(on(r,function(i){var s=e?e(i):i;o.has(s)||(o.add(s),r.next(i))})),t&&wr(t).subscribe(on(r,function(){return o.clear()},Zf))})}function _r(e,t){return t===void 0&&(t=bd),e=e??mit,wn(function(n,r){var o,i=!0;n.subscribe(on(r,function(s){var a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function mit(e,t){return e===t}function a2e(e){return e===void 0&&(e=git),wn(function(t,n){var r=!1;t.subscribe(on(n,function(o){r=!0,n.next(o)},function(){return r?n.complete():n.error(e())}))})}function git(){return new fT}function l2e(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?bt(function(o,i){return e(o,i,r)}):bd,Ll(1),n?o2e(t):a2e(function(){return new fT}))}}function c2e(e,t,n,r){return wn(function(o,i){var s;!t||typeof t=="function"?s=t:(n=t.duration,s=t.element,r=t.connector);var a=new Map,c=function(v){a.forEach(v),v(i)},u=function(v){return c(function(g){return g.error(v)})},d=0,f=!1,p=new M_e(i,function(v){try{var g=e(v),y=a.get(g);if(!y){a.set(g,y=r?r():new uo);var x=m(g,y);if(i.next(x),n){var b=on(y,function(){y.complete(),b==null||b.unsubscribe()},void 0,void 0,function(){return a.delete(g)});p.add(wr(n(x)).subscribe(b))}}y.next(s?s(v):v)}catch(w){u(w)}},function(){return c(function(v){return v.complete()})},u,function(){return a.clear()},function(){return f=!0,d===0});o.subscribe(p);function m(v,g){var y=new _t(function(x){d++;var b=g.subscribe(x);return function(){b.unsubscribe(),--d===0&&f&&p.unsubscribe()}});return y.key=v,y}})}function vit(e){return e<=0?function(){return Vr}:wn(function(t,n){var r=[];t.subscribe(on(n,function(o){r.push(o),e<r.length&&r.shift()},function(){var o,i;try{for(var s=Fl(r),a=s.next();!a.done;a=s.next()){var c=a.value;n.next(c)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}n.complete()},void 0,function(){r=null}))})}function yit(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?bt(function(o,i){return e(o,i,r)}):bd,vit(1),n?o2e(t):a2e(function(){return new fT}))}}var bit=jt;function om(e,t,n){return n===void 0&&(n=1/0),Lt(t)?jt(function(){return e},t,n):(typeof t=="number"&&(n=t),jt(function(){return e},n))}function xit(e,t){var n=Lt(e)?e:function(){return e};return Lt(t)?fit(t,{connector:n}):function(r){return new yot(r,n)}}function El(e,t,n,r){n&&!Lt(n)&&(r=n);var o=Lt(n)?n:void 0;return function(i){return xit(new F_e(e,t,r),o)(i)}}function qa(e,t){return wn(t2e(e,t,arguments.length>=2,!0))}function Ga(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new uo}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,s=i===void 0?!0:i,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var d,f,p,m=0,v=!1,g=!1,y=function(){f==null||f.unsubscribe(),f=void 0},x=function(){y(),d=p=void 0,v=g=!1},b=function(){var w=d;x(),w==null||w.unsubscribe()};return wn(function(w,C){m++,!g&&!v&&y();var _=p=p??n();C.add(function(){m--,m===0&&!g&&!v&&(f=lO(b,c))}),_.subscribe(C),!d&&m>0&&(d=new vx({next:function(S){return _.next(S)},error:function(S){g=!0,y(),f=lO(x,o,S),_.error(S)},complete:function(){v=!0,y(),f=lO(x,s),_.complete()}}),wr(w).subscribe(d))})(u)}}function lO(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new vx({next:function(){o.unsubscribe(),e()}});return wr(t.apply(void 0,Vo([],mo(n)))).subscribe(o)}}function Ri(e,t,n){var r,o,i,s,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,s=r===void 0?1/0:r,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,a=i===void 0?!1:i,n=e.scheduler):s=e??1/0,Ga({connector:function(){return new F_e(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function u2e(e){return bt(function(t,n){return e<=n})}function ii(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=zw(e);return wn(function(r,o){(n?Hr(e,r,n):Hr(e,r)).subscribe(o)})}function st(e,t){return wn(function(n,r){var o=null,i=0,s=!1,a=function(){return s&&!o&&r.complete()};n.subscribe(on(r,function(c){o==null||o.unsubscribe();var u=0,d=i++;wr(e(c,d)).subscribe(o=on(r,function(f){return r.next(t?t(c,f,d,u++):f)},function(){o=null,a()}))},function(){s=!0,a()}))})}function wit(e,t){return Lt(t)?st(function(){return e},t):st(function(){return e})}function d2e(e){return wn(function(t,n){wr(e).subscribe(on(n,function(){return n.complete()},Zf)),!n.closed&&t.subscribe(n)})}function qn(e,t,n){var r=Lt(e)||t||n?{next:e,error:t,complete:n}:e;return r?wn(function(o,i){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var a=!0;o.subscribe(on(i,function(c){var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},function(){var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},function(c){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},function(){var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):bd}function Cit(e,t){return wn(function(n,r){var o=t??{},i=o.leading,s=i===void 0?!0:i,a=o.trailing,c=a===void 0?!1:a,u=!1,d=null,f=null,p=!1,m=function(){f==null||f.unsubscribe(),f=null,c&&(y(),p&&r.complete())},v=function(){f=null,p&&r.complete()},g=function(x){return f=wr(e(x)).subscribe(on(r,m,v))},y=function(){if(u){u=!1;var x=d;d=null,r.next(x),!p&&g(x)}};n.subscribe(on(r,function(x){u=!0,d=x,!(f&&!f.closed)&&(s?y():g(x))},function(){p=!0,!(c&&u&&f&&!f.closed)&&r.complete()}))})}function yx(e,t,n){t===void 0&&(t=Nc);var r=as(e,t);return Cit(function(){return r},n)}function gb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=M8(e);return wn(function(r,o){for(var i=e.length,s=new Array(i),a=e.map(function(){return!1}),c=!1,u=function(f){wr(e[f]).subscribe(on(o,function(p){s[f]=p,!c&&!a[f]&&(a[f]=!0,(c=a.every(bd))&&(a=null))},Zf))},d=0;d<i;d++)u(d);r.subscribe(on(o,function(f){if(c){var p=Vo([f],mo(s));o.next(n?n.apply(void 0,Vo([],mo(p))):p)}}))})}function _it(){this.__data__=[],this.size=0}var Sit=_it;function Eit(e,t){return e===t||e!==e&&t!==t}var pT=Eit,kit=pT;function jit(e,t){for(var n=e.length;n--;)if(kit(e[n][0],t))return n;return-1}var mT=jit,Tit=mT,Ait=Array.prototype,Dit=Ait.splice;function Iit(e){var t=this.__data__,n=Tit(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Dit.call(t,n,1),--this.size,!0}var Oit=Iit,Pit=mT;function Rit(e){var t=this.__data__,n=Pit(t,e);return n<0?void 0:t[n][1]}var $it=Rit,Mit=mT;function Fit(e){return Mit(this.__data__,e)>-1}var Lit=Fit,Bit=mT;function Nit(e,t){var n=this.__data__,r=Bit(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var zit=Nit,Vit=Sit,Hit=Oit,Uit=$it,Wit=Lit,Yit=zit;function V0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}V0.prototype.clear=Vit;V0.prototype.delete=Hit;V0.prototype.get=Uit;V0.prototype.has=Wit;V0.prototype.set=Yit;var gT=V0,qit=gT;function Git(){this.__data__=new qit,this.size=0}var Kit=Git;function Zit(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Xit=Zit;function Qit(e){return this.__data__.get(e)}var Jit=Qit;function est(e){return this.__data__.has(e)}var tst=est,nst=ih,rst=Ja,ost="[object AsyncFunction]",ist="[object Function]",sst="[object GeneratorFunction]",ast="[object Proxy]";function lst(e){if(!rst(e))return!1;var t=nst(e);return t==ist||t==sst||t==ost||t==ast}var f2e=lst,cst=Yl,ust=cst["__core-js_shared__"],dst=ust,cO=dst,NG=function(){var e=/[^.]+$/.exec(cO&&cO.keys&&cO.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function fst(e){return!!NG&&NG in e}var hst=fst,pst=Function.prototype,mst=pst.toString;function gst(e){if(e!=null){try{return mst.call(e)}catch{}try{return e+""}catch{}}return""}var h2e=gst,vst=f2e,yst=hst,bst=Ja,xst=h2e,wst=/[\\^$.*+?()[\]{}|]/g,Cst=/^\[object .+?Constructor\]$/,_st=Function.prototype,Sst=Object.prototype,Est=_st.toString,kst=Sst.hasOwnProperty,jst=RegExp("^"+Est.call(kst).replace(wst,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Tst(e){if(!bst(e)||yst(e))return!1;var t=vst(e)?jst:Cst;return t.test(xst(e))}var Ast=Tst;function Dst(e,t){return e==null?void 0:e[t]}var Ist=Dst,Ost=Ast,Pst=Ist;function Rst(e,t){var n=Pst(e,t);return Ost(n)?n:void 0}var Mm=Rst,$st=Mm,Mst=Yl,Fst=$st(Mst,"Map"),V8=Fst,Lst=Mm,Bst=Lst(Object,"create"),vT=Bst,zG=vT;function Nst(){this.__data__=zG?zG(null):{},this.size=0}var zst=Nst;function Vst(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Hst=Vst,Ust=vT,Wst="__lodash_hash_undefined__",Yst=Object.prototype,qst=Yst.hasOwnProperty;function Gst(e){var t=this.__data__;if(Ust){var n=t[e];return n===Wst?void 0:n}return qst.call(t,e)?t[e]:void 0}var Kst=Gst,Zst=vT,Xst=Object.prototype,Qst=Xst.hasOwnProperty;function Jst(e){var t=this.__data__;return Zst?t[e]!==void 0:Qst.call(t,e)}var eat=Jst,tat=vT,nat="__lodash_hash_undefined__";function rat(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=tat&&t===void 0?nat:t,this}var oat=rat,iat=zst,sat=Hst,aat=Kst,lat=eat,cat=oat;function H0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}H0.prototype.clear=iat;H0.prototype.delete=sat;H0.prototype.get=aat;H0.prototype.has=lat;H0.prototype.set=cat;var uat=H0,VG=uat,dat=gT,fat=V8;function hat(){this.size=0,this.__data__={hash:new VG,map:new(fat||dat),string:new VG}}var pat=hat;function mat(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var gat=mat,vat=gat;function yat(e,t){var n=e.__data__;return vat(t)?n[typeof t=="string"?"string":"hash"]:n.map}var yT=yat,bat=yT;function xat(e){var t=bat(this,e).delete(e);return this.size-=t?1:0,t}var wat=xat,Cat=yT;function _at(e){return Cat(this,e).get(e)}var Sat=_at,Eat=yT;function kat(e){return Eat(this,e).has(e)}var jat=kat,Tat=yT;function Aat(e,t){var n=Tat(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Dat=Aat,Iat=pat,Oat=wat,Pat=Sat,Rat=jat,$at=Dat;function U0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}U0.prototype.clear=Iat;U0.prototype.delete=Oat;U0.prototype.get=Pat;U0.prototype.has=Rat;U0.prototype.set=$at;var H8=U0,Mat=gT,Fat=V8,Lat=H8,Bat=200;function Nat(e,t){var n=this.__data__;if(n instanceof Mat){var r=n.__data__;if(!Fat||r.length<Bat-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Lat(r)}return n.set(e,t),this.size=n.size,this}var zat=Nat,Vat=gT,Hat=Kit,Uat=Xit,Wat=Jit,Yat=tst,qat=zat;function W0(e){var t=this.__data__=new Vat(e);this.size=t.size}W0.prototype.clear=Hat;W0.prototype.delete=Uat;W0.prototype.get=Wat;W0.prototype.has=Yat;W0.prototype.set=qat;var U8=W0,Gat="__lodash_hash_undefined__";function Kat(e){return this.__data__.set(e,Gat),this}var Zat=Kat;function Xat(e){return this.__data__.has(e)}var Qat=Xat,Jat=H8,elt=Zat,tlt=Qat;function sk(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Jat;++t<n;)this.add(e[t])}sk.prototype.add=sk.prototype.push=elt;sk.prototype.has=tlt;var bT=sk;function nlt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var rlt=nlt;function olt(e,t){return e.has(t)}var xT=olt,ilt=bT,slt=rlt,alt=xT,llt=1,clt=2;function ult(e,t,n,r,o,i){var s=n&llt,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,m=n&clt?new ilt:void 0;for(i.set(e,t),i.set(t,e);++f<a;){var v=e[f],g=t[f];if(r)var y=s?r(g,v,f,t,e,i):r(v,g,f,e,t,i);if(y!==void 0){if(y)continue;p=!1;break}if(m){if(!slt(t,function(x,b){if(!alt(m,b)&&(v===x||o(v,x,n,r,i)))return m.push(b)})){p=!1;break}}else if(!(v===g||o(v,g,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var p2e=ult,dlt=Yl,flt=dlt.Uint8Array,m2e=flt;function hlt(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var plt=hlt;function mlt(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var W8=mlt,HG=T0,UG=m2e,glt=pT,vlt=p2e,ylt=plt,blt=W8,xlt=1,wlt=2,Clt="[object Boolean]",_lt="[object Date]",Slt="[object Error]",Elt="[object Map]",klt="[object Number]",jlt="[object RegExp]",Tlt="[object Set]",Alt="[object String]",Dlt="[object Symbol]",Ilt="[object ArrayBuffer]",Olt="[object DataView]",WG=HG?HG.prototype:void 0,uO=WG?WG.valueOf:void 0;function Plt(e,t,n,r,o,i,s){switch(n){case Olt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ilt:return!(e.byteLength!=t.byteLength||!i(new UG(e),new UG(t)));case Clt:case _lt:case klt:return glt(+e,+t);case Slt:return e.name==t.name&&e.message==t.message;case jlt:case Alt:return e==t+"";case Elt:var a=ylt;case Tlt:var c=r&xlt;if(a||(a=blt),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=wlt,s.set(e,t);var d=vlt(a(e),a(t),r,o,i,s);return s.delete(e),d;case Dlt:if(uO)return uO.call(e)==uO.call(t)}return!1}var Rlt=Plt;function $lt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var Y8=$lt,Mlt=Array.isArray,Jr=Mlt,Flt=Y8,Llt=Jr;function Blt(e,t,n){var r=t(e);return Llt(e)?r:Flt(r,n(e))}var g2e=Blt;function Nlt(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}var v2e=Nlt;function zlt(){return[]}var y2e=zlt,Vlt=v2e,Hlt=y2e,Ult=Object.prototype,Wlt=Ult.propertyIsEnumerable,YG=Object.getOwnPropertySymbols,Ylt=YG?function(e){return e==null?[]:(e=Object(e),Vlt(YG(e),function(t){return Wlt.call(e,t)}))}:Hlt,q8=Ylt;function qlt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Glt=qlt,Klt=ih,Zlt=el,Xlt="[object Arguments]";function Qlt(e){return Zlt(e)&&Klt(e)==Xlt}var Jlt=Qlt,qG=Jlt,ect=el,b2e=Object.prototype,tct=b2e.hasOwnProperty,nct=b2e.propertyIsEnumerable,rct=qG(function(){return arguments}())?qG:function(e){return ect(e)&&tct.call(e,"callee")&&!nct.call(e,"callee")},wT=rct,ak={exports:{}};function oct(){return!1}var ict=oct;ak.exports;(function(e,t){var n=Yl,r=ict,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===o,a=s?n.Buffer:void 0,c=a?a.isBuffer:void 0,u=c||r;e.exports=u})(ak,ak.exports);var CT=ak.exports,sct=9007199254740991,act=/^(?:0|[1-9]\d*)$/;function lct(e,t){var n=typeof e;return t=t??sct,!!t&&(n=="number"||n!="symbol"&&act.test(e))&&e>-1&&e%1==0&&e<t}var _T=lct,cct=9007199254740991;function uct(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=cct}var G8=uct,dct=ih,fct=G8,hct=el,pct="[object Arguments]",mct="[object Array]",gct="[object Boolean]",vct="[object Date]",yct="[object Error]",bct="[object Function]",xct="[object Map]",wct="[object Number]",Cct="[object Object]",_ct="[object RegExp]",Sct="[object Set]",Ect="[object String]",kct="[object WeakMap]",jct="[object ArrayBuffer]",Tct="[object DataView]",Act="[object Float32Array]",Dct="[object Float64Array]",Ict="[object Int8Array]",Oct="[object Int16Array]",Pct="[object Int32Array]",Rct="[object Uint8Array]",$ct="[object Uint8ClampedArray]",Mct="[object Uint16Array]",Fct="[object Uint32Array]",tr={};tr[Act]=tr[Dct]=tr[Ict]=tr[Oct]=tr[Pct]=tr[Rct]=tr[$ct]=tr[Mct]=tr[Fct]=!0;tr[pct]=tr[mct]=tr[jct]=tr[gct]=tr[Tct]=tr[vct]=tr[yct]=tr[bct]=tr[xct]=tr[wct]=tr[Cct]=tr[_ct]=tr[Sct]=tr[Ect]=tr[kct]=!1;function Lct(e){return hct(e)&&fct(e.length)&&!!tr[dct(e)]}var Bct=Lct;function Nct(e){return function(t){return e(t)}}var Y0=Nct,lk={exports:{}};lk.exports;(function(e,t){var n=Q0e,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i&&n.process,a=function(){try{var c=o&&o.require&&o.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(lk,lk.exports);var K8=lk.exports,zct=Bct,Vct=Y0,GG=K8,KG=GG&&GG.isTypedArray,Hct=KG?Vct(KG):zct,Z8=Hct,Uct=Glt,Wct=wT,Yct=Jr,qct=CT,Gct=_T,Kct=Z8,Zct=Object.prototype,Xct=Zct.hasOwnProperty;function Qct(e,t){var n=Yct(e),r=!n&&Wct(e),o=!n&&!r&&qct(e),i=!n&&!r&&!o&&Kct(e),s=n||r||o||i,a=s?Uct(e.length,String):[],c=a.length;for(var u in e)(t||Xct.call(e,u))&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Gct(u,c)))&&a.push(u);return a}var x2e=Qct,Jct=Object.prototype;function eut(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Jct;return e===n}var ST=eut;function tut(e,t){return function(n){return e(t(n))}}var w2e=tut,nut=w2e,rut=nut(Object.keys,Object),out=rut,iut=ST,sut=out,aut=Object.prototype,lut=aut.hasOwnProperty;function cut(e){if(!iut(e))return sut(e);var t=[];for(var n in Object(e))lut.call(e,n)&&n!="constructor"&&t.push(n);return t}var C2e=cut,uut=f2e,dut=G8;function fut(e){return e!=null&&dut(e.length)&&!uut(e)}var ph=fut,hut=x2e,put=C2e,mut=ph;function gut(e){return mut(e)?hut(e):put(e)}var mh=gut,vut=g2e,yut=q8,but=mh;function xut(e){return vut(e,but,yut)}var _2e=xut,ZG=_2e,wut=1,Cut=Object.prototype,_ut=Cut.hasOwnProperty;function Sut(e,t,n,r,o,i){var s=n&wut,a=ZG(e),c=a.length,u=ZG(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var p=a[f];if(!(s?p in t:_ut.call(t,p)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var y=s;++f<c;){p=a[f];var x=e[p],b=t[p];if(r)var w=s?r(b,x,p,t,e,i):r(x,b,p,e,t,i);if(!(w===void 0?x===b||o(x,b,n,r,i):w)){g=!1;break}y||(y=p=="constructor")}if(g&&!y){var C=e.constructor,_=t.constructor;C!=_&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return i.delete(e),i.delete(t),g}var Eut=Sut,kut=Mm,jut=Yl,Tut=kut(jut,"DataView"),Aut=Tut,Dut=Mm,Iut=Yl,Out=Dut(Iut,"Promise"),Put=Out,Rut=Mm,$ut=Yl,Mut=Rut($ut,"Set"),S2e=Mut,Fut=Mm,Lut=Yl,But=Fut(Lut,"WeakMap"),E2e=But,X$=Aut,Q$=V8,J$=Put,eM=S2e,tM=E2e,k2e=ih,q0=h2e,XG="[object Map]",Nut="[object Object]",QG="[object Promise]",JG="[object Set]",eK="[object WeakMap]",tK="[object DataView]",zut=q0(X$),Vut=q0(Q$),Hut=q0(J$),Uut=q0(eM),Wut=q0(tM),Kh=k2e;(X$&&Kh(new X$(new ArrayBuffer(1)))!=tK||Q$&&Kh(new Q$)!=XG||J$&&Kh(J$.resolve())!=QG||eM&&Kh(new eM)!=JG||tM&&Kh(new tM)!=eK)&&(Kh=function(e){var t=k2e(e),n=t==Nut?e.constructor:void 0,r=n?q0(n):"";if(r)switch(r){case zut:return tK;case Vut:return XG;case Hut:return QG;case Uut:return JG;case Wut:return eK}return t});var Vw=Kh,dO=U8,Yut=p2e,qut=Rlt,Gut=Eut,nK=Vw,rK=Jr,oK=CT,Kut=Z8,Zut=1,iK="[object Arguments]",sK="[object Array]",S_="[object Object]",Xut=Object.prototype,aK=Xut.hasOwnProperty;function Qut(e,t,n,r,o,i){var s=rK(e),a=rK(t),c=s?sK:nK(e),u=a?sK:nK(t);c=c==iK?S_:c,u=u==iK?S_:u;var d=c==S_,f=u==S_,p=c==u;if(p&&oK(e)){if(!oK(t))return!1;s=!0,d=!1}if(p&&!d)return i||(i=new dO),s||Kut(e)?Yut(e,t,n,r,o,i):qut(e,t,c,n,r,o,i);if(!(n&Zut)){var m=d&&aK.call(e,"__wrapped__"),v=f&&aK.call(t,"__wrapped__");if(m||v){var g=m?e.value():e,y=v?t.value():t;return i||(i=new dO),o(g,y,n,r,i)}}return p?(i||(i=new dO),Gut(e,t,n,r,o,i)):!1}var Jut=Qut,edt=Jut,lK=el;function j2e(e,t,n,r,o){return e===t?!0:e==null||t==null||!lK(e)&&!lK(t)?e!==e&&t!==t:edt(e,t,n,r,j2e,o)}var X8=j2e,tdt=X8;function ndt(e,t){return tdt(e,t)}var rdt=ndt;const Ht=Ie(rdt);var Mp=[],odt=function(){return Mp.some(function(e){return e.activeTargets.length>0})},idt=function(){return Mp.some(function(e){return e.skippedTargets.length>0})},cK="ResizeObserver loop completed with undelivered notifications.",sdt=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:cK}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=cK),window.dispatchEvent(e)},bx;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(bx||(bx={}));var Fp=function(e){return Object.freeze(e)},adt=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,Fp(this)}return e}(),T2e=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Fp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,c=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:c,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Q8=function(e){return e instanceof SVGElement&&"getBBox"in e},A2e=function(e){if(Q8(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},uK=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},ldt=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},vb=typeof window<"u"?window:{},E_=new WeakMap,dK=/auto|scroll/,cdt=/^tb|vertical/,udt=/msie|trident/i.test(vb.navigator&&vb.navigator.userAgent),sc=function(e){return parseFloat(e||"0")},yv=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new adt((n?t:e)||0,(n?e:t)||0)},fK=Fp({devicePixelContentBoxSize:yv(),borderBoxSize:yv(),contentBoxSize:yv(),contentRect:new T2e(0,0,0,0)}),D2e=function(e,t){if(t===void 0&&(t=!1),E_.has(e)&&!t)return E_.get(e);if(A2e(e))return E_.set(e,fK),fK;var n=getComputedStyle(e),r=Q8(e)&&e.ownerSVGElement&&e.getBBox(),o=!udt&&n.boxSizing==="border-box",i=cdt.test(n.writingMode||""),s=!r&&dK.test(n.overflowY||""),a=!r&&dK.test(n.overflowX||""),c=r?0:sc(n.paddingTop),u=r?0:sc(n.paddingRight),d=r?0:sc(n.paddingBottom),f=r?0:sc(n.paddingLeft),p=r?0:sc(n.borderTopWidth),m=r?0:sc(n.borderRightWidth),v=r?0:sc(n.borderBottomWidth),g=r?0:sc(n.borderLeftWidth),y=f+u,x=c+d,b=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-b-e.clientWidth:0,S=o?y+b:0,E=o?x+w:0,j=r?r.width:sc(n.width)-S-_,k=r?r.height:sc(n.height)-E-C,T=j+y+_+b,A=k+x+C+w,D=Fp({devicePixelContentBoxSize:yv(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:yv(T,A,i),contentBoxSize:yv(j,k,i),contentRect:new T2e(f,c,j,k)});return E_.set(e,D),D},I2e=function(e,t,n){var r=D2e(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case bx.DEVICE_PIXEL_CONTENT_BOX:return s;case bx.BORDER_BOX:return o;default:return i}},ddt=function(){function e(t){var n=D2e(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=Fp([n.borderBoxSize]),this.contentBoxSize=Fp([n.contentBoxSize]),this.devicePixelContentBoxSize=Fp([n.devicePixelContentBoxSize])}return e}(),O2e=function(e){if(A2e(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},fdt=function(){var e=1/0,t=[];Mp.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new ddt(u.target),f=O2e(u.target);a.push(d),u.lastReportedSize=I2e(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},hK=function(e){Mp.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(O2e(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},hdt=function(){var e=0;for(hK(e);odt();)e=fdt(),hK(e);return idt()&&sdt(),e>0},fO,P2e=[],pdt=function(){return P2e.splice(0).forEach(function(e){return e()})},mdt=function(e){if(!fO){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return pdt()}).observe(n,r),fO=function(){n.textContent="".concat(t?t--:t++)}}P2e.push(e),fO()},gdt=function(e){mdt(function(){requestAnimationFrame(e)})},cS=0,vdt=function(){return!!cS},ydt=250,bdt={attributes:!0,characterData:!0,childList:!0,subtree:!0},pK=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],mK=function(e){return e===void 0&&(e=0),Date.now()+e},hO=!1,xdt=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=ydt),!hO){hO=!0;var r=mK(t);gdt(function(){var o=!1;try{o=hdt()}finally{if(hO=!1,t=r-mK(),!vdt())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,bdt)};document.body?n():vb.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),pK.forEach(function(n){return vb.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),pK.forEach(function(n){return vb.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),nM=new xdt,gK=function(e){!cS&&e>0&&nM.start(),cS+=e,!cS&&nM.stop()},wdt=function(e){return!Q8(e)&&!ldt(e)&&getComputedStyle(e).display==="inline"},Cdt=function(){function e(t,n){this.target=t,this.observedBox=n||bx.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=I2e(this.target,this.observedBox,!0);return wdt(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),_dt=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),k_=new WeakMap,vK=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},j_=function(){function e(){}return e.connect=function(t,n){var r=new _dt(t,n);k_.set(t,r)},e.observe=function(t,n,r){var o=k_.get(t),i=o.observationTargets.length===0;vK(o.observationTargets,n)<0&&(i&&Mp.push(o),o.observationTargets.push(new Cdt(n,r&&r.box)),gK(1),nM.schedule())},e.unobserve=function(t,n){var r=k_.get(t),o=vK(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&Mp.splice(Mp.indexOf(r),1),r.observationTargets.splice(o,1),gK(-1))},e.disconnect=function(t){var n=this,r=k_.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),R2e=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");j_.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!uK(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");j_.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!uK(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");j_.unobserve(this,t)},e.prototype.disconnect=function(){j_.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),Sdt=n1e,Edt=Ja,kdt="Expected a function";function jdt(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(kdt);return Edt(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Sdt(e,t,{leading:r,maxWait:t,trailing:o})}var Tdt=jdt;const ET=Ie(Tdt);var yK=T0,Adt=wT,Ddt=Jr,bK=yK?yK.isConcatSpreadable:void 0;function Idt(e){return Ddt(e)||Adt(e)||!!(bK&&e&&e[bK])}var Odt=Idt,Pdt=Y8,Rdt=Odt;function $2e(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=Rdt),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?$2e(a,t-1,n,r,o):Pdt(o,a):r||(o[o.length]=a)}return o}var G0=$2e;function $dt(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var qc=$dt,Mdt=Jr,Fdt=Sm,Ldt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bdt=/^\w*$/;function Ndt(e,t){if(Mdt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Fdt(e)?!0:Bdt.test(e)||!Ldt.test(e)||t!=null&&e in Object(t)}var J8=Ndt,M2e=H8,zdt="Expected a function";function e9(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(zdt);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(e9.Cache||M2e),n}e9.Cache=M2e;var F2e=e9;const kT=Ie(F2e);var Vdt=F2e,Hdt=500;function Udt(e){var t=Vdt(e,function(r){return n.size===Hdt&&n.clear(),r}),n=t.cache;return t}var Wdt=Udt,Ydt=Wdt,qdt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gdt=/\\(\\)?/g,Kdt=Ydt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(qdt,function(n,r,o,i){t.push(o?i.replace(Gdt,"$1"):r||n)}),t}),L2e=Kdt,xK=T0,Zdt=qc,Xdt=Jr,Qdt=Sm,Jdt=1/0,wK=xK?xK.prototype:void 0,CK=wK?wK.toString:void 0;function B2e(e){if(typeof e=="string")return e;if(Xdt(e))return Zdt(e,B2e)+"";if(Qdt(e))return CK?CK.call(e):"";var t=e+"";return t=="0"&&1/e==-Jdt?"-0":t}var N2e=B2e,eft=N2e;function tft(e){return e==null?"":eft(e)}var Gc=tft,nft=Jr,rft=J8,oft=L2e,ift=Gc;function sft(e,t){return nft(e)?e:rft(e,t)?[e]:oft(ift(e))}var K0=sft,aft=Sm,lft=1/0;function cft(e){if(typeof e=="string"||aft(e))return e;var t=e+"";return t=="0"&&1/e==-lft?"-0":t}var Fm=cft,uft=K0,dft=Fm;function fft(e,t){t=uft(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[dft(t[n++])];return n&&n==r?e:void 0}var Hw=fft,hft=U8,pft=X8,mft=1,gft=2;function vft(e,t,n,r){var o=n.length,i=o,s=!r;if(e==null)return!i;for(e=Object(e);o--;){var a=n[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var c=a[0],u=e[c],d=a[1];if(s&&a[2]){if(u===void 0&&!(c in e))return!1}else{var f=new hft;if(r)var p=r(u,d,c,e,t,f);if(!(p===void 0?pft(d,u,mft|gft,r,f):p))return!1}}return!0}var yft=vft,bft=Ja;function xft(e){return e===e&&!bft(e)}var z2e=xft,wft=z2e,Cft=mh;function _ft(e){for(var t=Cft(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,wft(o)]}return t}var Sft=_ft;function Eft(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var V2e=Eft,kft=yft,jft=Sft,Tft=V2e;function Aft(e){var t=jft(e);return t.length==1&&t[0][2]?Tft(t[0][0],t[0][1]):function(n){return n===e||kft(n,e,t)}}var Dft=Aft,Ift=Hw;function Oft(e,t,n){var r=e==null?void 0:Ift(e,t);return r===void 0?n:r}var H2e=Oft;const Hn=Ie(H2e);function Pft(e,t){return e!=null&&t in Object(e)}var Rft=Pft,$ft=K0,Mft=wT,Fft=Jr,Lft=_T,Bft=G8,Nft=Fm;function zft(e,t,n){t=$ft(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var s=Nft(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&Bft(o)&&Lft(s,o)&&(Fft(e)||Mft(e)))}var Vft=zft,Hft=Rft,Uft=Vft;function Wft(e,t){return e!=null&&Uft(e,t,Hft)}var U2e=Wft,Yft=X8,qft=H2e,Gft=U2e,Kft=J8,Zft=z2e,Xft=V2e,Qft=Fm,Jft=1,eht=2;function tht(e,t){return Kft(e)&&Zft(t)?Xft(Qft(e),t):function(n){var r=qft(n,e);return r===void 0&&r===t?Gft(n,e):Yft(t,r,Jft|eht)}}var nht=tht;function rht(e){return e}var Lm=rht;const W2e=Ie(Lm);function oht(e){return function(t){return t==null?void 0:t[e]}}var iht=oht,sht=Hw;function aht(e){return function(t){return sht(t,e)}}var lht=aht,cht=iht,uht=lht,dht=J8,fht=Fm;function hht(e){return dht(e)?cht(fht(e)):uht(e)}var pht=hht,mht=Dft,ght=nht,vht=Lm,yht=Jr,bht=pht;function xht(e){return typeof e=="function"?e:e==null?vht:typeof e=="object"?yht(e)?ght(e[0],e[1]):mht(e):bht(e)}var gh=xht;function wht(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),a=s.length;a--;){var c=s[e?a:++o];if(n(i[c],c,i)===!1)break}return t}}var Cht=wht,_ht=Cht,Sht=_ht(),Eht=Sht,kht=Eht,jht=mh;function Tht(e,t){return e&&kht(e,t,jht)}var Aht=Tht,Dht=ph;function Iht(e,t){return function(n,r){if(n==null)return n;if(!Dht(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&r(s[i],i,s)!==!1;);return n}}var Oht=Iht,Pht=Aht,Rht=Oht,$ht=Rht(Pht),Y2e=$ht,Mht=Y2e,Fht=ph;function Lht(e,t){var n=-1,r=Fht(e)?Array(e.length):[];return Mht(e,function(o,i,s){r[++n]=t(o,i,s)}),r}var q2e=Lht;function Bht(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Nht=Bht,_K=Sm;function zht(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=_K(e),s=t!==void 0,a=t===null,c=t===t,u=_K(t);if(!a&&!u&&!i&&e>t||i&&s&&c&&!a&&!u||r&&s&&c||!n&&c||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||a&&n&&o||!s&&o||!c)return-1}return 0}var Vht=zht,Hht=Vht;function Uht(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var c=Hht(o[r],i[r]);if(c){if(r>=a)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Wht=Uht,pO=qc,Yht=Hw,qht=gh,Ght=q2e,Kht=Nht,Zht=Y0,Xht=Wht,Qht=Lm,Jht=Jr;function ept(e,t,n){t.length?t=pO(t,function(i){return Jht(i)?function(s){return Yht(s,i.length===1?i[0]:i)}:i}):t=[Qht];var r=-1;t=pO(t,Zht(qht));var o=Ght(e,function(i,s,a){var c=pO(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return Kht(o,function(i,s){return Xht(i,s,n)})}var G2e=ept;function tpt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var npt=tpt,rpt=npt,SK=Math.max;function opt(e,t,n){return t=SK(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=SK(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(s),rpt(e,this,a)}}var K2e=opt;function ipt(e){return function(){return e}}var spt=ipt,apt=Mm,lpt=function(){try{var e=apt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Z2e=lpt,cpt=spt,EK=Z2e,upt=Lm,dpt=EK?function(e,t){return EK(e,"toString",{configurable:!0,enumerable:!1,value:cpt(t),writable:!0})}:upt,fpt=dpt,hpt=800,ppt=16,mpt=Date.now;function gpt(e){var t=0,n=0;return function(){var r=mpt(),o=ppt-(r-n);if(n=r,o>0){if(++t>=hpt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var vpt=gpt,ypt=fpt,bpt=vpt,xpt=bpt(ypt),X2e=xpt,wpt=Lm,Cpt=K2e,_pt=X2e;function Spt(e,t){return _pt(Cpt(e,t,wpt),e+"")}var Z0=Spt,Ept=pT,kpt=ph,jpt=_T,Tpt=Ja;function Apt(e,t,n){if(!Tpt(n))return!1;var r=typeof t;return(r=="number"?kpt(n)&&jpt(t,n.length):r=="string"&&t in n)?Ept(n[t],e):!1}var t9=Apt,Dpt=G0,Ipt=G2e,Opt=Z0,kK=t9,Ppt=Opt(function(e,t){if(e==null)return[];var n=t.length;return n>1&&kK(e,t[0],t[1])?t=[]:n>2&&kK(t[0],t[1],t[2])&&(t=[t[0]]),Ipt(e,Dpt(t,1),[])}),Rpt=Ppt;const Bm=Ie(Rpt);/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ck(){return ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ck.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uk.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cg(e,t,n){var r,o=(r=n.initialDeps)!=null?r:[],i;return function(){var s;n.key&&n.debug!=null&&n.debug()&&(s=Date.now());var a=e(),c=a.length!==o.length||a.some(function(v,g){return o[g]!==v});if(!c)return i;o=a;var u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),i=t.apply(void 0,a),n.key&&n.debug!=null&&n.debug()){var d=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-u)*100)/100,p=f/16,m=function(g,y){for(g=String(g);g.length<y;)g=" "+g;return g};console.info("%c⏱ "+m(f,5)+" /"+m(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n==null?void 0:n.key)}return n==null||n.onChange==null||n.onChange(i),i}}function mO(e,t){if(e===void 0)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var $pt=function(t,n){return Math.abs(t-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mpt=function(t){return t},Q2e=function(t){for(var n=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),o=[],i=n;i<=r;i++)o.push(i);return o},Fpt=function(t,n){var r=t.scrollElement;if(r){var o=function(a){var c=a.width,u=a.height;n({width:Math.round(c),height:Math.round(u)})};o(r.getBoundingClientRect());var i=new ResizeObserver(function(s){var a=s[0];if(a!=null&&a.borderBoxSize){var c=a.borderBoxSize[0];if(c){o({width:c.inlineSize,height:c.blockSize});return}}o(r.getBoundingClientRect())});return i.observe(r,{box:"border-box"}),function(){i.unobserve(r)}}},Lpt=function(t,n){var r=t.scrollElement;if(r){var o=function(){n(r[t.options.horizontal?"scrollLeft":"scrollTop"])};return o(),r.addEventListener("scroll",o,{passive:!0}),function(){r.removeEventListener("scroll",o)}}},Bpt=function(t,n,r){if(n!=null&&n.borderBoxSize){var o=n.borderBoxSize[0];if(o){var i=Math.round(o[r.options.horizontal?"inlineSize":"blockSize"]);return i}}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},J2e=function(t,n,r){var o,i,s=n.adjustments,a=s===void 0?0:s,c=n.behavior,u=t+a;(o=r.scrollElement)==null||o.scrollTo==null||o.scrollTo((i={},i[r.options.horizontal?"left":"top"]=u,i.behavior=c,i))},Npt=function(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,o=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(s){s.forEach(function(a){n._measureElement(a.target,a)})}):null)};return{disconnect:function(){var s;return(s=o())==null?void 0:s.disconnect()},observe:function(s){var a;return(a=o())==null?void 0:a.observe(s,{box:"border-box"})},unobserve:function(s){var a;return(a=o())==null?void 0:a.unobserve(s)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(o){var i=o[0],s=o[1];typeof s>"u"&&delete r[i]}),n.options=uk({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Mpt,rangeExtractor:Q2e,onChange:function(){},measureElement:Bpt,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(o){var i=n.scrollRect;n.scrollRect=o,(n.options.horizontal?o.width!==i.width:o.height!==i.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(o){n.scrollAdjustments=0,n.scrollOffset!==o&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<o?"forward":"backward",n.scrollOffset=o,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=cg(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,o,i,s){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:o,scrollMargin:i,getItemKey:s}},{key:!1}),this.getFurthestMeasurement=function(r,o){for(var i=new Map,s=new Map,a=o-1;a>=0;a--){var c=r[a];if(!i.has(c.lane)){var u=s.get(c.lane);if(u==null||c.end>u.end?s.set(c.lane,c):c.end<u.end&&i.set(c.lane,!0),i.size===n.options.lanes)break}}return s.size===n.options.lanes?Array.from(s.values()).sort(function(d,f){return d.end-f.end})[0]:void 0},this.getMeasurements=cg(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,o){var i=r.count,s=r.paddingStart,a=r.scrollMargin,c=r.getItemKey,u=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var d=n.measurementsCache.slice(0,u),f=u;f<i;f++){var p=c(f),m=n.options.lanes===1?d[f-1]:n.getFurthestMeasurement(d,f),v=m?m.end:s+a,g=o.get(p),y=typeof g=="number"?g:n.options.estimateSize(f),x=v+y,b=m?m.lane:f%n.options.lanes;d[f]={index:f,start:v,size:y,end:x,key:p,lane:b}}return n.measurementsCache=d,d},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=cg(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,o,i){return n.range=zpt({measurements:r,outerSize:o,scrollOffset:i})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=cg(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=cg(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,o,i,s){return r(uk({},o,{overscan:i,count:s}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var o=n.options.indexAttribute,i=r.getAttribute(o);return i?parseInt(i,10):(console.warn("Missing attribute name '"+o+"={index}' on measured element."),-1)},this._measureElement=function(r,o){var i,s=n.indexFromElement(r),a=n.measurementsCache[s];if(a){var c=n.measureElementCache.get(a.key);if(!r.isConnected){n.observer.unobserve(r),r===c&&n.measureElementCache.delete(a.key);return}c!==r&&(c&&n.observer.unobserve(c),n.observer.observe(r),n.measureElementCache.set(a.key,r));var u=n.options.measureElement(r,o,n),d=(i=n.itemSizeCache.get(a.key))!=null?i:a.size,f=u-d;f!==0&&(a.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=f,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(s),n.itemSizeCache=new Map(n.itemSizeCache.set(a.key,u)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=cg(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,o){for(var i=[],s=0,a=r.length;s<a;s++){var c=r[s],u=o[c];i.push(u)}return i},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var o=n.getMeasurements();return mO(o[eSe(0,o.length-1,function(i){return mO(o[i]).start},r)])},this.getOffsetForAlignment=function(r,o){var i=n.getSize();o==="auto"&&(r<=n.scrollOffset?o="start":r>=n.scrollOffset+i?o="end":o="start"),o==="start"?r=r:o==="end"?r=r-i:o==="center"&&(r=r-i/2);var s=n.options.horizontal?"scrollWidth":"scrollHeight",a=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[s]:n.scrollElement[s]:0,c=a-n.getSize();return Math.max(Math.min(c,r),0)},this.getOffsetForIndex=function(r,o){o===void 0&&(o="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var i=mO(n.getMeasurements()[r]);if(o==="auto")if(i.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)o="end";else if(i.start<=n.scrollOffset+n.options.scrollPaddingStart)o="start";else return[n.scrollOffset,o];var s=o==="end"?i.end+n.options.scrollPaddingEnd:i.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(s,o),o]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"start":s,c=i.behavior;n.cancelScrollToIndex(),c==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,a),{adjustments:void 0,behavior:c})},this.scrollToIndex=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"auto":s,c=i.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),c==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=n.getOffsetForIndex(r,a),d=u[0],f=u[1];n._scrollToOffset(d,{adjustments:void 0,behavior:c}),c!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var p=n.measureElementCache.has(n.options.getItemKey(r));if(p){var m=n.getOffsetForIndex(r,f),v=m[0];$pt(v,n.scrollOffset)||n.scrollToIndex(r,{align:f,behavior:c})}else n.scrollToIndex(r,{align:f,behavior:c})}))},this.scrollBy=function(r,o){var i=o===void 0?{}:o,s=i.behavior;n.cancelScrollToIndex(),s==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:s})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,o){var i=o.adjustments,s=o.behavior;n.options.scrollToFn(r,{behavior:s,adjustments:i},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},eSe=function(t,n,r,o){for(;t<=n;){var i=(t+n)/2|0,s=r(i);if(s<o)t=i+1;else if(s>o)n=i-1;else return i}return t>0?t-1:0};function zpt(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,o=t.length-1,i=function(u){return t[u].start},s=eSe(0,o,i,r),a=s;a<o&&t[a].end<r+n;)a++;return{startIndex:s,endIndex:a}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vpt=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Hpt(e){var t=h.useReducer(function(){return{}},{})[1],n=ck({},e,{onChange:function(s){t(),e.onChange==null||e.onChange(s)}}),r=h.useState(function(){return new Npt(n)}),o=r[0];return o.setOptions(n),h.useEffect(function(){return o._didMount()},[]),Vpt(function(){return o._willUpdate()}),o}function tSe(e){return Hpt(ck({observeElementRect:Fpt,observeElementOffset:Lpt,scrollToFn:J2e},e))}var Upt=Wpt;function Wpt(e,t,n){var r=e===null,o=t===null;if(r!==o)return!1;var i=Array.isArray(e),s=Array.isArray(t);if(i!==s)return!1;var a=typeof e,c=typeof t;return a!==c?!1:Gpt(a)?n?n(e,t):e===t:i?Ypt(e,t,n):qpt(e,t,n)}function Ypt(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var o=0;o<r;o++)if(!n(e[o],t[o]))return!1}else for(var o=0;o<r;o++)if(e[o]!==t[o])return!1;return!0}function qpt(e,t,n){var r=0,o=0;if(n)for(var i in e){if(e.hasOwnProperty(i)&&!n(e[i],t[i]))return!1;r++}else for(var i in e){if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;r++}for(var i in t)t.hasOwnProperty(i)&&o++;return r===o}function Gpt(e){return e!=="function"&&e!=="object"}const Ju=Ie(Upt);var rM={exports:{}},gO,jK;function jT(){if(jK)return gO;jK=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;gO=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return gO}function Kpt(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=jT(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,y=Number(new Date),x=y-(d||y);g.diff=x,g.prev=d,g.curr=y,d=y,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var b=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;b++;var S=n.formatters[_];if(typeof S=="function"){var E=m[b];C=S.call(g,E),m.splice(b,1),b--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var Zpt=Kpt;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=Zpt(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(rM,rM.exports);var Xpt=rM.exports;const nf=Ie(Xpt);function Qpt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var nSe=Qpt;function Jpt(e){return e!==e}var emt=Jpt;function tmt(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var nmt=tmt,rmt=nSe,omt=emt,imt=nmt;function smt(e,t,n){return t===t?imt(e,t,n):rmt(e,omt,n)}var n9=smt,amt=n9;function lmt(e,t){var n=e==null?0:e.length;return!!n&&amt(e,t,0)>-1}var r9=lmt;function cmt(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}var o9=cmt,umt=bT,dmt=r9,fmt=o9,hmt=qc,pmt=Y0,mmt=xT,gmt=200;function vmt(e,t,n,r){var o=-1,i=dmt,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;n&&(t=hmt(t,pmt(n))),r?(i=fmt,s=!1):t.length>=gmt&&(i=mmt,s=!1,t=new umt(t));e:for(;++o<a;){var d=e[o],f=n==null?d:n(d);if(d=r||d!==0?d:0,s&&f===f){for(var p=u;p--;)if(t[p]===f)continue e;c.push(d)}else i(t,f,r)||c.push(d)}return c}var rSe=vmt,ymt=ph,bmt=el;function xmt(e){return bmt(e)&&ymt(e)}var TT=xmt,wmt=rSe,Cmt=G0,_mt=Z0,TK=TT,Smt=_mt(function(e,t){return TK(e)?wmt(e,Cmt(t,1,TK,!0)):[]}),Emt=Smt;const im=Ie(Emt);var kmt=bT,jmt=r9,Tmt=o9,Amt=qc,Dmt=Y0,AK=xT,Imt=Math.min;function Omt(e,t,n){for(var r=n?Tmt:jmt,o=e[0].length,i=e.length,s=i,a=Array(i),c=1/0,u=[];s--;){var d=e[s];s&&t&&(d=Amt(d,Dmt(t))),c=Imt(d.length,c),a[s]=!n&&(t||o>=120&&d.length>=120)?new kmt(s&&d):void 0}d=e[0];var f=-1,p=a[0];e:for(;++f<o&&u.length<c;){var m=d[f],v=t?t(m):m;if(m=n||m!==0?m:0,!(p?AK(p,v):r(u,v,n))){for(s=i;--s;){var g=a[s];if(!(g?AK(g,v):r(e[s],v,n)))continue e}p&&p.push(v),u.push(m)}}return u}var Pmt=Omt,Rmt=TT;function $mt(e){return Rmt(e)?e:[]}var Mmt=$mt,Fmt=qc,Lmt=Pmt,Bmt=Z0,Nmt=Mmt,zmt=Bmt(function(e){var t=Fmt(e,Nmt);return t.length&&t[0]===e[0]?Lmt(t):[]}),Vmt=zmt;const dk=Ie(Vmt);var Hmt=w2e,Umt=Hmt(Object.getPrototypeOf,Object),i9=Umt,Wmt=ih,Ymt=i9,qmt=el,Gmt="[object Object]",Kmt=Function.prototype,Zmt=Object.prototype,oSe=Kmt.toString,Xmt=Zmt.hasOwnProperty,Qmt=oSe.call(Object);function Jmt(e){if(!qmt(e)||Wmt(e)!=Gmt)return!1;var t=Ymt(e);if(t===null)return!0;var n=Xmt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&oSe.call(n)==Qmt}var iSe=Jmt;const Sr=Ie(iSe);var DK=Z2e;function egt(e,t,n){t=="__proto__"&&DK?DK(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var AT=egt,tgt=AT,ngt=pT,rgt=Object.prototype,ogt=rgt.hasOwnProperty;function igt(e,t,n){var r=e[t];(!(ogt.call(e,t)&&ngt(r,n))||n===void 0&&!(t in e))&&tgt(e,t,n)}var s9=igt,sgt=s9,agt=K0,lgt=_T,IK=Ja,cgt=Fm;function ugt(e,t,n,r){if(!IK(e))return e;t=agt(t,e);for(var o=-1,i=t.length,s=i-1,a=e;a!=null&&++o<i;){var c=cgt(t[o]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(o!=s){var d=a[c];u=r?r(d,c,a):void 0,u===void 0&&(u=IK(d)?d:lgt(t[o+1])?[]:{})}sgt(a,c,u),a=a[c]}return e}var dgt=ugt,fgt=Hw,hgt=dgt,pgt=K0;function mgt(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=fgt(e,s);n(a,s)&&hgt(i,pgt(s,e),a)}return i}var sSe=mgt,ggt=sSe,vgt=U2e;function ygt(e,t){return ggt(e,t,function(n,r){return vgt(e,r)})}var bgt=ygt,xgt=G0;function wgt(e){var t=e==null?0:e.length;return t?xgt(e,1):[]}var aSe=wgt;const Tn=Ie(aSe);var Cgt=aSe,_gt=K2e,Sgt=X2e;function Egt(e){return Sgt(_gt(e,void 0,Cgt),e+"")}var a9=Egt,kgt=bgt,jgt=a9,Tgt=jgt(function(e,t){return e==null?{}:kgt(e,t)}),Agt=Tgt;const St=Ie(Agt),l9=ie.createContext(null);function Gl(){const e=h.useContext(l9);if(!e)throw new Error("Router: missing context value");return e}function Dgt(e){return e.button===0}function Igt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function c9(e){const{onClick:t,href:n,target:r,replace:o=!1}=e,{navigateUrl:i}=Gl();return{onClick:h.useCallback(a=>{a.isDefaultPrevented()||n&&(t&&t(a),!(Igt(a)||!Dgt(a))&&(r||(a.preventDefault(),i({path:n,replace:o}))))},[n,i,t,o,r])}}function Uw(e){const{intent:t,onClick:n,params:r,replace:o,target:i}=e,{resolveIntentLink:s}=Gl(),a=h.useMemo(()=>s(t,r),[t,r,s]),{onClick:c}=c9({href:a,onClick:n,replace:o,target:i});return{onClick:c,href:a}}const Nm=h.forwardRef(function(t,n){const{intent:r,params:o,target:i,...s}=t,{onClick:a,href:c}=Uw({intent:r,params:o,target:i,onClick:t.onClick});return l.jsx("a",{...s,href:c,onClick:a,ref:n,target:i})});h.forwardRef(function(t,n){const{onClick:r,href:o,target:i,replace:s,...a}=t,{onClick:c}=c9({onClick:r,href:o,target:i,replace:s});return l.jsx("a",{...a,onClick:c,href:o,target:i,ref:n})});function Ogt(e,t,n){return n&&{...e,[t]:n}}function Pgt(e){const{children:t,scope:n,__unsafe_disableScopedSearchParams:r}=e,o=Gl(),{resolvePathFromState:i,navigate:s}=o,a=h.useRef(o.state);a.current=o.state;const c=h.useCallback(p=>{const{_searchParams:m,...v}=p,g=Ogt(a.current,n,v);return r?g._searchParams=m:g[n]._searchParams=m,g},[n,r]),u=h.useCallback(p=>i(c(p)),[i,c]),d=h.useCallback(p=>s(c(p)),[s,c]),f=h.useMemo(()=>{const p=o.state,m={...p[n]||{}};return r&&(m._searchParams=p._searchParams),{...o,navigate:d,resolvePathFromState:u,state:m}},[n,o,d,u,r]);return l.jsx(l9.Provider,{value:f,children:t})}function Rgt(e){const{onNavigate:t,router:n,state:r}=e,o=h.useCallback((u,d)=>{const[f,p]=Array.isArray(d)?d:[d];return n.encode({intent:u,params:f,payload:p})},[n]),i=h.useCallback(u=>n.encode(u),[n]),s=h.useCallback(function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t({path:i(u),replace:d.replace})},[t,i]),a=h.useCallback(function(u,d){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t({path:o(u,d),replace:f.replace})},[t,o]),c=h.useMemo(()=>({navigate:s,navigateIntent:a,navigateUrl:t,resolveIntentLink:o,resolvePathFromState:i,state:r}),[s,a,t,o,i,r]);return l.jsx(l9.Provider,{value:c,children:e.children})}const OK={};function lSe(e){const{onClick:t,replace:n,state:r,target:o,toIndex:i=!1}=e;if(r&&i)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!r&&!i&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:s}=Gl(),a=h.useMemo(()=>s(i?OK:r||OK),[s,r,i]),{onClick:c}=c9({href:a,onClick:t,replace:n,target:o});return{onClick:c,href:a}}const DT=h.forwardRef(function(t,n){const{onClick:r,replace:o,state:i,target:s,toIndex:a=!1,...c}=t,{onClick:u,href:d}=lSe({onClick:r,replace:o,state:i,target:s,toIndex:a});return l.jsx("a",{...c,href:d,onClick:u,ref:n})}),$gt=/^[a-zA-Z0-9_-]+$/;function Mgt(e){if(!e)return null;if(e.startsWith(":")){const t=e.substring(1);if(!$gt.test(t)){const n=e.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error('Warning: Param segments "'.concat(e,'" includes invalid characters.').concat(n)))}return{type:"param",name:t}}return{type:"dir",name:e}}function Fgt(e){const[t]=e.split("?"),n=t.split("/").map(Mgt).filter(Boolean);return{raw:e,segments:n}}const oM=nf("state-router");function cSe(e){return Array.isArray(e)?e:e?[e]:[]}function Lgt(e){return e.map(t=>{let[n,r]=t;return[Bgt(n),r]})}const vO=1,PK=0;function Bgt(e){const t=[];let n=0,r=PK;for(;n<e.length;){const o=e.indexOf("[",n);if(o===-1){t.push(e.slice(n,e.length));break}if(r===vO)throw new Error("Nested brackets not supported");r=vO,o>n&&(t.push(e.slice(n,o)),n=o);const i=e.indexOf("]",o);if(i===-1){if(r===vO)throw new Error("Unclosed bracket");break}r=PK,t.push(e.slice(n+1,i)),n=i+1}return t}function uSe(e,t,n){const r=t.split("/").filter(Boolean),o=e.route.segments.length;if(r.length<o)return null;const i={};if(!e.route.segments.every((m,v)=>{if(m.type==="dir")return m.name===r[v];const g=e.transform&&e.transform[m.name];return i[m.name]=g?g.toState(r[v]):r[v],!0}))return null;const a=r.slice(o);let c=null;const u=typeof e.children=="function"?cSe(e.children(i)):e.children,d=zgt(e.scope,n);if(u.some(m=>{if(m){const v=m.scope?d.filter(g=>{let[y]=g;return m.scope===y[0]}):d;return c=uSe(m,a.join("/"),v),c}}),a.length>0&&!c)return null;const f=d.flatMap(m=>{let[v,g]=m;return v.length===1?[[v[0],g]]:[]}),p={...i,...c||{},...f.length>0?{_searchParams:f}:{}};return e.scope?{[e.scope]:p}:p}function Ngt(e,t){oM("resolving state from path %s",t);const[n,r]=t.split("?"),o=Array.from(new URLSearchParams(r).entries()),i=uSe(e,n,Lgt(o));return oM("resolved: %o",i||null),i||null}function zgt(e,t){return e?t.map(n=>{let[r,o]=n;return[r[0]===e?r.slice(1):r,o]}):t}function RK(e){return Sr(e)}function yO(e,t,n){return{type:"error",node:e,missingKeys:t,unmappableStateKeys:n}}function bO(e,t,n,r){return{type:"ok",node:e,matchedState:t,searchParams:n,child:r}}function dSe(e,t){if(!t)return bO(e,{},[]);const n=e.scope?t[e.scope]:t,{_searchParams:r=[],...o}=n||{},i=e.route.segments.filter(y=>y.type==="param").map(y=>y.name),s=RK(o)?Object.keys(o):[],a=dk(s,i),c=im(i,a),u=im(s,a);if(c.length>0)return yO(e,c,[]);const d=r.map(y=>{let[x,b]=y;return[[x],b]}),f=St(o,a);if(u.length===0)return bO(e,f,d);const p=cSe((typeof e.children=="function"?e.children(RK(o)?o:{}):e.children)||[]);if(u.length>0&&p.length===0)return yO(e,[],u);const m=St(o,u),g=p.map(y=>dSe(y,m)).find(y=>y.type==="ok");return g?bO(e,f,d,g):yO(e,[],u)}function fSe(e,t){const n=[...String(e)];let r="";for(let o=0;o<n.length;o++){const i=n[o];t.includes(i)?r+=i:r+=encodeURIComponent(i)}return r}function Vgt(e,t){oM("Resolving path from state %o",t);const n=dSe(e,t);if(n.type==="error"){const s=n.unmappableStateKeys;if(s.length>0)throw new Error("Unable to find matching route for state. Could not map the following state key".concat(s.length==1?"":"s"," to a valid url: ").concat(s.map($K).join(", ")));const a=n.missingKeys;throw new Error("Unable to find matching route for state. State object is missing the following key".concat(a.length==1?"":"s"," defined in route: ").concat(a.map($K).join(", ")))}const{path:r,searchParams:o}=hSe(n),i=o.length>0?Ugt(o):"";return"/".concat(r.join("/")).concat(i?"?".concat(i):"")}function Hgt(e){return"[".concat(e,"]")}function Ugt(e){return e.flatMap(t=>{let[n,r]=t;return r===void 0?[]:[qgt(Wgt(n)),Ygt(r)].join("=")}).join("&")}function Wgt(e){const[t,...n]=e;return n.length>0?[t,...n.map(Hgt)].join(""):t}function Ygt(e){return fSe(e,"/")}function qgt(e){return fSe(e,"[]")}function hSe(e){const t=e.matchedState,n=e.node.route.segments.map(i=>{if(i.type==="dir")return i.name;const s=e.node.transform&&e.node.transform[i.name];return s?s.toPath(t[i.name]):t[i.name]}),r=e.child?hSe(e.child):void 0,o=r!=null&&r.searchParams?[...e.searchParams,...r.searchParams]:e.searchParams;return{searchParams:Ggt(e.node,o),path:[...n||[],...(r==null?void 0:r.path)||[]]}}function Ggt(e,t){const n=e.scope;return n&&!e.__unsafe_disableScopedSearchParams?t.map(r=>{let[o,i]=r;return[[n,...o],i]}):t}function $K(e){return'"'.concat(e,'"')}function Kgt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=decodeURIComponent(e);if(!t)return{};try{return JSON.parse(atob(t))}catch{}try{return JSON.parse(t)}catch{console.warn("Failed to parse JSON parameters")}return{}}function Zgt(e){return e?btoa(JSON.stringify(e)):""}function Xgt(e){return e.split(";").reduce((t,n)=>{const[r,o]=n.split("=");return t[decodeURIComponent(r)]=decodeURIComponent(o),t},{})}function Qgt(e){return Object.entries(e).filter(t=>{let[,n]=t;return n!=null}).map(t=>{let[n,r]=t;return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))}).join(";")}const Ci={create:(e,t,n)=>BK(FK(e,t,n)),intents:e=>{const t=evt(e).join("/");return Ci.create("".concat(t,"/:intent"),[Ci.create(":params",{transform:{params:{toState:Xgt,toPath:Qgt}}},[Ci.create(":payload",{transform:{payload:{toState:Kgt,toPath:Zgt}}})])])},scope(e,t,n,r){const o=FK(t,n,r);return BK({...o,scope:e})}};function MK(e){return Array.isArray(e)||typeof e=="function"?e:e?[e]:[]}function Jgt(e){return e&&"_isRoute"in e}function FK(e,t,n){return typeof e=="object"?e:Array.isArray(t)||typeof t=="function"||Jgt(t)?{path:e,children:MK(t)}:n?{path:e,...t,children:MK(n)}:{path:e,...t}}function evt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o.split("/")),[]).filter(Boolean)}const tvt={};function LK(e){return e.split("/").every(t=>!t)}function BK(e){const{path:t,scope:n,transform:r,children:o,__unsafe_disableScopedSearchParams:i}=e;if(!t)throw new TypeError("Missing path");const s=Fgt(t);return{_isRoute:!0,scope:n,__unsafe_disableScopedSearchParams:i,route:s,children:o||[],transform:r,encode(a){return Vgt(this,a)},decode(a){return Ngt(this,a)},isRoot:LK,isNotFound(a){return this.decode(a)===null},getBasePath(){return this.encode(tvt)},getRedirectBase(a){if(LK(a)){const c=this.getBasePath();if(a!==c)return c}return null}}}function IT(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W2e;const{state:t}=Gl();return h.useMemo(()=>e(t),[e,t])}function nvt(e){function t(n){const r=Gl();return l.jsx(e,{...n,router:r})}return t.displayName="withRouter(".concat(e.displayName||e.name,")"),t}nvt(e=>e.children(e.router));function rvt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ed.apply(this,arguments)}var iM="data-focus-lock",pSe="data-focus-lock-disabled",ovt="data-no-focus-lock",ivt="data-autofocus-inside",svt="data-no-autofocus";function avt(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function lvt(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function cvt(e,t){return lvt(t||null,function(n){return e.forEach(function(r){return avt(r,n)})})}var xO={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function mSe(e){return e}function gSe(e,t){t===void 0&&(t=mSe);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var c=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return o}function u9(e,t){return t===void 0&&(t=mSe),gSe(e,t)}function uvt(e){e===void 0&&(e={});var t=gSe(null);return t.options=G$({async:!0,ssr:!1},e),t}var vSe=u9({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),ySe=u9(),dvt=u9(),fvt=uvt({async:!0}),hvt=[],d9=h.forwardRef(function(t,n){var r,o=h.useState(),i=o[0],s=o[1],a=h.useRef(),c=h.useRef(!1),u=h.useRef(null),d=t.children,f=t.disabled,p=t.noFocusGuards,m=t.persistentFocus,v=t.crossFrame,g=t.autoFocus;t.allowTextSelection;var y=t.group,x=t.className,b=t.whiteList,w=t.hasPositiveIndices,C=t.shards,_=C===void 0?hvt:C,S=t.as,E=S===void 0?"div":S,j=t.lockProps,k=j===void 0?{}:j,T=t.sideCar,A=t.returnFocus,D=t.focusOptions,I=t.onActivation,O=t.onDeactivation,$=h.useState({}),R=$[0],V=h.useCallback(function(){u.current=u.current||document&&document.activeElement,a.current&&I&&I(a.current),c.current=!0},[I]),N=h.useCallback(function(){c.current=!1,O&&O(a.current)},[O]);h.useEffect(function(){f||(u.current=null)},[]);var W=h.useCallback(function(Z){var Q=u.current;if(Q&&Q.focus){var ne=typeof A=="function"?A(Q):A;if(ne){var G=typeof ne=="object"?ne:void 0;u.current=null,Z?Promise.resolve().then(function(){return Q.focus(G)}):Q.focus(G)}}},[A]),q=h.useCallback(function(Z){c.current&&vSe.useMedium(Z)},[]),H=ySe.useMedium,Y=h.useCallback(function(Z){a.current!==Z&&(a.current=Z,s(Z))},[]),X=ed((r={},r[pSe]=f&&"disabled",r[iM]=y,r),k),B=p!==!0,K=B&&p!=="tail",z=cvt([n,Y]);return h.createElement(h.Fragment,null,B&&[h.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:xO}),w?h.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:xO}):null],!f&&h.createElement(T,{id:R,sideCar:fvt,observed:i,disabled:f,persistentFocus:m,crossFrame:v,autoFocus:g,whiteList:b,shards:_,onActivation:V,onDeactivation:N,returnFocus:W,focusOptions:D}),h.createElement(E,ed({ref:z},X,{className:x,onBlur:H,onFocus:q}),d),K&&h.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:xO}))});d9.propTypes={};d9.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const bSe=d9;function fk(e,t){return fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},fk(e,t)}function pvt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,fk(e,t)}function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function mvt(e,t){if(Bl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xSe(e){var t=mvt(e,"string");return Bl(t)==="symbol"?t:String(t)}function Be(e,t,n){return t=xSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gvt(e,t){function n(r){return r.displayName||r.name||"Component"}return function(o){var i=[],s;function a(){s=e(i.map(function(u){return u.props})),t(s)}var c=function(u){pvt(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return s};var f=d.prototype;return f.componentDidMount=function(){i.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var m=i.indexOf(this);i.splice(m,1),a()},f.render=function(){return ie.createElement(o,this.props)},d}(h.PureComponent);return Be(c,"displayName","SideEffect("+n(o)+")"),c}}var Kc=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},hk=function(e){return Array.isArray(e)?e:[e]},wSe=function(e){return Array.isArray(e)?e[0]:e},vvt=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},CSe=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},_Se=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},yvt=function(e,t){return!e||_Se(e)||!vvt(e)&&t(CSe(e))},SSe=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=yvt(t,SSe.bind(void 0,e));return e.set(t,r),r},bvt=function(e,t){return e&&!_Se(e)?Cvt(e)?t(CSe(e)):!1:!0},ESe=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=bvt(t,ESe.bind(void 0,e));return e.set(t,r),r},kSe=function(e){return e.dataset},xvt=function(e){return e.tagName==="BUTTON"},jSe=function(e){return e.tagName==="INPUT"},TSe=function(e){return jSe(e)&&e.type==="radio"},wvt=function(e){return!((jSe(e)||xvt(e))&&(e.type==="hidden"||e.disabled))},Cvt=function(e){var t=e.getAttribute(svt);return![!0,"true",""].includes(t)},f9=function(e){var t;return!!(e&&(!((t=kSe(e))===null||t===void 0)&&t.focusGuard))},pk=function(e){return!f9(e)},_vt=function(e){return!!e},Svt=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},ASe=function(e,t,n){return Kc(e).map(function(r,o){return{node:r,index:o,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(Svt)},Evt=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],h9=Evt.join(","),kvt="".concat(h9,", [data-focus-guard]"),DSe=function(e,t){return Kc((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?kvt:h9)?[r]:[],DSe(r))},[])},jvt=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?OT([e.contentDocument.body],t):[e]},OT=function(e,t){return e.reduce(function(n,r){var o,i=DSe(r,t),s=(o=[]).concat.apply(o,i.map(function(a){return jvt(a,t)}));return n.concat(s,r.parentNode?Kc(r.parentNode.querySelectorAll(h9)).filter(function(a){return a===r}):[])},[])},Tvt=function(e){var t=e.querySelectorAll("[".concat(ivt,"]"));return Kc(t).map(function(n){return OT([n])}).reduce(function(n,r){return n.concat(r)},[])},p9=function(e,t){return Kc(e).filter(function(n){return SSe(t,n)}).filter(function(n){return wvt(n)})},NK=function(e,t){return t===void 0&&(t=new Map),Kc(e).filter(function(n){return ESe(t,n)})},sM=function(e,t,n){return ASe(p9(OT(e,n),t),!0,n)},zK=function(e,t){return ASe(p9(OT(e),t),!1)},Avt=function(e,t){return p9(Tvt(e),t)},bv=function(e,t){return e.shadowRoot?bv(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:Kc(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var o=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return o?bv(o,t):!1}return bv(n,t)})},Dvt=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var i=e[r].compareDocumentPosition(e[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,a){return!t.has(a)})},ISe=function(e){return e.parentNode?ISe(e.parentNode):e},m9=function(e){var t=hk(e);return t.filter(Boolean).reduce(function(n,r){var o=r.getAttribute(iM);return n.push.apply(n,o?Dvt(Kc(ISe(r).querySelectorAll("[".concat(iM,'="').concat(o,'"]:not([').concat(pSe,'="disabled"])')))):[r]),n},[])},Ivt=function(e){try{return e()}catch{return}},xx=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?xx(t.shadowRoot):t instanceof HTMLIFrameElement&&Ivt(function(){return t.contentWindow.document})?xx(t.contentWindow.document):t}},Ovt=function(e,t){return e===t},Pvt=function(e,t){return!!Kc(e.querySelectorAll("iframe")).some(function(n){return Ovt(n,t)})},OSe=function(e,t){return t===void 0&&(t=xx(wSe(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:m9(e).some(function(n){return bv(n,t)||Pvt(n,t)})},Rvt=function(e){e===void 0&&(e=document);var t=xx(e);return t?Kc(e.querySelectorAll("[".concat(ovt,"]"))).some(function(n){return bv(n,t)}):!1},$vt=function(e,t){return t.filter(TSe).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},g9=function(e,t){return TSe(e)&&e.name?$vt(e,t):e},Mvt=function(e){var t=new Set;return e.forEach(function(n){return t.add(g9(n,e))}),e.filter(function(n){return t.has(n)})},VK=function(e){return e[0]&&e.length>1?g9(e[0],e):e[0]},HK=function(e,t){return e.length>1?e.indexOf(g9(e[t],e)):t},PSe="NEW_FOCUS",Fvt=function(e,t,n,r){var o=e.length,i=e[0],s=e[o-1],a=f9(n);if(!(n&&e.indexOf(n)>=0)){var c=n!==void 0?t.indexOf(n):-1,u=r?t.indexOf(r):c,d=r?e.indexOf(r):-1,f=c-u,p=t.indexOf(i),m=t.indexOf(s),v=Mvt(t),g=n!==void 0?v.indexOf(n):-1,y=g-(r?v.indexOf(r):c),x=HK(e,0),b=HK(e,o-1);if(c===-1||d===-1)return PSe;if(!f&&d>=0)return d;if(c<=p&&a&&Math.abs(f)>1)return b;if(c>=m&&a&&Math.abs(f)>1)return x;if(f&&Math.abs(y)>1)return d;if(c<=p)return b;if(c>m)return x;if(f)return Math.abs(f)>1?d:(o+d+f)%o}},Lvt=function(e){return function(t){var n,r=(n=kSe(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},Bvt=function(e,t,n){var r=e.map(function(i){var s=i.node;return s}),o=NK(r.filter(Lvt(n)));return o&&o.length?VK(o):VK(NK(t))},aM=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&aM(e.parentNode.host||e.parentNode,t),t},wO=function(e,t){for(var n=aM(e),r=aM(t),o=0;o<n.length;o+=1){var i=n[o];if(r.indexOf(i)>=0)return i}return!1},RSe=function(e,t,n){var r=hk(e),o=hk(t),i=r[0],s=!1;return o.filter(Boolean).forEach(function(a){s=wO(s||a,a)||s,n.filter(Boolean).forEach(function(c){var u=wO(i,c);u&&(!s||bv(u,s)?s=u:s=wO(u,s))})}),s},Nvt=function(e,t){return e.reduce(function(n,r){return n.concat(Avt(r,t))},[])},zvt=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(_vt)},Vvt=function(e,t){var n=xx(hk(e).length>0?document:wSe(e).ownerDocument),r=m9(e).filter(pk),o=RSe(n||e,e,r),i=new Map,s=zK(r,i),a=sM(r,i).filter(function(m){var v=m.node;return pk(v)});if(!(!a[0]&&(a=s,!a[0]))){var c=zK([o],i).map(function(m){var v=m.node;return v}),u=zvt(c,a),d=u.map(function(m){var v=m.node;return v}),f=Fvt(d,c,n,t);if(f===PSe){var p=Bvt(s,d,Nvt(r,i));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:u[f]}},Hvt=function(e){var t=m9(e).filter(pk),n=RSe(e,e,t),r=new Map,o=sM([n],r,!0),i=sM(t,r).filter(function(s){var a=s.node;return pk(a)}).map(function(s){var a=s.node;return a});return o.map(function(s){var a=s.node,c=s.index;return{node:a,index:c,lockItem:i.indexOf(a)>=0,guard:f9(a)}})},Uvt=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},CO=0,_O=!1,$Se=function(e,t,n){n===void 0&&(n={});var r=Vvt(e,t);if(!_O&&r){if(CO>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),_O=!0,setTimeout(function(){_O=!1},1);return}CO++,Uvt(r.node,n.focusOptions),CO--}};function v9(e){setTimeout(e,1)}var Wvt=function(){return document&&document.activeElement===document.body},Yvt=function(){return Wvt()||Rvt()},xv=null,tv=null,wv=null,wx=!1,qvt=function(){return!0},Gvt=function(t){return(xv.whiteList||qvt)(t)},Kvt=function(t,n){wv={observerNode:t,portaledElement:n}},Zvt=function(t){return wv&&wv.portaledElement===t};function UK(e,t,n,r){var o=null,i=e;do{var s=r[i];if(s.guard)s.node.dataset.focusAutoGuard&&(o=s);else if(s.lockItem){if(i!==e)return;o=null}else break}while((i+=n)!==t);o&&(o.node.tabIndex=0)}var Xvt=function(t){return t&&"current"in t?t.current:t},Qvt=function(t){return t?!!wx:wx==="meanwhile"},Jvt=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},e0t=function(t,n){return n.some(function(r){return Jvt(t,r,r)})},mk=function(){var t=!1;if(xv){var n=xv,r=n.observed,o=n.persistentFocus,i=n.autoFocus,s=n.shards,a=n.crossFrame,c=n.focusOptions,u=r||wv&&wv.portaledElement,d=document&&document.activeElement;if(u){var f=[u].concat(s.map(Xvt).filter(Boolean));if((!d||Gvt(d))&&(o||Qvt(a)||!Yvt()||!tv&&i)&&(u&&!(OSe(f)||d&&e0t(d,f)||Zvt(d))&&(document&&!tv&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(t=$Se(f,tv,{focusOptions:c}),wv={})),wx=!1,tv=document&&document.activeElement),document){var p=document&&document.activeElement,m=Hvt(f),v=m.map(function(g){var y=g.node;return y}).indexOf(p);v>-1&&(m.filter(function(g){var y=g.guard,x=g.node;return y&&x.dataset.focusAutoGuard}).forEach(function(g){var y=g.node;return y.removeAttribute("tabIndex")}),UK(v,m.length,1,m),UK(v,-1,-1,m))}}}return t},MSe=function(t){mk()&&t&&(t.stopPropagation(),t.preventDefault())},y9=function(){return v9(mk)},t0t=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||Kvt(r,n)},n0t=function(){return null},FSe=function(){wx="just",v9(function(){wx="meanwhile"})},r0t=function(){document.addEventListener("focusin",MSe),document.addEventListener("focusout",y9),window.addEventListener("blur",FSe)},o0t=function(){document.removeEventListener("focusin",MSe),document.removeEventListener("focusout",y9),window.removeEventListener("blur",FSe)};function i0t(e){return e.filter(function(t){var n=t.disabled;return!n})}function s0t(e){var t=e.slice(-1)[0];t&&!xv&&r0t();var n=xv,r=n&&t&&t.id===n.id;xv=t,n&&!r&&(n.onDeactivation(),e.filter(function(o){var i=o.id;return i===n.id}).length||n.returnFocus(!t)),t?(tv=null,(!r||n.observed!==t.observed)&&t.onActivation(),mk(),v9(mk)):(o0t(),tv=null)}vSe.assignSyncMedium(t0t);ySe.assignMedium(y9);dvt.assignMedium(function(e){return e({moveFocusInside:$Se,focusInside:OSe})});const a0t=gvt(i0t,s0t)(n0t);var LSe=h.forwardRef(function(t,n){return h.createElement(bSe,ed({sideCar:a0t,ref:n},t))}),BSe=bSe.propTypes||{};BSe.sideCar;rvt(BSe,["sideCar"]);LSe.propTypes={};const vh=LSe;var NSe={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var s=typeof i;if(s==="string"||s==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(s==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var c in i)t.call(i,c)&&i[c]&&r.push(c)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(NSe);var l0t=NSe.exports;const c0t=Ie(l0t);function zm(e){const{defaultDpr:t=1,maxDpr:n=3,round:r=!0}=e||{},i=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:t;return Math.min(Math.max(1,r?Math.floor(i):i),n)}var zSe={exports:{}},Cn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b9=Symbol.for("react.element"),x9=Symbol.for("react.portal"),PT=Symbol.for("react.fragment"),RT=Symbol.for("react.strict_mode"),$T=Symbol.for("react.profiler"),MT=Symbol.for("react.provider"),FT=Symbol.for("react.context"),u0t=Symbol.for("react.server_context"),LT=Symbol.for("react.forward_ref"),BT=Symbol.for("react.suspense"),NT=Symbol.for("react.suspense_list"),zT=Symbol.for("react.memo"),VT=Symbol.for("react.lazy"),d0t=Symbol.for("react.offscreen"),VSe;VSe=Symbol.for("react.module.reference");function ol(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case b9:switch(e=e.type,e){case PT:case $T:case RT:case BT:case NT:return e;default:switch(e=e&&e.$$typeof,e){case u0t:case FT:case LT:case VT:case zT:case MT:return e;default:return t}}case x9:return t}}}Cn.ContextConsumer=FT;Cn.ContextProvider=MT;Cn.Element=b9;Cn.ForwardRef=LT;Cn.Fragment=PT;Cn.Lazy=VT;Cn.Memo=zT;Cn.Portal=x9;Cn.Profiler=$T;Cn.StrictMode=RT;Cn.Suspense=BT;Cn.SuspenseList=NT;Cn.isAsyncMode=function(){return!1};Cn.isConcurrentMode=function(){return!1};Cn.isContextConsumer=function(e){return ol(e)===FT};Cn.isContextProvider=function(e){return ol(e)===MT};Cn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===b9};Cn.isForwardRef=function(e){return ol(e)===LT};Cn.isFragment=function(e){return ol(e)===PT};Cn.isLazy=function(e){return ol(e)===VT};Cn.isMemo=function(e){return ol(e)===zT};Cn.isPortal=function(e){return ol(e)===x9};Cn.isProfiler=function(e){return ol(e)===$T};Cn.isStrictMode=function(e){return ol(e)===RT};Cn.isSuspense=function(e){return ol(e)===BT};Cn.isSuspenseList=function(e){return ol(e)===NT};Cn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===PT||e===$T||e===RT||e===BT||e===NT||e===d0t||typeof e=="object"&&e!==null&&(e.$$typeof===VT||e.$$typeof===zT||e.$$typeof===MT||e.$$typeof===FT||e.$$typeof===LT||e.$$typeof===VSe||e.getModuleId!==void 0)};Cn.typeOf=ol;zSe.exports=Cn;var Kl=zSe.exports;const f0t="modulepreload",h0t=function(e){return"/"+e},WK={},w9=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=h0t(i),i in WK)return;WK[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const f=o[d];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":f0t,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},p0t=typeof navigator>"u"?!1:navigator.product==="ReactNative",HSe={timeout:p0t?6e4:12e4},m0t=function(t){const n={...HSe,...typeof t=="string"?{url:t}:t},{searchParams:r}=new URL(n.url,"http://localhost");if(n.timeout=USe(n.timeout),n.query){for(const[s,a]of Object.entries(n.query))if(a!==void 0)if(Array.isArray(a))for(const c of a)r.append(s,c);else r.append(s,a)}const[o]=n.url.split("?"),i=r.toString();return i&&(n.url="".concat(o,"?").concat(i)),n.method=n.body&&!n.method?"POST":(n.method||"GET").toUpperCase(),n};function USe(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?USe(HSe.timeout):{connect:t,socket:t}}const g0t=/^https?:\/\//i,v0t=function(t){if(!g0t.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))};var SO=function(e){return e.replace(/^\s+|\s+$/g,"")},y0t=function(e){return Object.prototype.toString.call(e)==="[object Array]"},b0t=function(e){if(!e)return{};for(var t={},n=SO(e).split(`
`),r=0;r<n.length;r++){var o=n[r],i=o.indexOf(":"),s=SO(o.slice(0,i)).toLowerCase(),a=SO(o.slice(i+1));typeof t[s]>"u"?t[s]=a:y0t(t[s])?t[s].push(a):t[s]=[t[s],a]}return t};const x0t=Ie(b0t),w0t=e=>function(n,r){const o=n==="onError";let i=r;for(var s=arguments.length,a=new Array(s>2?s-2:0),c=2;c<s;c++)a[c-2]=arguments[c];for(let u=0;u<e[n].length;u++){const d=e[n][u];if(i=d(i,...a),o&&!i)break}return i};function C0t(){const e=Object.create(null);let t=0;function n(o){const i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(const i in e)e[i](o)}return{publish:r,subscribe:n}}const _0t=["request","response","progress","error","abort"],YK=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function WSe(e,t){const n=[],r=YK.reduce((i,s)=>(i[s]=i[s]||[],i),{processOptions:[m0t],validateOptions:[v0t]});function o(i){const s=(v,g,y)=>{let x=v,b=g;if(!x)try{b=c("onResponse",g,y)}catch(w){b=null,x=w}x=x&&c("onError",x,y),x?a.error.publish(x):b&&a.response.publish(b)},a=_0t.reduce((v,g)=>(v[g]=C0t(),v),{}),c=w0t(r),u=c("processOptions",i);c("validateOptions",u);const d={options:u,channels:a,applyMiddleware:c};let f;const p=a.request.subscribe(v=>{f=t(v,(g,y)=>s(g,y,v))});a.abort.subscribe(()=>{p(),f&&f.abort()});const m=c("onReturn",a,d);return m===a&&a.request.publish(d),m}return o.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return YK.forEach(a=>{s[a]&&r[a].push(s[a])}),n.push(s),o},o.clone=()=>WSe(n,t),e.forEach(o.use),o}var YSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},wa=(e,t,n)=>(YSe(e,t,"read from private field"),n?n.call(e):t.get(e)),$h=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Id=(e,t,n,r)=>(YSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),uS,dS,Eg,fS,Fd,hS,pS;class qSe{constructor(){this.readyState=0,this.responseType="",$h(this,uS,void 0),$h(this,dS,void 0),$h(this,Eg,void 0),$h(this,fS,{}),$h(this,Fd,void 0),$h(this,hS,{}),$h(this,pS,void 0)}open(t,n,r){Id(this,uS,t),Id(this,dS,n),Id(this,Eg,""),this.readyState=1,this.onreadystatechange(),Id(this,Fd,void 0)}abort(){wa(this,Fd)&&wa(this,Fd).abort()}getAllResponseHeaders(){return wa(this,Eg)}setRequestHeader(t,n){wa(this,fS)[t]=n}setInit(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Id(this,hS,t),Id(this,pS,n)}send(t){const n=this.responseType!=="arraybuffer",r={...wa(this,hS),method:wa(this,uS),headers:wa(this,fS),body:t};typeof AbortController=="function"&&wa(this,pS)&&(Id(this,Fd,new AbortController),typeof EventTarget<"u"&&wa(this,Fd).signal instanceof EventTarget&&(r.signal=wa(this,Fd).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(wa(this,dS),r).then(o=>(o.headers.forEach((i,s)=>{Id(this,Eg,wa(this,Eg)+"".concat(s,": ").concat(i,`\r
`))}),this.status=o.status,this.statusText=o.statusText,this.readyState=3,n?o.text():o.arrayBuffer())).then(o=>{typeof o=="string"?this.responseText=o:this.response=o,this.readyState=4,this.onreadystatechange()}).catch(o=>{var i;if(o.name==="AbortError"){this.onabort();return}(i=this.onerror)==null||i.call(this,o)})}}uS=new WeakMap;dS=new WeakMap;Eg=new WeakMap;fS=new WeakMap;Fd=new WeakMap;hS=new WeakMap;pS=new WeakMap;const lM=typeof XMLHttpRequest=="function"?"xhr":"fetch",S0t=lM==="xhr"?XMLHttpRequest:qSe,E0t=(e,t)=>{var n;const r=e.options,o=e.applyMiddleware("finalizeOptions",r),i={},s=e.applyMiddleware("interceptRequest",void 0,{adapter:lM,context:e});if(s){const C=setTimeout(t,0,null,s);return{abort:()=>clearTimeout(C)}}let a=new S0t;a instanceof qSe&&typeof o.fetch=="object"&&a.setInit(o.fetch,(n=o.useAbortSignal)!=null?n:!0);const c=o.headers,u=o.timeout;let d=!1,f=!1,p=!1;if(a.onerror=C=>{x(new Error("Request error while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.ontimeout=C=>{x(new Error("Request timeout while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.onabort=()=>{y(!0),d=!0},a.onreadystatechange=()=>{g(),!(d||a.readyState!==4)&&a.status!==0&&w()},a.open(o.method,o.url,!0),a.withCredentials=!!o.withCredentials,c&&a.setRequestHeader)for(const C in c)c.hasOwnProperty(C)&&a.setRequestHeader(C,c[C]);return o.rawBody&&(a.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:o,adapter:lM,request:a,context:e}),a.send(o.body||null),u&&(i.connect=setTimeout(()=>v("ETIMEDOUT"),u.connect)),{abort:m};function m(){d=!0,a&&a.abort()}function v(C){p=!0,a.abort();const _=new Error(C==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(o.url):"Connection timed out on request to ".concat(o.url));_.code=C,e.channels.error.publish(_)}function g(){u&&(y(),i.socket=setTimeout(()=>v("ESOCKETTIMEDOUT"),u.socket))}function y(C){(C||d||a.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function x(C){if(f)return;y(!0),f=!0,a=null;const _=C||new Error("Network error while attempting to reach ".concat(o.url));_.isNetworkError=!0,_.request=o,t(_)}function b(){return{body:a.response||(a.responseType===""||a.responseType==="text"?a.responseText:""),url:o.url,method:o.method,headers:x0t(a.getAllResponseHeaders()),statusCode:a.status,statusMessage:a.statusText}}function w(){if(!(d||f||p)){if(a.status===0){x(new Error("Unknown XHR error"));return}y(),f=!0,t(null,b())}}},k0t=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E0t;return WSe(e,t)};var qK={exports:{}};function j0t(e){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=o,n.enabled=s,n.humanize=jT(),n.destroy=u,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let f=0;for(let p=0;p<d.length;p++)f=(f<<5)-f+d.charCodeAt(p),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(d){let f,p=null,m,v;function g(...y){if(!g.enabled)return;const x=g,b=Number(new Date),w=b-(f||b);x.diff=w,x.prev=f,x.curr=b,f=b,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let C=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(S,E)=>{if(S==="%%")return"%";C++;const j=n.formatters[E];if(typeof j=="function"){const k=y[C];S=j.call(x,k),y.splice(C,1),C--}return S}),n.formatArgs.call(x,y),(x.log||n.log).apply(x,y)}return g.namespace=d,g.useColors=n.useColors(),g.color=n.selectColor(d),g.extend=r,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,v=n.enabled(d)),v),set:y=>{p=y}}),typeof n.init=="function"&&n.init(g),g}function r(d,f){const p=n(this.namespace+(typeof f>"u"?":":f)+d);return p.log=this.log,p}function o(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let f;const p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length;for(f=0;f<m;f++)p[f]&&(d=p[f].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function i(){const d=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let f,p;for(f=0,p=n.skips.length;f<p;f++)if(n.skips[f].test(d))return!1;for(f=0,p=n.names.length;f<p;f++)if(n.names[f].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var T0t=j0t;(function(e,t){t.formatArgs=r,t.save=o,t.load=i,t.useColors=n,t.storage=s(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let d=0,f=0;c[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(f=d))}),c.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function o(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function i(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function s(){try{return localStorage}catch{}}e.exports=T0t(t);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(qK,qK.exports);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function GK(e){return Object.prototype.toString.call(e)==="[object Object]"}function A0t(e){var t,n;return GK(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(GK(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}const D0t=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e),I0t=["boolean","string","number"];function O0t(){return{processOptions:e=>{const t=e.body;return!t||!(!(typeof t.pipe=="function")&&!D0t(t)&&(I0t.indexOf(typeof t)!==-1||Array.isArray(t)||A0t(t)))?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function P0t(e){return{onResponse:n=>{const r=n.headers["content-type"]||"",o=e&&e.force||r.indexOf("application/json")!==-1;return!n.body||!r||!o?n:Object.assign({},n,{body:t(n.body)})},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function t(n){try{return JSON.parse(n)}catch(r){throw r.message="Failed to parsed response body as JSON: ".concat(r.message),r}}}let $y={};typeof globalThis<"u"?$y=globalThis:typeof window<"u"?$y=window:typeof global<"u"?$y=global:typeof self<"u"&&($y=self);var R0t=$y;function $0t(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||R0t.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new t(o=>(n.error.subscribe(i=>o.error(i)),n.progress.subscribe(i=>o.next(Object.assign({type:"progress"},i))),n.response.subscribe(i=>{o.next(Object.assign({type:"response"},i)),o.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function M0t(){return{onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,n=e.context;"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=r("upload")),"onprogress"in t&&(t.onprogress=r("download"));function r(o){return i=>{const s=i.lengthComputable?i.loaded/i.total*100:-1;n.channels.progress.publish({stage:o,percent:s,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}}}}class F0t{constructor(t){this.__CANCEL__=!0,this.message=t}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const KK=class{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n=null;this.promise=new Promise(r=>{n=r}),t(r=>{this.reason||(this.reason=new F0t(r),n(this.reason))})}};KK.source=()=>{let e;return{token:new KK(n=>{e=n}),cancel:e}};var GSe=(e,t,n)=>n.method!=="GET"&&n.method!=="HEAD"?!1:e.isNetworkError||!1;const L0t=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";var B0t=e=>{const t=e.maxRetries||5,n=e.retryDelay||N0t,r=e.shouldRetry;return{onError:(o,i)=>{const s=i.options,a=s.maxRetries||t,c=s.shouldRetry||r,u=s.attemptNumber||0;if(L0t(s.body)||!c(o,u,s)||u>=a)return o;const d=Object.assign({},i,{options:Object.assign({},s,{attemptNumber:u+1})});return setTimeout(()=>i.channels.request.publish(d),n(u)),null}}};function N0t(e){return 100*Math.pow(2,e)+Math.random()*100}const C9=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return B0t({shouldRetry:GSe,...e})};C9.shouldRetry=GSe;const EO=5;class z0t extends Error{constructor(t){const n=KSe(t);super(n.message),this.statusCode=400,Object.assign(this,n)}}class V0t extends Error{constructor(t){const n=KSe(t);super(n.message),this.statusCode=500,Object.assign(this,n)}}function KSe(e){const t=e.body,n={response:e,statusCode:e.statusCode,responseBody:W0t(t,e),message:"",details:void 0};if(t.error&&t.message)return n.message="".concat(t.error," - ").concat(t.message),n;if(H0t(t)){const r=t.error.items||[],o=r.slice(0,EO).map(s=>{var a;return(a=s.error)==null?void 0:a.description}).filter(Boolean);let i=o.length?`:
- `.concat(o.join(`
- `)):"";return r.length>EO&&(i+=`
...and `.concat(r.length-EO," more")),n.message="".concat(t.error.description).concat(i),n.details=t.error,n}return t.error&&t.error.description?(n.message=t.error.description,n.details=t.error,n):(n.message=t.error||t.message||U0t(e),n)}function H0t(e){return ZK(e)&&ZK(e.error)&&e.error.type==="mutationError"&&typeof e.error.description=="string"}function ZK(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function U0t(e){const t=e.statusMessage?" ".concat(e.statusMessage):"";return"".concat(e.method,"-request to ").concat(e.url," resulted in HTTP ").concat(e.statusCode).concat(t)}function W0t(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}const Y0t={onResponse:e=>{if(e.statusCode>=500)throw new V0t(e);if(e.statusCode>=400)throw new z0t(e);return e}},q0t={onResponse:e=>{const t=e.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(r=>console.warn(r)),e}};function XK(e,t){let{maxRetries:n=5,retryDelay:r}=t;const o=k0t([n>0?C9({retryDelay:r,maxRetries:n,shouldRetry:G0t}):{},...e,q0t,O0t(),P0t(),M0t(),Y0t,$0t({implementation:_t})]);function i(s){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:o)({maxRedirects:0,...s})}return i.defaultRequester=o,i}function G0t(e,t,n){const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),s=e.response&&(e.response.statusCode===429||e.response.statusCode===502||e.response.statusCode===503);return(r||i)&&s?!0:C9.shouldRetry(e,t,n)}function ZSe(e){if(typeof e=="string"||Array.isArray(e))return{id:e};if(typeof e=="object"&&e!==null&&"query"in e&&typeof e.query=="string")return"params"in e&&typeof e.params=="object"&&e.params!==null?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(t))}const QK=["image","file"],JK=["before","after","replace"],XSe=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},K0t=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},Z0t=e=>{if(QK.indexOf(e)===-1)throw new Error("Invalid asset type: ".concat(e,". Must be one of ").concat(QK.join(", ")))},yb=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error("".concat(e,"() takes an object of properties"))},QSe=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error("".concat(e,'(): "').concat(t,'" is not a valid document ID'))},gk=(e,t)=>{if(!t._id)throw new Error("".concat(e,'() requires that the document contains an ID ("_id" property)'));QSe(e,t._id)},X0t=(e,t,n)=>{const r="insert(at, selector, items)";if(JK.indexOf(e)===-1){const o=JK.map(i=>'"'.concat(i,'"')).join(", ");throw new Error("".concat(r,' takes an "at"-argument which is one of: ').concat(o))}if(typeof t!="string")throw new Error("".concat(r,' takes a "selector"-argument which must be a string'));if(!Array.isArray(n))throw new Error("".concat(r,' takes an "items"-argument which must be an array'))},JSe=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},eEe=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e};var tEe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Cv=(e,t,n)=>(tEe(e,t,"read from private field"),n?n.call(e):t.get(e)),nEe=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},rEe=(e,t,n,r)=>(tEe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),kg,jg;class oEe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.selection=t,this.operations=n}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return yb("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,n,r){return X0t(t,n,r),this._assign("insert",{[t]:n,items:r})}append(t,n){return this.insert("after","".concat(t,"[-1]"),n)}prepend(t,n){return this.insert("before","".concat(t,"[0]"),n)}splice(t,n,r,o){const i=typeof r>"u"||r===-1,s=n<0?n-1:n,a=i?-1:Math.max(0,n+r),c=s<0&&a>=0?"":a,u="".concat(t,"[").concat(s,":").concat(c,"]");return this.insert("replace",u,o||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...ZSe(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return yb(t,n),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},r&&this.operations[t]||{},n)}),this}_set(t,n){return this._assign(t,n,!1)}}const Q0t=class iEe extends oEe{constructor(t,n,r){super(t,n),nEe(this,kg,void 0),rEe(this,kg,r)}clone(){return new iEe(this.selection,{...this.operations},Cv(this,kg))}commit(t){if(!Cv(this,kg))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return Cv(this,kg).mutate({patch:this.serialize()},r)}};kg=new WeakMap;let bb=Q0t;const J0t=class sEe extends oEe{constructor(t,n,r){super(t,n),nEe(this,jg,void 0),rEe(this,jg,r)}clone(){return new sEe(this.selection,{...this.operations},Cv(this,jg))}commit(t){if(!Cv(this,jg))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return Cv(this,jg).mutate({patch:this.serialize()},r)}};jg=new WeakMap;let xb=J0t;var aEe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},rf=(e,t,n)=>(aEe(e,t,"read from private field"),n?n.call(e):t.get(e)),lEe=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},cEe=(e,t,n,r)=>(aEe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Zh,Xh;const uEe={returnDocuments:!1};class dEe{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;this.operations=t,this.trxId=n}create(t){return yb("create",t),this._add({create:t})}createIfNotExists(t){const n="createIfNotExists";return yb(n,t),gk(n,t),this._add({[n]:t})}createOrReplace(t){const n="createOrReplace";return yb(n,t),gk(n,t),this._add({[n]:t})}delete(t){return QSe("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}const e1t=class fEe extends dEe{constructor(t,n,r){super(t,r),lEe(this,Zh,void 0),cEe(this,Zh,n)}clone(){return new fEe([...this.operations],rf(this,Zh),this.trxId)}commit(t){if(!rf(this,Zh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return rf(this,Zh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},uEe,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof xb)return this._add({patch:t.serialize()});if(r){const i=n(new xb(t,{},rf(this,Zh)));if(!(i instanceof xb))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Zh=new WeakMap;let hEe=e1t;const t1t=class pEe extends dEe{constructor(t,n,r){super(t,r),lEe(this,Xh,void 0),cEe(this,Xh,n)}clone(){return new pEe([...this.operations],rf(this,Xh),this.trxId)}commit(t){if(!rf(this,Xh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return rf(this,Xh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},uEe,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof bb)return this._add({patch:t.serialize()});if(r){const i=n(new bb(t,{},rf(this,Xh)));if(!(i instanceof bb))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Xh=new WeakMap;let mEe=t1t;const n1t="https://www.sanity.io/help/";function _9(e){return n1t+e}function r1t(e){let t=!1,n;return function(){return t||(n=e(...arguments),t=!0),n}}const HT=e=>r1t(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return console.warn(e.join(" "),...n)}),o1t=HT(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),i1t=HT(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),s1t=HT(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(_9("js-client-browser-token")," for more information and how to hide this warning.")]),a1t=HT(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(_9("js-client-api-version"))]),l1t="apicdn.sanity.io",vk={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},c1t=["localhost","127.0.0.1","0.0.0.0"],u1t=e=>c1t.indexOf(e)!==-1,d1t=function(t){if(t==="1"||t==="X")return;const n=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&n instanceof Date&&n.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},gEe=function(t){switch(t){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},vEe=(e,t)=>{const n=Object.assign({},t,e);n.apiVersion||a1t();const r=Object.assign({},vk,n),o=r.useProjectHostname;if(typeof Promise>"u"){const f=_9("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(f))}if(o&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(typeof r.perspective=="string"&&gEe(r.perspective),"encodeSourceMapAtPath"in r||"encodeSourceMap"in r||"studioUrl"in r||"logger"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");if("stega"in r&&r.stega!==void 0&&r.stega!==!1)throw new Error("It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'createClient' to 'false'.");const i=typeof window<"u"&&window.location&&window.location.hostname,s=i&&u1t(window.location.hostname);i&&s&&r.token&&r.ignoreBrowserTokenWarning!==!0?s1t():typeof r.useCdn>"u"&&o1t(),o&&K0t(r.projectId),r.dataset&&XSe(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?eEe(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion="".concat(r.apiVersion).replace(/^v/,""),r.isDefaultApi=r.apiHost===vk.apiHost,r.useCdn=r.useCdn!==!1&&!r.withCredentials,d1t(r.apiVersion);const a=r.apiHost.split("://",2),c=a[0],u=a[1],d=r.isDefaultApi?l1t:u;return r.useProjectHostname?(r.url="".concat(c,"://").concat(r.projectId,".").concat(u,"/v").concat(r.apiVersion),r.cdnUrl="".concat(c,"://").concat(r.projectId,".").concat(d,"/v").concat(r.apiVersion)):(r.url="".concat(r.apiHost,"/v").concat(r.apiVersion),r.cdnUrl=r.url),r},f1t="X-Sanity-Project-ID";function h1t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={},r=t.token||e.token;r&&(n.Authorization="Bearer ".concat(r)),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(n[f1t]=e.projectId);const o=!!(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),i=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:t.proxy||e.proxy,json:!0,withCredentials:o,fetch:typeof t.fetch=="object"&&typeof e.fetch=="object"?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}const yEe=e=>{let{query:t,params:n={},options:r={}}=e;const o=new URLSearchParams,{tag:i,...s}=r;i&&o.append("tag",i),o.append("query",t);for(const[a,c]of Object.entries(n))o.append("$".concat(a),JSON.stringify(c));for(const[a,c]of Object.entries(s))c&&o.append(a,"".concat(c));return"?".concat(o)},p1t=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,m1t=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:e.dryRun,returnIds:!0,returnDocuments:p1t(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}},S9=e=>e.type==="response",g1t=e=>e.body,v1t=(e,t)=>e.reduce((n,r)=>(n[t(r)]=r,n),Object.create(null)),y1t=11264;function bEe(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=o.filterResponse===!1?d=>d:d=>d.result,{cache:s,next:a,...c}={useAbortSignal:typeof o.signal<"u",...o},u=typeof s<"u"||typeof a<"u"?{...c,fetch:{cache:s,next:a}}:c;return Ww(e,t,"query",{query:n,params:r},u).pipe(ue(i))}function xEe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:X0(e,"doc",n),json:!0,tag:r.tag};return Yw(e,t,o).pipe(bt(S9),ue(i=>i.body.documents&&i.body.documents[0]))}function wEe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:X0(e,"doc",n.join(",")),json:!0,tag:r.tag};return Yw(e,t,o).pipe(bt(S9),ue(i=>{const s=v1t(i.body.documents||[],a=>a._id);return n.map(a=>s[a]||null)}))}function CEe(e,t,n,r){return gk("createIfNotExists",n),UT(e,t,n,"createIfNotExists",r)}function _Ee(e,t,n,r){return gk("createOrReplace",n),UT(e,t,n,"createOrReplace",r)}function SEe(e,t,n,r){return Ww(e,t,"mutate",{mutations:[{delete:ZSe(n)}]},r)}function EEe(e,t,n,r){let o;n instanceof xb||n instanceof bb?o={patch:n.serialize()}:n instanceof hEe||n instanceof mEe?o=n.serialize():o=n;const i=Array.isArray(o)?o:[o],s=r&&r.transactionId||void 0;return Ww(e,t,"mutate",{mutations:i,transactionId:s},r)}function Ww(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=n==="mutate",s=n==="query",a=i?"":yEe(r),c=!i&&a.length<y1t,u=c?a:"",d=o.returnFirst,{timeout:f,token:p,tag:m,headers:v}=o,g=X0(e,n,u),y={method:c?"GET":"POST",uri:g,json:!0,body:c?void 0:r,query:i&&m1t(o),timeout:f,headers:v,token:p,tag:m,perspective:o.perspective,resultSourceMap:o.resultSourceMap,canUseCdn:s,signal:o.signal,fetch:o.fetch,useAbortSignal:o.useAbortSignal};return Yw(e,t,y).pipe(bt(S9),ue(g1t),ue(x=>{if(!i)return x;const b=x.results||[];if(o.returnDocuments)return d?b[0]&&b[0].document:b.map(_=>_.document);const w=d?"documentId":"documentIds",C=d?b[0]&&b[0].id:b.map(_=>_.id);return{transactionId:x.transactionId,results:b,[w]:C}}))}function UT(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i={[r]:n},s=Object.assign({returnFirst:!0,returnDocuments:!0},o);return Ww(e,t,"mutate",{mutations:[i]},s)}function Yw(e,t,n){var r;const o=n.url||n.uri,i=e.config(),s=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/")===0:n.canUseCdn;let a=i.useCdn&&s;const c=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(c&&n.tag!==null&&(n.query={tag:eEe(c),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/query/")===0){const f=(r=n.resultSourceMap)!=null?r:i.resultSourceMap;f!==void 0&&f!==!1&&(n.query={resultSourceMap:f,...n.query});const p=n.perspective||i.perspective;typeof p=="string"&&p!=="raw"&&(gEe(p),n.query={perspective:p,...n.query},p==="previewDrafts"&&a&&(a=!1,i1t()))}const u=h1t(i,Object.assign({},n,{url:E9(e,o,a)})),d=new _t(f=>t(u,i.requester).subscribe(f));return n.signal?d.pipe(b1t(n.signal)):d}function Nl(e,t,n){return Yw(e,t,n).pipe(bt(o=>o.type==="response"),ue(o=>o.body))}function X0(e,t,n){const r=e.config(),o=JSe(r),i="/".concat(t,"/").concat(o),s=n?"".concat(i,"/").concat(n):i;return"/data".concat(s).replace(/\/($|\?)/,"$1")}function E9(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:r,cdnUrl:o}=e.config(),i=n?o:r;return"".concat(i,"/").concat(t.replace(/^\//,""))}function b1t(e){return t=>new _t(n=>{const r=()=>n.error(w1t(e));if(e&&e.aborted){r();return}const o=t.subscribe(n);return e.addEventListener("abort",r),()=>{e.removeEventListener("abort",r),o.unsubscribe()}})}const x1t=!!globalThis.DOMException;function w1t(e){var t,n;if(x1t)return new DOMException((t=e==null?void 0:e.reason)!=null?t:"The operation was aborted.","AbortError");const r=new Error((n=e==null?void 0:e.reason)!=null?n:"The operation was aborted.");return r.name="AbortError",r}var kEe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},yk=(e,t,n)=>(kEe(e,t,"read from private field"),n?n.call(e):t.get(e)),bk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},xk=(e,t,n,r)=>(kEe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),mS,gS,vS,yS;class C1t{constructor(t,n){bk(this,mS,void 0),bk(this,gS,void 0),xk(this,mS,t),xk(this,gS,n)}upload(t,n,r){return jEe(yk(this,mS),yk(this,gS),t,n,r)}}mS=new WeakMap;gS=new WeakMap;class _1t{constructor(t,n){bk(this,vS,void 0),bk(this,yS,void 0),xk(this,vS,t),xk(this,yS,n)}upload(t,n,r){const o=jEe(yk(this,vS),yk(this,yS),t,n,r);return Co(o.pipe(bt(i=>i.type==="response"),ue(i=>i.body.document)))}}vS=new WeakMap;yS=new WeakMap;function jEe(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};Z0t(n);let i=o.extract||void 0;i&&!i.length&&(i=["none"]);const s=JSe(e.config()),a=n==="image"?"images":"files",c=S1t(o,r),{tag:u,label:d,title:f,description:p,creditLine:m,filename:v,source:g}=c,y={label:d,title:f,description:p,filename:v,meta:i,creditLine:m};return g&&(y.sourceId=g.id,y.sourceName=g.name,y.sourceUrl=g.url),Yw(e,t,{tag:u,method:"POST",timeout:c.timeout||0,uri:"/assets/".concat(a,"/").concat(s),headers:c.contentType?{"Content-Type":c.contentType}:{},query:y,body:r})}function S1t(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}var E1t=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((n,r)=>(n[r]=typeof e[r]>"u"?t[r]:e[r],n),{});const k1t=(e,t)=>t.reduce((n,r)=>(typeof e[r]>"u"||(n[r]=e[r]),n),{}),j1t=16e3-1200,T1t=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],A1t={includeResult:!0};function TEe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:r,token:o,withCredentials:i,requestTagPrefix:s}=this.config(),a=n.tag&&s?[s,n.tag].join("."):n.tag,c={...E1t(n,A1t),tag:a},u=k1t(c,T1t),d=yEe({query:e,params:t,options:{tag:a,...u}}),f="".concat(r).concat(X0(this,"listen",d));if(f.length>j1t)return new _t(g=>g.error(new Error("Query too large for listener")));const p=c.events?c.events:["mutation"],m=p.indexOf("reconnect")!==-1,v={};return(o||i)&&(v.withCredentials=!0),o&&(v.headers={Authorization:"Bearer ".concat(o)}),new _t(g=>{let y;k().then(D=>{y=D}).catch(D=>{g.error(D),A()});let x,b=!1;function w(){b||(j(),!b&&y.readyState===y.CLOSED&&(E(),clearTimeout(x),x=setTimeout(T,100)))}function C(D){g.error(D1t(D))}function _(D){const I=AEe(D);return I instanceof Error?g.error(I):g.next(I)}function S(){b=!0,E(),g.complete()}function E(){y&&(y.removeEventListener("error",w),y.removeEventListener("channelError",C),y.removeEventListener("disconnect",S),p.forEach(D=>y.removeEventListener(D,_)),y.close())}function j(){m&&g.next({type:"reconnect"})}async function k(){const{default:D}=await w9(()=>import("./browser-f9727f64.js").then(O=>O.b),[]),I=new D(f,v);return I.addEventListener("error",w),I.addEventListener("channelError",C),I.addEventListener("disconnect",S),p.forEach(O=>I.addEventListener(O,_)),I}function T(){k().then(D=>{y=D}).catch(D=>{g.error(D),A()})}function A(){b=!0,E()}return A})}function AEe(e){try{const t=e.data&&JSON.parse(e.data)||{};return Object.assign({type:e.type},t)}catch(t){return t}}function D1t(e){if(e instanceof Error)return e;const t=AEe(e);return t instanceof Error?t:new Error(I1t(t))}function I1t(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}var DEe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},wi=(e,t,n)=>(DEe(e,t,"read from private field"),n?n.call(e):t.get(e)),wk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ck=(e,t,n,r)=>(DEe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Qh,Jh,ep,tp;class O1t{constructor(t,n){wk(this,Qh,void 0),wk(this,Jh,void 0),Ck(this,Qh,t),Ck(this,Jh,n)}create(t,n){return _v(wi(this,Qh),wi(this,Jh),"PUT",t,n)}edit(t,n){return _v(wi(this,Qh),wi(this,Jh),"PATCH",t,n)}delete(t){return _v(wi(this,Qh),wi(this,Jh),"DELETE",t)}list(){return Nl(wi(this,Qh),wi(this,Jh),{uri:"/datasets",tag:null})}}Qh=new WeakMap;Jh=new WeakMap;class P1t{constructor(t,n){wk(this,ep,void 0),wk(this,tp,void 0),Ck(this,ep,t),Ck(this,tp,n)}create(t,n){return Co(_v(wi(this,ep),wi(this,tp),"PUT",t,n))}edit(t,n){return Co(_v(wi(this,ep),wi(this,tp),"PATCH",t,n))}delete(t){return Co(_v(wi(this,ep),wi(this,tp),"DELETE",t))}list(){return Co(Nl(wi(this,ep),wi(this,tp),{uri:"/datasets",tag:null}))}}ep=new WeakMap;tp=new WeakMap;function _v(e,t,n,r,o){return XSe(r),Nl(e,t,{method:n,uri:"/datasets/".concat(r),body:o,tag:null})}var IEe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},of=(e,t,n)=>(IEe(e,t,"read from private field"),n?n.call(e):t.get(e)),_k=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Sk=(e,t,n,r)=>(IEe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),My,Fy,Ly,By;class R1t{constructor(t,n){_k(this,My,void 0),_k(this,Fy,void 0),Sk(this,My,t),Sk(this,Fy,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Nl(of(this,My),of(this,Fy),{uri:n})}getById(t){return Nl(of(this,My),of(this,Fy),{uri:"/projects/".concat(t)})}}My=new WeakMap;Fy=new WeakMap;class $1t{constructor(t,n){_k(this,Ly,void 0),_k(this,By,void 0),Sk(this,Ly,t),Sk(this,By,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Co(Nl(of(this,Ly),of(this,By),{uri:n}))}getById(t){return Co(Nl(of(this,Ly),of(this,By),{uri:"/projects/".concat(t)}))}}Ly=new WeakMap;By=new WeakMap;var OEe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Ek=(e,t,n)=>(OEe(e,t,"read from private field"),n?n.call(e):t.get(e)),kk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},jk=(e,t,n,r)=>(OEe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),bS,xS,wS,CS;class M1t{constructor(t,n){kk(this,bS,void 0),kk(this,xS,void 0),jk(this,bS,t),jk(this,xS,n)}getById(t){return Nl(Ek(this,bS),Ek(this,xS),{uri:"/users/".concat(t)})}}bS=new WeakMap;xS=new WeakMap;class F1t{constructor(t,n){kk(this,wS,void 0),kk(this,CS,void 0),jk(this,wS,t),jk(this,CS,n)}getById(t){return Co(Nl(Ek(this,wS),Ek(this,CS),{uri:"/users/".concat(t)}))}}wS=new WeakMap;CS=new WeakMap;var PEe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},It=(e,t,n)=>(PEe(e,t,"read from private field"),n?n.call(e):t.get(e)),Tk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ak=(e,t,n,r)=>(PEe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),np,Do,rp,wo;const L1t=class cM{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vk;Tk(this,np,void 0),Tk(this,Do,void 0),this.listen=TEe,this.config(n),Ak(this,Do,t),this.assets=new C1t(this,It(this,Do)),this.datasets=new O1t(this,It(this,Do)),this.projects=new R1t(this,It(this,Do)),this.users=new M1t(this,It(this,Do))}clone(){return new cM(It(this,Do),this.config())}config(t){if(t===void 0)return{...It(this,np)};if(It(this,np)&&It(this,np).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return Ak(this,np,vEe(t,It(this,np)||{})),this}withConfig(t){return new cM(It(this,Do),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return bEe(this,It(this,Do),t,n,r)}getDocument(t,n){return xEe(this,It(this,Do),t,n)}getDocuments(t,n){return wEe(this,It(this,Do),t,n)}create(t,n){return UT(this,It(this,Do),t,"create",n)}createIfNotExists(t,n){return CEe(this,It(this,Do),t,n)}createOrReplace(t,n){return _Ee(this,It(this,Do),t,n)}delete(t,n){return SEe(this,It(this,Do),t,n)}mutate(t,n){return EEe(this,It(this,Do),t,n)}patch(t,n){return new bb(t,n,this)}transaction(t){return new mEe(t,this)}request(t){return Nl(this,It(this,Do),t)}getUrl(t,n){return E9(this,t,n)}getDataUrl(t,n){return X0(this,t,n)}};np=new WeakMap;Do=new WeakMap;let B1t=L1t;const N1t=class uM{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vk;Tk(this,rp,void 0),Tk(this,wo,void 0),this.listen=TEe,this.config(n),Ak(this,wo,t),this.assets=new _1t(this,It(this,wo)),this.datasets=new P1t(this,It(this,wo)),this.projects=new $1t(this,It(this,wo)),this.users=new F1t(this,It(this,wo)),this.observable=new B1t(t,n)}clone(){return new uM(It(this,wo),this.config())}config(t){if(t===void 0)return{...It(this,rp)};if(It(this,rp)&&It(this,rp).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),Ak(this,rp,vEe(t,It(this,rp)||{})),this}withConfig(t){return new uM(It(this,wo),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Co(bEe(this,It(this,wo),t,n,r))}getDocument(t,n){return Co(xEe(this,It(this,wo),t,n))}getDocuments(t,n){return Co(wEe(this,It(this,wo),t,n))}create(t,n){return Co(UT(this,It(this,wo),t,"create",n))}createIfNotExists(t,n){return Co(CEe(this,It(this,wo),t,n))}createOrReplace(t,n){return Co(_Ee(this,It(this,wo),t,n))}delete(t,n){return Co(SEe(this,It(this,wo),t,n))}mutate(t,n){return Co(EEe(this,It(this,wo),t,n))}patch(t,n){return new xb(t,n,this)}transaction(t){return new hEe(t,this)}request(t){return Co(Nl(this,It(this,wo),t))}dataRequest(t,n,r){return Co(Ww(this,It(this,wo),t,n,r))}getUrl(t,n){return E9(this,t,n)}getDataUrl(t,n){return X0(this,t,n)}};rp=new WeakMap;wo=new WeakMap;let z1t=N1t;function V1t(e,t){return{requester:XK(e,{}).defaultRequester,createClient:i=>new t(XK(e,{maxRetries:i.maxRetries,retryDelay:i.retryDelay}),i)}}var H1t=[];const U1t=V1t(H1t,z1t),REe=U1t.createClient;var W1t=ih,Y1t=Jr,q1t=el,G1t="[object String]";function K1t(e){return typeof e=="string"||!Y1t(e)&&q1t(e)&&W1t(e)==G1t}var Z1t=K1t;const WT=Ie(Z1t);function X1t(e,t,n,r){var o=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}var Q1t=X1t;function J1t(e){return function(t){return e==null?void 0:e[t]}}var eyt=J1t,tyt=eyt,nyt={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ryt=tyt(nyt),oyt=ryt,iyt=oyt,syt=Gc,ayt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lyt="\\u0300-\\u036f",cyt="\\ufe20-\\ufe2f",uyt="\\u20d0-\\u20ff",dyt=lyt+cyt+uyt,fyt="["+dyt+"]",hyt=RegExp(fyt,"g");function pyt(e){return e=syt(e),e&&e.replace(ayt,iyt).replace(hyt,"")}var $Ee=pyt;const eZ=Ie($Ee);var myt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function gyt(e){return e.match(myt)||[]}var vyt=gyt,yyt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function byt(e){return yyt.test(e)}var xyt=byt,MEe="\\ud800-\\udfff",wyt="\\u0300-\\u036f",Cyt="\\ufe20-\\ufe2f",_yt="\\u20d0-\\u20ff",Syt=wyt+Cyt+_yt,FEe="\\u2700-\\u27bf",LEe="a-z\\xdf-\\xf6\\xf8-\\xff",Eyt="\\xac\\xb1\\xd7\\xf7",kyt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",jyt="\\u2000-\\u206f",Tyt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",BEe="A-Z\\xc0-\\xd6\\xd8-\\xde",Ayt="\\ufe0e\\ufe0f",NEe=Eyt+kyt+jyt+Tyt,zEe="['’]",tZ="["+NEe+"]",Dyt="["+Syt+"]",VEe="\\d+",Iyt="["+FEe+"]",HEe="["+LEe+"]",UEe="[^"+MEe+NEe+VEe+FEe+LEe+BEe+"]",Oyt="\\ud83c[\\udffb-\\udfff]",Pyt="(?:"+Dyt+"|"+Oyt+")",Ryt="[^"+MEe+"]",WEe="(?:\\ud83c[\\udde6-\\uddff]){2}",YEe="[\\ud800-\\udbff][\\udc00-\\udfff]",Tg="["+BEe+"]",$yt="\\u200d",nZ="(?:"+HEe+"|"+UEe+")",Myt="(?:"+Tg+"|"+UEe+")",rZ="(?:"+zEe+"(?:d|ll|m|re|s|t|ve))?",oZ="(?:"+zEe+"(?:D|LL|M|RE|S|T|VE))?",qEe=Pyt+"?",GEe="["+Ayt+"]?",Fyt="(?:"+$yt+"(?:"+[Ryt,WEe,YEe].join("|")+")"+GEe+qEe+")*",Lyt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Byt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nyt=GEe+qEe+Fyt,zyt="(?:"+[Iyt,WEe,YEe].join("|")+")"+Nyt,Vyt=RegExp([Tg+"?"+HEe+"+"+rZ+"(?="+[tZ,Tg,"$"].join("|")+")",Myt+"+"+oZ+"(?="+[tZ,Tg+nZ,"$"].join("|")+")",Tg+"?"+nZ+"+"+rZ,Tg+"+"+oZ,Byt,Lyt,VEe,zyt].join("|"),"g");function Hyt(e){return e.match(Vyt)||[]}var Uyt=Hyt,Wyt=vyt,Yyt=xyt,qyt=Gc,Gyt=Uyt;function Kyt(e,t,n){return e=qyt(e),t=n?void 0:t,t===void 0?Yyt(e)?Gyt(e):Wyt(e):e.match(t)||[]}var KEe=Kyt;const ZEe=Ie(KEe);var Zyt=Q1t,Xyt=$Ee,Qyt=KEe,Jyt="['’]",ebt=RegExp(Jyt,"g");function tbt(e){return function(t){return Zyt(Qyt(Xyt(t).replace(ebt,"")),e,"")}}var k9=tbt;function nbt(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var XEe=nbt,rbt=XEe;function obt(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:rbt(e,t,n)}var QEe=obt,ibt="\\ud800-\\udfff",sbt="\\u0300-\\u036f",abt="\\ufe20-\\ufe2f",lbt="\\u20d0-\\u20ff",cbt=sbt+abt+lbt,ubt="\\ufe0e\\ufe0f",dbt="\\u200d",fbt=RegExp("["+dbt+ibt+cbt+ubt+"]");function hbt(e){return fbt.test(e)}var JEe=hbt;function pbt(e){return e.split("")}var mbt=pbt,eke="\\ud800-\\udfff",gbt="\\u0300-\\u036f",vbt="\\ufe20-\\ufe2f",ybt="\\u20d0-\\u20ff",bbt=gbt+vbt+ybt,xbt="\\ufe0e\\ufe0f",wbt="["+eke+"]",dM="["+bbt+"]",fM="\\ud83c[\\udffb-\\udfff]",Cbt="(?:"+dM+"|"+fM+")",tke="[^"+eke+"]",nke="(?:\\ud83c[\\udde6-\\uddff]){2}",rke="[\\ud800-\\udbff][\\udc00-\\udfff]",_bt="\\u200d",oke=Cbt+"?",ike="["+xbt+"]?",Sbt="(?:"+_bt+"(?:"+[tke,nke,rke].join("|")+")"+ike+oke+")*",Ebt=ike+oke+Sbt,kbt="(?:"+[tke+dM+"?",dM,nke,rke,wbt].join("|")+")",jbt=RegExp(fM+"(?="+fM+")|"+kbt+Ebt,"g");function Tbt(e){return e.match(jbt)||[]}var Abt=Tbt,Dbt=mbt,Ibt=JEe,Obt=Abt;function Pbt(e){return Ibt(e)?Obt(e):Dbt(e)}var ske=Pbt,Rbt=QEe,$bt=JEe,Mbt=ske,Fbt=Gc;function Lbt(e){return function(t){t=Fbt(t);var n=$bt(t)?Mbt(t):void 0,r=n?n[0]:t.charAt(0),o=n?Rbt(n,1).join(""):t.slice(1);return r[e]()+o}}var Bbt=Lbt,Nbt=Bbt,zbt=Nbt("toUpperCase"),j9=zbt;const ake=Ie(j9);var Vbt=k9,Hbt=j9,Ubt=Vbt(function(e,t,n){return e+(n?" ":"")+Hbt(t)}),Wbt=Ubt;const cn=Ie(Wbt);function An(e){return typeof e=="function"}function Ybt(e){return An(e==null?void 0:e.lift)}function Zl(e){return function(t){if(Ybt(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var T9=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function lke(e){return An(e==null?void 0:e.then)}function cke(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var kO=cke(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Dk(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var qw=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Fl(s),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(g){t={error:g}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var d=this.initialTeardown;if(An(d))try{d()}catch(g){i=g instanceof kO?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=Fl(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{iZ(v)}catch(g){i=i??[],g instanceof kO?i=Vo(Vo([],mo(i)),mo(g.errors)):i.push(g)}}}catch(g){r={error:g}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}if(i)throw new kO(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)iZ(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Dk(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Dk(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),uke=qw.EMPTY;function dke(e){return e instanceof qw||e&&"closed"in e&&An(e.remove)&&An(e.add)&&An(e.unsubscribe)}function iZ(e){An(e)?e():e.unsubscribe()}var fke={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},hM={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=hM.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,Vo([e,t],mo(n))):setTimeout.apply(void 0,Vo([e,t],mo(n)))},clearTimeout:function(e){var t=hM.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function hke(e){hM.setTimeout(function(){throw e})}function pM(){}function _S(e){e()}var A9=function(e){yo(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,dke(n)&&n.add(r)):r.destination=Zbt,r}return t.create=function(n,r,o){return new Cx(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(qw),qbt=Function.prototype.bind;function jO(e,t){return qbt.call(e,t)}var Gbt=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){T_(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){T_(r)}else T_(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){T_(n)}},e}(),Cx=function(e){yo(t,e);function t(n,r,o){var i=e.call(this)||this,s;if(An(n)||!n)s={next:n??void 0,error:r??void 0,complete:o??void 0};else{var a;i&&fke.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return i.unsubscribe()},s={next:n.next&&jO(n.next,a),error:n.error&&jO(n.error,a),complete:n.complete&&jO(n.complete,a)}):s=n}return i.destination=new Gbt(s),i}return t}(A9);function T_(e){hke(e)}function Kbt(e){throw e}var Zbt={closed:!0,next:pM,error:Kbt,complete:pM},D9=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Gw(e){return e}function Xbt(e){return e.length===0?Gw:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var To=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=Jbt(t)?t:new Cx(t,n,r);return _S(function(){var s=o,a=s.operator,c=s.source;i.add(a?a.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=sZ(n),new n(function(o,i){var s=new Cx({next:function(a){try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[D9]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Xbt(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=sZ(t),new t(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function sZ(e){var t;return(t=e??fke.Promise)!==null&&t!==void 0?t:Promise}function Qbt(e){return e&&An(e.next)&&An(e.error)&&An(e.complete)}function Jbt(e){return e&&e instanceof A9||Qbt(e)&&dke(e)}function pke(e){return An(e[D9])}function mke(e){return Symbol.asyncIterator&&An(e==null?void 0:e[Symbol.asyncIterator])}function gke(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function ext(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var vke=ext();function yke(e){return An(e==null?void 0:e[vke])}function bke(e){return A_e(this,arguments,function(){var n,r,o,i;return dT(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,$u(n.read())];case 3:return r=s.sent(),o=r.value,i=r.done,i?[4,$u(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,$u(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function xke(e){return An(e==null?void 0:e.getReader)}function $i(e){if(e instanceof To)return e;if(e!=null){if(pke(e))return txt(e);if(T9(e))return nxt(e);if(lke(e))return rxt(e);if(mke(e))return wke(e);if(yke(e))return oxt(e);if(xke(e))return ixt(e)}throw gke(e)}function txt(e){return new To(function(t){var n=e[D9]();if(An(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nxt(e){return new To(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function rxt(e){return new To(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,hke)})}function oxt(e){return new To(function(t){var n,r;try{for(var o=Fl(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function wke(e){return new To(function(t){sxt(e,t).catch(function(n){return t.error(n)})})}function ixt(e){return wke(bke(e))}function sxt(e,t){var n,r,o,i;return T_e(this,void 0,void 0,function(){var s,a;return dT(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=D_e(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Ka(e,t,n,r,o){return new axt(e,t,n,r,o)}var axt=function(e){yo(t,e);function t(n,r,o,i,s,a){var c=e.call(this,n)||this;return c.onFinalize=s,c.shouldUnsubscribe=a,c._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,c._error=i?function(u){try{i(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=o?function(){try{o()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(A9),lxt=function(e){yo(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(qw),Ik={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=Ik.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,Vo([e,t],mo(n))):setInterval.apply(void 0,Vo([e,t],mo(n)))},clearInterval:function(e){var t=Ik.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},cxt=function(e){yo(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),Ik.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&Ik.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(s){o=!0,i=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Dk(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(lxt),I9={now:function(){return(I9.delegate||Date).now()},delegate:void 0},aZ=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=I9.now,e}(),uxt=function(e){yo(t,e);function t(n,r){r===void 0&&(r=aZ.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(aZ),dxt=new uxt(cxt),fxt=dxt;function Cke(e){return e&&An(e.schedule)}function hxt(e){return e instanceof Date&&!isNaN(e)}function pxt(e,t,n){e===void 0&&(e=0),n===void 0&&(n=fxt);var r=-1;return t!=null&&(Cke(t)?n=t:r=t),new To(function(o){var i=hxt(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function O9(e){return e[e.length-1]}function mxt(e){return An(O9(e))?e.pop():void 0}function P9(e){return Cke(O9(e))?e.pop():void 0}function gxt(e,t){return typeof O9(e)=="number"?e.pop():t}function Fu(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}var vxt=Array.isArray,yxt=Object.getPrototypeOf,bxt=Object.prototype,xxt=Object.keys;function wxt(e){if(e.length===1){var t=e[0];if(vxt(t))return{args:t,keys:null};if(Cxt(t)){var n=xxt(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function Cxt(e){return e&&typeof e=="object"&&yxt(e)===bxt}function _ke(e,t){return t===void 0&&(t=0),Zl(function(n,r){n.subscribe(Ka(r,function(o){return Fu(r,e,function(){return r.next(o)},t)},function(){return Fu(r,e,function(){return r.complete()},t)},function(o){return Fu(r,e,function(){return r.error(o)},t)}))})}function Ske(e,t){return t===void 0&&(t=0),Zl(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function _xt(e,t){return $i(e).pipe(Ske(t),_ke(t))}function Sxt(e,t){return $i(e).pipe(Ske(t),_ke(t))}function Ext(e,t){return new To(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function kxt(e,t){return new To(function(n){var r;return Fu(n,t,function(){r=e[vke](),Fu(n,t,function(){var o,i,s;try{o=r.next(),i=o.value,s=o.done}catch(a){n.error(a);return}s?n.complete():n.next(i)},0,!0)}),function(){return An(r==null?void 0:r.return)&&r.return()}})}function Eke(e,t){if(!e)throw new Error("Iterable cannot be null");return new To(function(n){Fu(n,t,function(){var r=e[Symbol.asyncIterator]();Fu(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function jxt(e,t){return Eke(bke(e),t)}function Txt(e,t){if(e!=null){if(pke(e))return _xt(e,t);if(T9(e))return Ext(e,t);if(lke(e))return Sxt(e,t);if(mke(e))return Eke(e,t);if(yke(e))return kxt(e,t);if(xke(e))return jxt(e,t)}throw gke(e)}function YT(e,t){return t?Txt(e,t):$i(e)}function Sv(e,t){return Zl(function(n,r){var o=0;n.subscribe(Ka(r,function(i){r.next(e.call(t,i,o++))}))})}var Axt=Array.isArray;function Dxt(e,t){return Axt(t)?e.apply(void 0,Vo([],mo(t))):e(t)}function kke(e){return Sv(function(t){return Dxt(e,t)})}function Ixt(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}function Oxt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=P9(e),r=mxt(e),o=wxt(e),i=o.args,s=o.keys;if(i.length===0)return YT([],n);var a=new To(Pxt(i,n,s?function(c){return Ixt(s,c)}:Gw));return r?a.pipe(kke(r)):a}function Pxt(e,t,n){return n===void 0&&(n=Gw),function(r){lZ(t,function(){for(var o=e.length,i=new Array(o),s=o,a=o,c=function(d){lZ(t,function(){var f=YT(e[d],t),p=!1;f.subscribe(Ka(r,function(m){i[d]=m,p||(p=!0,a--),a||r.next(n(i.slice()))},function(){--s||r.complete()}))},r)},u=0;u<o;u++)c(u)},r)}}function lZ(e,t,n){e?Fu(n,e,t):t()}function Rxt(e,t,n,r,o,i,s,a){var c=[],u=0,d=0,f=!1,p=function(){f&&!c.length&&!u&&t.complete()},m=function(g){return u<r?v(g):c.push(g)},v=function(g){i&&t.next(g),u++;var y=!1;$i(n(g,d++)).subscribe(Ka(t,function(x){o==null||o(x),i?m(x):t.next(x)},function(){y=!0},void 0,function(){if(y)try{u--;for(var x=function(){var b=c.shift();s?Fu(t,s,function(){return v(b)}):v(b)};c.length&&u<r;)x();p()}catch(b){t.error(b)}}))};return e.subscribe(Ka(t,m,function(){f=!0,p()})),function(){a==null||a()}}function sf(e,t,n){return n===void 0&&(n=1/0),An(t)?sf(function(r,o){return Sv(function(i,s){return t(r,i,o,s)})($i(e(r,o)))},n):(typeof t=="number"&&(n=t),Zl(function(r,o){return Rxt(r,o,e,n)}))}var $xt=Array.isArray;function Mxt(e){return e.length===1&&$xt(e[0])?e[0]:e}function Fxt(e){return e===void 0&&(e=1/0),sf(Gw,e)}var Lxt=cke(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),R9=function(e){yo(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new cZ(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Lxt},t.prototype.next=function(n){var r=this;_S(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Fl(r.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(n)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;_S(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;_S(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,s=o.isStopped,a=o.observers;return i||s?uke:(this.currentObservers=null,a.push(n),new qw(function(){r.currentObservers=null,Dk(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,s=r.isStopped;o?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new To;return n.source=this,n},t.create=function(n,r){return new cZ(n,r)},t}(To),cZ=function(e){yo(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:uke},t}(R9),wb=new To(function(e){return e.complete()});function K1(e){return e<=0?function(){return wb}:Zl(function(t,n){var r=0;t.subscribe(Ka(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Bxt(e){return Sv(function(){return e})}function uZ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=P9(e);return YT(e,n)}function Nxt(e,t){var n=An(e)?e:function(){return e},r=function(o){return o.error(n())};return new To(t?function(o){return t.schedule(r,0,o)}:r)}function zxt(e,t){return t===void 0&&(t=Gw),e=e??Vxt,Zl(function(n,r){var o,i=!0;n.subscribe(Ka(r,function(s){var a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function Vxt(e,t){return e===t}function Ok(e,t){return Zl(function(n,r){var o=0;n.subscribe(Ka(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}function Hxt(e){return Zl(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function Uxt(e,t){return function(n,r){return!e.call(t,n,r)}}var Wxt=function(e){yo(t,e);function t(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=I9);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,o=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;o||(i.push(n),!s&&i.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,i=o._infiniteTimeWindow,s=o._buffer,a=s.slice(),c=0;c<a.length&&!n.closed;c+=i?1:2)n.next(a[c]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,i=n._buffer,s=n._infiniteTimeWindow,a=(s?1:2)*r;if(r<1/0&&a<i.length&&i.splice(0,i.length-a),!s){for(var c=o.now(),u=0,d=1;d<i.length&&i[d]<=c;d+=2)u=d;u&&i.splice(0,u+1)}},t}(R9);function Yxt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=Mxt(e),e.length===1?$i(e[0]):new To(qxt(e))}function qxt(e){return function(t){for(var n=[],r=function(i){n.push($i(e[i]).subscribe(Ka(t,function(s){if(n){for(var a=0;a<n.length;a++)a!==i&&n[a].unsubscribe();n=null}t.next(s)})))},o=0;n&&!t.closed&&o<e.length;o++)r(o)}}function jke(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new R9}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,s=i===void 0?!0:i,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var d,f,p,m=0,v=!1,g=!1,y=function(){f==null||f.unsubscribe(),f=void 0},x=function(){y(),d=p=void 0,v=g=!1},b=function(){var w=d;x(),w==null||w.unsubscribe()};return Zl(function(w,C){m++,!g&&!v&&y();var _=p=p??n();C.add(function(){m--,m===0&&!g&&!v&&(f=TO(b,c))}),_.subscribe(C),!d&&m>0&&(d=new Cx({next:function(S){return _.next(S)},error:function(S){g=!0,y(),f=TO(x,o,S),_.error(S)},complete:function(){v=!0,y(),f=TO(x,s),_.complete()}}),$i(w).subscribe(d))})(u)}}function TO(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new Cx({next:function(){o.unsubscribe(),e()}});return $i(t.apply(void 0,Vo([],mo(n)))).subscribe(o)}}function Tke(e,t,n){var r,o,i,s,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,s=r===void 0?1/0:r,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,a=i===void 0?!1:i,n=e.scheduler):s=e??1/0,jke({connector:function(){return new Wxt(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function dZ(e,t){return Zl(function(n,r){var o=null,i=0,s=!1,a=function(){return s&&!o&&r.complete()};n.subscribe(Ka(r,function(c){o==null||o.unsubscribe();var u=0,d=i++;$i(e(c,d)).subscribe(o=Ka(r,function(f){return r.next(t?t(c,f,d,u++):f)},function(){o=null,a()}))},function(){s=!0,a()}))})}function Gxt(e){return Zl(function(t,n){$i(e).subscribe(Ka(n,function(){return n.complete()},pM)),!n.closed&&t.subscribe(n)})}function Kxt(e){return new To(function(t){$i(e()).subscribe(t)})}var Zxt=["addListener","removeListener"],Xxt=["addEventListener","removeEventListener"],Qxt=["on","off"];function Pk(e,t,n,r){if(An(n)&&(r=n,n=void 0),r)return Pk(e,t,n).pipe(kke(r));var o=mo(twt(e)?Xxt.map(function(a){return function(c){return e[a](t,c,n)}}):Jxt(e)?Zxt.map(fZ(e,t)):ewt(e)?Qxt.map(fZ(e,t)):[],2),i=o[0],s=o[1];if(!i&&T9(e))return sf(function(a){return Pk(a,t,n)})($i(e));if(!i)throw new TypeError("Invalid event target");return new To(function(a){var c=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return a.next(1<u.length?u:u[0])};return i(c),function(){return s(c)}})}function fZ(e,t){return function(n){return function(r){return e[n](t,r)}}}function Jxt(e){return An(e.addListener)&&An(e.removeListener)}function ewt(e){return An(e.on)&&An(e.off)}function twt(e){return An(e.addEventListener)&&An(e.removeEventListener)}function hZ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=P9(e),r=gxt(e,1/0),o=e;return o.length?o.length===1?$i(o[0]):Fxt(r)(YT(o,n)):wb}function nwt(e,t,n){return[Ok(t,n)($i(e)),Ok(Uxt(t,n))($i(e))]}let rwt=e=>crypto.getRandomValues(new Uint8Array(e)),owt=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(i=t)=>{let s="";for(;;){let a=n(o),c=o;for(;c--;)if(s+=e[a[c]&r]||"",s.length===i)return s}}},iwt=(e,t=21)=>owt(e,t,rwt),swt=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var awt=["presence","listen"],Rk=globalThis&&globalThis.__assign||function(){return Rk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Rk.apply(this,arguments)},lwt=iwt("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),cwt="♥";function pZ(e,t,n){return JSON.stringify({jsonrpc:"2.0",method:e,params:dwt(t,"v1"),id:n})}function uwt(e){try{return[null,JSON.parse(e)]}catch(t){return t instanceof Error?[t]:[new Error("".concat(t))]}}function dwt(e,t){return Rk(Rk({},e),{apiVersion:t})}var fwt=function(e,t){t===void 0&&(t={});var n=t.token$,r=t.getNextRequestId,o=r===void 0?lwt:r,i=nwt(e.pipe(dZ(function(m){return Pk(m,"message")})),function(m){return m.data===cwt}),s=i[0],a=i[1],c=a.pipe(sf(function(m){var v=uwt(m.data),g=v[0],y=v[1];return g?(console.warn("Unable to parse message: %s",g.message),wb):!y||!y.jsonrpc?(console.warn("Received empty or non-jsonrpc message: %s",y),wb):uZ(y)}),jke()),u=n?Oxt([n,e]).pipe(zxt(function(m,v){var g=m[0],y=m[1],x=v[0],b=v[1];return g===x&&y===b}),dZ(function(m){var v=m[0],g=m[1];return v?d(g,"authorization",{authorization:"Bearer ".concat(v)}).pipe(K1(1),Bxt(g)):uZ(g)}),Tke({refCount:!0,bufferSize:1})):e;function d(m,v,g){g===void 0&&(g={});var y=o();return hZ(c.pipe(Ok(function(x){return x.id===y}),Sv(function(x){return x.result})),Kxt(function(){return m.send(pZ(v,g,y)),wb}))}function f(m,v){return u.pipe(K1(1),sf(function(g){return d(g,m,v).pipe(K1(1))}))}function p(m,v){return u.pipe(K1(1),sf(function(g){return d(g,"".concat(m,"_subscribe"),v).pipe(K1(1),sf(function(y){return c.pipe(Ok(function(x){return x.method==="".concat(m,"_subscription")&&x.params.subscription===y}),Sv(function(x){return x.params.result}),Hxt(function(){g.readyState!==g.CLOSED&&g.readyState!==g.CLOSING&&g.send(pZ("".concat(m,"_unsubscribe"),{subscriptionId:y},o()))}))}))}))}return{heartbeats:hZ(u,s,a).pipe(Sv(function(){return new Date})),request:function(m,v){return hwt(m)?p(m,v):f(m,v)}}};function hwt(e){return awt.includes(e)}var pwt=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mZ=function(e){pwt(t,e);function t(n,r,o,i){var s=e.call(this,n)||this;return s.type=r,s.code=o,s.reason=i,s}return t}(Error);function mwt(e){return function(t){return new To(function(n){var r=e(t),o=!1,i=function(){n.next(r)},s=function(){n.error(new mZ("WebSocket connection error","CONNECTION_ERROR"))},a=function(c){o?n.complete():n.error(new mZ("WebSocket connection error","CONNECTION_CLOSED",c.code,c.reason))};return r.onopen=i,r.onclose=a,r.onerror=s,function(){o=!0,r.close(1e3,"WebSockets connection closed by client")}})}}var gwt=function(e,t){return function(n){return Yxt(n,pxt(e).pipe(sf(function(){return t})))}},gZ;(function(e){e[e.BAD_REQUEST=4e3]="BAD_REQUEST",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",e[e.PARSE_ERROR=-32700]="PARSE_ERROR"})(gZ||(gZ={}));var vwt=function(e){return e};function ywt(e,t){t===void 0&&(t={});var n=t.timeout,r=t.token$,o=mwt(function(i,s){return new window.WebSocket(i,s)});return fwt(o(e).pipe(n?gwt(n,Nxt(function(){return new Error("Timeout after ".concat(n," while establishing WebSockets connection"))})):vwt,Tke({refCount:!0}),Gxt(Pk(window,"beforeunload"))),{token$:r})}function bwt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var xwt=bwt,wwt=s9,Cwt=AT;function _wt(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var a=t[i],c=r?r(n[a],e[a],a,n,e):void 0;c===void 0&&(c=e[a]),o?Cwt(n,a,c):wwt(n,a,c)}return n}var Q0=_wt,Swt=Q0,Ewt=mh;function kwt(e,t){return e&&Swt(t,Ewt(t),e)}var jwt=kwt;function Twt(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Awt=Twt,Dwt=Ja,Iwt=ST,Owt=Awt,Pwt=Object.prototype,Rwt=Pwt.hasOwnProperty;function $wt(e){if(!Dwt(e))return Owt(e);var t=Iwt(e),n=[];for(var r in e)r=="constructor"&&(t||!Rwt.call(e,r))||n.push(r);return n}var Mwt=$wt,Fwt=x2e,Lwt=Mwt,Bwt=ph;function Nwt(e){return Bwt(e)?Fwt(e,!0):Lwt(e)}var $9=Nwt,zwt=Q0,Vwt=$9;function Hwt(e,t){return e&&zwt(t,Vwt(t),e)}var Uwt=Hwt,$k={exports:{}};$k.exports;(function(e,t){var n=Yl,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,p=a?a(f):new u.constructor(f);return u.copy(p),p}e.exports=c})($k,$k.exports);var Wwt=$k.exports;function Ywt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var M9=Ywt,qwt=Q0,Gwt=q8;function Kwt(e,t){return qwt(e,Gwt(e),t)}var Zwt=Kwt,Xwt=Y8,Qwt=i9,Jwt=q8,eCt=y2e,tCt=Object.getOwnPropertySymbols,nCt=tCt?function(e){for(var t=[];e;)Xwt(t,Jwt(e)),e=Qwt(e);return t}:eCt,Ake=nCt,rCt=Q0,oCt=Ake;function iCt(e,t){return rCt(e,oCt(e),t)}var sCt=iCt,aCt=g2e,lCt=Ake,cCt=$9;function uCt(e){return aCt(e,cCt,lCt)}var F9=uCt,dCt=Object.prototype,fCt=dCt.hasOwnProperty;function hCt(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&fCt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var pCt=hCt,vZ=m2e;function mCt(e){var t=new e.constructor(e.byteLength);return new vZ(t).set(new vZ(e)),t}var L9=mCt,gCt=L9;function vCt(e,t){var n=t?gCt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var yCt=vCt,bCt=/\w*$/;function xCt(e){var t=new e.constructor(e.source,bCt.exec(e));return t.lastIndex=e.lastIndex,t}var wCt=xCt,yZ=T0,bZ=yZ?yZ.prototype:void 0,xZ=bZ?bZ.valueOf:void 0;function CCt(e){return xZ?Object(xZ.call(e)):{}}var _Ct=CCt,SCt=L9;function ECt(e,t){var n=t?SCt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var kCt=ECt,jCt=L9,TCt=yCt,ACt=wCt,DCt=_Ct,ICt=kCt,OCt="[object Boolean]",PCt="[object Date]",RCt="[object Map]",$Ct="[object Number]",MCt="[object RegExp]",FCt="[object Set]",LCt="[object String]",BCt="[object Symbol]",NCt="[object ArrayBuffer]",zCt="[object DataView]",VCt="[object Float32Array]",HCt="[object Float64Array]",UCt="[object Int8Array]",WCt="[object Int16Array]",YCt="[object Int32Array]",qCt="[object Uint8Array]",GCt="[object Uint8ClampedArray]",KCt="[object Uint16Array]",ZCt="[object Uint32Array]";function XCt(e,t,n){var r=e.constructor;switch(t){case NCt:return jCt(e);case OCt:case PCt:return new r(+e);case zCt:return TCt(e,n);case VCt:case HCt:case UCt:case WCt:case YCt:case qCt:case GCt:case KCt:case ZCt:return ICt(e,n);case RCt:return new r;case $Ct:case LCt:return new r(e);case MCt:return ACt(e);case FCt:return new r;case BCt:return DCt(e)}}var QCt=XCt,JCt=Ja,wZ=Object.create,e_t=function(){function e(){}return function(t){if(!JCt(t))return{};if(wZ)return wZ(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),B9=e_t,t_t=B9,n_t=i9,r_t=ST;function o_t(e){return typeof e.constructor=="function"&&!r_t(e)?t_t(n_t(e)):{}}var i_t=o_t,s_t=Vw,a_t=el,l_t="[object Map]";function c_t(e){return a_t(e)&&s_t(e)==l_t}var u_t=c_t,d_t=u_t,f_t=Y0,CZ=K8,_Z=CZ&&CZ.isMap,h_t=_Z?f_t(_Z):d_t,p_t=h_t,m_t=Vw,g_t=el,v_t="[object Set]";function y_t(e){return g_t(e)&&m_t(e)==v_t}var b_t=y_t,x_t=b_t,w_t=Y0,SZ=K8,EZ=SZ&&SZ.isSet,C_t=EZ?w_t(EZ):x_t,__t=C_t,S_t=U8,E_t=xwt,k_t=s9,j_t=jwt,T_t=Uwt,A_t=Wwt,D_t=M9,I_t=Zwt,O_t=sCt,P_t=_2e,R_t=F9,$_t=Vw,M_t=pCt,F_t=QCt,L_t=i_t,B_t=Jr,N_t=CT,z_t=p_t,V_t=Ja,H_t=__t,U_t=mh,W_t=$9,Y_t=1,q_t=2,G_t=4,Dke="[object Arguments]",K_t="[object Array]",Z_t="[object Boolean]",X_t="[object Date]",Q_t="[object Error]",Ike="[object Function]",J_t="[object GeneratorFunction]",e2t="[object Map]",t2t="[object Number]",Oke="[object Object]",n2t="[object RegExp]",r2t="[object Set]",o2t="[object String]",i2t="[object Symbol]",s2t="[object WeakMap]",a2t="[object ArrayBuffer]",l2t="[object DataView]",c2t="[object Float32Array]",u2t="[object Float64Array]",d2t="[object Int8Array]",f2t="[object Int16Array]",h2t="[object Int32Array]",p2t="[object Uint8Array]",m2t="[object Uint8ClampedArray]",g2t="[object Uint16Array]",v2t="[object Uint32Array]",Nn={};Nn[Dke]=Nn[K_t]=Nn[a2t]=Nn[l2t]=Nn[Z_t]=Nn[X_t]=Nn[c2t]=Nn[u2t]=Nn[d2t]=Nn[f2t]=Nn[h2t]=Nn[e2t]=Nn[t2t]=Nn[Oke]=Nn[n2t]=Nn[r2t]=Nn[o2t]=Nn[i2t]=Nn[p2t]=Nn[m2t]=Nn[g2t]=Nn[v2t]=!0;Nn[Q_t]=Nn[Ike]=Nn[s2t]=!1;function SS(e,t,n,r,o,i){var s,a=t&Y_t,c=t&q_t,u=t&G_t;if(n&&(s=o?n(e,r,o,i):n(e)),s!==void 0)return s;if(!V_t(e))return e;var d=B_t(e);if(d){if(s=M_t(e),!a)return D_t(e,s)}else{var f=$_t(e),p=f==Ike||f==J_t;if(N_t(e))return A_t(e,a);if(f==Oke||f==Dke||p&&!o){if(s=c||p?{}:L_t(e),!a)return c?O_t(e,T_t(s,e)):I_t(e,j_t(s,e))}else{if(!Nn[f])return o?e:{};s=F_t(e,f,a)}}i||(i=new S_t);var m=i.get(e);if(m)return m;i.set(e,s),H_t(e)?e.forEach(function(y){s.add(SS(y,t,n,y,e,i))}):z_t(e)&&e.forEach(function(y,x){s.set(x,SS(y,t,n,x,e,i))});var v=u?c?R_t:P_t:c?W_t:U_t,g=d?void 0:v(e);return E_t(g||e,function(y,x){g&&(x=y,y=e[x]),k_t(s,x,SS(y,t,n,x,e,i))}),s}var N9=SS;function y2t(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var b2t=y2t,x2t=Hw,w2t=XEe;function C2t(e,t){return t.length<2?e:x2t(e,w2t(t,0,-1))}var _2t=C2t,S2t=K0,E2t=b2t,k2t=_2t,j2t=Fm;function T2t(e,t){return t=S2t(t,e),e=k2t(e,t),e==null||delete e[j2t(E2t(t))]}var A2t=T2t,D2t=iSe;function I2t(e){return D2t(e)?void 0:e}var O2t=I2t,P2t=qc,R2t=N9,$2t=A2t,M2t=K0,F2t=Q0,L2t=O2t,B2t=a9,N2t=F9,z2t=1,V2t=2,H2t=4,U2t=B2t(function(e,t){var n={};if(e==null)return n;var r=!1;t=P2t(t,function(i){return i=M2t(i,e),r||(r=i.length>1),i}),F2t(e,N2t(e),n),r&&(n=R2t(n,z2t|V2t|H2t,L2t));for(var o=t.length;o--;)$2t(n,t[o]);return n}),W2t=U2t;const Mi=Ie(W2t);var Y2t=function(e){return e==null?[]:Array.isArray(e)?e:[e]};const Kw=Ie(Y2t);var q2t=Jr;function G2t(){if(!arguments.length)return[];var e=arguments[0];return q2t(e)?e:[e]}var K2t=G2t;const Zw=Ie(K2t);var Z2t=qc,X2t=gh,Q2t=q2e,J2t=Jr;function eSt(e,t){var n=J2t(e)?Z2t:Q2t;return n(e,X2t(t))}var tSt=eSt,nSt=G0,rSt=tSt;function oSt(e,t){return nSt(rSt(e,t),1)}var iSt=oSt;const sSt=Ie(iSt);var aSt="Expected a function";function lSt(e){if(typeof e!="function")throw new TypeError(aSt);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var Pke=lSt;const cSt=Ie(Pke);var uSt=qc,dSt=gh,fSt=sSe,hSt=F9;function pSt(e,t){if(e==null)return{};var n=uSt(hSt(e),function(r){return[r]});return t=dSt(t),fSt(e,n,function(r,o){return t(r,o[0])})}var mSt=pSt,gSt=gh,vSt=Pke,ySt=mSt;function bSt(e,t){return ySt(e,vSt(gSt(t)))}var xSt=bSt;const Rke=Ie(xSt);function wSt(e){return e===void 0}var CSt=wSt;const $ke=Ie(CSt);var _St=Gc,SSt=j9;function ESt(e){return SSt(_St(e).toLowerCase())}var Mke=ESt;const Vm=Ie(Mke);var kSt=qc,jSt=M9,TSt=Jr,ASt=Sm,DSt=L2e,ISt=Fm,OSt=Gc;function PSt(e){return TSt(e)?kSt(e,ISt):ASt(e)?[e]:jSt(DSt(OSt(e)))}var RSt=PSt;const $St=Ie(RSt);function MSt(){}var z9=MSt;const Fke=Ie(z9);var AO=S2e,FSt=z9,LSt=W8,BSt=1/0,NSt=AO&&1/LSt(new AO([,-0]))[1]==BSt?function(e){return new AO(e)}:FSt,zSt=NSt,VSt=bT,HSt=r9,USt=o9,WSt=xT,YSt=zSt,qSt=W8,GSt=200;function KSt(e,t,n){var r=-1,o=HSt,i=e.length,s=!0,a=[],c=a;if(n)s=!1,o=USt;else if(i>=GSt){var u=t?null:YSt(e);if(u)return qSt(u);s=!1,o=WSt,c=new VSt}else c=t?[]:a;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),a.push(d)}else o(c,f,n)||(c!==a&&c.push(f),a.push(d))}return a}var qT=KSt,ZSt=gh,XSt=qT;function QSt(e,t){return e&&e.length?XSt(e,ZSt(t)):[]}var JSt=QSt;const Qf=Ie(JSt),ls=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue"],kZ=[...ls],DO={name:"any",type:null,jsonType:"any"},eEt={get(){return DO},extend(e,t){const n=Object.assign(St(DO,kZ),e,{type:DO,of:e.of.map(o=>({name:o.name,type:t(Mi(o,"name"))}))});return r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,St(i,kZ),{type:o});return r(s)}}}}};var yh={prepare:e=>({title:String(e)})};const jZ=[...ls],IO={name:"string",title:"String",type:null,jsonType:"string"},tEt={get(){return IO},extend(e){const t=Object.assign(St(IO,jZ),e,{type:IO,preview:yh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,jZ),{type:r});return n(i)}}}}},TZ=[...ls,"rows"],OO={name:"text",title:"Text",type:null,jsonType:"string"},nEt={get(){return OO},extend(e){const t=Object.assign(St(OO,TZ),e,{type:OO,preview:yh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,TZ),{type:r});return n(i)}}}}},AZ=[...ls],PO={name:"datetime",title:"Datetime",type:null,jsonType:"string"},rEt={get(){return PO},extend(e){const t=Object.assign(St(PO,AZ),e,{type:PO,preview:yh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,AZ),{type:r});return n(i)}}}}},DZ=[...ls],RO={name:"date",title:"Datetime",type:null,jsonType:"string"},oEt={get(){return RO},extend(e){const t=Object.assign(St(RO,DZ),e,{type:RO,preview:yh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,DZ),{type:r});return n(i)}}}}},IZ=[...ls],$O={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},iEt={get(){return $O},extend(e){const t=Object.assign(St($O,IZ),e,{type:$O,preview:yh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,IZ),{type:r});return n(i)}}}}},OZ=[...ls],MO={name:"url",title:"Url",type:null,jsonType:"string"},sEt={get(){return MO},extend(e){const t=Object.assign(St(MO,OZ),e,{type:MO,preview:yh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,OZ),{type:r});return n(i)}}}}},PZ=[...ls],FO={name:"email",title:"Email",type:null,jsonType:"string"},aEt={get(){return FO},extend(e){const t=Object.assign(St(FO,PZ),e,{type:FO,preview:yh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,PZ),{type:r});return n(i)}}}}},RZ=[...ls],LO={name:"number",title:"Number",type:null,jsonType:"number"},lEt={get(){return LO},extend(e){const t=Object.assign(St(LO,RZ),e,{type:LO,preview:yh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,RZ),{type:r});return n(i)}}}}};function Un(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Object.defineProperty(e,t,{configurable:!0,enumerable:r.enumerable!==!1,get(){const o=n();return Object.defineProperty(e,t,{value:o,writable:!!r.writable,configurable:!1}),o}}),e}function cEt(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function mM(e,t,n){if(n>t.maxDepth)return"...";if(Array.isArray(e)){if(e.length===0)return"[empty]";const o=Math.max(e.length-t.maxBreadth),i=e.slice(0,t.maxBreadth).map((s,a)=>mM(s,t,n+1)).concat(o>0?"…+".concat(o):[]).join(", ");return n===0?i:"[".concat(i,"]")}if(typeof e=="object"&&e!==null){const o=Object.keys(e).filter(s=>!t.ignoreKeys.includes(s)&&typeof e[s]<"u");if(cEt(St(e,o)))return"{empty}";const i=o.slice(0,t.maxBreadth).map(s=>"".concat(s,": ").concat(mM(e[s],t,n+1))).join(", ");return n===0?i:"{".concat(i,"}")}const r=String(e);return r===""?'""':r}function uEt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]};return mM(e,n,0)}const dEt={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function fEt(e){return t=>({title:uEt(St(t,e),dEt)})}function hEt(e){return e.type==="array"&&e.of&&e.of.some(t=>t.type==="block")}const Lke=["title","name","label","heading","header","caption"],pEt=["description",...Lke];function Bke(e,t){return Kw(e.to||[]).some(n=>n.type===t)}function $Z(e){return Bke(e,"sanity.imageAsset")}function mEt(e){const t=e.fields||[],n=t.find($Z);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some($Z));return r?"".concat(r.name,".asset"):void 0}function MZ(e){return Bke(e,"sanity.fileAsset")}function gEt(e){const t=e.fields||[],n=t.find(MZ);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(MZ));return r?"".concat(r.name,".asset"):void 0}function vEt(e){const t={fields:[],...e},n=t.fields.filter(u=>u.type==="string").map(u=>u.name),r=t.fields.filter(hEt).map(u=>u.name);let o=Lke.find(u=>n.includes(u)||r.includes(u)),i=pEt.find(u=>u!==o&&(n.includes(u)||r.includes(u)));o||(o=n[0]||r[0],i=n[1]||r[1]);const s=t.fields.find(u=>u.type==="image"),a=mEt(t);if(!o){const u=gEt(t);u&&(o="".concat(u,".originalFilename")),a&&(o="".concat(a,".originalFilename"))}if(!o&&!a){const u=t.fields.map(f=>f.name);return{select:u.reduce((f,p)=>(f[p]=p,f),{}),prepare:fEt(u)}}return{select:Rke({title:o,description:i,media:s?s.name:a},$ke)}}function yEt(e){e.options&&e.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "`.concat(e.name,`".
`))}function bEt(e){const t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn('Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "'.concat(e.name,`".
`))}function xEt(e){return e.reduce((t,n)=>(t[n]=n,t),{})}function wEt(e){if(!e)return e;const t=e.select||e.fields||{};return Array.isArray(t)?{...St(e,["prepare","component"]),select:xEt(t)}:{...St(e,["prepare","component"]),select:t}}function Xw(e){return function(){return yEt(e),bEt(e),wEt(e.preview||(e.options||{}).preview)||vEt(e)}}const CEt=["title","name","label","heading","header","caption","description"],_Et=["string","boolean","number"],FZ=e=>_Et.includes(e.type);function SEt(e){let t=CEt.filter(n=>e.fields.some(r=>FZ(r)&&r.name===n));return t.length===0&&(t=e.fields.filter(FZ).map(n=>n.name)),t.map(n=>({name:n,title:Vm(cn(n)),by:[{field:n,direction:"asc"}]}))}function LZ(e){if(!Array.isArray(e))throw new Error("The search config of a document type must be an array of search config objects");return e.map(t=>{if(t==="defaults")return t;if(!Sr(t))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in t?t.weight:1,path:$St(t.path),mapWith:typeof t.mapWith=="string"?t.mapWith:void 0}})}const Ev=Symbol("__cachedStringFields"),EEt=e=>e.type&&e.type.name==="reference",kEt=["style","list"],V9=e=>e.name==="block"||e.type&&V9(e.type),jEt=e=>e.jsonType==="array"&&Array.isArray(e.of)&&e.of.some(V9);function GT(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0;if(o<0)return n;const i=t(n,e,r);return e.jsonType==="array"&&Array.isArray(e.of)?TEt(e,t,i,r,o):e.jsonType==="object"&&Array.isArray(e.fields)&&!EEt(e)?AEt(e,t,i,r,o):i}function TEt(e,t,n,r,o){return e.of.reduce((i,s)=>GT(s,t,i,r,o-1),n)}function AEt(e,t,n,r,o){const i=V9(e);return e.fields.reduce((s,a)=>{if(i&&kEt.includes(a.name))return s;const c=[a.name].concat(a.type.jsonType==="array"?[[]]:[]);return GT(a.type,t,s,r.concat(c),o-1)},n)}const Nke=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],BZ={title:10,subtitle:5,description:1.5};function zke(e){var t;const n=(t=e==null?void 0:e.preview)==null?void 0:t.select;return n?Object.keys(n).filter(r=>r in BZ).map(r=>({weight:BZ[r],path:n[r].split(".")})):[]}function DEt(e,t){return e[Ev]||(e[Ev]=Qf([...Nke,...zke(e),...OEt(e,t).map(n=>({weight:1,path:n})),...PEt(e,t).map(n=>({weight:1,path:n,mapWith:"pt::text"}))],n=>n.path.join("."))),e[Ev]}function IEt(e){return e[Ev]||(e[Ev]=Qf([...Nke,...zke(e)],t=>t.path.join("."))),e[Ev]}function OEt(e,t){return GT(e,(r,o,i)=>o.jsonType==="string"?[...r,i]:r,[],[],t)}function PEt(e,t){return GT(e,(r,o,i)=>jEt(o)?[...r,i]:r,[],[],t)}function REt(e){return IEt(e)}function $Et(e){return DEt(e,4)}const NZ=[...ls,"orderings","__experimental_search","blockEditor","icon"],Vke={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(e,t){const n={fields:[],...e},r={...n.options||{}},o=Object.assign(St(this.get(),NZ),n,{type:this.get(),title:n.title||(n.name?cn(n.name):""),options:r,orderings:n.orderings||SEt(n),fields:n.fields.map(s=>{const{name:a,fieldset:c,group:u,...d}=s;return Un({name:a,group:u,fieldset:c},"type",()=>t({...d,title:s.title||cn(a)}))})});return Un(o,"fieldsets",()=>KT(n,o.fields)),Un(o,"groups",()=>MEt(n,o.fields)),Un(o,"preview",Xw(n)),Un(o,"__experimental_search",()=>{const s=n.__experimental_search?LZ(n.__experimental_search):null;return s?s.map(a=>a==="defaults"?LZ(n):a):$Et(o)},{enumerable:!1}),i(o);function i(s){return{get(){return s},extend:a=>{if(a.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const c=Object.assign({},s,St(a,NZ),{title:a.title||n.title||(n.name?cn(n.name):""),type:s});return Un(c,"__experimental_search",()=>s.__experimental_search),i(c)}}}}};function KT(e,t){const n={};for(const o of e.fieldsets||[]){if(n[o.name])throw new Error('Duplicate fieldset name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:cn(e.name),"'"));n[o.name]={title:cn(o.name),...o,fields:[]}}const r=new Set;for(const o of t){if(!o.fieldset){r.add({single:!0,field:o});continue}const i=n[o.fieldset];if(!i)throw new Error("Fieldset '".concat(o.fieldset,"' is not defined in schema for type '").concat(e.name,"'"));i.fields.push(o),r.add(i)}return Array.from(r)}function MEt(e,t){const n={};let r=0;for(const o of e.groups||[]){if(n[o.name])throw new Error('Duplicate group name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:cn(e.name),"'"));if(n[o.name]={title:cn(o.name),...o,fields:[]},o.default&&++r>1)throw new Error("More than one field group defined as default for type '".concat(e.title?e.title:cn(e.name),"' - only 1 is supported"))}return t.forEach(o=>{const i=Zw(o.group||[]);i.length!==0&&i.forEach(s=>{const a=n[s];if(!a)throw new Error("Field group '".concat(s,"' is not defined in schema for type '").concat(e.title?e.name:cn(e.name),"'"));a.fields.push(o)})}),sSt(n).filter(o=>o.fields.length>0)}const FEt={name:"_ref",title:"Referenced document ID",type:"string"},LEt={name:"_weak",title:"Weak reference",type:"boolean"},BEt=[FEt,LEt],zZ=[...ls],BO={name:"reference",title:"Reference",type:null,jsonType:"object"};function NEt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function zEt(e){return!e.to||e.to.length===0?"Reference":"Reference to ".concat(NEt(Kw(e.to).map(t=>t.title),"or").toLowerCase())}const VEt={get(){return BO},extend(e,t){if(!e.to)throw new Error('Missing "to" field in reference definition. Check the type '.concat(e.name));const n=Object.assign(St(BO,zZ),e,{type:BO});return Un(n,"fields",()=>BEt.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),Un(n,"fieldsets",()=>KT(e,n.fields)),Un(n,"to",()=>Kw(e.to).map(o=>t(o))),Un(n,"title",()=>e.title||zEt(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,St(i,zZ),{type:o});return r(s)}}}}},HEt={name:"_ref",title:"Referenced document ID",type:"string"},UEt={name:"_weak",title:"Weak reference marker",type:"boolean"},WEt={name:"_dataset",title:"Target dataset",type:"string"},YEt={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},qEt=[HEt,UEt,WEt,YEt],VZ=[...ls],NO={name:"crossDatasetReference",type:null,jsonType:"object"};function GEt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function KEt(e){return!e.to||e.to.length===0?"Cross dataset Reference":"Cross dataset reference to ".concat(GEt(Kw(e.to).map(t=>t.title||Vm(t.type)),"or").toLowerCase())}const ZEt={get(){return NO},extend(e,t){if(!e.to)throw new Error('Missing "to" field in cross dataset reference definition. Check the type '.concat(e.name));const n=Object.assign(St(NO,VZ),e,{type:NO});return Un(n,"fields",()=>qEt.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),Un(n,"to",()=>Kw(e.to).map(o=>({...o,__experimental_search:REt(o)}))),Un(n,"title",()=>e.title||KEt(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,St(i,VZ),{type:o});return r(s)}}}}},XEt={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},QEt={name:"hotspot",type:"sanity.imageHotspot"},JEt={name:"crop",type:"sanity.imageCrop"},HZ=[...ls],UZ={name:"image",title:"Image",type:null,jsonType:"object"},ekt={},tkt={get(){return UZ},extend(e,t){const n={...e.options||ekt};let r=[QEt,JEt];n.hotspot||(r=r.map(c=>({...c,hidden:!0})));const o=[XEt,...r,...e.fields||[]],i={...e,fields:o},s=Object.assign(St(this.get(),HZ),i,{type:UZ,title:i.title||(i.name?cn(i.name):""),options:n,fields:i.fields.map(c=>{const{name:u,fieldset:d,...f}=c,p={name:u,fieldset:d,isCustomized:!!e.fields};return Un(p,"type",()=>t({...f,title:c.title||cn(u)}))})});return Un(s,"fieldsets",()=>KT(i,s.fields)),Un(s,"preview",Xw(Object.assign({},i,{fields:o}))),a(s);function a(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const d=Object.assign({},c,St(u,HZ),{type:c});return a(d)}}}}},nkt={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},WZ=[...ls],zO={name:"file",title:"File",type:null,jsonType:"object"},rkt={accept:""},okt={get(){return zO},extend(e,t){const n={...e.options||rkt},r=[nkt,...e.fields||[]],o={...e,fields:r},i=Object.assign(St(zO,WZ),o,{type:zO,title:o.title||(o.name?cn(o.name):""),options:n,fields:o.fields.map(a=>{const{name:c,fieldset:u,...d}=a,f={name:c,fieldset:u,isCustomized:!!e.fields};return Un(f,"type",()=>t({...d,title:a.title||cn(c)}))})});return Un(i,"fieldsets",()=>KT(o,i.fields)),Un(i,"preview",Xw(Object.assign({},o,{fields:r}))),s(i);function s(a){return{get(){return a},extend:c=>{if(c.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const u=Object.assign({},a,St(c,WZ),{type:a});return s(u)}}}}},ikt={name:"document",title:"Document",type:null,jsonType:"object"},skt={get(){return ikt},extend:Vke.extend},YZ=[...ls],VO={name:"array",type:null,jsonType:"array",of:[]},akt={get(){return VO},extend(e,t){const n=Object.assign(St(VO,YZ),e,{type:VO});return Un(n,"of",()=>e.of.map(o=>t(o))),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,St(i,YZ),{type:o});return r(s)}}}}},lkt={type:"object",name:"link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},ckt={type:"text",name:"text",title:"Text"},ukt={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},qZ={bullet:{title:"Bulleted list",value:"bullet"},numbered:{title:"Numbered list",value:"number"}},dkt=[qZ.bullet,qZ.numbered],pu={normal:{title:"Normal",value:"normal"},h1:{title:"Heading 1",value:"h1"},h2:{title:"Heading 2",value:"h2"},h3:{title:"Heading 3",value:"h3"},h4:{title:"Heading 4",value:"h4"},h5:{title:"Heading 5",value:"h5"},h6:{title:"Heading 6",value:"h6"},blockquote:{title:"Quote",value:"blockquote"}},fkt=[pu.normal,pu.h1,pu.h2,pu.h3,pu.h4,pu.h5,pu.h6,pu.blockquote],hkt={title:"Strong",value:"strong"},pkt={title:"Italic",value:"em"},mkt={title:"Code",value:"code"},gkt={title:"Underline",value:"underline"},vkt={title:"Strike",value:"strike-through"},Z1={strong:hkt,em:pkt,code:mkt,underline:gkt,strikeThrough:vkt},ykt=[Z1.strong,Z1.em,Z1.code,Z1.underline,Z1.strikeThrough],GZ=["type","name","title","jsonType","description","options","fieldsets","icon"],HO={name:"block",title:"Block",type:null,jsonType:"object"},bkt={},xkt={get(){return HO},extend(e,t){const n={...e.options||bkt},{marks:r,styles:o,lists:i,of:s,...a}=e,c=Skt(r,s),u=Ckt(o),d=_kt(i),f={name:"markDefs",title:"Mark definitions",type:"array",of:(r==null?void 0:r.annotations)||Hke},m=[c,u,d,f,{name:"level",title:"Indentation",type:"number"}].concat(e.fields||[]),v=Object.assign(St(HO,GZ),a,{type:HO,options:n});return Un(v,"fields",()=>m.map(y=>{const{name:x,...b}=y;return{name:x,type:t(b)}})),Un(v,"preview",Xw(e)),g(v);function g(y){return{get(){return y},extend:x=>{if(x.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const b=Object.assign({},y,St(x,GZ),{type:y});return g(b)}}}}};function wkt(e){return e.some(t=>t.value==="normal")?e:[pu.normal,...e]}function Ckt(e){return{name:"style",title:"Style",type:"string",options:{list:wkt(e||fkt)}}}function _kt(e){return{name:"listItem",title:"List type",type:"string",options:{list:e||dkt}}}const Hke=[lkt];function Skt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[ckt,ukt],annotations:e&&e.annotations?e.annotations:Hke,decorators:e&&e.decorators?e.decorators:ykt},...t.filter(n=>n.type!=="span")]}}const KZ=["type","name","title","jsonType","description","options","fieldsets","icon"],UO={name:"span",title:"Span",type:null,jsonType:"object"},Ekt={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},kkt={name:"text",title:"Text",type:"string"},jkt={},Tkt={get(){return UO},extend(e,t){const n={...e.options||jkt},{annotations:r=[],marks:o=[]}=e,i=[Ekt,kkt],s=Object.assign(St(UO,KZ),e,{type:UO,options:n});return Un(s,"fields",()=>i.map(c=>{const{name:u,...d}=c;return{name:u,type:t(d)}})),Un(s,"annotations",()=>r.map(t)),Un(s,"marks",()=>o.map(t)),Un(s,"preview",Xw(e)),a(s);function a(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const d=Object.assign({},c,St(u,KZ),{type:c});return a(d)}}}}};var Akt=Object.freeze({__proto__:null,any:eEt,array:akt,block:xkt,boolean:iEt,crossDatasetReference:ZEt,date:oEt,datetime:rEt,document:skt,email:aEt,file:okt,image:tkt,number:lEt,object:Vke,reference:VEt,span:Tkt,string:tEt,text:nEt,url:sEt});function Dkt(e){const t=Object.assign(Object.create(null),Akt),n=e.types.reduce((s,a)=>{if(s[a.name])throw new Error("Duplicate type name added to schema: ".concat(a.name));return s[a.name]=a,s},{});return e.types.forEach(i),t;function r(s){if(!t[s]){if(!n[s])throw new Error("Unknown type: ".concat(s));i(n[s])}}function o(s){return r(s.type),t[s.type].extend(s,o).get()}function i(s){r(s.type),!t[s.name]&&(t[s.name]=t[s.type].extend(s,o))}}let Ikt=class Uke{static compile(t){return new Uke(t)}constructor(t){this._original=t,this._registry=Dkt(t)}get name(){return this._original.name}get(t){return this._registry[t]&&this._registry[t].get()}has(t){return t in this._registry}getTypeNames(){return Object.keys(this._registry)}};const H9=Ikt;var Okt=qT;function Pkt(e){return e&&e.length?Okt(e):[]}var Rkt=Pkt;const ho=Ie(Rkt),$kt={},Mkt=Object.freeze(Object.defineProperty({__proto__:null,default:$kt},Symbol.toStringTag,{value:"Module"})),Fkt=AFe(Mkt);var U9=typeof Map=="function"&&Map.prototype,WO=Object.getOwnPropertyDescriptor&&U9?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Mk=U9&&WO&&typeof WO.get=="function"?WO.get:null,ZZ=U9&&Map.prototype.forEach,W9=typeof Set=="function"&&Set.prototype,YO=Object.getOwnPropertyDescriptor&&W9?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Fk=W9&&YO&&typeof YO.get=="function"?YO.get:null,XZ=W9&&Set.prototype.forEach,Lkt=typeof WeakMap=="function"&&WeakMap.prototype,Cb=Lkt?WeakMap.prototype.has:null,Bkt=typeof WeakSet=="function"&&WeakSet.prototype,_b=Bkt?WeakSet.prototype.has:null,Nkt=typeof WeakRef=="function"&&WeakRef.prototype,QZ=Nkt?WeakRef.prototype.deref:null,zkt=Boolean.prototype.valueOf,Vkt=Object.prototype.toString,Hkt=Function.prototype.toString,Ukt=String.prototype.match,Y9=String.prototype.slice,af=String.prototype.replace,Wkt=String.prototype.toUpperCase,JZ=String.prototype.toLowerCase,Wke=RegExp.prototype.test,eX=Array.prototype.concat,bc=Array.prototype.join,Ykt=Array.prototype.slice,tX=Math.floor,gM=typeof BigInt=="function"?BigInt.prototype.valueOf:null,qO=Object.getOwnPropertySymbols,vM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,a0=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Fi=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===a0||"symbol")?Symbol.toStringTag:null,Yke=Object.prototype.propertyIsEnumerable,nX=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function rX(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||Wke.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-tX(-e):tX(e);if(r!==e){var o=String(r),i=Y9.call(t,o.length+1);return af.call(o,n,"$&_")+"."+af.call(af.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return af.call(t,n,"$&_")}var yM=Fkt,oX=yM.custom,iX=Gke(oX)?oX:null,qkt=function e(t,n,r,o){var i=n||{};if(Hd(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Hd(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Hd(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Hd(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Hd(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return Zke(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var c=String(t);return a?rX(t,c):c}if(typeof t=="bigint"){var u=String(t)+"n";return a?rX(t,u):u}var d=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return bM(t)?"[Array]":"[Object]";var f=d5t(i,r);if(typeof o>"u")o=[];else if(Kke(o,t)>=0)return"[Circular]";function p(I,O,$){if(O&&(o=Ykt.call(o),o.push(O)),$){var R={depth:i.depth};return Hd(i,"quoteStyle")&&(R.quoteStyle=i.quoteStyle),e(I,R,r+1,o)}return e(I,i,r+1,o)}if(typeof t=="function"&&!sX(t)){var m=n5t(t),v=A_(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(v.length>0?" { "+bc.call(v,", ")+" }":"")}if(Gke(t)){var g=a0?af.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):vM.call(t);return typeof t=="object"&&!a0?X1(g):g}if(l5t(t)){for(var y="<"+JZ.call(String(t.nodeName)),x=t.attributes||[],b=0;b<x.length;b++)y+=" "+x[b].name+"="+qke(Gkt(x[b].value),"double",i);return y+=">",t.childNodes&&t.childNodes.length&&(y+="..."),y+="</"+JZ.call(String(t.nodeName))+">",y}if(bM(t)){if(t.length===0)return"[]";var w=A_(t,p);return f&&!u5t(w)?"["+xM(w,f)+"]":"[ "+bc.call(w,", ")+" ]"}if(Zkt(t)){var C=A_(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!Yke.call(t,"cause")?"{ ["+String(t)+"] "+bc.call(eX.call("[cause]: "+p(t.cause),C),", ")+" }":C.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+bc.call(C,", ")+" }"}if(typeof t=="object"&&s){if(iX&&typeof t[iX]=="function"&&yM)return yM(t,{depth:d-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(r5t(t)){var _=[];return ZZ&&ZZ.call(t,function(I,O){_.push(p(O,t,!0)+" => "+p(I,t))}),aX("Map",Mk.call(t),_,f)}if(s5t(t)){var S=[];return XZ&&XZ.call(t,function(I){S.push(p(I,t))}),aX("Set",Fk.call(t),S,f)}if(o5t(t))return GO("WeakMap");if(a5t(t))return GO("WeakSet");if(i5t(t))return GO("WeakRef");if(Qkt(t))return X1(p(Number(t)));if(e5t(t))return X1(p(gM.call(t)));if(Jkt(t))return X1(zkt.call(t));if(Xkt(t))return X1(p(String(t)));if(!Kkt(t)&&!sX(t)){var E=A_(t,p),j=nX?nX(t)===Object.prototype:t instanceof Object||t.constructor===Object,k=t instanceof Object?"":"null prototype",T=!j&&Fi&&Object(t)===t&&Fi in t?Y9.call(bh(t),8,-1):k?"Object":"",A=j||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",D=A+(T||k?"["+bc.call(eX.call([],T||[],k||[]),": ")+"] ":"");return E.length===0?D+"{}":f?D+"{"+xM(E,f)+"}":D+"{ "+bc.call(E,", ")+" }"}return String(t)};function qke(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function Gkt(e){return af.call(String(e),/"/g,"&quot;")}function bM(e){return bh(e)==="[object Array]"&&(!Fi||!(typeof e=="object"&&Fi in e))}function Kkt(e){return bh(e)==="[object Date]"&&(!Fi||!(typeof e=="object"&&Fi in e))}function sX(e){return bh(e)==="[object RegExp]"&&(!Fi||!(typeof e=="object"&&Fi in e))}function Zkt(e){return bh(e)==="[object Error]"&&(!Fi||!(typeof e=="object"&&Fi in e))}function Xkt(e){return bh(e)==="[object String]"&&(!Fi||!(typeof e=="object"&&Fi in e))}function Qkt(e){return bh(e)==="[object Number]"&&(!Fi||!(typeof e=="object"&&Fi in e))}function Jkt(e){return bh(e)==="[object Boolean]"&&(!Fi||!(typeof e=="object"&&Fi in e))}function Gke(e){if(a0)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!vM)return!1;try{return vM.call(e),!0}catch{}return!1}function e5t(e){if(!e||typeof e!="object"||!gM)return!1;try{return gM.call(e),!0}catch{}return!1}var t5t=Object.prototype.hasOwnProperty||function(e){return e in this};function Hd(e,t){return t5t.call(e,t)}function bh(e){return Vkt.call(e)}function n5t(e){if(e.name)return e.name;var t=Ukt.call(Hkt.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function Kke(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function r5t(e){if(!Mk||!e||typeof e!="object")return!1;try{Mk.call(e);try{Fk.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function o5t(e){if(!Cb||!e||typeof e!="object")return!1;try{Cb.call(e,Cb);try{_b.call(e,_b)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function i5t(e){if(!QZ||!e||typeof e!="object")return!1;try{return QZ.call(e),!0}catch{}return!1}function s5t(e){if(!Fk||!e||typeof e!="object")return!1;try{Fk.call(e);try{Mk.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function a5t(e){if(!_b||!e||typeof e!="object")return!1;try{_b.call(e,_b);try{Cb.call(e,Cb)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function l5t(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function Zke(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Zke(Y9.call(e,0,t.maxStringLength),t)+r}var o=af.call(af.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,c5t);return qke(o,"single",t)}function c5t(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+Wkt.call(t.toString(16))}function X1(e){return"Object("+e+")"}function GO(e){return e+" { ? }"}function aX(e,t,n,r){var o=r?xM(n,r):bc.call(n,", ");return e+" ("+t+") {"+o+"}"}function u5t(e){for(var t=0;t<e.length;t++)if(Kke(e[t],`
`)>=0)return!1;return!0}function d5t(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=bc.call(Array(e.indent+1)," ");else return null;return{base:n,prev:bc.call(Array(t+1),n)}}function xM(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+bc.call(e,","+n)+`
`+t.prev}function A_(e,t){var n=bM(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=Hd(e,o)?t(e[o],e):""}var i=typeof qO=="function"?qO(e):[],s;if(a0){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=i[a]}for(var c in e)Hd(e,c)&&(n&&String(Number(c))===c&&c<e.length||a0&&s["$"+c]instanceof Symbol||(Wke.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if(typeof qO=="function")for(var u=0;u<i.length;u++)Yke.call(e,i[u])&&r.push("["+t(i[u])+"]: "+t(e[i[u]],e));return r}const nv=Ie(qkt);function f5t(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}var h5t=f5t,p5t=Y2e;function m5t(e,t,n,r){return p5t(e,function(o,i,s){t(r,o,n(o),s)}),r}var g5t=m5t,v5t=h5t,y5t=g5t,b5t=gh,x5t=Jr;function w5t(e,t){return function(n,r){var o=x5t(n)?v5t:y5t,i=t?t():{};return o(n,e,b5t(r),i)}}var q9=w5t,C5t=q9,_5t=C5t(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),S5t=_5t;const G9=Ie(S5t);var E5t=function(t,n){if(!Array.isArray(t))throw new TypeError("humanize-list expected an array");n=n||{},n.conjunction=n.conjunction||"and";var r=t.length;if(r===1)return t[0];if(n.skipConjunction)return t.join(", ");for(var o="",i=0;i<r;i++)i===r-1?(n.oxfordComma&&(o+=","),o+=" "+n.conjunction+" "):i!==0&&(o+=", "),o+=t[i];return o};const Es=Ie(E5t);var K9={exports:{}};const KO=[],lX=[],Xke=(e,t)=>{if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let r=e.length,o=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-o);)r--,o--;let i=0;for(;i<r&&e.charCodeAt(i)===t.charCodeAt(i);)i++;if(r-=i,o-=i,r===0)return o;let s,a,c,u,d=0,f=0;for(;d<r;)lX[d]=e.charCodeAt(i+d),KO[d]=++d;for(;f<o;)for(s=t.charCodeAt(i+f),c=f++,a=f,d=0;d<r;d++)u=s===lX[d]?c:c+1,c=KO[d],a=KO[d]=c>a?u>a?a+1:u:u>c?c+1:u;return a};K9.exports=Xke;K9.exports.default=Xke;var k5t=K9.exports;const j5t=Ie(k5t),T5t="https://docs.sanity.io/help/";function Z9(e){return T5t+e}const ot={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function Qke(e,t,n){if(n&&!Object.keys(ot).some(r=>ot[r]===n))throw new Error('Used the unknown helpId "'.concat(n,'", please add it to the array in createValidationResult.js'));return{severity:e,message:t,helpId:n}}const Oe=(e,t)=>Qke("error",e,t),Nr=(e,t)=>Qke("warning",e,t);function A5t(e){return Tn(e.map(t=>Jke(t))).filter(t=>t.problems.length>0)}function Hm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n=>Hn(n,e);return function(r,o){const i=[...o,{kind:"type",type:r.type,name:r.name}],s=t(r)||[],a=Array.isArray(s)?s.map(c=>{const u={kind:"property",name:e},d=[...i,u];return Jke(c,d)}):[[{path:i,problems:[Oe("Member declaration (".concat(e,") is not an array"))]}]];return[{path:i,problems:r._problems||[]},...Tn(a)]}}const D5t=e=>Array.isArray(e)?e:typeof e>"u"&&[]||[e],cX=Hm("fields"),I5t=Hm("fields"),O5t=Hm("fields"),P5t=Hm("of"),R5t=Hm("to",e=>"to"in e?D5t(e.to):[]),$5t=Hm("marks.annotations"),M5t=Hm("of"),F5t=(e,t)=>[...$5t(e,t),...M5t(e,t)];function L5t(e){return[{path:[...arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],{kind:"type",type:e.type,name:e.name}],problems:e._problems||[]}]}function Jke(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];switch(e.type){case"object":return cX(e,t);case"document":return cX(e,t);case"array":return P5t(e,t);case"reference":return R5t(e,t);case"block":return F5t(e,t);case"image":return I5t(e,t);case"file":return O5t(e,t);default:return L5t(e,t)}}function ZT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r=>r;const n=e.reduce((r,o)=>{const i=t(o);return r[i]||(r[i]=[]),r[i].push(o),r},{});return Object.keys(n).map(r=>n[r].length>1?n[r]:null).filter(Boolean)}const B5t=e=>e,N5t={name:"type",type:null},z5t=["any","time","date"];function V5t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:B5t;const r=Object.create(null),o=Object.create(null),i=t.map(v=>v.name),s=z5t.concat(i),a=e.map(v=>v&&v.name).filter(Boolean);t.forEach(v=>{r[v.name]=v}),e.forEach((v,g)=>{o[v&&v.name||"__unnamed_".concat(g)]={}});function c(v){return v==="type"?N5t:r[v]||o[v]||null}const u=ho(Tn(ZT(a)));function d(v){return u.includes(v)}function f(){return a.concat(i)}function p(v){return v==="type"||s.includes(v)}const m=v=>(g,y)=>n(g,{visit:m(!1),isRoot:v,getType:c,getTypeNames:f,isReserved:p,isDuplicate:d,index:y});return t.forEach(v=>{Object.assign(r[v.name],m(v))}),e.forEach((v,g)=>{Object.assign(o[v&&v.name||"__unnamed_".concat(g)],m(!0)(v,g))}),{get(v){const g=o[v]||r[v];if(g)return g;throw new Error("No such type: ".concat(v))},has(v){return v in o||v in r},getTypeNames(){return Object.keys(o)},getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const e5e=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],t5e=e5e.map(e=>e.name);function H5t(e,t){return V5t(e,e5e,t)}const U5t=/^Symbol\(react\..+\)$/;function D_(e){return typeof e==="function"||typeof(e==null?void 0:e.$$typeof)=="symbol"&&U5t.test(String(e==null?void 0:e.$$typeof))}function n5e(e){const t="components"in e?e.components:!1;if(!t)return[];const n=[];return t.input&&!D_(t.input)&&n.push(Nr("The `components.input` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(nv(t.input),"). If you have imported a custom input component, please verify that you have imported the correct named/default export."))),t.field&&!D_(t.field)&&n.push(Nr("The `components.field` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(nv(t.field),"). If you have imported a custom field component, please verify that you have imported the correct named/default export."))),t.item&&!D_(t.item)&&n.push(Nr("The `components.item` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(nv(t.item),"). If you have imported a custom item component, please verify that you have imported the correct named/default export."))),t.preview&&!D_(t.preview)&&n.push(Nr("The `components.preview` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(nv(t.preview),"). If you have imported a custom preview component, please verify that you have imported the correct named/default export."))),n}const uX=/^[A-Za-z]+[0-9A-Za-z_]*$/,W5t=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function Y5t(e){return typeof e!="string"?[Oe('Field names must be strings. Saw "'.concat(nv(e),'"'),ot.OBJECT_FIELD_NAME_INVALID)]:e.startsWith("_")?[Oe('Invalid field name "'.concat(e,`". Field names cannot start with underscores "_" as it's reserved for system fields.`),ot.OBJECT_FIELD_NAME_INVALID)]:uX.test(e)?W5t.test(e)?[]:[Nr("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),ot.OBJECT_FIELD_NAME_INVALID]:[Oe('Invalid field name: "'.concat(e,'". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ').concat(String(uX),")."),ot.OBJECT_FIELD_NAME_INVALID)]}function X9(e,t){if(!Sr(e))return[Oe("Incorrect type for field definition - should be an object, saw ".concat(nv(e)),ot.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const n=[];return n.push(..."name"in e?Y5t(e.name):[Oe("Missing field name",ot.OBJECT_FIELD_NAME_INVALID)]),n.push(...n5e(e)),n}function q5t(e){const t={};return e.forEach(n=>{t[n.name]||(t[n.name]=[]),t[n.name].push(n)}),Object.keys(t).map(n=>t[n].length>1?t[n]:null).filter(Boolean)}function Q9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{allowEmpty:!1};const n=[];if(!Array.isArray(e))return[Oe('The "fields" property must be an array of fields. Instead saw "'.concat(typeof e,'"'),ot.OBJECT_FIELDS_INVALID)];const o=e.filter(s=>typeof s.name=="string");q5t(o).forEach(s=>{n.push(Oe("Found ".concat(s.length,' fields with name "').concat(s[0].name,'" in object'),ot.OBJECT_FIELD_NOT_UNIQUE))}),e.length===0&&!t.allowEmpty&&n.push(Oe("Object should have at least one field",ot.OBJECT_FIELDS_INVALID));const i=e.filter(s=>s.type==="block").map(s=>'"'.concat(s.name,'"'));if(i.length>0){const s=i.join(", ");n.push(Oe("Invalid standalone block field(s) ".concat(s,". Block content must be defined as an array of blocks"),ot.STANDALONE_BLOCK_TYPE))}return n}function G5t(e){return Sr(e)?typeof e.prepare<"u"&&typeof e.prepare!="function"?[Oe('The "preview.prepare" property must be a function, instead saw "'.concat(typeof e.prepare,'"'))]:e.select?Sr(e.select)?Object.keys(e.select).reduce((t,n)=>typeof e.select[n]=="string"?t:t.concat(Oe('The key "'.concat(n,'" of "preview.select" must be a string, instead saw "').concat(typeof e.select[n],'"'))),[]):[Oe('The "preview.select" property must be an object, instead saw "'.concat(typeof e.prepare,'"'))]:[]:[Oe('The "preview" property must be an object, instead saw "'.concat(typeof e,'"'))]}var r5e=(e,t)=>{let n=Q9(e.fields),r=e.preview;if(r){const o=G5t(e.preview);n=n.concat(o),r=o.some(i=>i.severity==="error")?{}:r}return e.type!=="document"&&e.type!=="object"&&typeof e.initialValue<"u"&&n.push(Oe('The "initialValue" property is currently only supported for document & object types.')),{...e,preview:r,fields:(Array.isArray(e.fields)?e.fields:[]).map((o,i)=>{const{name:s,...a}=o,{_problems:c,...u}=t.visit(a,i);return{name:s,...u,_problems:X9(o).concat(c||[])}}),_problems:n}},K5t=(e,t)=>{const n=r5e(e,t),{initialValue:r,initialValues:o}=n;return typeof r<"u"&&!Sr(r)&&typeof r!="function"&&n._problems.push(Oe('The "initialValue" property must be either a plain object or a function')),typeof o<"u"&&n._problems.push(Oe('Found property "initialValues" - did you mean "initialValue"?')),n};function Z5t(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}var X5t=(e,t)=>{const n=Array.isArray(e.to)||Sr(e.to),r=Z5t(e),o=Tn([n?ZT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>Oe("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),ot.REFERENCE_TO_INVALID)):Oe('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',ot.REFERENCE_TO_INVALID)]);return n&&r.length===0&&o.push(Oe('The reference type should define at least one accepted type. Please check the "to" property.',ot.REFERENCE_TO_INVALID)),o.push(...Q5t(e)),{...e,to:(n?r:[]).map(t.visit),_problems:o}};function Q5t(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Oe("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),ot.REFERENCE_INVALID_OPTIONS_LOCATION))),t?Sr(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Oe("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",ot.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Oe("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!Sr(t.filterParams)?n.concat(Oe("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Oe('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(Oe("The reference type expects `options` to be an object",ot.REFERENCE_INVALID_OPTIONS)):n}function dX(e){return e==="string"||e==="number"||e==="boolean"}function J5t(e,t){return(typeof t.name=="string"?t.name:t.type)===e}function Sb(e){return'"'.concat(e,'"')}function fX(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"s";return e.length===1?"":t}function hX(e){return Array.isArray(e)?"array with ".concat(e.length," entries"):typeof e=="object"&&e!==null?"object with keys ".concat(Es(Object.keys(e).map(Sb))):Sb(e)}var ejt=(e,t)=>{var n,r,o;const i=Array.isArray(e.of);if(i){const v=e.of.reduce((g,y,x)=>{if(typeof y.name=="string"&&y.name!==y.type&&t5e.includes(y.name))return g.concat(Oe('Found array member declaration with the same type name as a built-in type ("'.concat(y.name,'"). Array members can not be given the same name as a built-in type.'),ot.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if(y.type==="object"&&y.name&&t.getType(y.name))return g.concat(Nr('Found array member declaration with the same name as the global schema type "'.concat(y.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),ot.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if(y.type==="array")return g.concat(Oe('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',ot.ARRAY_OF_ARRAY));if(y)return g;const b="Found ".concat(y===null?"null":typeof y,", expected member declaration");return g.concat(Oe("Found invalid type member declaration in array at index ".concat(x,": ").concat(b),ot.ARRAY_OF_INVALID))},[]);if(v.length>0)return{...e,of:[],_problems:v}}const s=Tn([i?ZT(e.of,v=>"".concat(v.name,";").concat(v.type)).map(v=>Oe("Found ".concat(v.length,' members with same type, but not unique names "').concat(v[0].type,'" in array. This makes it impossible to tell their values apart and you should consider naming them'),ot.ARRAY_OF_NOT_UNIQUE)):Oe('The array type is missing or having an invalid value for the required "of" property',ot.ARRAY_OF_INVALID)]),a=i?e.of:[],c=a.some(v=>v.type==="object"&&typeof v.name>"u");a.some(v=>v.type==="block")&&c&&s.push(Oe("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",ot.ARRAY_OF_INVALID));const[d,f]=G9(a,v=>{var g;return dX(v.type)||dX((g=t.getType(v.type))==null?void 0:g.jsonType)}),p=d.length>0&&f.length>0;if(p){const v=d.map(y=>y.type),g=f.map(y=>y.type);s.push(Oe("The array type's 'of' property can't have both object types and primitive types (found primitive type ".concat(fX(v)," ").concat(Es(v.map(Sb))," and object type").concat(fX(g)," ").concat(Es(g.map(Sb)),")"),ot.ARRAY_OF_INVALID))}const m=(n=e==null?void 0:e.options)==null?void 0:n.list;return!p&&Array.isArray(m)&&(d.length>0?m.forEach(g=>{var y;const x=(y=g==null?void 0:g.value)!=null?y:g;if(!d.some(w=>typeof x===t.getType(w.type).jsonType)){const w=Es(d.map(C=>C.name||C.type),{conjunction:"or"});s.push(Oe("An invalid entry found in options.list: ".concat(hX(x),". Must be either a value of type ").concat(w,", or an object with {title: string, value: ").concat(w,"}"),ot.ARRAY_PREDEFINED_CHOICES_INVALID))}}):m.forEach(g=>{const y=g._type||"object";f.some(b=>J5t(y,b))||s.push(Oe("An invalid entry found in options.list: ".concat(hX(g),'. Must be an object with "_type" set to ').concat(Es(f.map(b=>b.name||b.type).map(b=>b==="object"?"undefined":Sb(b)),{conjunction:"or"})),ot.ARRAY_PREDEFINED_CHOICES_INVALID))})),(r=e==null?void 0:e.options)!=null&&r.list&&((o=e==null?void 0:e.options)==null?void 0:o.layout)==="tags"&&s.push(Nr("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...e,of:a.map(t.visit),_problems:s}},tjt=(e,t)=>{const n=[];return e.options&&e.options.slugifyFn&&(n.push(Nr('Heads up! The "slugifyFn" option has been renamed to "slugify".',ot.SLUG_SLUGIFY_FN_RENAMED)),e.options.slugify=e.options.slugifyFn),{...e,_problems:n}},njt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...Q9(r,{allowEmpty:!0}));const o=Array.isArray(r)?r==null?void 0:r.filter(i=>i.name==="asset"):[];return e.options&&typeof e.options.metadata<"u"&&!Array.isArray(e.options.metadata)?n.push(Oe("Invalid type for file `metadata` field - must be an array of strings",ot.ASSET_METADATA_FIELD_INVALID)):o.length>0&&n.push(Oe("The name `asset` is not a valid field name for type `file`.")),{...e,fields:(Array.isArray(r)?r:[]).map((i,s)=>{const{name:a,...c}=i,{_problems:u,...d}=t.visit(c,s);return{name:a,...d,_problems:X9(i).concat(u||[])}}),_problems:n}};const pX=["dimensions","hasAlpha","isOpaque"];var rjt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...Q9(r,{allowEmpty:!0}));let o=e.options;const i=o==null?void 0:o.metadata,s=Array.isArray(i)?i.filter(u=>pX.includes(u)):[],a=["asset","hotspot","crop"],c=Array.isArray(r)?r==null?void 0:r.filter(u=>a.includes(u.name)):[];return typeof i<"u"&&!Array.isArray(i)?n.push(Oe("Invalid type for image `metadata` field - must be an array of strings",ot.ASSET_METADATA_FIELD_INVALID)):s.length>0?(n.push(Nr("Image `metadata` field contains superfluous properties (they are always included): ".concat(s.join(", ")))),o={...o,metadata:i.filter(u=>!pX.includes(u))}):c.length>0&&n.push(Oe("The names `".concat(a.join("`, `"),"` are invalid field names for type `image`."))),{...e,options:o,fields:(Array.isArray(r)?r:[]).map((u,d)=>{const{name:f,...p}=u,{_problems:m,...v}=t.visit(p,d);return{name:f,...v,_problems:X9(u).concat(m||[])}}),_problems:n}};function o5e(e,t,n){if("jsonType"in e)return e.jsonType===t;const r=n.getType(e.type);if(!r)throw new Error("Could not resolve jsonType of ".concat(e.name,". No parent type found"));return o5e(r,t,n)}const ia=e=>Array.isArray(e)?"array":typeof e,Qw=e=>'"'.concat(e,'"'),ojt=["components","lists","marks","name","of","options","styles","title","type","validation"],ijt=["decorators","annotations"],sjt=["blockEditor","title","value","component"],ajt=["blockEditor","title","value","icon","component"],ljt=["title","value","icon","component"],mX=["file","image","object","reference"];function cjt(e,t){const n=[];let r=e.styles,o=e.lists,i=e.marks,s=e.of;const a=Object.keys(e).filter(c=>!ojt.includes(c)&&!c.startsWith("_"));return a.length>0&&n.push(Oe("Found unknown properties for block declaration: ".concat(Es(a.map(Qw))))),i&&(i=ujt(e.marks,t,n)),r&&(r=fjt(r,t,n)),o&&(o=djt(o,t,n)),s&&(s=mjt(s,t,n)),{...Mi(e,a),marks:i,styles:r,name:e.name||e.type,of:s,_problems:n}}function ujt(e,t,n){let r=e.decorators,o=e.annotations;if(!Sr(e))return n.push(Oe('"marks" declaration should be an object, got '.concat(ia(e)))),n;const i=Object.keys(e).filter(s=>!ijt.includes(s)&&!s.startsWith("_"));return i.length>0&&n.push(Oe("Found unknown properties for block declaration: ".concat(Es(i.map(Qw))))),r&&!Array.isArray(r)?n.push(Oe('"marks.decorators" declaration should be an array, got '.concat(ia(r)))):r&&(r.filter(s=>!!s.blockEditor).forEach(s=>{s.icon=s.blockEditor.icon,s.component=s.blockEditor.render}),r=hjt(r,t,n)),o&&!Array.isArray(o)?n.push(Oe('"marks.annotations" declaration should be an array, got '.concat(ia(o)))):o&&(o=pjt(o,t,n)),{...e,decorators:r,annotations:o}}function djt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!Sr(r)){n.push(Oe("List must be an object, got ".concat(ia(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!ljt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Oe("Found unknown properties for list ".concat(i,": ").concat(Es(s.map(Qw))))),r.value?typeof r.value!="string"?n.push(Oe("List type #".concat(o,' has an invalid "value" property, expected string, got ').concat(ia(r.value)))):r.title||n.push(Nr("List type ".concat(i,' is missing recommended "title" property'))):n.push(Oe("List #".concat(o,' is missing required "value" property')))}),e):(n.push(Oe('"lists" declaration should be an array, got '.concat(ia(e)))),n)}function fjt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!Sr(r)){n.push(Oe("Style must be an object, got ".concat(ia(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!sjt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Oe("Found unknown properties for style ".concat(i,": ").concat(Es(s.map(Qw))))),r.value?typeof r.value!="string"?n.push(Oe("Style #".concat(o,' has an invalid "value" property, expected string, got ').concat(ia(r.value)))):r.title||n.push(Nr("Style ".concat(i,' is missing recommended "title" property'))):n.push(Oe("Style #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Nr('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',ot.DEPRECATED_BLOCKEDITOR_KEY)),r.component=r.component||r.blockEditor.render)}),e):(n.push(Oe('"styles" declaration should be an array, got '.concat(ia(e)))),n)}function hjt(e,t,n){return e.forEach((r,o)=>{if(!Sr(r)){n.push(Oe("Annotation must be an object, got ".concat(ia(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!ajt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Oe("Found unknown properties for decorator ".concat(i,": ").concat(Es(s.map(Qw))))),r.value?typeof r.value!="string"?n.push(Oe("Decorator #".concat(o,' has an invalid "value" property, expected string, got ').concat(ia(r.value)))):r.title||n.push(Nr("Decorator ".concat(i,' is missing recommended "title" property'))):n.push(Oe("Decorator #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Nr('Decorator "'.concat(i,'" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.'),ot.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,r.component=r.component||r.blockEditor.render)}),e}function pjt(e,t,n){return e.map(r=>{var o,i;if(!Sr(r))return{...r,_problems:[Oe("Annotation must be an object, got ".concat(ia(r)))]};const{_problems:s}=t.visit(r,t),a=r.type&&t.getType(r.type);return a&&!o5e(a,"object",t)&&s.push(Oe('Annotation cannot have type "'.concat(r.type,'" - annotation types must inherit from object'))),typeof r.blockEditor<"u"&&(n.push(Nr('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',ot.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,(o=r.blockEditor)!=null&&o.render&&!((i=r.components)!=null&&i.annotation)&&(r.components=r.components||{},r.components.annotation=r.components.annotation||r.blockEditor.render)),{...r,_problems:s}})}function mjt(e,t,n){if(!Array.isArray(e)){n.push(Oe('"of" declaration should be an array, got '.concat(ia(e))));return}return e.map(r=>{const{_problems:o}=t.visit(r,t);if(r.type==="object"&&r.name&&t.getType(r.name))return{...r,_problems:[Nr('Found array member declaration with the same name as the global schema type "'.concat(r.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),ot.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let i=r;for(;i&&!i.jsonType;)i=t.getType(i.type);const s=t5e.filter(a=>!mX.includes(a));return i&&i.jsonType!=="object"||s.some(a=>a===r.type)?{...r,_problems:[Oe("Block member types must be a supported object-like type. The following built-in types are supported: '".concat(mX.join("', '"),"'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}"),ot.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...r,_problems:o}})}function gjt(e,t){if(!("fields"in e))return[];let n=e;for(;n&&!n.jsonType;)n=t.getType(n.type);return n&&n.jsonType!=="object"?[Oe('Type has propery "fields", but is not an object/document type.')]:[]}const vjt=e=>'"'.concat(e,'"');function yjt(e,t){const n=t.getTypeNames();if(!e)return[Oe("Type is missing a type. Valid types are: ".concat(Es(n)),ot.TYPE_MISSING_TYPE)];if(typeof e!="string")return[Oe('Type has an invalid "type"-property - should be a string. Valid types are: '.concat(Es(n)),ot.TYPE_MISSING_TYPE)];if(!n.includes(e)){const o=n.map(s=>[j5t(e,s),s]).filter(s=>{let[a]=s;return a<3}).map(s=>{let[a,c]=s;return c}),i=o.length>0?" Did you mean ".concat(Es(o.map(vjt),{conjunction:"or"}),"?"):"";return[Oe("Unknown type: ".concat(e,".").concat(i,`

Valid types are: `).concat(Es(n)))]}return[]}function bjt(e){var t,n,r;const o=[];return e!=null&&e.inputComponent&&o.push(Nr('The "inputComponent" property is deprecated. Use "components.input" instead.')),(t=e==null?void 0:e.preview)!=null&&t.component&&o.push(Nr('The "preview.component" property is deprecated. Use "components.preview" instead.')),e!=null&&e.diffComponent&&o.push(Nr('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(n=e==null?void 0:e.options)!=null&&n.editModal&&o.push(Nr('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(r=e==null?void 0:e.options)!=null&&r.isHighlighted&&o.push(Nr('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),o}var gX=(e,t)=>({...e,_problems:[...yjt(e.type,t),...gjt(e,t),...bjt(e)].filter(Boolean)}),xjt=(e,t)=>{const n=!!e.name;if(!n&&Object.keys(e).length===1)return{...e,_problems:[Oe("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",ot.TYPE_INVALID)]};const r=[];return wjt(e)?r.push(Oe("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",ot.TYPE_IS_ESM_MODULE)):n?t.isReserved(e.name)&&r.push(Oe('Invalid type name: "'.concat(e.name,'" is a reserved name.'),ot.TYPE_NAME_RESERVED)):r.push(Oe("Missing type name",ot.TYPE_MISSING_NAME)),t.isDuplicate(e.name)&&r.push(Oe('Invalid type name: A type with name "'.concat(e.name,'" is already defined in the schema.'))),r.push(...n5e(e)),"title"in e&&typeof e.title!="string"&&r.push(Nr("Type title is not a string.",ot.TYPE_TITLE_INVALID)),{...e,_problems:r}};function wjt(e){return!e.name&&e.default&&(e.default.name||e.default.title)}function Cjt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}const _jt=/^[a-z0-9~][-_a-z0-9]+$/;function Sjt(e){return e.length>=2&&e.toLowerCase()===e&&_jt.test(e)||'The provided dataset "'.concat(e,`" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`)}var Ejt=(e,t)=>{const n=Array.isArray(e.to)||Sr(e.to),r=Cjt(e),o=Tn([n?ZT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>Oe("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),ot.CROSS_DATASET_REFERENCE_INVALID)):Oe('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',ot.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&r.length===0&&o.push(Oe('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',ot.CROSS_DATASET_REFERENCE_INVALID)),r.forEach((i,s)=>{i.type||o.push(Oe("The referenced type at index ".concat(s," must be named. Specify the name of the type you want to create references to."),ot.CROSS_DATASET_REFERENCE_INVALID)),Sr(i.preview)||o.push(Oe('Missing required preview config for the referenced type "'.concat(i.type||"<unknown type>",'"'),ot.CROSS_DATASET_REFERENCE_INVALID))}),typeof e.dataset=="string"){const i=Sjt(e.dataset);i!==!0&&o.push(Oe(i,ot.CROSS_DATASET_REFERENCE_INVALID))}else o.push(Oe("A cross dataset reference must specify a `dataset`",ot.CROSS_DATASET_REFERENCE_INVALID));return e.studioUrl&&typeof e.studioUrl!="function"&&o.push(Oe('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',ot.CROSS_DATASET_REFERENCE_INVALID)),o.push(...kjt(e)),{...e,_problems:o}};function kjt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Oe("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),ot.REFERENCE_INVALID_OPTIONS_LOCATION))),t?Sr(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Oe("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",ot.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Oe("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!Sr(t.filterParams)?n.concat(Oe("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Oe('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(Oe("The reference type expects `options` to be an object",ot.REFERENCE_INVALID_OPTIONS)):n}const jjt={array:ejt,object:r5e,slug:tjt,file:njt,image:rjt,block:cjt,document:K5t,reference:X5t,crossDatasetReference:Ejt},Tjt=e=>t=>({name:"<unnamed_type_@_index_".concat(e.index,">"),...t,_problems:[]});function vX(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r,o)=>t.reduce((i,s)=>{const a=s(i,o);return{...a,_problems:i._problems.concat(a._problems)}},{_problems:[],...r})}function Ajt(e){return H5t(e,(t,n)=>{const r=t&&t.type&&jjt[t.type]||Tjt(n);return n.isRoot?vX(xjt,gX,r)(t,n):vX(gX,r)(t,n)})}const wM="__experimental_actions",i5e=["create","update","delete","publish"],ZO=i5e,Djt=e=>wM in e?e[wM]:i5e,Ijt=(e,t)=>{if(!Array.isArray(t))throw new Error("The value of <type>.".concat(wM," should be an array with any of the actions ").concat(ZO.join(", ")));const n=im(t,ZO);if(n.length>0)throw new Error("Invalid action".concat(n.length>1?"s":"",' configured for schema type "').concat(e,'": ').concat(n.join(", "),". Valid actions are: ").concat(ZO.join(", ")));return t},Ojt=e=>Ijt(e.name,Djt(e)),yX=(e,t)=>Ojt(e).includes(t);var Pjt=N9,Rjt=1,$jt=4;function Mjt(e){return Pjt(e,Rjt|$jt)}var Fjt=Mjt;const Ljt=Ie(Fjt);function Ke(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Bjt(e){return Ke(1,arguments),e instanceof Date||Bl(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Xe(e){Ke(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Bl(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function td(e){if(Ke(1,arguments),!Bjt(e)&&typeof e!="number")return!1;var t=Xe(e);return!isNaN(Number(t))}function At(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Njt(e,t){Ke(2,arguments);var n=Xe(e).getTime(),r=At(t);return new Date(n+r)}function s5e(e,t){Ke(2,arguments);var n=At(t);return Njt(e,-n)}var zjt=864e5;function Vjt(e){Ke(1,arguments);var t=Xe(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/zjt)+1}function l0(e){Ke(1,arguments);var t=1,n=Xe(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function a5e(e){Ke(1,arguments);var t=Xe(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=l0(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=l0(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function Hjt(e){Ke(1,arguments);var t=a5e(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=l0(n);return r}var Ujt=6048e5;function l5e(e){Ke(1,arguments);var t=Xe(e),n=l0(t).getTime()-Hjt(t).getTime();return Math.round(n/Ujt)+1}var Wjt={};function xd(){return Wjt}function sm(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=xd(),f=At((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Xe(e),m=p.getUTCDay(),v=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p}function J9(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=Xe(e),f=d.getUTCFullYear(),p=xd(),m=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(f+1,0,m),v.setUTCHours(0,0,0,0);var g=sm(v,t),y=new Date(0);y.setUTCFullYear(f,0,m),y.setUTCHours(0,0,0,0);var x=sm(y,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function Yjt(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=xd(),f=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=J9(e,t),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var v=sm(m,t);return v}var qjt=6048e5;function c5e(e,t){Ke(1,arguments);var n=Xe(e),r=sm(n,t).getTime()-Yjt(n,t).getTime();return Math.round(r/qjt)+1}function gn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Gjt={y:function(t,n){var r=t.getUTCFullYear(),o=r>0?r:1-r;return gn(n==="yy"?o%100:o,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):gn(r+1,2)},d:function(t,n){return gn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return gn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return gn(t.getUTCHours(),n.length)},m:function(t,n){return gn(t.getUTCMinutes(),n.length)},s:function(t,n){return gn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,o=t.getUTCMilliseconds(),i=Math.floor(o*Math.pow(10,r-3));return gn(i,n.length)}};const Od=Gjt;var ug={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Kjt={G:function(t,n,r){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var o=t.getUTCFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return Od.y(t,n)},Y:function(t,n,r,o){var i=J9(t,o),s=i>0?i:1-i;if(n==="YY"){var a=s%100;return gn(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):gn(s,n.length)},R:function(t,n){var r=a5e(t);return gn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return gn(r,n.length)},Q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return gn(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return gn(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,r){var o=t.getUTCMonth();switch(n){case"M":case"MM":return Od.M(t,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,r){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return gn(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,r,o){var i=c5e(t,o);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):gn(i,n.length)},I:function(t,n,r){var o=l5e(t);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):gn(o,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Od.d(t,n)},D:function(t,n,r){var o=Vjt(t);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):gn(o,n.length)},E:function(t,n,r){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return gn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return gn(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var o=t.getUTCDay(),i=o===0?7:o;switch(n){case"i":return String(i);case"ii":return gn(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,r){var o=t.getUTCHours(),i=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var o=t.getUTCHours(),i;switch(o===12?i=ug.noon:o===0?i=ug.midnight:i=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var o=t.getUTCHours(),i;switch(o>=17?i=ug.evening:o>=12?i=ug.afternoon:o>=4?i=ug.morning:i=ug.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return Od.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Od.H(t,n)},K:function(t,n,r){var o=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):gn(o,n.length)},k:function(t,n,r){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):gn(o,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Od.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Od.s(t,n)},S:function(t,n){return Od.S(t,n)},X:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return xX(s);case"XXXX":case"XX":return op(s);case"XXXXX":case"XXX":default:return op(s,":")}},x:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"x":return xX(s);case"xxxx":case"xx":return op(s);case"xxxxx":case"xxx":default:return op(s,":")}},O:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+bX(s,":");case"OOOO":default:return"GMT"+op(s,":")}},z:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+bX(s,":");case"zzzz":default:return"GMT"+op(s,":")}},t:function(t,n,r,o){var i=o._originalDate||t,s=Math.floor(i.getTime()/1e3);return gn(s,n.length)},T:function(t,n,r,o){var i=o._originalDate||t,s=i.getTime();return gn(s,n.length)}};function bX(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(i===0)return n+String(o);var s=t||"";return n+String(o)+s+gn(i,2)}function xX(e,t){if(e%60===0){var n=e>0?"-":"+";return n+gn(Math.abs(e)/60,2)}return op(e,t)}function op(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),i=gn(Math.floor(o/60),2),s=gn(o%60,2);return r+i+n+s}const Zjt=Kjt;var wX=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},u5e=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Xjt=function(t,n){var r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return wX(t,n);var s;switch(o){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",wX(o,n)).replace("{{time}}",u5e(i,n))},Qjt={p:u5e,P:Xjt};const CM=Qjt;function Lk(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var Jjt=["D","DD"],eTt=["YY","YYYY"];function d5e(e){return Jjt.indexOf(e)!==-1}function f5e(e){return eTt.indexOf(e)!==-1}function Bk(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var tTt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nTt=function(t,n,r){var o,i=tTt[t];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const rTt=nTt;function XO(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var oTt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iTt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sTt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aTt={date:XO({formats:oTt,defaultWidth:"full"}),time:XO({formats:iTt,defaultWidth:"full"}),dateTime:XO({formats:sTt,defaultWidth:"full"})};const lTt=aTt;var cTt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uTt=function(t,n,r,o){return cTt[t]};const dTt=uTt;function Q1(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):i;o=e.formattingValues[s]||e.formattingValues[i]}else{var a=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[c]||e.values[a]}var u=e.argumentCallback?e.argumentCallback(t):t;return o[u]}}var fTt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hTt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pTt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mTt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gTt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vTt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yTt=function(t,n){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},bTt={ordinalNumber:yTt,era:Q1({values:fTt,defaultWidth:"wide"}),quarter:Q1({values:hTt,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Q1({values:pTt,defaultWidth:"wide"}),day:Q1({values:mTt,defaultWidth:"wide"}),dayPeriod:Q1({values:gTt,defaultWidth:"wide",formattingValues:vTt,defaultFormattingWidth:"wide"})};const xTt=bTt;function J1(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var s=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?CTt(a,function(f){return f.test(s)}):wTt(a,function(f){return f.test(s)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(s.length);return{value:u,rest:d}}}function wTt(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function CTt(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function _Tt(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(o.length);return{value:s,rest:a}}}var STt=/^(\d+)(th|st|nd|rd)?/i,ETt=/\d+/i,kTt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jTt={any:[/^b/i,/^(a|c)/i]},TTt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ATt={any:[/1/i,/2/i,/3/i,/4/i]},DTt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ITt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OTt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},PTt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},RTt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$Tt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MTt={ordinalNumber:_Tt({matchPattern:STt,parsePattern:ETt,valueCallback:function(t){return parseInt(t,10)}}),era:J1({matchPatterns:kTt,defaultMatchWidth:"wide",parsePatterns:jTt,defaultParseWidth:"any"}),quarter:J1({matchPatterns:TTt,defaultMatchWidth:"wide",parsePatterns:ATt,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:J1({matchPatterns:DTt,defaultMatchWidth:"wide",parsePatterns:ITt,defaultParseWidth:"any"}),day:J1({matchPatterns:OTt,defaultMatchWidth:"wide",parsePatterns:PTt,defaultParseWidth:"any"}),dayPeriod:J1({matchPatterns:RTt,defaultMatchWidth:"any",parsePatterns:$Tt,defaultParseWidth:"any"})};const FTt=MTt;var LTt={code:"en-US",formatDistance:rTt,formatLong:lTt,formatRelative:dTt,localize:xTt,match:FTt,options:{weekStartsOn:0,firstWeekContainsDate:1}};const h5e=LTt;var BTt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NTt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zTt=/^'([^]*?)'?$/,VTt=/''/g,HTt=/[a-zA-Z]/;function ei(e,t,n){var r,o,i,s,a,c,u,d,f,p,m,v,g,y,x,b,w,C;Ke(2,arguments);var _=String(t),S=xd(),E=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:S.locale)!==null&&r!==void 0?r:h5e,j=At((i=(s=(a=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:S.firstWeekContainsDate)!==null&&s!==void 0?s:(f=S.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=At((m=(v=(g=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(x=n.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&g!==void 0?g:S.weekStartsOn)!==null&&v!==void 0?v:(w=S.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var T=Xe(e);if(!td(T))throw new RangeError("Invalid time value");var A=Lk(T),D=s5e(T,A),I={firstWeekContainsDate:j,weekStartsOn:k,locale:E,_originalDate:T},O=_.match(NTt).map(function($){var R=$[0];if(R==="p"||R==="P"){var V=CM[R];return V($,E.formatLong)}return $}).join("").match(BTt).map(function($){if($==="''")return"'";var R=$[0];if(R==="'")return UTt($);var V=Zjt[R];if(V)return!(n!=null&&n.useAdditionalWeekYearTokens)&&f5e($)&&Bk($,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&d5e($)&&Bk($,t,String(e)),V(D,$,E.localize,I);if(R.match(HTt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return $}).join("");return O}function UTt(e){var t=e.match(zTt);return t?t[1].replace(VTt,"'"):e}var WTt=Gc,YTt=0;function qTt(e){var t=++YTt;return WTt(e)+t}var GTt=qTt;const p5e=Ie(GTt);function Ki(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function e7(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var s=i.getDate();return o>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function c0(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=xd(),f=At((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Xe(e),m=p.getDay(),v=(m<f?7:0)+m-f;return p.setDate(p.getDate()-v),p.setHours(0,0,0,0),p}function Jf(e){Ke(1,arguments);var t=Xe(e);return t.setHours(0,0,0,0),t}var KTt=864e5;function ZTt(e,t){Ke(2,arguments);var n=Jf(e),r=Jf(t),o=n.getTime()-Lk(n),i=r.getTime()-Lk(r);return Math.round((o-i)/KTt)}function XTt(e,t){Ke(2,arguments);var n=At(t),r=n*7;return Ki(e,r)}function Eb(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}var XT=6e4,QT=36e5,QTt=1e3;function Xd(e,t){Ke(2,arguments);var n=Jf(e),r=Jf(t);return n.getTime()===r.getTime()}function JTt(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function eAt(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t);return n.getFullYear()-r.getFullYear()}function CX(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function m5e(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t),o=CX(n,r),i=Math.abs(ZTt(n,r));n.setDate(n.getDate()-o*i);var s=+(CX(n,r)===-o),a=o*(i-s);return a===0?0:a}function t7(e,t){return Ke(2,arguments),Xe(e).getTime()-Xe(t).getTime()}var _X={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},tAt="trunc";function JT(e){return e?_X[e]:_X[tAt]}function nAt(e,t,n){Ke(2,arguments);var r=t7(e,t)/QT;return JT(n==null?void 0:n.roundingMethod)(r)}function rAt(e,t,n){Ke(2,arguments);var r=t7(e,t)/XT;return JT(n==null?void 0:n.roundingMethod)(r)}function Nk(e){Ke(1,arguments);var t=Xe(e);return t.setHours(23,59,59,999),t}function oAt(e){Ke(1,arguments);var t=Xe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function iAt(e){Ke(1,arguments);var t=Xe(e);return Nk(t).getTime()===oAt(t).getTime()}function sAt(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t),o=Eb(n,r),i=Math.abs(JTt(n,r)),s;if(i<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var a=Eb(n,r)===-o;iAt(Xe(e))&&i===1&&Eb(e,r)===1&&(a=!1),s=o*(i-Number(a))}return s===0?0:s}function aAt(e,t,n){Ke(2,arguments);var r=t7(e,t)/1e3;return JT(n==null?void 0:n.roundingMethod)(r)}function lAt(e,t,n){Ke(2,arguments);var r=m5e(e,t)/7;return JT(n==null?void 0:n.roundingMethod)(r)}function cAt(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t),o=Eb(n,r),i=Math.abs(eAt(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=Eb(n,r)===-o,a=o*(i-Number(s));return a===0?0:a}function SX(e){Ke(1,arguments);var t=Xe(e);return t.setSeconds(0,0),t}function g5e(e,t){Ke(1,arguments);var n=e||{},r=Xe(n.start),o=Xe(n.end),i=o.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var s=c0(r,t),a=c0(o,t);s.setHours(15),a.setHours(15),i=a.getTime();for(var c=[],u=s;u.getTime()<=i;)u.setHours(0),c.push(Xe(u)),u=XTt(u,1),u.setHours(15);return c}function v5e(e){Ke(1,arguments);var t=Xe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function EX(e){Ke(1,arguments);var t=Xe(e);return t.setSeconds(59,999),t}function uAt(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function dAt(e){Ke(1,arguments);var t=Xe(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function fAt(e){Ke(1,arguments);var t=Xe(e),n=t.getMinutes();return n}function hAt(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=Xe(e),f=d.getFullYear(),p=xd(),m=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(f+1,0,m),v.setHours(0,0,0,0);var g=c0(v,t),y=new Date(0);y.setFullYear(f,0,m),y.setHours(0,0,0,0);var x=c0(y,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function pAt(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=xd(),f=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=hAt(e,t),m=new Date(0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);var v=c0(m,t);return v}var mAt=6048e5;function y5e(e,t){Ke(1,arguments);var n=Xe(e),r=c0(n,t).getTime()-pAt(n,t).getTime();return Math.round(r/mAt)+1}function b5e(e){Ke(1,arguments);var t=Xe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function _M(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t);return n.getTime()>r.getTime()}function x5e(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t);return n.getTime()<r.getTime()}function kX(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gAt(e,t){if(e){if(typeof e=="string")return kX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kX(e,t)}}function jX(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=gAt(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,a;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){s=!0,a=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function He(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function an(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fk(e,t)}function zk(e){return zk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zk(e)}function vAt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yAt(e,t){if(t&&(Bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return He(e)}function ln(e){var t=vAt();return function(){var r=zk(e),o;if(t){var i=zk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return yAt(this,o)}}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xSe(r.key),r)}}function Kt(e,t,n){return t&&TX(e.prototype,t),n&&TX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var bAt=10,w5e=function(){function e(){Gt(this,e),Be(this,"priority",void 0),Be(this,"subPriority",0)}return Kt(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),xAt=function(e){an(n,e);var t=ln(n);function n(r,o,i,s,a){var c;return Gt(this,n),c=t.call(this),c.value=r,c.validateValue=o,c.setValue=i,c.priority=s,a&&(c.subPriority=a),c}return Kt(n,[{key:"validate",value:function(o,i){return this.validateValue(o,this.value,i)}},{key:"set",value:function(o,i,s){return this.setValue(o,i,this.value,s)}}]),n}(w5e),wAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",bAt),Be(He(r),"subPriority",-1),r}return Kt(n,[{key:"set",value:function(o,i){if(i.timestampIsSet)return o;var s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}}]),n}(w5e),mn=function(){function e(){Gt(this,e),Be(this,"incompatibleTokens",void 0),Be(this,"priority",void 0),Be(this,"subPriority",void 0)}return Kt(e,[{key:"run",value:function(n,r,o,i){var s=this.parse(n,r,o,i);return s?{setter:new xAt(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,o){return!0}}]),e}(),CAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",140),Be(He(r),"incompatibleTokens",["R","u","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})||s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"})}}},{key:"set",value:function(o,i,s){return i.era=s,o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),Zr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Sc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Xr(e,t){return e&&{value:t(e.value),rest:e.rest}}function Dr(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Ec(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*QT+i*XT+s*QTt),rest:t.slice(n[0].length)}}function C5e(e){return Dr(Zr.anyDigitsSigned,e)}function Ur(e,t){switch(e){case 1:return Dr(Zr.singleDigit,t);case 2:return Dr(Zr.twoDigits,t);case 3:return Dr(Zr.threeDigits,t);case 4:return Dr(Zr.fourDigits,t);default:return Dr(new RegExp("^\\d{1,"+e+"}"),t)}}function Vk(e,t){switch(e){case 1:return Dr(Zr.singleDigitSigned,t);case 2:return Dr(Zr.twoDigitsSigned,t);case 3:return Dr(Zr.threeDigitsSigned,t);case 4:return Dr(Zr.fourDigitsSigned,t);default:return Dr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function n7(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function _5e(e,t){var n=t>0,r=n?t:1-t,o;if(r<=50)o=e||100;else{var i=r+50,s=Math.floor(i/100)*100,a=e>=i%100;o=e+s-(a?100:0)}return n?o:1-o}function S5e(e){return e%400===0||e%4===0&&e%100!==0}var _At=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",130),Be(He(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Xr(Ur(4,o),a);case"yo":return Xr(s.ordinalNumber(o,{unit:"year"}),a);default:return Xr(Ur(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s){var a=o.getUTCFullYear();if(s.isTwoDigitYear){var c=_5e(s.year,a);return o.setUTCFullYear(c,0,1),o.setUTCHours(0,0,0,0),o}var u=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(u,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),SAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",130),Be(He(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Xr(Ur(4,o),a);case"Yo":return Xr(s.ordinalNumber(o,{unit:"year"}),a);default:return Xr(Ur(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s,a){var c=J9(o,a);if(s.isTwoDigitYear){var u=_5e(s.year,c);return o.setUTCFullYear(u,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),sm(o,a)}var d=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(d,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),sm(o,a)}}]),n}(mn),EAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",130),Be(He(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i){return Vk(i==="R"?4:i.length,o)}},{key:"set",value:function(o,i,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),l0(a)}}]),n}(mn),kAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",130),Be(He(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i){return Vk(i==="u"?4:i.length,o)}},{key:"set",value:function(o,i,s){return o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),jAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",120),Be(He(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"Q":case"QQ":return Ur(i.length,o);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})||s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),TAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",120),Be(He(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"q":case"qq":return Ur(i.length,o);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})||s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),AAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Be(He(r),"priority",110),r}return Kt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"M":return Xr(Dr(Zr.month,o),a);case"MM":return Xr(Ur(2,o),a);case"Mo":return Xr(s.ordinalNumber(o,{unit:"month"}),a);case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})||s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),DAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",110),Be(He(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"L":return Xr(Dr(Zr.month,o),a);case"LL":return Xr(Ur(2,o),a);case"Lo":return Xr(s.ordinalNumber(o,{unit:"month"}),a);case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})||s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn);function IAt(e,t,n){Ke(2,arguments);var r=Xe(e),o=At(t),i=c5e(r,n)-o;return r.setUTCDate(r.getUTCDate()-i*7),r}var OAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",100),Be(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"w":return Dr(Zr.week,o);case"wo":return s.ordinalNumber(o,{unit:"week"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s,a){return sm(IAt(o,s,a),a)}}]),n}(mn);function PAt(e,t){Ke(2,arguments);var n=Xe(e),r=At(t),o=l5e(n)-r;return n.setUTCDate(n.getUTCDate()-o*7),n}var RAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",100),Be(He(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"I":return Dr(Zr.week,o);case"Io":return s.ordinalNumber(o,{unit:"week"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s){return l0(PAt(o,s))}}]),n}(mn),$At=[31,28,31,30,31,30,31,31,30,31,30,31],MAt=[31,29,31,30,31,30,31,31,30,31,30,31],FAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",90),Be(He(r),"subPriority",1),Be(He(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"d":return Dr(Zr.date,o);case"do":return s.ordinalNumber(o,{unit:"date"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=S5e(s),c=o.getUTCMonth();return a?i>=1&&i<=MAt[c]:i>=1&&i<=$At[c]}},{key:"set",value:function(o,i,s){return o.setUTCDate(s),o.setUTCHours(0,0,0,0),o}}]),n}(mn),LAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",90),Be(He(r),"subpriority",1),Be(He(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"D":case"DD":return Dr(Zr.dayOfYear,o);case"Do":return s.ordinalNumber(o,{unit:"date"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=S5e(s);return a?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(o,i,s){return o.setUTCMonth(0,s),o.setUTCHours(0,0,0,0),o}}]),n}(mn);function r7(e,t,n){var r,o,i,s,a,c,u,d;Ke(2,arguments);var f=xd(),p=At((r=(o=(i=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&o!==void 0?o:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Xe(e),v=At(t),g=m.getUTCDay(),y=v%7,x=(y+7)%7,b=(x<p?7:0)+v-g;return m.setUTCDate(m.getUTCDate()+b),m}var BAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",90),Be(He(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=r7(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(mn),NAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",90),Be(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s,a){var c=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"e":case"ee":return Xr(Ur(i.length,o),c);case"eo":return Xr(s.ordinalNumber(o,{unit:"day"}),c);case"eee":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=r7(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(mn),zAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",90),Be(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s,a){var c=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"c":case"cc":return Xr(Ur(i.length,o),c);case"co":return Xr(s.ordinalNumber(o,{unit:"day"}),c);case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})||s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=r7(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(mn);function VAt(e,t){Ke(2,arguments);var n=At(t);n%7===0&&(n=n-7);var r=1,o=Xe(e),i=o.getUTCDay(),s=n%7,a=(s+7)%7,c=(a<r?7:0)+n-i;return o.setUTCDate(o.getUTCDate()+c),o}var HAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",90),Be(He(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u===0?7:u};switch(i){case"i":case"ii":return Ur(i.length,o);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return Xr(s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiii":return Xr(s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Xr(s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Xr(s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(o,i){return i>=1&&i<=7}},{key:"set",value:function(o,i,s){return o=VAt(o,s),o.setUTCHours(0,0,0,0),o}}]),n}(mn),UAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",80),Be(He(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"a":case"aa":case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(n7(s),0,0,0),o}}]),n}(mn),WAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",80),Be(He(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"b":case"bb":case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(n7(s),0,0,0),o}}]),n}(mn),YAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",80),Be(He(r),"incompatibleTokens",["a","b","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(n7(s),0,0,0),o}}]),n}(mn),qAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",70),Be(He(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"h":return Dr(Zr.hour12h,o);case"ho":return s.ordinalNumber(o,{unit:"hour"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=12}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):!a&&s===12?o.setUTCHours(0,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(mn),GAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",70),Be(He(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"H":return Dr(Zr.hour23h,o);case"Ho":return s.ordinalNumber(o,{unit:"hour"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=23}},{key:"set",value:function(o,i,s){return o.setUTCHours(s,0,0,0),o}}]),n}(mn),KAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",70),Be(He(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"K":return Dr(Zr.hour11h,o);case"Ko":return s.ordinalNumber(o,{unit:"hour"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(mn),ZAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",70),Be(He(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"k":return Dr(Zr.hour24h,o);case"ko":return s.ordinalNumber(o,{unit:"hour"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=24}},{key:"set",value:function(o,i,s){var a=s<=24?s%24:s;return o.setUTCHours(a,0,0,0),o}}]),n}(mn),XAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",60),Be(He(r),"incompatibleTokens",["t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"m":return Dr(Zr.minute,o);case"mo":return s.ordinalNumber(o,{unit:"minute"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCMinutes(s,0,0),o}}]),n}(mn),QAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",50),Be(He(r),"incompatibleTokens",["t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"s":return Dr(Zr.second,o);case"so":return s.ordinalNumber(o,{unit:"second"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCSeconds(s,0),o}}]),n}(mn),JAt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",30),Be(He(r),"incompatibleTokens",["t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i){var s=function(c){return Math.floor(c*Math.pow(10,-i.length+3))};return Xr(Ur(i.length,o),s)}},{key:"set",value:function(o,i,s){return o.setUTCMilliseconds(s),o}}]),n}(mn),eDt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",10),Be(He(r),"incompatibleTokens",["t","T","x"]),r}return Kt(n,[{key:"parse",value:function(o,i){switch(i){case"X":return Ec(Sc.basicOptionalMinutes,o);case"XX":return Ec(Sc.basic,o);case"XXXX":return Ec(Sc.basicOptionalSeconds,o);case"XXXXX":return Ec(Sc.extendedOptionalSeconds,o);case"XXX":default:return Ec(Sc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(mn),tDt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",10),Be(He(r),"incompatibleTokens",["t","T","X"]),r}return Kt(n,[{key:"parse",value:function(o,i){switch(i){case"x":return Ec(Sc.basicOptionalMinutes,o);case"xx":return Ec(Sc.basic,o);case"xxxx":return Ec(Sc.basicOptionalSeconds,o);case"xxxxx":return Ec(Sc.extendedOptionalSeconds,o);case"xxx":default:return Ec(Sc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(mn),nDt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",40),Be(He(r),"incompatibleTokens","*"),r}return Kt(n,[{key:"parse",value:function(o){return C5e(o)}},{key:"set",value:function(o,i,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(mn),rDt=function(e){an(n,e);var t=ln(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",20),Be(He(r),"incompatibleTokens","*"),r}return Kt(n,[{key:"parse",value:function(o){return C5e(o)}},{key:"set",value:function(o,i,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(mn),oDt={G:new CAt,y:new _At,Y:new SAt,R:new EAt,u:new kAt,Q:new jAt,q:new TAt,M:new AAt,L:new DAt,w:new OAt,I:new RAt,d:new FAt,D:new LAt,E:new BAt,e:new NAt,c:new zAt,i:new HAt,a:new UAt,b:new WAt,B:new YAt,h:new qAt,H:new GAt,K:new KAt,k:new ZAt,m:new XAt,s:new QAt,S:new JAt,X:new eDt,x:new tDt,t:new nDt,T:new rDt},iDt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sDt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aDt=/^'([^]*?)'?$/,lDt=/''/g,cDt=/\S/,uDt=/[a-zA-Z]/;function dDt(e,t,n,r){var o,i,s,a,c,u,d,f,p,m,v,g,y,x,b,w,C,_;Ke(3,arguments);var S=String(e),E=String(t),j=xd(),k=(o=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:j.locale)!==null&&o!==void 0?o:h5e;if(!k.match)throw new RangeError("locale must contain match property");var T=At((s=(a=(c=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&c!==void 0?c:j.firstWeekContainsDate)!==null&&a!==void 0?a:(p=j.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=At((v=(g=(y=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(b=r.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&y!==void 0?y:j.weekStartsOn)!==null&&g!==void 0?g:(C=j.locale)===null||C===void 0||(_=C.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&v!==void 0?v:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return S===""?Xe(n):new Date(NaN);var D={firstWeekContainsDate:T,weekStartsOn:A,locale:k},I=[new wAt],O=E.match(sDt).map(function(Q){var ne=Q[0];if(ne in CM){var G=CM[ne];return G(Q,k.formatLong)}return Q}).join("").match(iDt),$=[],R=jX(O),V;try{var N=function(){var ne=V.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&f5e(ne)&&Bk(ne,E,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&d5e(ne)&&Bk(ne,E,e);var G=ne[0],J=oDt[G];if(J){var re=J.incompatibleTokens;if(Array.isArray(re)){var fe=$.find(function(ge){return re.includes(ge.token)||ge.token===G});if(fe)throw new RangeError("The format string mustn't contain `".concat(fe.fullToken,"` and `").concat(ne,"` at the same time"))}else if(J.incompatibleTokens==="*"&&$.length>0)throw new RangeError("The format string mustn't contain `".concat(ne,"` and any other token at the same time"));$.push({token:G,fullToken:ne});var le=J.run(S,ne,k.match,D);if(!le)return{v:new Date(NaN)};I.push(le.setter),S=le.rest}else{if(G.match(uDt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+G+"`");if(ne==="''"?ne="'":G==="'"&&(ne=fDt(ne)),S.indexOf(ne)===0)S=S.slice(ne.length);else return{v:new Date(NaN)}}};for(R.s();!(V=R.n()).done;){var W=N();if(Bl(W)==="object")return W.v}}catch(Q){R.e(Q)}finally{R.f()}if(S.length>0&&cDt.test(S))return new Date(NaN);var q=I.map(function(Q){return Q.priority}).sort(function(Q,ne){return ne-Q}).filter(function(Q,ne,G){return G.indexOf(Q)===ne}).map(function(Q){return I.filter(function(ne){return ne.priority===Q}).sort(function(ne,G){return G.subPriority-ne.subPriority})}).map(function(Q){return Q[0]}),H=Xe(n);if(isNaN(H.getTime()))return new Date(NaN);var Y=s5e(H,Lk(H)),X={},B=jX(q),K;try{for(B.s();!(K=B.n()).done;){var z=K.value;if(!z.validate(Y,D))return new Date(NaN);var Z=z.set(Y,X,D);Array.isArray(Z)?(Y=Z[0],uAt(X,Z[1])):Y=Z}}catch(Q){B.e(Q)}finally{B.f()}return Y}function fDt(e){return e.match(aDt)[1].replace(lDt,"'")}function E5e(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function hDt(e,t){Ke(2,arguments);var n=At(t);return Ki(e,-n)}function pDt(e,t){var n;Ke(1,arguments);var r=At((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=yDt(e),i;if(o.date){var s=bDt(o.date,r);i=xDt(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),c=0,u;if(o.time&&(c=wDt(o.time),isNaN(c)))return new Date(NaN);if(o.timezone){if(u=CDt(o.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(a+c),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(a+c+u)}var I_={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},mDt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,gDt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,vDt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function yDt(e){var t={},n=e.split(I_.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],I_.timeZoneDelimiter.test(t.date)&&(t.date=e.split(I_.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var o=I_.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function bDt(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function xDt(e,t){if(t===null)return new Date(NaN);var n=e.match(mDt);if(!n)return new Date(NaN);var r=!!n[4],o=ey(n[1]),i=ey(n[2])-1,s=ey(n[3]),a=ey(n[4]),c=ey(n[5])-1;if(r)return jDt(t,a,c)?_Dt(t,a,c):new Date(NaN);var u=new Date(0);return!EDt(t,i,s)||!kDt(t,o)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(o,s)),u)}function ey(e){return e?parseInt(e):1}function wDt(e){var t=e.match(gDt);if(!t)return NaN;var n=QO(t[1]),r=QO(t[2]),o=QO(t[3]);return TDt(n,r,o)?n*QT+r*XT+o*1e3:NaN}function QO(e){return e&&parseFloat(e.replace(",","."))||0}function CDt(e){if(e==="Z")return 0;var t=e.match(vDt);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return ADt(r,o)?n*(r*QT+o*XT):NaN}function _Dt(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var SDt=[31,null,31,30,31,30,31,31,30,31,30,31];function k5e(e){return e%400===0||e%4===0&&e%100!==0}function EDt(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(SDt[t]||(k5e(e)?29:28))}function kDt(e,t){return t>=1&&t<=(k5e(e)?366:365)}function jDt(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function TDt(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function ADt(e,t){return t>=0&&t<=59}function j5e(e,t){Ke(2,arguments);var n=Xe(e),r=At(t),o=n.getFullYear(),i=n.getDate(),s=new Date(0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);var a=dAt(s);return n.setMonth(r,Math.min(i,a)),n}function DDt(e,t){if(Ke(2,arguments),Bl(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=Xe(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=j5e(n,t.month)),t.date!=null&&n.setDate(At(t.date)),t.hours!=null&&n.setHours(At(t.hours)),t.minutes!=null&&n.setMinutes(At(t.minutes)),t.seconds!=null&&n.setSeconds(At(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(At(t.milliseconds)),n)}function IDt(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);return n.setDate(r),n}function JO(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);return n.setHours(r),n}function ES(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);return n.setMinutes(r),n}function ODt(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function AX(){return Jf(Date.now())}function PDt(e,t){Ke(2,arguments);var n=At(t);return e7(e,-n)}function DX(e,t){if(Ke(2,arguments),!t||Bl(t)!=="object")return new Date(NaN);var n=t.years?At(t.years):0,r=t.months?At(t.months):0,o=t.weeks?At(t.weeks):0,i=t.days?At(t.days):0,s=t.hours?At(t.hours):0,a=t.minutes?At(t.minutes):0,c=t.seconds?At(t.seconds):0,u=PDt(e,r+n*12),d=hDt(u,i+o*7),f=a+s*60,p=c+f*60,m=p*1e3,v=new Date(d.getTime()-m);return v}const o7=[],i7=[],T5e=new Set,Jw=new Map,eC=new Map,A5e=e=>typeof e=="string"?new RegExp("^".concat(e,"$"),"i"):e,Hk=(e,t)=>typeof t!="string"?e:e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase(),D5e=(e,t,n)=>{if(!e.length||T5e.has(e))return t;let{length:r}=n;for(;r--;){const o=n[r];if(o[0].test(t))return t.replace(o[0],function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const[c,u]=s,d=o[1].replace(/\$(\d{1,2})/g,(f,p)=>s[p]||"");return Hk(c===""?t[u-1]:c,d)})}return t},I5e=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?Hk(e,o):t.has(o)?Hk(e,t.get(o)):D5e(o,e,r)},O5e=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?!0:t.has(o)?!1:D5e(o,o,r)===o},zr=(e,t,n)=>{const r=t===1?zr.singular(e):zr.plural(e);return n?"".concat(t," ").concat(r):r};zr.plural=e=>I5e(e,eC,Jw,o7);zr.singular=e=>I5e(e,Jw,eC,i7);zr.addPluralRule=(e,t)=>{o7.push([A5e(e),t])};zr.addSingularRule=(e,t)=>{i7.push([A5e(e),t])};zr.addIrregularRule=(e,t)=>{const n=t.toLowerCase(),r=e.toLowerCase();eC.set(r,n),Jw.set(n,r)};zr.addUncountableRule=e=>{if(typeof e=="string"){T5e.add(e.toLowerCase());return}zr.addPluralRule(e,"$0"),zr.addSingularRule(e,"$0")};zr.isPlural=e=>O5e(e,eC,Jw,o7);zr.isSingular=e=>O5e(e,Jw,eC,i7);const RDt=[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["my","our"],["its","their"],["his","their"],["her","their"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"],["canvas","canvases"]],$Dt=[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]],MDt=[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/(dg|ss|ois|lk|ok|wn|mb|th|ch|ec|oal|is|ck|ix|sser|ts|wb)ies$/i,"$1ie"],[/\b(l|(?:neck|cross|hog|aun)?t|coll|faer|food|gen|goon|group|hipp|junk|vegg|(?:pork)?p|charl|calor|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]],FDt=["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i];for(const[e,t]of RDt)zr.addIrregularRule(e,t);for(const[e,t]of $Dt)zr.addPluralRule(e,t);for(const[e,t]of MDt)zr.addSingularRule(e,t);for(const e of FDt)zr.addUncountableRule(e);var P5e={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Qs,function(){function n(){return n=Object.assign||function(A){for(var D=1;D<arguments.length;D++){var I=arguments[D];for(var O in I)Object.prototype.hasOwnProperty.call(I,O)&&(A[O]=I[O])}return A},n.apply(this,arguments)}function r(A,D){if(A){if(typeof A=="string")return o(A,D);var I=Object.prototype.toString.call(A).slice(8,-1);if(I==="Object"&&A.constructor&&(I=A.constructor.name),I==="Map"||I==="Set")return Array.from(A);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return o(A,D)}}function o(A,D){(D==null||D>A.length)&&(D=A.length);for(var I=0,O=new Array(D);I<D;I++)O[I]=A[I];return O}function i(A,D){var I=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(I)return(I=I.call(A)).next.bind(I);if(Array.isArray(A)||(I=r(A))||D&&A&&typeof A.length=="number"){I&&(A=I);var O=0;return function(){return O>=A.length?{done:!0}:{done:!1,value:A[O++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(A){var D=A.split("-"),I=D[1],O=D[2],$=D[3];if(!I||!O||!$)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');var R=O.split("x"),V=R[0],N=R[1],W=+V,q=+N,H=isFinite(W)&&isFinite(q);if(!H)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');return{id:I,width:W,height:q,format:$}}var c=function(D){var I=D;return I?typeof I._ref=="string":!1},u=function(D){var I=D;return I?typeof I._id=="string":!1},d=function(D){var I=D;return I&&I.asset?typeof I.asset.url=="string":!1};function f(A){if(!A)return null;var D;if(typeof A=="string"&&p(A))D={asset:{_ref:m(A)}};else if(typeof A=="string")D={asset:{_ref:A}};else if(c(A))D={asset:A};else if(u(A))D={asset:{_ref:A._id||""}};else if(d(A))D={asset:{_ref:m(A.asset.url)}};else if(typeof A.asset=="object")D=n({},A);else return null;var I=A;return I.crop&&(D.crop=I.crop),I.hotspot&&(D.hotspot=I.hotspot),v(D)}function p(A){return/^https?:\/\//.test(""+A)}function m(A){var D=A.split("/").slice(-1);return("image-"+D[0]).replace(/\.([a-z]+)$/,"-$1")}function v(A){if(A.crop&&A.hotspot)return A;var D=n({},A);return D.crop||(D.crop={left:0,top:0,bottom:0,right:0}),D.hotspot||(D.hotspot={x:.5,y:.5,height:1,width:1}),D}var g=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function y(A){var D=n({},A||{}),I=D.source;delete D.source;var O=f(I);if(!O)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(I)+")");var $=O.asset._ref||O.asset._id||"",R=a($),V=Math.round(O.crop.left*R.width),N=Math.round(O.crop.top*R.height),W={left:V,top:N,width:Math.round(R.width-O.crop.right*R.width-V),height:Math.round(R.height-O.crop.bottom*R.height-N)},q=O.hotspot.height*R.height/2,H=O.hotspot.width*R.width/2,Y=O.hotspot.x*R.width,X=O.hotspot.y*R.height,B={left:Y-H,top:X-q,right:Y+H,bottom:X+q};return D.rect||D.focalPoint||D.ignoreImageParams||D.crop||(D=n({},D,b({crop:W,hotspot:B},D))),x(n({},D,{asset:R}))}function x(A){var D=(A.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),I=A.asset.id+"-"+A.asset.width+"x"+A.asset.height+"."+A.asset.format,O=D+"/images/"+A.projectId+"/"+A.dataset+"/"+I,$=[];if(A.rect){var R=A.rect,V=R.left,N=R.top,W=R.width,q=R.height,H=V!==0||N!==0||q!==A.asset.height||W!==A.asset.width;H&&$.push("rect="+V+","+N+","+W+","+q)}A.bg&&$.push("bg="+A.bg),A.focalPoint&&($.push("fp-x="+A.focalPoint.x),$.push("fp-y="+A.focalPoint.y));var Y=[A.flipHorizontal&&"h",A.flipVertical&&"v"].filter(Boolean).join("");return Y&&$.push("flip="+Y),g.forEach(function(X){var B=X[0],K=X[1];typeof A[B]<"u"?$.push(K+"="+encodeURIComponent(A[B])):typeof A[K]<"u"&&$.push(K+"="+encodeURIComponent(A[K]))}),$.length===0?O:O+"?"+$.join("&")}function b(A,D){var I,O=D.width,$=D.height;if(!(O&&$))return{width:O,height:$,rect:A.crop};var R=A.crop,V=A.hotspot,N=O/$,W=R.width/R.height;if(W>N){var q=Math.round(R.height),H=Math.round(q*N),Y=Math.max(0,Math.round(R.top)),X=Math.round((V.right-V.left)/2+V.left),B=Math.max(0,Math.round(X-H/2));B<R.left?B=R.left:B+H>R.left+R.width&&(B=R.left+R.width-H),I={left:B,top:Y,width:H,height:q}}else{var K=R.width,z=Math.round(K/N),Z=Math.max(0,Math.round(R.left)),Q=Math.round((V.bottom-V.top)/2+V.top),ne=Math.max(0,Math.round(Q-z/2));ne<R.top?ne=R.top:ne+z>R.top+R.height&&(ne=R.top+R.height-z),I={left:Z,top:ne,width:K,height:z}}return{width:O,height:$,rect:I}}var w=["clip","crop","fill","fillmax","max","scale","min"],C=["top","bottom","left","right","center","focalpoint","entropy"],_=["format"];function S(A){return A&&"config"in A?typeof A.config=="function":!1}function E(A){return A&&"clientConfig"in A?typeof A.clientConfig=="object":!1}function j(A){for(var D=g,I=i(D),O;!(O=I()).done;){var $=O.value,R=$[0],V=$[1];if(A===R||A===V)return R}return A}function k(A){if(S(A)){var D=A.config(),I=D.apiHost,O=D.projectId,$=D.dataset,R=I||"https://api.sanity.io";return new T(null,{baseUrl:R.replace(/^https:\/\/api\./,"https://cdn."),projectId:O,dataset:$})}var V=A;if(E(V)){var N=V.clientConfig,W=N.apiHost,q=N.projectId,H=N.dataset,Y=W||"https://api.sanity.io";return new T(null,{baseUrl:Y.replace(/^https:\/\/api\./,"https://cdn."),projectId:q,dataset:H})}return new T(null,A)}var T=function(){function A(I,O){this.options=void 0,this.options=I?n({},I.options||{},O||{}):n({},O||{})}var D=A.prototype;return D.withOptions=function(O){var $=O.baseUrl||this.options.baseUrl,R={baseUrl:$};for(var V in O)if(O.hasOwnProperty(V)){var N=j(V);R[N]=O[V]}return new A(this,n({baseUrl:$},R))},D.image=function(O){return this.withOptions({source:O})},D.dataset=function(O){return this.withOptions({dataset:O})},D.projectId=function(O){return this.withOptions({projectId:O})},D.bg=function(O){return this.withOptions({bg:O})},D.dpr=function(O){return this.withOptions(O&&O!==1?{dpr:O}:{})},D.width=function(O){return this.withOptions({width:O})},D.height=function(O){return this.withOptions({height:O})},D.focalPoint=function(O,$){return this.withOptions({focalPoint:{x:O,y:$}})},D.maxWidth=function(O){return this.withOptions({maxWidth:O})},D.minWidth=function(O){return this.withOptions({minWidth:O})},D.maxHeight=function(O){return this.withOptions({maxHeight:O})},D.minHeight=function(O){return this.withOptions({minHeight:O})},D.size=function(O,$){return this.withOptions({width:O,height:$})},D.blur=function(O){return this.withOptions({blur:O})},D.sharpen=function(O){return this.withOptions({sharpen:O})},D.rect=function(O,$,R,V){return this.withOptions({rect:{left:O,top:$,width:R,height:V}})},D.format=function(O){return this.withOptions({format:O})},D.invert=function(O){return this.withOptions({invert:O})},D.orientation=function(O){return this.withOptions({orientation:O})},D.quality=function(O){return this.withOptions({quality:O})},D.forceDownload=function(O){return this.withOptions({download:O})},D.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},D.flipVertical=function(){return this.withOptions({flipVertical:!0})},D.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},D.fit=function(O){if(w.indexOf(O)===-1)throw new Error('Invalid fit mode "'+O+'"');return this.withOptions({fit:O})},D.crop=function(O){if(C.indexOf(O)===-1)throw new Error('Invalid crop mode "'+O+'"');return this.withOptions({crop:O})},D.saturation=function(O){return this.withOptions({saturation:O})},D.auto=function(O){if(_.indexOf(O)===-1)throw new Error('Invalid auto mode "'+O+'"');return this.withOptions({auto:O})},D.pad=function(O){return this.withOptions({pad:O})},D.url=function(){return y(this.options)},D.toString=function(){return this.url()},A}();return k})})(P5e);var LDt=P5e.exports;const eA=Ie(LDt);function BDt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_x(e,t)}function SM(e){return SM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SM(e)}function _x(e,t){return _x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},_x(e,t)}function NDt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kS(e,t,n){return NDt()?kS=Reflect.construct.bind():kS=function(o,i,s){var a=[null];a.push.apply(a,i);var c=Function.bind.apply(o,a),u=new c;return s&&_x(u,s.prototype),u},kS.apply(null,arguments)}function zDt(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function EM(e){var t=typeof Map=="function"?new Map:void 0;return EM=function(r){if(r===null||!zDt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return kS(r,arguments,SM(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),_x(o,r)},EM(e)}var O_=Object.freeze({left:0,top:0,bottom:0,right:0}),P_=Object.freeze({x:.5,y:.5,height:1,width:1}),VDt=function(t){var n=t.top,r=t.bottom,o=t.left,i=t.right,s=O_.top,a=O_.bottom,c=O_.left,u=O_.right;return n===s&&r===a&&o===c&&i===u},HDt=function(t){var n=t.x,r=t.y,o=t.width,i=t.height,s=P_.x,a=P_.y,c=P_.width,u=P_.height;return n===s&&r===a&&o===c&&i===u},s7=function(e){BDt(t,e);function t(n,r){var o;return r===void 0&&(r="Failed to resolve asset ID from source"),o=e.call(this,r)||this,o.unresolvable=!0,o.input=n,o}return t}(EM(Error));function UDt(e){var t=e;return!!(t.unresolvable&&"input"in t)}function WDt(e){return function(){try{return e.apply(void 0,arguments)}catch(t){if(UDt(t))return;throw t}}}var Qd="https://cdn.sanity.io",YDt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,qDt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,R5e=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,$5e=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function GDt(e){return tC(e)&&typeof e._ref=="string"}function KDt(e){return tC(e)&&typeof e._id=="string"}function ZDt(e){return tC(e)&&typeof e.path=="string"}function XDt(e){return tC(e)&&typeof e.url=="string"}function QDt(e){var t=e;return tC(t)&&t.asset&&typeof t.asset=="object"}function tC(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function JDt(e){if(R5e.test(e))return e;if(!e.startsWith(Qd+"/"))throw new s7('Failed to resolve path from URL "'+e+'"');var t=e.indexOf("?"),n=t===-1?void 0:t;return e.slice(Qd.length+1,n)}var eIt="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function tIt(e){var t=e.split("-"),n=t[1],r=t[2],o=t[3],i=(r||"").split("x").map(Number),s=i[0],a=i[1];if(!n||!r||!o||!(s>0)||!(a>0))throw new Error("Malformed asset ID '"+e+`'. Expected an id like "`+eIt+'".');return{type:"image",assetId:n,width:s,height:a,extension:o}}function nIt(e){var t=M5e(e),n=tIt(t),r=n.width,o=n.height,i=r/o;return{width:r,height:o,aspectRatio:i}}function M5e(e){var t=QDt(e)?e.asset:e,n="";typeof t=="string"?n=rIt(t):GDt(t)?n=t._ref:KDt(t)?n=t._id:ZDt(t)?n=rv(Qd+"/"+t.path):XDt(t)&&(n=rv(t.url));var r=n&&$5e.test(n);if(!r)throw new s7(e);return n}var F5e=WDt(M5e);function rIt(e){if($5e.test(e))return e;if(e.indexOf(Qd+"/images")===0||e.indexOf(Qd+"/files")===0)return rv(e);if(R5e.test(e))return rv(Qd+"/"+e);if(iIt(e))return rv(Qd+"/files/a/b/"+e);if(oIt(e))return rv(Qd+"/images/a/b/"+e);throw new s7(e)}function rv(e){var t=JDt(e),n=t.split("/"),r=n[0],o=n[3],i=r.replace(/s$/,"");return i+"-"+o.replace(/\./g,"-")}function oIt(e){return qDt.test(e)}function iIt(e){return YDt.test(e)}function IX(e){var t=F5e(e);return t?t.startsWith("file-"):!1}function kb(e){var t=F5e(e);return t?t.startsWith("image-"):!1}function sIt(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}var aIt=sIt;const tA=Ie(aIt);var lIt=AT,cIt=q9,uIt=cIt(function(e,t,n){lIt(e,n,t)}),dIt=uIt;const a7=Ie(dIt);var fIt=Gc;function hIt(e){return fIt(e).toLowerCase()}var pIt=hIt;const kv=Ie(pIt);var mIt=G0,gIt=Z0,vIt=qT,yIt=TT,bIt=gIt(function(e){return vIt(mIt(e,1,yIt,!0))}),xIt=bIt;const L5e=Ie(xIt);function wIt(){}var l7=wIt,CIt=B9,_It=l7;function Uk(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Uk.prototype=CIt(_It.prototype);Uk.prototype.constructor=Uk;var c7=Uk,OX=E2e,SIt=OX&&new OX,EIt=SIt,PX=EIt,kIt=z9,jIt=PX?function(e){return PX.get(e)}:kIt,B5e=jIt,TIt={},AIt=TIt,RX=AIt,DIt=Object.prototype,IIt=DIt.hasOwnProperty;function OIt(e){for(var t=e.name+"",n=RX[t],r=IIt.call(RX,t)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==e)return o.name}return t}var N5e=OIt,PIt=B9,RIt=l7,$It=4294967295;function Wk(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$It,this.__views__=[]}Wk.prototype=PIt(RIt.prototype);Wk.prototype.constructor=Wk;var u7=Wk,MIt=u7,FIt=c7,LIt=M9;function BIt(e){if(e instanceof MIt)return e.clone();var t=new FIt(e.__wrapped__,e.__chain__);return t.__actions__=LIt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var NIt=BIt,zIt=u7,$X=c7,VIt=l7,HIt=Jr,UIt=el,WIt=NIt,YIt=Object.prototype,qIt=YIt.hasOwnProperty;function Yk(e){if(UIt(e)&&!HIt(e)&&!(e instanceof zIt)){if(e instanceof $X)return e;if(qIt.call(e,"__wrapped__"))return WIt(e)}return new $X(e)}Yk.prototype=VIt.prototype;Yk.prototype.constructor=Yk;var GIt=Yk,KIt=u7,ZIt=B5e,XIt=N5e,QIt=GIt;function JIt(e){var t=XIt(e),n=QIt[t];if(typeof n!="function"||!(t in KIt.prototype))return!1;if(e===n)return!0;var r=ZIt(n);return!!r&&e===r[0]}var eOt=JIt,MX=c7,tOt=a9,nOt=B5e,eP=N5e,rOt=Jr,FX=eOt,oOt="Expected a function",iOt=8,sOt=32,aOt=128,lOt=256;function cOt(e){return tOt(function(t){var n=t.length,r=n,o=MX.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if(typeof i!="function")throw new TypeError(oOt);if(o&&!s&&eP(i)=="wrapper")var s=new MX([],!0)}for(r=s?r:n;++r<n;){i=t[r];var a=eP(i),c=a=="wrapper"?nOt(i):void 0;c&&FX(c[0])&&c[1]==(aOt|iOt|sOt|lOt)&&!c[4].length&&c[9]==1?s=s[eP(c[0])].apply(s,c[3]):s=i.length==1&&FX(i)?s[a]():s.thru(i)}return function(){var u=arguments,d=u[0];if(s&&u.length==1&&rOt(d))return s.plant(d).value();for(var f=0,p=n?t[f].apply(this,u):d;++f<n;)p=t[f].call(this,p);return p}})}var uOt=cOt,dOt=uOt,fOt=dOt(),hOt=fOt;const pOt=Ie(hOt);var mOt=n9;function gOt(e,t){for(var n=e.length;n--&&mOt(t,e[n],0)>-1;);return n}var vOt=gOt,yOt=n9;function bOt(e,t){for(var n=-1,r=e.length;++n<r&&yOt(t,e[n],0)>-1;);return n}var xOt=bOt,wOt=N2e,COt=J0e,_Ot=QEe,SOt=vOt,EOt=xOt,LX=ske,kOt=Gc;function jOt(e,t,n){if(e=kOt(e),e&&(n||t===void 0))return COt(e);if(!e||!(t=wOt(t)))return e;var r=LX(e),o=LX(t),i=EOt(r,o),s=SOt(r,o)+1;return _Ot(r,i,s).join("")}var TOt=jOt;const AOt=Ie(TOt);var R_,DOt=new Uint8Array(16);function IOt(){if(!R_&&(R_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!R_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return R_(DOt)}const OOt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function POt(e){return typeof e=="string"&&OOt.test(e)}var Go=[];for(var tP=0;tP<256;++tP)Go.push((tP+256).toString(16).substr(1));function ROt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Go[e[t+0]]+Go[e[t+1]]+Go[e[t+2]]+Go[e[t+3]]+"-"+Go[e[t+4]]+Go[e[t+5]]+"-"+Go[e[t+6]]+Go[e[t+7]]+"-"+Go[e[t+8]]+Go[e[t+9]]+"-"+Go[e[t+10]]+Go[e[t+11]]+Go[e[t+12]]+Go[e[t+13]]+Go[e[t+14]]+Go[e[t+15]]).toLowerCase();if(!POt(n))throw TypeError("Stringified UUID is invalid");return n}function wd(e,t,n){e=e||{};var r=e.random||(e.rng||IOt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return ROt(r)}var $Ot=G2e,BX=Jr;function MOt(e,t,n,r){return e==null?[]:(BX(t)||(t=t==null?[]:[t]),n=r?void 0:n,BX(n)||(n=n==null?[]:[n]),$Ot(e,t,n))}var FOt=MOt;const J0=Ie(FOt);function LOt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function kM(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function nC(e){const[t,n]=e;return[t,n]}function NX(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,c=1;for(let u=0;u!==-1;){const d=n.substring(s-c);if(u=r.indexOf(d),u===-1)return a;c+=u,(u===0||n.substring(s-c)===r.substring(0,c))&&(a=c,c++)}return a}function d7(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function nA(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function f7(e){let t=e.map(f=>nC(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,c=0,u=0,d=0;for(;s<t.length;)t[s][0]===kt?(r[o++]=s,a=u,c=d,u=0,d=0,i=t[s][1]):(t[s][0]===Gn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[kn,i]),t[r[o-1]+1][0]=Gn,o--,o--,s=o>0?r[o-1]:-1,a=0,c=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=rA(t)),t=z5e(t),s=1;s<t.length;){if(t[s-1][0]===kn&&t[s][0]===Gn){const f=t[s-1][1],p=t[s][1],m=NX(f,p),v=NX(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[kt,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[kt,f.substring(0,v)]),t[s-1][0]=Gn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=kn,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const zX=/[^a-zA-Z0-9]/,VX=/\s/,HX=/[\r\n]/,BOt=/\n\r?\n$/,NOt=/^\r?\n\r?\n/;function z5e(e){const t=e.map(o=>nC(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),c=s.match(zX),u=a.match(zX),d=c&&s.match(VX),f=u&&a.match(VX),p=d&&s.match(HX),m=f&&a.match(HX),v=p&&o.match(BOt),g=m&&i.match(NOt);return v||g?5:p||m?4:c&&!d&&f?3:d||f?2:c||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===kt&&t[r+1][0]===kt){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=nA(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let c=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,c=o,u=i,d=s)}t[r-1][1]!==c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function rA(e){let t=e.map(u=>nC(u));t.push([kt,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Gn:o++,s+=t[n][1],n++;break;case kn:r++,i+=t[n][1],n++;break;case kt:r+o>1?(r!==0&&o!==0&&(a=d7(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===kt?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[kt,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=nA(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[kn,i]),n++),s.length&&(t.splice(n,0,[Gn,s]),n++),n++):n!==0&&t[n-1][0]===kt?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let c=!1;for(n=1;n<t.length-1;)t[n-1][0]===kt&&t[n+1][0]===kt&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;return c&&(t=rA(t)),t}function zOt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function h7(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>nC(p)),r=!1;const o=[];let i=0,s=null,a=0,c=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===kt?(n[a][1].length<t&&(d||f)?(o[i++]=a,c=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===kn?f=!0:d=!0,s&&(c&&u&&d&&f||s.length<t/2&&zOt(c,u,d,f)===3)&&(n.splice(o[i-1],0,[kn,s]),n[o[i-1]+1][0]=Gn,i--,s=null,c&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=rA(n)),n}function VOt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,c=new Array(a),u=new Array(a);for(let y=0;y<a;y++)c[y]=-1,u[y]=-1;c[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let y=0;y<i&&!(Date.now()>n);y++){for(let x=-y+p;x<=y-m;x+=2){const b=s+x;let w;x===-y||x!==y&&c[b-1]<c[b+1]?w=c[b+1]:w=c[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(c[b]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return UX(e,t,w,C,n)}}}for(let x=-y+v;x<=y-g;x+=2){const b=s+x;let w;x===-y||x!==y&&u[b-1]<u[b+1]?w=u[b+1]:w=u[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[b]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&c[_]!==-1){const S=c[_],E=s+S-_;if(w=r-w,S>=w)return UX(e,t,S,E,n)}}}}return[[kn,e],[Gn,t]]}function UX(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),c=t.substring(r),u=am(i,s,{checkLines:!1,deadline:o}),d=am(a,c,{checkLines:!1,deadline:o});return u.concat(d)}function HOt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=WX(r,o,Math.ceil(r.length/4)),s=WX(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let c,u,d,f;e.length>t.length?(c=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],c=a[2],u=a[3]);const p=a[4];return[c,u,d,f,p]}function WX(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,c,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=d7(e.slice(n),t.slice(o)),f=nA(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),c=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",c||"",u||"",i||""]:null}function UOt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function WOt(e,t){const n=[],r={};n[0]="";function o(c){let u="",d=0,f=-1,p=n.length;for(;f<c.length-1;){f=c.indexOf(`
`,d),f===-1&&(f=c.length-1);let m=c.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=c.slice(d),f=c.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function YOt(e,t,n){let r=e,o=t;const i=WOt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=am(r,o,{checkLines:!1,deadline:n.deadline});UOt(a,s),a=f7(a),a.push([kt,""]);let c=0,u=0,d=0,f="",p="";for(;c<a.length;){switch(a[c][0]){case Gn:d++,p+=a[c][1];break;case kn:u++,f+=a[c][1];break;case kt:if(u>=1&&d>=1){a.splice(c-u-d,u+d),c=c-u-d;const m=am(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(c,0,m[v]);c+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}c++}return a.pop(),a}function qOt(e,t,n){let r;if(!e)return[[Gn,t]];if(!t)return[[kn,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Gn,o.substring(0,s)],[kt,i],[Gn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=kn,r[2][0]=kn),r;if(i.length===1)return[[kn,e],[Gn,t]];const a=HOt(e,t);if(a){const c=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=am(c,d,n),v=am(u,f,n);return m.concat([[kt,p]],v)}return n.checkLines&&e.length>100&&t.length>100?YOt(e,t,n):VOt(e,t,n.deadline)}const kn=-1,Gn=1,kt=0;function rC(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=am(e,t,KOt(n||{}));return XOt(r),r}function am(e,t,n){let r=e,o=t;if(r===o)return r?[[kt,r]]:[];let i=d7(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=nA(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let c=qOt(r,o,n);return s&&c.unshift([kt,s]),a&&c.push([kt,a]),c=rA(c),c}function GOt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function KOt(e){return{checkLines:!0,deadline:GOt(e.timeout||1),...e}}function $_(e,t,n){return n===1?e+t:t+e}function M_(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function ZOt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function YX(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Gn){o===null&&(o=s);continue}else if(u===kn){i===null&&(i=s);continue}else if(u===kt){if(o===null&&i===null){const[f,p]=M_(e[t][1],n);e[t][1]=f,e[s][1]=$_(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&ZOt(e,o,i,n)){const[u,d]=M_(e[o][1],r),[f]=M_(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=$_(e[t][1],d,n);return}const[a,c]=M_(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Gn,c]),i!==null&&i>=s&&i++):e[o][1]=$_(e[o][1],c,r),i===null?e.splice(s,0,[kn,c]):e[i][1]=$_(e[i][1],c,r)}function XOt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];LOt(i)&&n===kt&&YX(e,t,1),kM(o)&&n===kt&&YX(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const QOt={threshold:.5,distance:1e3};function JOt(e){return{...QOt,...e}}const ePt=32;function tPt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>ePt)throw new Error("Pattern too long for this browser.");const o=JOt(r),i=nPt(t);function s(v,g){const y=v/t.length,x=Math.abs(n-g);return o.distance?y+x/o.distance:x?1:y}let a=o.threshold,c=e.indexOf(t,n);c!==-1&&(a=Math.min(s(0,c),a),c=e.lastIndexOf(t,n+t.length),c!==-1&&(a=Math.min(s(0,c),a)));const u=1<<t.length-1;c=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const y=Math.min(n+f,e.length)+t.length,x=new Array(y+2);x[y+1]=(1<<v)-1;for(let b=y;b>=g;b--){const w=i[e.charAt(b-1)];if(v===0?x[b]=(x[b+1]<<1|1)&w:x[b]=(x[b+1]<<1|1)&w|((m[b+1]|m[b])<<1|1)|m[b+1],x[b]&u){const C=s(v,b-1);if(C<=a)if(a=C,c=b-1,c>n)g=Math.max(1,2*n-c);else break}}if(s(v+1,n)>a)break;m=x}return c}function nPt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function nP(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return tPt(e,t,r)}function qk(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function p7(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Gn&&(t[n]=e[n][1]);return t.join("")}function V5e(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==kn&&(t[n]=e[n][1]);return t.join("")}function lf(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=H5e(r)}return t}function rPt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const c=t.codePointAt(o);if(typeof c>"u")return o;r+=H5e(c),c>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(c=>nC(c)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function H5e(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Ud=32,m7=4,oPt={margin:4};function rP(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...oPt,...e}}function U5e(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=rC(e,t,{checkLines:!0});return r.length>2&&(r=f7(r),r=h7(r)),oP(e,r,rP(n))}if(e&&Array.isArray(e)&&typeof t>"u")return oP(p7(e),e,rP(n));if(typeof e=="string"&&t&&Array.isArray(t))return oP(e,t,rP(n));throw new Error("Unknown call format to make()")}function oP(e,t,n){if(t.length===0)return[];const r=[];let o=qk(0,0),i=0,s=0,a=0,c=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,y=g.length,x=lf(g);switch(!i&&v!==kt&&(o.start1=s,o.start2=a,o.utf8Start1=c,o.utf8Start2=u),v){case Gn:o.diffs[i++]=m,o.length2+=y,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case kn:o.length1+=y,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+y);break;case kt:y<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=y,o.length2+=y,o.utf8Length1+=x,o.utf8Length2+=x):y>=2*n.margin&&i&&(qX(o,d,n),r.push(o),o=qk(-1,-1),i=0,d=f,s=a,c=u);break;default:throw new Error("Unknown diff type")}v!==Gn&&(s+=y,c+=x),v!==kn&&(a+=y,u+=x)}return i&&(qX(o,d,n),r.push(o)),r}function qX(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<Ud-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&kM(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([kt,s]);const a=s.length,c=lf(s);let u=e.start2+e.length1+o;u<t.length&&kM(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([kt,d]);const f=d.length,p=lf(d);e.start1-=a,e.start2-=a,e.utf8Start1-=c,e.utf8Start2-=c,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=c+p,e.utf8Length2+=c+p}function iPt(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Gn:n+=s.length;break;case kn:r+=s.length;break;case kt:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function GX(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Gn&&(n+=e[s][1].length),e[s][0]!==kn&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===kn?i:i+(t-o)}function sPt(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m7;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==kt)i.unshift([kt,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==kt)i.push([kt,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function aPt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m7;const n=Ud;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const c=qk(i-a.length,s-a.length);let u=!0;if(a!==""){const p=lf(a);c.length1=a.length,c.utf8Length1=p,c.length2=a.length,c.utf8Length2=p,c.diffs.push([kt,a])}for(;o.diffs.length!==0&&c.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=lf(m);if(p===Gn){c.length2+=m.length,c.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&c.diffs.push(g),u=!1}else p===kn&&c.diffs.length===1&&c.diffs[0][0]===kt&&m.length>2*n?(c.length1+=m.length,c.utf8Length1+=v,i+=m.length,u=!1,c.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-c.length1-t),v=lf(m),c.length1+=m.length,c.utf8Length1+=v,i+=m.length,p===kt?(c.length2+=m.length,c.utf8Length2+=v,s+=m.length):u=!1,c.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=V5e(c.diffs),a=a.substring(a.length-t);const d=p7(o.diffs).substring(0,t),f=lf(d);d!==""&&(c.length1+=d.length,c.length2+=d.length,c.utf8Length1+=f,c.utf8Length2+=f,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===kt?c.diffs[c.diffs.length-1][1]+=d:c.diffs.push([kt,d])),u||e.splice(++r,0,c)}}}function W5e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=rPt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||m7,s=n.deleteThreshold||.4,a=sPt(o,i);r=a+r+a,aPt(o,i);let c=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+c,p=p7(o[d].diffs);let m,v=-1;if(p.length>Ud?(m=nP(r,p.substring(0,Ud),f),m!==-1&&(v=nP(r,p.substring(p.length-Ud),f+p.length-Ud),(v===-1||m>=v)&&(m=-1))):m=nP(r,p,f),m===-1)u[d]=!1,c-=o[d].length2-o[d].length1;else{u[d]=!0,c=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+Ud),p===g)r=r.substring(0,m)+V5e(o[d].diffs)+r.substring(m+p.length);else{let y=rC(p,g,{checkLines:!1});if(p.length>Ud&&iPt(y)/p.length>s)u[d]=!1;else{y=z5e(y);let x=0,b=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==kt&&(b=GX(y,x)),C[0]===Gn?r=r.substring(0,m+b)+C[1]+r.substring(m+b):C[0]===kn&&(r=r.substring(0,m+b)+r.substring(m+GX(y,x+C[1].length))),C[0]!==kn&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function Y5e(e){return e.map(lPt).join("")}function lPt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const c=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Gn:u="+";break;case kn:u="-";break;case kt:u=" ";break;default:throw new Error("Unknown patch operation.")}c[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return c.join("").replace(/%20/g," ")}const cPt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function q5e(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(cPt);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=qk(F_(o[1]),F_(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=F_(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=F_(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let c;try{c=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=lf(c)-c.length;if(a==="-")i.diffs.push([kn,c]),i.length1-=u;else if(a==="+")i.diffs.push([Gn,c]),i.length2-=u;else if(a===" ")i.diffs.push([kt,c]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(c));r++}}return t}function F_(e){return parseInt(e,10)}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var G5e;function Le(){return G5e.apply(null,arguments)}function uPt(e){G5e=e}function zl(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Lp(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function un(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function g7(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(un(e,t))return!1;return!0}function ms(e){return e===void 0}function nd(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function oC(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function K5e(e,t){var n=[],r,o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function cf(e,t){for(var n in t)un(t,n)&&(e[n]=t[n]);return un(t,"toString")&&(e.toString=t.toString),un(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Zc(e,t,n,r){return bje(e,t,n,r,!0).utc()}function dPt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Tt(e){return e._pf==null&&(e._pf=dPt()),e._pf}var jM;Array.prototype.some?jM=Array.prototype.some:jM=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function v7(e){if(e._isValid==null){var t=Tt(e),n=jM.call(t.parsedDateParts,function(o){return o!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function oA(e){var t=Zc(NaN);return e!=null?cf(Tt(t),e):Tt(t).userInvalidated=!0,t}var KX=Le.momentProperties=[],iP=!1;function y7(e,t){var n,r,o,i=KX.length;if(ms(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),ms(t._i)||(e._i=t._i),ms(t._f)||(e._f=t._f),ms(t._l)||(e._l=t._l),ms(t._strict)||(e._strict=t._strict),ms(t._tzm)||(e._tzm=t._tzm),ms(t._isUTC)||(e._isUTC=t._isUTC),ms(t._offset)||(e._offset=t._offset),ms(t._pf)||(e._pf=Tt(t)),ms(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)r=KX[n],o=t[r],ms(o)||(e[r]=o);return e}function iC(e){y7(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),iP===!1&&(iP=!0,Le.updateOffset(this),iP=!1)}function Vl(e){return e instanceof iC||e!=null&&e._isAMomentObject!=null}function Z5e(e){Le.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function il(e,t){var n=!0;return cf(function(){if(Le.deprecationHandler!=null&&Le.deprecationHandler(null,e),n){var r=[],o,i,s,a=arguments.length;for(i=0;i<a;i++){if(o="",typeof arguments[i]=="object"){o+=`
[`+i+"] ";for(s in arguments[0])un(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];r.push(o)}Z5e(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var ZX={};function X5e(e,t){Le.deprecationHandler!=null&&Le.deprecationHandler(e,t),ZX[e]||(Z5e(t),ZX[e]=!0)}Le.suppressDeprecationWarnings=!1;Le.deprecationHandler=null;function Xc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function fPt(e){var t,n;for(n in e)un(e,n)&&(t=e[n],Xc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function TM(e,t){var n=cf({},e),r;for(r in t)un(t,r)&&(Lp(e[r])&&Lp(t[r])?(n[r]={},cf(n[r],e[r]),cf(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)un(e,r)&&!un(t,r)&&Lp(e[r])&&(n[r]=cf({},n[r]));return n}function b7(e){e!=null&&this.set(e)}var AM;Object.keys?AM=Object.keys:AM=function(e){var t,n=[];for(t in e)un(e,t)&&n.push(t);return n};var hPt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function pPt(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Xc(r)?r.call(t,n):r}function zc(e,t,n){var r=""+Math.abs(e),o=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var x7=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L_=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,sP={},jv={};function rt(e,t,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(jv[e]=o),t&&(jv[t[0]]=function(){return zc(o.apply(this,arguments),t[1],t[2])}),n&&(jv[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function mPt(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function gPt(e){var t=e.match(x7),n,r;for(n=0,r=t.length;n<r;n++)jv[t[n]]?t[n]=jv[t[n]]:t[n]=mPt(t[n]);return function(o){var i="",s;for(s=0;s<r;s++)i+=Xc(t[s])?t[s].call(o,e):t[s];return i}}function jS(e,t){return e.isValid()?(t=Q5e(t,e.localeData()),sP[t]=sP[t]||gPt(t),sP[t](e)):e.localeData().invalidDate()}function Q5e(e,t){var n=5;function r(o){return t.longDateFormat(o)||o}for(L_.lastIndex=0;n>=0&&L_.test(e);)e=e.replace(L_,r),L_.lastIndex=0,n-=1;return e}var vPt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function yPt(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(x7).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var bPt="Invalid date";function xPt(){return this._invalidDate}var wPt="%d",CPt=/\d{1,2}/;function _Pt(e){return this._ordinal.replace("%d",e)}var SPt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function EPt(e,t,n,r){var o=this._relativeTime[n];return Xc(o)?o(e,t,n,r):o.replace(/%d/i,e)}function kPt(e,t){var n=this._relativeTime[e>0?"future":"past"];return Xc(n)?n(t):n.replace(/%s/i,t)}var jb={};function Bi(e,t){var n=e.toLowerCase();jb[n]=jb[n+"s"]=jb[t]=e}function sl(e){return typeof e=="string"?jb[e]||jb[e.toLowerCase()]:void 0}function w7(e){var t={},n,r;for(r in e)un(e,r)&&(n=sl(r),n&&(t[n]=e[r]));return t}var J5e={};function Ni(e,t){J5e[e]=t}function jPt(e){var t=[],n;for(n in e)un(e,n)&&t.push({unit:n,priority:J5e[n]});return t.sort(function(r,o){return r.priority-o.priority}),t}function iA(e){return e%4===0&&e%100!==0||e%400===0}function Da(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ft(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Da(t)),n}function e1(e,t){return function(n){return n!=null?(eje(this,e,n),Le.updateOffset(this,t),this):Gk(this,e)}}function Gk(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function eje(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&iA(e.year())&&e.month()===1&&e.date()===29?(n=Ft(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),dA(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function TPt(e){return e=sl(e),Xc(this[e])?this[e]():this}function APt(e,t){if(typeof e=="object"){e=w7(e);var n=jPt(e),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(e=sl(e),Xc(this[e]))return this[e](t);return this}var tje=/\d/,ma=/\d\d/,nje=/\d{3}/,C7=/\d{4}/,sA=/[+-]?\d{6}/,dr=/\d\d?/,rje=/\d\d\d\d?/,oje=/\d\d\d\d\d\d?/,aA=/\d{1,3}/,_7=/\d{1,4}/,lA=/[+-]?\d{1,6}/,t1=/\d+/,cA=/[+-]?\d+/,DPt=/Z|[+-]\d\d:?\d\d/gi,uA=/Z|[+-]\d\d(?::?\d\d)?/gi,IPt=/[+-]?\d+(\.\d{1,3})?/,sC=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Kk;Kk={};function Ue(e,t,n){Kk[e]=Xc(t)?t:function(r,o){return r&&n?n:t}}function OPt(e,t){return un(Kk,e)?Kk[e](t._strict,t._locale):new RegExp(PPt(e))}function PPt(e){return Xs(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,o,i){return n||r||o||i}))}function Xs(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var DM={};function Pn(e,t){var n,r=t,o;for(typeof e=="string"&&(e=[e]),nd(t)&&(r=function(i,s){s[t]=Ft(i)}),o=e.length,n=0;n<o;n++)DM[e[n]]=r}function aC(e,t){Pn(e,function(n,r,o,i){o._w=o._w||{},t(n,o._w,o,i)})}function RPt(e,t,n){t!=null&&un(DM,e)&&DM[e](t,n._a,n,e)}var Ti=0,ju=1,kc=2,jo=3,kl=4,Tu=5,yp=6,$Pt=7,MPt=8;function FPt(e,t){return(e%t+t)%t}var Gr;Array.prototype.indexOf?Gr=Array.prototype.indexOf:Gr=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function dA(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=FPt(t,12);return e+=(t-n)/12,n===1?iA(e)?29:28:31-n%7%2}rt("M",["MM",2],"Mo",function(){return this.month()+1});rt("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});rt("MMMM",0,0,function(e){return this.localeData().months(this,e)});Bi("month","M");Ni("month",8);Ue("M",dr);Ue("MM",dr,ma);Ue("MMM",function(e,t){return t.monthsShortRegex(e)});Ue("MMMM",function(e,t){return t.monthsRegex(e)});Pn(["M","MM"],function(e,t){t[ju]=Ft(e)-1});Pn(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);o!=null?t[ju]=o:Tt(n).invalidMonth=e});var LPt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ije="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),sje=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,BPt=sC,NPt=sC;function zPt(e,t){return e?zl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||sje).test(t)?"format":"standalone"][e.month()]:zl(this._months)?this._months:this._months.standalone}function VPt(e,t){return e?zl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[sje.test(t)?"format":"standalone"][e.month()]:zl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function HPt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Zc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(o=Gr.call(this._shortMonthsParse,s),o!==-1?o:null):(o=Gr.call(this._longMonthsParse,s),o!==-1?o:null):t==="MMM"?(o=Gr.call(this._shortMonthsParse,s),o!==-1?o:(o=Gr.call(this._longMonthsParse,s),o!==-1?o:null)):(o=Gr.call(this._longMonthsParse,s),o!==-1?o:(o=Gr.call(this._shortMonthsParse,s),o!==-1?o:null))}function UPt(e,t,n){var r,o,i;if(this._monthsParseExact)return HPt.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=Zc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function aje(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Ft(t);else if(t=e.localeData().monthsParse(t),!nd(t))return e}return n=Math.min(e.date(),dA(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lje(e){return e!=null?(aje(this,e),Le.updateOffset(this,!0),this):Gk(this,"Month")}function WPt(){return dA(this.year(),this.month())}function YPt(e){return this._monthsParseExact?(un(this,"_monthsRegex")||cje.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(un(this,"_monthsShortRegex")||(this._monthsShortRegex=BPt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function qPt(e){return this._monthsParseExact?(un(this,"_monthsRegex")||cje.call(this),e?this._monthsStrictRegex:this._monthsRegex):(un(this,"_monthsRegex")||(this._monthsRegex=NPt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function cje(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],o,i;for(o=0;o<12;o++)i=Zc([2e3,o]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),o=0;o<12;o++)t[o]=Xs(t[o]),n[o]=Xs(n[o]);for(o=0;o<24;o++)r[o]=Xs(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}rt("Y",0,0,function(){var e=this.year();return e<=9999?zc(e,4):"+"+e});rt(0,["YY",2],0,function(){return this.year()%100});rt(0,["YYYY",4],0,"year");rt(0,["YYYYY",5],0,"year");rt(0,["YYYYYY",6,!0],0,"year");Bi("year","y");Ni("year",1);Ue("Y",cA);Ue("YY",dr,ma);Ue("YYYY",_7,C7);Ue("YYYYY",lA,sA);Ue("YYYYYY",lA,sA);Pn(["YYYYY","YYYYYY"],Ti);Pn("YYYY",function(e,t){t[Ti]=e.length===2?Le.parseTwoDigitYear(e):Ft(e)});Pn("YY",function(e,t){t[Ti]=Le.parseTwoDigitYear(e)});Pn("Y",function(e,t){t[Ti]=parseInt(e,10)});function Tb(e){return iA(e)?366:365}Le.parseTwoDigitYear=function(e){return Ft(e)+(Ft(e)>68?1900:2e3)};var uje=e1("FullYear",!0);function GPt(){return iA(this.year())}function KPt(e,t,n,r,o,i,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,o,i,s),a}function Sx(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Zk(e,t,n){var r=7+t-n,o=(7+Sx(e,0,r).getUTCDay()-t)%7;return-o+r-1}function dje(e,t,n,r,o){var i=(7+n-r)%7,s=Zk(e,r,o),a=1+7*(t-1)+i+s,c,u;return a<=0?(c=e-1,u=Tb(c)+a):a>Tb(e)?(c=e+1,u=a-Tb(e)):(c=e,u=a),{year:c,dayOfYear:u}}function Ex(e,t,n){var r=Zk(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1,i,s;return o<1?(s=e.year()-1,i=o+Lu(s,t,n)):o>Lu(e.year(),t,n)?(i=o-Lu(e.year(),t,n),s=e.year()+1):(s=e.year(),i=o),{week:i,year:s}}function Lu(e,t,n){var r=Zk(e,t,n),o=Zk(e+1,t,n);return(Tb(e)-r+o)/7}rt("w",["ww",2],"wo","week");rt("W",["WW",2],"Wo","isoWeek");Bi("week","w");Bi("isoWeek","W");Ni("week",5);Ni("isoWeek",5);Ue("w",dr);Ue("ww",dr,ma);Ue("W",dr);Ue("WW",dr,ma);aC(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Ft(e)});function ZPt(e){return Ex(e,this._week.dow,this._week.doy).week}var XPt={dow:0,doy:6};function QPt(){return this._week.dow}function JPt(){return this._week.doy}function e3t(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function t3t(e){var t=Ex(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}rt("d",0,"do","day");rt("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});rt("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});rt("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});rt("e",0,0,"weekday");rt("E",0,0,"isoWeekday");Bi("day","d");Bi("weekday","e");Bi("isoWeekday","E");Ni("day",11);Ni("weekday",11);Ni("isoWeekday",11);Ue("d",dr);Ue("e",dr);Ue("E",dr);Ue("dd",function(e,t){return t.weekdaysMinRegex(e)});Ue("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ue("dddd",function(e,t){return t.weekdaysRegex(e)});aC(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);o!=null?t.d=o:Tt(n).invalidWeekday=e});aC(["d","e","E"],function(e,t,n,r){t[r]=Ft(e)});function n3t(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function r3t(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function S7(e,t){return e.slice(t,7).concat(e.slice(0,t))}var o3t="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),fje="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),i3t="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),s3t=sC,a3t=sC,l3t=sC;function c3t(e,t){var n=zl(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?S7(n,this._week.dow):e?n[e.day()]:n}function u3t(e){return e===!0?S7(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function d3t(e){return e===!0?S7(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function f3t(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Zc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(o=Gr.call(this._weekdaysParse,s),o!==-1?o:null):t==="ddd"?(o=Gr.call(this._shortWeekdaysParse,s),o!==-1?o:null):(o=Gr.call(this._minWeekdaysParse,s),o!==-1?o:null):t==="dddd"?(o=Gr.call(this._weekdaysParse,s),o!==-1||(o=Gr.call(this._shortWeekdaysParse,s),o!==-1)?o:(o=Gr.call(this._minWeekdaysParse,s),o!==-1?o:null)):t==="ddd"?(o=Gr.call(this._shortWeekdaysParse,s),o!==-1||(o=Gr.call(this._weekdaysParse,s),o!==-1)?o:(o=Gr.call(this._minWeekdaysParse,s),o!==-1?o:null)):(o=Gr.call(this._minWeekdaysParse,s),o!==-1||(o=Gr.call(this._weekdaysParse,s),o!==-1)?o:(o=Gr.call(this._shortWeekdaysParse,s),o!==-1?o:null))}function h3t(e,t,n){var r,o,i;if(this._weekdaysParseExact)return f3t.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=Zc([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function p3t(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=n3t(e,this.localeData()),this.add(e-t,"d")):t}function m3t(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function g3t(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=r3t(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function v3t(e){return this._weekdaysParseExact?(un(this,"_weekdaysRegex")||E7.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(un(this,"_weekdaysRegex")||(this._weekdaysRegex=s3t),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function y3t(e){return this._weekdaysParseExact?(un(this,"_weekdaysRegex")||E7.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(un(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=a3t),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function b3t(e){return this._weekdaysParseExact?(un(this,"_weekdaysRegex")||E7.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(un(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=l3t),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function E7(){function e(d,f){return f.length-d.length}var t=[],n=[],r=[],o=[],i,s,a,c,u;for(i=0;i<7;i++)s=Zc([2e3,1]).day(i),a=Xs(this.weekdaysMin(s,"")),c=Xs(this.weekdaysShort(s,"")),u=Xs(this.weekdays(s,"")),t.push(a),n.push(c),r.push(u),o.push(a),o.push(c),o.push(u);t.sort(e),n.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function k7(){return this.hours()%12||12}function x3t(){return this.hours()||24}rt("H",["HH",2],0,"hour");rt("h",["hh",2],0,k7);rt("k",["kk",2],0,x3t);rt("hmm",0,0,function(){return""+k7.apply(this)+zc(this.minutes(),2)});rt("hmmss",0,0,function(){return""+k7.apply(this)+zc(this.minutes(),2)+zc(this.seconds(),2)});rt("Hmm",0,0,function(){return""+this.hours()+zc(this.minutes(),2)});rt("Hmmss",0,0,function(){return""+this.hours()+zc(this.minutes(),2)+zc(this.seconds(),2)});function hje(e,t){rt(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}hje("a",!0);hje("A",!1);Bi("hour","h");Ni("hour",13);function pje(e,t){return t._meridiemParse}Ue("a",pje);Ue("A",pje);Ue("H",dr);Ue("h",dr);Ue("k",dr);Ue("HH",dr,ma);Ue("hh",dr,ma);Ue("kk",dr,ma);Ue("hmm",rje);Ue("hmmss",oje);Ue("Hmm",rje);Ue("Hmmss",oje);Pn(["H","HH"],jo);Pn(["k","kk"],function(e,t,n){var r=Ft(e);t[jo]=r===24?0:r});Pn(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Pn(["h","hh"],function(e,t,n){t[jo]=Ft(e),Tt(n).bigHour=!0});Pn("hmm",function(e,t,n){var r=e.length-2;t[jo]=Ft(e.substr(0,r)),t[kl]=Ft(e.substr(r)),Tt(n).bigHour=!0});Pn("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[jo]=Ft(e.substr(0,r)),t[kl]=Ft(e.substr(r,2)),t[Tu]=Ft(e.substr(o)),Tt(n).bigHour=!0});Pn("Hmm",function(e,t,n){var r=e.length-2;t[jo]=Ft(e.substr(0,r)),t[kl]=Ft(e.substr(r))});Pn("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[jo]=Ft(e.substr(0,r)),t[kl]=Ft(e.substr(r,2)),t[Tu]=Ft(e.substr(o))});function w3t(e){return(e+"").toLowerCase().charAt(0)==="p"}var C3t=/[ap]\.?m?\.?/i,_3t=e1("Hours",!0);function S3t(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var mje={calendar:hPt,longDateFormat:vPt,invalidDate:bPt,ordinal:wPt,dayOfMonthOrdinalParse:CPt,relativeTime:SPt,months:LPt,monthsShort:ije,week:XPt,weekdays:o3t,weekdaysMin:i3t,weekdaysShort:fje,meridiemParse:C3t},vr={},ty={},kx;function E3t(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function XX(e){return e&&e.toLowerCase().replace("_","-")}function k3t(e){for(var t=0,n,r,o,i;t<e.length;){for(i=XX(e[t]).split("-"),n=i.length,r=XX(e[t+1]),r=r?r.split("-"):null;n>0;){if(o=fA(i.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&E3t(i,r)>=n-1)break;n--}t++}return kx}function j3t(e){return e.match("^[^/\\\\]*$")!=null}function fA(e){var t=null,n;if(vr[e]===void 0&&typeof module<"u"&&module&&module.exports&&j3t(e))try{t=kx._abbr,n=require,n("./locale/"+e),Of(t)}catch{vr[e]=null}return vr[e]}function Of(e,t){var n;return e&&(ms(t)?n=Cd(e):n=j7(e,t),n?kx=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),kx._abbr}function j7(e,t){if(t!==null){var n,r=mje;if(t.abbr=e,vr[e]!=null)X5e("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=vr[e]._config;else if(t.parentLocale!=null)if(vr[t.parentLocale]!=null)r=vr[t.parentLocale]._config;else if(n=fA(t.parentLocale),n!=null)r=n._config;else return ty[t.parentLocale]||(ty[t.parentLocale]=[]),ty[t.parentLocale].push({name:e,config:t}),null;return vr[e]=new b7(TM(r,t)),ty[e]&&ty[e].forEach(function(o){j7(o.name,o.config)}),Of(e),vr[e]}else return delete vr[e],null}function T3t(e,t){if(t!=null){var n,r,o=mje;vr[e]!=null&&vr[e].parentLocale!=null?vr[e].set(TM(vr[e]._config,t)):(r=fA(e),r!=null&&(o=r._config),t=TM(o,t),r==null&&(t.abbr=e),n=new b7(t),n.parentLocale=vr[e],vr[e]=n),Of(e)}else vr[e]!=null&&(vr[e].parentLocale!=null?(vr[e]=vr[e].parentLocale,e===Of()&&Of(e)):vr[e]!=null&&delete vr[e]);return vr[e]}function Cd(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return kx;if(!zl(e)){if(t=fA(e),t)return t;e=[e]}return k3t(e)}function A3t(){return AM(vr)}function T7(e){var t,n=e._a;return n&&Tt(e).overflow===-2&&(t=n[ju]<0||n[ju]>11?ju:n[kc]<1||n[kc]>dA(n[Ti],n[ju])?kc:n[jo]<0||n[jo]>24||n[jo]===24&&(n[kl]!==0||n[Tu]!==0||n[yp]!==0)?jo:n[kl]<0||n[kl]>59?kl:n[Tu]<0||n[Tu]>59?Tu:n[yp]<0||n[yp]>999?yp:-1,Tt(e)._overflowDayOfYear&&(t<Ti||t>kc)&&(t=kc),Tt(e)._overflowWeeks&&t===-1&&(t=$Pt),Tt(e)._overflowWeekday&&t===-1&&(t=MPt),Tt(e).overflow=t),e}var D3t=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,I3t=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,O3t=/Z|[+-]\d\d(?::?\d\d)?/,B_=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],aP=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],P3t=/^\/?Date\((-?\d+)/i,R3t=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,$3t={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function gje(e){var t,n,r=e._i,o=D3t.exec(r)||I3t.exec(r),i,s,a,c,u=B_.length,d=aP.length;if(o){for(Tt(e).iso=!0,t=0,n=u;t<n;t++)if(B_[t][1].exec(o[1])){s=B_[t][0],i=B_[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(o[3]){for(t=0,n=d;t<n;t++)if(aP[t][1].exec(o[3])){a=(o[2]||" ")+aP[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(o[4])if(O3t.exec(o[4]))c="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(c||""),D7(e)}else e._isValid=!1}function M3t(e,t,n,r,o,i){var s=[F3t(e),ije.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&s.push(parseInt(i,10)),s}function F3t(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function L3t(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function B3t(e,t,n){if(e){var r=fje.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return Tt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function N3t(e,t,n){if(e)return $3t[e];if(t)return 0;var r=parseInt(n,10),o=r%100,i=(r-o)/100;return i*60+o}function vje(e){var t=R3t.exec(L3t(e._i)),n;if(t){if(n=M3t(t[4],t[3],t[2],t[5],t[6],t[7]),!B3t(t[1],n,e))return;e._a=n,e._tzm=N3t(t[8],t[9],t[10]),e._d=Sx.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Tt(e).rfc2822=!0}else e._isValid=!1}function z3t(e){var t=P3t.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(gje(e),e._isValid===!1)delete e._isValid;else return;if(vje(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Le.createFromInputFallback(e)}Le.createFromInputFallback=il("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Ag(e,t,n){return e??t??n}function V3t(e){var t=new Date(Le.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function A7(e){var t,n,r=[],o,i,s;if(!e._d){for(o=V3t(e),e._w&&e._a[kc]==null&&e._a[ju]==null&&H3t(e),e._dayOfYear!=null&&(s=Ag(e._a[Ti],o[Ti]),(e._dayOfYear>Tb(s)||e._dayOfYear===0)&&(Tt(e)._overflowDayOfYear=!0),n=Sx(s,0,e._dayOfYear),e._a[ju]=n.getUTCMonth(),e._a[kc]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[jo]===24&&e._a[kl]===0&&e._a[Tu]===0&&e._a[yp]===0&&(e._nextDay=!0,e._a[jo]=0),e._d=(e._useUTC?Sx:KPt).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[jo]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(Tt(e).weekdayMismatch=!0)}}function H3t(e){var t,n,r,o,i,s,a,c,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,s=4,n=Ag(t.GG,e._a[Ti],Ex(ar(),1,4).year),r=Ag(t.W,1),o=Ag(t.E,1),(o<1||o>7)&&(c=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,u=Ex(ar(),i,s),n=Ag(t.gg,e._a[Ti],u.year),r=Ag(t.w,u.week),t.d!=null?(o=t.d,(o<0||o>6)&&(c=!0)):t.e!=null?(o=t.e+i,(t.e<0||t.e>6)&&(c=!0)):o=i),r<1||r>Lu(n,i,s)?Tt(e)._overflowWeeks=!0:c!=null?Tt(e)._overflowWeekday=!0:(a=dje(n,r,o,i,s),e._a[Ti]=a.year,e._dayOfYear=a.dayOfYear)}Le.ISO_8601=function(){};Le.RFC_2822=function(){};function D7(e){if(e._f===Le.ISO_8601){gje(e);return}if(e._f===Le.RFC_2822){vje(e);return}e._a=[],Tt(e).empty=!0;var t=""+e._i,n,r,o,i,s,a=t.length,c=0,u,d;for(o=Q5e(e._f,e._locale).match(x7)||[],d=o.length,n=0;n<d;n++)i=o[n],r=(t.match(OPt(i,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&Tt(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),c+=r.length),jv[i]?(r?Tt(e).empty=!1:Tt(e).unusedTokens.push(i),RPt(i,r,e)):e._strict&&!r&&Tt(e).unusedTokens.push(i);Tt(e).charsLeftOver=a-c,t.length>0&&Tt(e).unusedInput.push(t),e._a[jo]<=12&&Tt(e).bigHour===!0&&e._a[jo]>0&&(Tt(e).bigHour=void 0),Tt(e).parsedDateParts=e._a.slice(0),Tt(e).meridiem=e._meridiem,e._a[jo]=U3t(e._locale,e._a[jo],e._meridiem),u=Tt(e).era,u!==null&&(e._a[Ti]=e._locale.erasConvertYear(u,e._a[Ti])),A7(e),T7(e)}function U3t(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function W3t(e){var t,n,r,o,i,s,a=!1,c=e._f.length;if(c===0){Tt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<c;o++)i=0,s=!1,t=y7({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],D7(t),v7(t)&&(s=!0),i+=Tt(t).charsLeftOver,i+=Tt(t).unusedTokens.length*10,Tt(t).score=i,a?i<r&&(r=i,n=t):(r==null||i<r||s)&&(r=i,n=t,s&&(a=!0));cf(e,n||t)}function Y3t(e){if(!e._d){var t=w7(e._i),n=t.day===void 0?t.date:t.day;e._a=K5e([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),A7(e)}}function q3t(e){var t=new iC(T7(yje(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function yje(e){var t=e._i,n=e._f;return e._locale=e._locale||Cd(e._l),t===null||n===void 0&&t===""?oA({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Vl(t)?new iC(T7(t)):(oC(t)?e._d=t:zl(n)?W3t(e):n?D7(e):G3t(e),v7(e)||(e._d=null),e))}function G3t(e){var t=e._i;ms(t)?e._d=new Date(Le.now()):oC(t)?e._d=new Date(t.valueOf()):typeof t=="string"?z3t(e):zl(t)?(e._a=K5e(t.slice(0),function(n){return parseInt(n,10)}),A7(e)):Lp(t)?Y3t(e):nd(t)?e._d=new Date(t):Le.createFromInputFallback(e)}function bje(e,t,n,r,o){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Lp(e)&&g7(e)||zl(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=e,i._f=t,i._strict=r,q3t(i)}function ar(e,t,n,r){return bje(e,t,n,r,!1)}var K3t=il("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ar.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:oA()}),Z3t=il("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ar.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:oA()});function xje(e,t){var n,r;if(t.length===1&&zl(t[0])&&(t=t[0]),!t.length)return ar();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function X3t(){var e=[].slice.call(arguments,0);return xje("isBefore",e)}function Q3t(){var e=[].slice.call(arguments,0);return xje("isAfter",e)}var J3t=function(){return Date.now?Date.now():+new Date},ny=["year","quarter","month","week","day","hour","minute","second","millisecond"];function eRt(e){var t,n=!1,r,o=ny.length;for(t in e)if(un(e,t)&&!(Gr.call(ny,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[ny[r]]){if(n)return!1;parseFloat(e[ny[r]])!==Ft(e[ny[r]])&&(n=!0)}return!0}function tRt(){return this._isValid}function nRt(){return Xl(NaN)}function hA(e){var t=w7(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=eRt(t),this._milliseconds=+d+u*1e3+c*6e4+a*1e3*60*60,this._days=+s+i*7,this._months=+o+r*3+n*12,this._data={},this._locale=Cd(),this._bubble()}function TS(e){return e instanceof hA}function IM(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function rRt(e,t,n){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),i=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&Ft(e[s])!==Ft(t[s]))&&i++;return i+o}function wje(e,t){rt(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+zc(~~(n/60),2)+t+zc(~~n%60,2)})}wje("Z",":");wje("ZZ","");Ue("Z",uA);Ue("ZZ",uA);Pn(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=I7(uA,e)});var oRt=/([\+\-]|\d\d)/gi;function I7(e,t){var n=(t||"").match(e),r,o,i;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(oRt)||["-",0,0],i=+(o[1]*60)+Ft(o[2]),i===0?0:o[0]==="+"?i:-i)}function O7(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Vl(e)||oC(e)?e.valueOf():ar(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Le.updateOffset(n,!1),n):ar(e).local()}function OM(e){return-Math.round(e._d.getTimezoneOffset())}Le.updateOffset=function(){};function iRt(e,t,n){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=I7(uA,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=OM(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?Sje(this,Xl(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Le.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:OM(this)}function sRt(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function aRt(e){return this.utcOffset(0,e)}function lRt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(OM(this),"m")),this}function cRt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=I7(DPt,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function uRt(e){return this.isValid()?(e=e?ar(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function dRt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function fRt(){if(!ms(this._isDSTShifted))return this._isDSTShifted;var e={},t;return y7(e,this),e=yje(e),e._a?(t=e._isUTC?Zc(e._a):ar(e._a),this._isDSTShifted=this.isValid()&&rRt(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function hRt(){return this.isValid()?!this._isUTC:!1}function pRt(){return this.isValid()?this._isUTC:!1}function Cje(){return this.isValid()?this._isUTC&&this._offset===0:!1}var mRt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,gRt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Xl(e,t){var n=e,r=null,o,i,s;return TS(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:nd(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=mRt.exec(e))?(o=r[1]==="-"?-1:1,n={y:0,d:Ft(r[kc])*o,h:Ft(r[jo])*o,m:Ft(r[kl])*o,s:Ft(r[Tu])*o,ms:Ft(IM(r[yp]*1e3))*o}):(r=gRt.exec(e))?(o=r[1]==="-"?-1:1,n={y:Mh(r[2],o),M:Mh(r[3],o),w:Mh(r[4],o),d:Mh(r[5],o),h:Mh(r[6],o),m:Mh(r[7],o),s:Mh(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=vRt(ar(n.from),ar(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),i=new hA(n),TS(e)&&un(e,"_locale")&&(i._locale=e._locale),TS(e)&&un(e,"_isValid")&&(i._isValid=e._isValid),i}Xl.fn=hA.prototype;Xl.invalid=nRt;function Mh(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function QX(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function vRt(e,t){var n;return e.isValid()&&t.isValid()?(t=O7(t,e),e.isBefore(t)?n=QX(e,t):(n=QX(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function _je(e,t){return function(n,r){var o,i;return r!==null&&!isNaN(+r)&&(X5e(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),o=Xl(n,r),Sje(this,o,e),this}}function Sje(e,t,n,r){var o=t._milliseconds,i=IM(t._days),s=IM(t._months);e.isValid()&&(r=r??!0,s&&aje(e,Gk(e,"Month")+s*n),i&&eje(e,"Date",Gk(e,"Date")+i*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&Le.updateOffset(e,i||s))}var yRt=_je(1,"add"),bRt=_je(-1,"subtract");function Eje(e){return typeof e=="string"||e instanceof String}function xRt(e){return Vl(e)||oC(e)||Eje(e)||nd(e)||CRt(e)||wRt(e)||e===null||e===void 0}function wRt(e){var t=Lp(e)&&!g7(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,i,s=r.length;for(o=0;o<s;o+=1)i=r[o],n=n||un(e,i);return t&&n}function CRt(e){var t=zl(e),n=!1;return t&&(n=e.filter(function(r){return!nd(r)&&Eje(e)}).length===0),t&&n}function _Rt(e){var t=Lp(e)&&!g7(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,i;for(o=0;o<r.length;o+=1)i=r[o],n=n||un(e,i);return t&&n}function SRt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function ERt(e,t){arguments.length===1&&(arguments[0]?xRt(arguments[0])?(e=arguments[0],t=void 0):_Rt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||ar(),r=O7(n,this).startOf("day"),o=Le.calendarFormat(this,r)||"sameElse",i=t&&(Xc(t[o])?t[o].call(this,n):t[o]);return this.format(i||this.localeData().calendar(o,this,ar(n)))}function kRt(){return new iC(this)}function jRt(e,t){var n=Vl(e)?e:ar(e);return this.isValid()&&n.isValid()?(t=sl(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function TRt(e,t){var n=Vl(e)?e:ar(e);return this.isValid()&&n.isValid()?(t=sl(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function ARt(e,t,n,r){var o=Vl(e)?e:ar(e),i=Vl(t)?t:ar(t);return this.isValid()&&o.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function DRt(e,t){var n=Vl(e)?e:ar(e),r;return this.isValid()&&n.isValid()?(t=sl(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function IRt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function ORt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function PRt(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(r=O7(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=sl(t),t){case"year":i=AS(this,r)/12;break;case"month":i=AS(this,r);break;case"quarter":i=AS(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:Da(i)}function AS(e,t){if(e.date()<t.date())return-AS(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),o,i;return t-r<0?(o=e.clone().add(n-1,"months"),i=(t-r)/(r-o)):(o=e.clone().add(n+1,"months"),i=(t-r)/(o-r)),-(n+i)||0}Le.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Le.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function RRt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $Rt(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?jS(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Xc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",jS(n,"Z")):jS(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function MRt(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,o,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+o+i)}function FRt(e){e||(e=this.isUtc()?Le.defaultFormatUtc:Le.defaultFormat);var t=jS(this,e);return this.localeData().postformat(t)}function LRt(e,t){return this.isValid()&&(Vl(e)&&e.isValid()||ar(e).isValid())?Xl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function BRt(e){return this.from(ar(),e)}function NRt(e,t){return this.isValid()&&(Vl(e)&&e.isValid()||ar(e).isValid())?Xl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function zRt(e){return this.to(ar(),e)}function kje(e){var t;return e===void 0?this._locale._abbr:(t=Cd(e),t!=null&&(this._locale=t),this)}var jje=il("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Tje(){return this._locale}var Xk=1e3,Tv=60*Xk,Qk=60*Tv,Aje=(365*400+97)*24*Qk;function Av(e,t){return(e%t+t)%t}function Dje(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Aje:new Date(e,t,n).valueOf()}function Ije(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Aje:Date.UTC(e,t,n)}function VRt(e){var t,n;if(e=sl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Ije:Dje,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Av(t+(this._isUTC?0:this.utcOffset()*Tv),Qk);break;case"minute":t=this._d.valueOf(),t-=Av(t,Tv);break;case"second":t=this._d.valueOf(),t-=Av(t,Xk);break}return this._d.setTime(t),Le.updateOffset(this,!0),this}function HRt(e){var t,n;if(e=sl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Ije:Dje,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Qk-Av(t+(this._isUTC?0:this.utcOffset()*Tv),Qk)-1;break;case"minute":t=this._d.valueOf(),t+=Tv-Av(t,Tv)-1;break;case"second":t=this._d.valueOf(),t+=Xk-Av(t,Xk)-1;break}return this._d.setTime(t),Le.updateOffset(this,!0),this}function URt(){return this._d.valueOf()-(this._offset||0)*6e4}function WRt(){return Math.floor(this.valueOf()/1e3)}function YRt(){return new Date(this.valueOf())}function qRt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function GRt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function KRt(){return this.isValid()?this.toISOString():null}function ZRt(){return v7(this)}function XRt(){return cf({},Tt(this))}function QRt(){return Tt(this).overflow}function JRt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}rt("N",0,0,"eraAbbr");rt("NN",0,0,"eraAbbr");rt("NNN",0,0,"eraAbbr");rt("NNNN",0,0,"eraName");rt("NNNNN",0,0,"eraNarrow");rt("y",["y",1],"yo","eraYear");rt("y",["yy",2],0,"eraYear");rt("y",["yyy",3],0,"eraYear");rt("y",["yyyy",4],0,"eraYear");Ue("N",P7);Ue("NN",P7);Ue("NNN",P7);Ue("NNNN",u$t);Ue("NNNNN",d$t);Pn(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?Tt(n).era=o:Tt(n).invalidEra=e});Ue("y",t1);Ue("yy",t1);Ue("yyy",t1);Ue("yyyy",t1);Ue("yo",f$t);Pn(["y","yy","yyy","yyyy"],Ti);Pn(["yo"],function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ti]=n._locale.eraYearOrdinalParse(e,o):t[Ti]=parseInt(e,10)});function e$t(e,t){var n,r,o,i=this._eras||Cd("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":o=Le(i[n].since).startOf("day"),i[n].since=o.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":o=Le(i[n].until).startOf("day").valueOf(),i[n].until=o.valueOf();break}}return i}function t$t(e,t,n){var r,o,i=this.eras(),s,a,c;for(e=e.toUpperCase(),r=0,o=i.length;r<o;++r)if(s=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),c=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[r];break;case"NNNN":if(s===e)return i[r];break;case"NNNNN":if(c===e)return i[r];break}else if([s,a,c].indexOf(e)>=0)return i[r]}function n$t(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Le(e.since).year():Le(e.since).year()+(t-e.offset)*n}function r$t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function o$t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function i$t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function s$t(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-Le(o[e].since).year())*n+o[e].offset;return this.year()}function a$t(e){return un(this,"_erasNameRegex")||R7.call(this),e?this._erasNameRegex:this._erasRegex}function l$t(e){return un(this,"_erasAbbrRegex")||R7.call(this),e?this._erasAbbrRegex:this._erasRegex}function c$t(e){return un(this,"_erasNarrowRegex")||R7.call(this),e?this._erasNarrowRegex:this._erasRegex}function P7(e,t){return t.erasAbbrRegex(e)}function u$t(e,t){return t.erasNameRegex(e)}function d$t(e,t){return t.erasNarrowRegex(e)}function f$t(e,t){return t._eraYearOrdinalRegex||t1}function R7(){var e=[],t=[],n=[],r=[],o,i,s=this.eras();for(o=0,i=s.length;o<i;++o)t.push(Xs(s[o].name)),e.push(Xs(s[o].abbr)),n.push(Xs(s[o].narrow)),r.push(Xs(s[o].name)),r.push(Xs(s[o].abbr)),r.push(Xs(s[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}rt(0,["gg",2],0,function(){return this.weekYear()%100});rt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function pA(e,t){rt(0,[e,e.length],0,t)}pA("gggg","weekYear");pA("ggggg","weekYear");pA("GGGG","isoWeekYear");pA("GGGGG","isoWeekYear");Bi("weekYear","gg");Bi("isoWeekYear","GG");Ni("weekYear",1);Ni("isoWeekYear",1);Ue("G",cA);Ue("g",cA);Ue("GG",dr,ma);Ue("gg",dr,ma);Ue("GGGG",_7,C7);Ue("gggg",_7,C7);Ue("GGGGG",lA,sA);Ue("ggggg",lA,sA);aC(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Ft(e)});aC(["gg","GG"],function(e,t,n,r){t[r]=Le.parseTwoDigitYear(e)});function h$t(e){return Oje.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function p$t(e){return Oje.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function m$t(){return Lu(this.year(),1,4)}function g$t(){return Lu(this.isoWeekYear(),1,4)}function v$t(){var e=this.localeData()._week;return Lu(this.year(),e.dow,e.doy)}function y$t(){var e=this.localeData()._week;return Lu(this.weekYear(),e.dow,e.doy)}function Oje(e,t,n,r,o){var i;return e==null?Ex(this,r,o).year:(i=Lu(e,r,o),t>i&&(t=i),b$t.call(this,e,t,n,r,o))}function b$t(e,t,n,r,o){var i=dje(e,t,n,r,o),s=Sx(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}rt("Q",0,"Qo","quarter");Bi("quarter","Q");Ni("quarter",7);Ue("Q",tje);Pn("Q",function(e,t){t[ju]=(Ft(e)-1)*3});function x$t(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}rt("D",["DD",2],"Do","date");Bi("date","D");Ni("date",9);Ue("D",dr);Ue("DD",dr,ma);Ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Pn(["D","DD"],kc);Pn("Do",function(e,t){t[kc]=Ft(e.match(dr)[0])});var Pje=e1("Date",!0);rt("DDD",["DDDD",3],"DDDo","dayOfYear");Bi("dayOfYear","DDD");Ni("dayOfYear",4);Ue("DDD",aA);Ue("DDDD",nje);Pn(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Ft(e)});function w$t(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}rt("m",["mm",2],0,"minute");Bi("minute","m");Ni("minute",14);Ue("m",dr);Ue("mm",dr,ma);Pn(["m","mm"],kl);var C$t=e1("Minutes",!1);rt("s",["ss",2],0,"second");Bi("second","s");Ni("second",15);Ue("s",dr);Ue("ss",dr,ma);Pn(["s","ss"],Tu);var _$t=e1("Seconds",!1);rt("S",0,0,function(){return~~(this.millisecond()/100)});rt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});rt(0,["SSS",3],0,"millisecond");rt(0,["SSSS",4],0,function(){return this.millisecond()*10});rt(0,["SSSSS",5],0,function(){return this.millisecond()*100});rt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});rt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});rt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});rt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Bi("millisecond","ms");Ni("millisecond",16);Ue("S",aA,tje);Ue("SS",aA,ma);Ue("SSS",aA,nje);var uf,Rje;for(uf="SSSS";uf.length<=9;uf+="S")Ue(uf,t1);function S$t(e,t){t[yp]=Ft(("0."+e)*1e3)}for(uf="S";uf.length<=9;uf+="S")Pn(uf,S$t);Rje=e1("Milliseconds",!1);rt("z",0,0,"zoneAbbr");rt("zz",0,0,"zoneName");function E$t(){return this._isUTC?"UTC":""}function k$t(){return this._isUTC?"Coordinated Universal Time":""}var De=iC.prototype;De.add=yRt;De.calendar=ERt;De.clone=kRt;De.diff=PRt;De.endOf=HRt;De.format=FRt;De.from=LRt;De.fromNow=BRt;De.to=NRt;De.toNow=zRt;De.get=TPt;De.invalidAt=QRt;De.isAfter=jRt;De.isBefore=TRt;De.isBetween=ARt;De.isSame=DRt;De.isSameOrAfter=IRt;De.isSameOrBefore=ORt;De.isValid=ZRt;De.lang=jje;De.locale=kje;De.localeData=Tje;De.max=Z3t;De.min=K3t;De.parsingFlags=XRt;De.set=APt;De.startOf=VRt;De.subtract=bRt;De.toArray=qRt;De.toObject=GRt;De.toDate=YRt;De.toISOString=$Rt;De.inspect=MRt;typeof Symbol<"u"&&Symbol.for!=null&&(De[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});De.toJSON=KRt;De.toString=RRt;De.unix=WRt;De.valueOf=URt;De.creationData=JRt;De.eraName=r$t;De.eraNarrow=o$t;De.eraAbbr=i$t;De.eraYear=s$t;De.year=uje;De.isLeapYear=GPt;De.weekYear=h$t;De.isoWeekYear=p$t;De.quarter=De.quarters=x$t;De.month=lje;De.daysInMonth=WPt;De.week=De.weeks=e3t;De.isoWeek=De.isoWeeks=t3t;De.weeksInYear=v$t;De.weeksInWeekYear=y$t;De.isoWeeksInYear=m$t;De.isoWeeksInISOWeekYear=g$t;De.date=Pje;De.day=De.days=p3t;De.weekday=m3t;De.isoWeekday=g3t;De.dayOfYear=w$t;De.hour=De.hours=_3t;De.minute=De.minutes=C$t;De.second=De.seconds=_$t;De.millisecond=De.milliseconds=Rje;De.utcOffset=iRt;De.utc=aRt;De.local=lRt;De.parseZone=cRt;De.hasAlignedHourOffset=uRt;De.isDST=dRt;De.isLocal=hRt;De.isUtcOffset=pRt;De.isUtc=Cje;De.isUTC=Cje;De.zoneAbbr=E$t;De.zoneName=k$t;De.dates=il("dates accessor is deprecated. Use date instead.",Pje);De.months=il("months accessor is deprecated. Use month instead",lje);De.years=il("years accessor is deprecated. Use year instead",uje);De.zone=il("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",sRt);De.isDSTShifted=il("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",fRt);function j$t(e){return ar(e*1e3)}function T$t(){return ar.apply(null,arguments).parseZone()}function $je(e){return e}var dn=b7.prototype;dn.calendar=pPt;dn.longDateFormat=yPt;dn.invalidDate=xPt;dn.ordinal=_Pt;dn.preparse=$je;dn.postformat=$je;dn.relativeTime=EPt;dn.pastFuture=kPt;dn.set=fPt;dn.eras=e$t;dn.erasParse=t$t;dn.erasConvertYear=n$t;dn.erasAbbrRegex=l$t;dn.erasNameRegex=a$t;dn.erasNarrowRegex=c$t;dn.months=zPt;dn.monthsShort=VPt;dn.monthsParse=UPt;dn.monthsRegex=qPt;dn.monthsShortRegex=YPt;dn.week=ZPt;dn.firstDayOfYear=JPt;dn.firstDayOfWeek=QPt;dn.weekdays=c3t;dn.weekdaysMin=d3t;dn.weekdaysShort=u3t;dn.weekdaysParse=h3t;dn.weekdaysRegex=v3t;dn.weekdaysShortRegex=y3t;dn.weekdaysMinRegex=b3t;dn.isPM=w3t;dn.meridiem=S3t;function Jk(e,t,n,r){var o=Cd(),i=Zc().set(r,t);return o[n](i,e)}function Mje(e,t,n){if(nd(e)&&(t=e,e=void 0),e=e||"",t!=null)return Jk(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=Jk(e,r,n,"month");return o}function $7(e,t,n,r){typeof e=="boolean"?(nd(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,nd(t)&&(n=t,t=void 0),t=t||"");var o=Cd(),i=e?o._week.dow:0,s,a=[];if(n!=null)return Jk(t,(n+i)%7,r,"day");for(s=0;s<7;s++)a[s]=Jk(t,(s+i)%7,r,"day");return a}function A$t(e,t){return Mje(e,t,"months")}function D$t(e,t){return Mje(e,t,"monthsShort")}function I$t(e,t,n){return $7(e,t,n,"weekdays")}function O$t(e,t,n){return $7(e,t,n,"weekdaysShort")}function P$t(e,t,n){return $7(e,t,n,"weekdaysMin")}Of("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Ft(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Le.lang=il("moment.lang is deprecated. Use moment.locale instead.",Of);Le.langData=il("moment.langData is deprecated. Use moment.localeData instead.",Cd);var au=Math.abs;function R$t(){var e=this._data;return this._milliseconds=au(this._milliseconds),this._days=au(this._days),this._months=au(this._months),e.milliseconds=au(e.milliseconds),e.seconds=au(e.seconds),e.minutes=au(e.minutes),e.hours=au(e.hours),e.months=au(e.months),e.years=au(e.years),this}function Fje(e,t,n,r){var o=Xl(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function $$t(e,t){return Fje(this,e,t,1)}function M$t(e,t){return Fje(this,e,t,-1)}function JX(e){return e<0?Math.floor(e):Math.ceil(e)}function F$t(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,o,i,s,a,c;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=JX(PM(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,o=Da(e/1e3),r.seconds=o%60,i=Da(o/60),r.minutes=i%60,s=Da(i/60),r.hours=s%24,t+=Da(s/24),c=Da(Lje(t)),n+=c,t-=JX(PM(c)),a=Da(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function Lje(e){return e*4800/146097}function PM(e){return e*146097/4800}function L$t(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=sl(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+Lje(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(PM(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function B$t(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ft(this._months/12)*31536e6:NaN}function _d(e){return function(){return this.as(e)}}var N$t=_d("ms"),z$t=_d("s"),V$t=_d("m"),H$t=_d("h"),U$t=_d("d"),W$t=_d("w"),Y$t=_d("M"),q$t=_d("Q"),G$t=_d("y");function K$t(){return Xl(this)}function Z$t(e){return e=sl(e),this.isValid()?this[e+"s"]():NaN}function Um(e){return function(){return this.isValid()?this._data[e]:NaN}}var X$t=Um("milliseconds"),Q$t=Um("seconds"),J$t=Um("minutes"),eMt=Um("hours"),tMt=Um("days"),nMt=Um("months"),rMt=Um("years");function oMt(){return Da(this.days()/7)}var yu=Math.round,ov={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function iMt(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function sMt(e,t,n,r){var o=Xl(e).abs(),i=yu(o.as("s")),s=yu(o.as("m")),a=yu(o.as("h")),c=yu(o.as("d")),u=yu(o.as("M")),d=yu(o.as("w")),f=yu(o.as("y")),p=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],p[2]=t,p[3]=+e>0,p[4]=r,iMt.apply(null,p)}function aMt(e){return e===void 0?yu:typeof e=="function"?(yu=e,!0):!1}function lMt(e,t){return ov[e]===void 0?!1:t===void 0?ov[e]:(ov[e]=t,e==="s"&&(ov.ss=t-1),!0)}function cMt(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=ov,o,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},ov,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),i=sMt(this,!n,r,o),n&&(i=o.pastFuture(+this,i)),o.postformat(i)}var lP=Math.abs;function dg(e){return(e>0)-(e<0)||+e}function mA(){if(!this.isValid())return this.localeData().invalidDate();var e=lP(this._milliseconds)/1e3,t=lP(this._days),n=lP(this._months),r,o,i,s,a=this.asSeconds(),c,u,d,f;return a?(r=Da(e/60),o=Da(r/60),e%=60,r%=60,i=Da(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=a<0?"-":"",u=dg(this._months)!==dg(a)?"-":"",d=dg(this._days)!==dg(a)?"-":"",f=dg(this._milliseconds)!==dg(a)?"-":"",c+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?d+t+"D":"")+(o||r||e?"T":"")+(o?f+o+"H":"")+(r?f+r+"M":"")+(e?f+s+"S":"")):"P0D"}var tn=hA.prototype;tn.isValid=tRt;tn.abs=R$t;tn.add=$$t;tn.subtract=M$t;tn.as=L$t;tn.asMilliseconds=N$t;tn.asSeconds=z$t;tn.asMinutes=V$t;tn.asHours=H$t;tn.asDays=U$t;tn.asWeeks=W$t;tn.asMonths=Y$t;tn.asQuarters=q$t;tn.asYears=G$t;tn.valueOf=B$t;tn._bubble=F$t;tn.clone=K$t;tn.get=Z$t;tn.milliseconds=X$t;tn.seconds=Q$t;tn.minutes=J$t;tn.hours=eMt;tn.days=tMt;tn.weeks=oMt;tn.months=nMt;tn.years=rMt;tn.humanize=cMt;tn.toISOString=mA;tn.toString=mA;tn.toJSON=mA;tn.locale=kje;tn.localeData=Tje;tn.toIsoString=il("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",mA);tn.lang=jje;rt("X",0,0,"unix");rt("x",0,0,"valueOf");Ue("x",cA);Ue("X",IPt);Pn("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Pn("x",function(e,t,n){n._d=new Date(Ft(e))});//! moment.js
Le.version="2.29.4";uPt(ar);Le.fn=De;Le.min=X3t;Le.max=Q3t;Le.now=J3t;Le.utc=Zc;Le.unix=j$t;Le.months=A$t;Le.isDate=oC;Le.locale=Of;Le.invalid=oA;Le.duration=Xl;Le.isMoment=Vl;Le.weekdays=I$t;Le.parseZone=T$t;Le.localeData=Cd;Le.isDuration=TS;Le.monthsShort=D$t;Le.weekdaysMin=P$t;Le.defineLocale=j7;Le.updateLocale=T3t;Le.locales=A3t;Le.weekdaysShort=O$t;Le.normalizeUnits=sl;Le.relativeTimeRounding=aMt;Le.relativeTimeThreshold=lMt;Le.calendarFormat=SRt;Le.prototype=De;Le.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function gA(e,t){return Le(e).format(t)}function M7(e,t){const n=Le(e,t,!0);return n.isValid()?{isValid:!0,date:n.toDate()}:{isValid:!1,error:'Invalid date. Must be on the format "'.concat(t,'"')}}function F7(e){return window.crypto.getRandomValues(e)}var Bje=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function uMt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&Bje(e,t)&&!L7(e[t]))return!1;return!0}function dMt(e){for(let t=0;t<e.length;t++)if(!L7(e[t]))return!1;return!0}function L7(e){if(e==null)return!0;const t=typeof e;return Array.isArray(e)?dMt(e):t==="object"?uMt(e):!1}function fMt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&Bje(e,t)&&e[t]!==void 0)return!1;return!0}const hMt=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function pMt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return F7(t),t}function lC(e){const t=hMt();return pMt(e).reduce((n,r)=>n+t[r],"").slice(0,e)}const mMt=Object.prototype.toString;function gMt(e){switch(mMt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof e=="object"&&e&&typeof e.length=="number")try{if(typeof e.callee=="function")return"arguments"}catch(t){if(t instanceof TypeError)return"arguments"}return e===null?"null":e===void 0?"undefined":e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function Is(e){const t=gMt(e);if(t!=="object")return t;const n=e;return"_type"in n&&n._type||t}var RM={exports:{}};function vMt(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=jT(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,y=Number(new Date),x=y-(d||y);g.diff=x,g.prev=d,g.curr=y,d=y,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var b=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;b++;var S=n.formatters[_];if(typeof S=="function"){var E=m[b];C=S.call(g,E),m.splice(b,1),b--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var yMt=vMt;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=yMt(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(RM,RM.exports);var bMt=RM.exports;const Ny=Ie(bMt);var xMt=_Mt,Nje="֑-߿יִ-﷽ﹰ-ﻼ",zje="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",wMt=new RegExp("^[^"+zje+"]*["+Nje+"]"),CMt=new RegExp("^[^"+Nje+"]*["+zje+"]");function _Mt(e){return e=String(e||""),wMt.test(e)?"rtl":CMt.test(e)?"ltr":"neutral"}const Vje=Ie(xMt),eQ=e=>typeof e=="object"&&e!=null&&e.nodeType===1,tQ=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",cP=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return tQ(n.overflowY,t)||tQ(n.overflowX,t)||(r=>{const o=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},N_=(e,t,n,r,o,i,s,a)=>i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0,SMt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},nQ=(e,t)=>{var n,r,o,i;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:c,boundary:u,skipOverflowHiddenElements:d}=t,f=typeof u=="function"?u:R=>R!==u;if(!eQ(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,m=[];let v=e;for(;eQ(v)&&f(v);){if(v=SMt(v),v===p){m.push(v);break}v!=null&&v===document.body&&cP(v)&&!cP(document.documentElement)||v!=null&&cP(v,d)&&m.push(v)}const g=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,y=(i=(o=window.visualViewport)==null?void 0:o.height)!=null?i:innerHeight,{scrollX:x,scrollY:b}=window,{height:w,width:C,top:_,right:S,bottom:E,left:j}=e.getBoundingClientRect(),{top:k,right:T,bottom:A,left:D}=(R=>{const V=window.getComputedStyle(R);return{top:parseFloat(V.scrollMarginTop)||0,right:parseFloat(V.scrollMarginRight)||0,bottom:parseFloat(V.scrollMarginBottom)||0,left:parseFloat(V.scrollMarginLeft)||0}})(e);let I=a==="start"||a==="nearest"?_-k:a==="end"?E+A:_+w/2-k+A,O=c==="center"?j+C/2-D+T:c==="end"?S+T:j-D;const $=[];for(let R=0;R<m.length;R++){const V=m[R],{height:N,width:W,top:q,right:H,bottom:Y,left:X}=V.getBoundingClientRect();if(s==="if-needed"&&_>=0&&j>=0&&E<=y&&S<=g&&_>=q&&E<=Y&&j>=X&&S<=H)return $;const B=getComputedStyle(V),K=parseInt(B.borderLeftWidth,10),z=parseInt(B.borderTopWidth,10),Z=parseInt(B.borderRightWidth,10),Q=parseInt(B.borderBottomWidth,10);let ne=0,G=0;const J="offsetWidth"in V?V.offsetWidth-V.clientWidth-K-Z:0,re="offsetHeight"in V?V.offsetHeight-V.clientHeight-z-Q:0,fe="offsetWidth"in V?V.offsetWidth===0?0:W/V.offsetWidth:0,le="offsetHeight"in V?V.offsetHeight===0?0:N/V.offsetHeight:0;if(p===V)ne=a==="start"?I:a==="end"?I-y:a==="nearest"?N_(b,b+y,y,z,Q,b+I,b+I+w,w):I-y/2,G=c==="start"?O:c==="center"?O-g/2:c==="end"?O-g:N_(x,x+g,g,K,Z,x+O,x+O+C,C),ne=Math.max(0,ne+b),G=Math.max(0,G+x);else{ne=a==="start"?I-q-z:a==="end"?I-Y+Q+re:a==="nearest"?N_(q,Y,N,z,Q+re,I,I+w,w):I-(q+N/2)+re/2,G=c==="start"?O-X-K:c==="center"?O-(X+W/2)+J/2:c==="end"?O-H+Z+J:N_(X,H,W,K,Z+J,O,O+C,C);const{scrollLeft:ge,scrollTop:we}=V;ne=le===0?0:Math.max(0,Math.min(we+ne/le,V.scrollHeight-N/le+re)),G=fe===0?0:Math.max(0,Math.min(ge+G/fe,V.scrollWidth-W/fe+J)),I+=we-ne,O+=ge-G}$.push({el:V,top:ne,left:G})}return $},EMt=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function u0(e,t){if(!e.isConnected||!(o=>{let i=o;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e))return;const n=(o=>{const i=window.getComputedStyle(o);return{top:parseFloat(i.scrollMarginTop)||0,right:parseFloat(i.scrollMarginRight)||0,bottom:parseFloat(i.scrollMarginBottom)||0,left:parseFloat(i.scrollMarginLeft)||0}})(e);if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(nQ(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:i,left:s}of nQ(e,EMt(t))){const a=i-n.top+n.bottom,c=s-n.left+n.right;o.scroll({top:a,left:c,behavior:r})}}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function rQ(e){return Object.prototype.toString.call(e)==="[object Object]"}function _i(e){var t,n;return rQ(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(rQ(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}var Hje=Symbol.for("immer-nothing"),oQ=Symbol.for("immer-draftable"),ca=Symbol.for("immer-state");function xl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var d0=Object.getPrototypeOf;function lm(e){return!!e&&!!e[ca]}function cm(e){var t;return e?Uje(e)||Array.isArray(e)||!!e[oQ]||!!((t=e.constructor)!=null&&t[oQ])||yA(e)||bA(e):!1}var kMt=Object.prototype.constructor.toString();function Uje(e){if(!e||typeof e!="object")return!1;const t=d0(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===kMt}function jx(e,t){vA(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function vA(e){const t=e[ca];return t?t.type_:Array.isArray(e)?1:yA(e)?2:bA(e)?3:0}function $M(e,t){return vA(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Wje(e,t,n){const r=vA(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function jMt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function yA(e){return e instanceof Map}function bA(e){return e instanceof Set}function ip(e){return e.copy_||e.base_}function MM(e,t){if(yA(e))return new Map(e);if(bA(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&Uje(e))return d0(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[ca];let r=Reflect.ownKeys(n);for(let o=0;o<r.length;o++){const i=r[o],s=n[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(d0(e),n)}function B7(e,t=!1){return xA(e)||lm(e)||!cm(e)||(vA(e)>1&&(e.set=e.add=e.clear=e.delete=TMt),Object.freeze(e),t&&jx(e,(n,r)=>B7(r,!0))),e}function TMt(){xl(2)}function xA(e){return Object.isFrozen(e)}var AMt={};function um(e){const t=AMt[e];return t||xl(0,e),t}var Tx;function Yje(){return Tx}function DMt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iQ(e,t){t&&(um("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function FM(e){LM(e),e.drafts_.forEach(IMt),e.drafts_=null}function LM(e){e===Tx&&(Tx=e.parent_)}function sQ(e){return Tx=DMt(Tx,e)}function IMt(e){const t=e[ca];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aQ(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ca].modified_&&(FM(t),xl(4)),cm(e)&&(e=e5(t,e),t.parent_||t5(t,e)),t.patches_&&um("Patches").generateReplacementPatches_(n[ca].base_,e,t.patches_,t.inversePatches_)):e=e5(t,n,[]),FM(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Hje?e:void 0}function e5(e,t,n){if(xA(t))return t;const r=t[ca];if(!r)return jx(t,(o,i)=>lQ(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return t5(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,s=!1;r.type_===3&&(i=new Set(o),o.clear(),s=!0),jx(i,(a,c)=>lQ(e,r,o,a,c,n,s)),t5(e,o,!1),n&&e.patches_&&um("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function lQ(e,t,n,r,o,i,s){if(lm(o)){const a=i&&t&&t.type_!==3&&!$M(t.assigned_,r)?i.concat(r):void 0,c=e5(e,o,a);if(Wje(n,r,c),lm(c))e.canAutoFreeze_=!1;else return}else s&&n.add(o);if(cm(o)&&!xA(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;e5(e,o),(!t||!t.scope_.parent_)&&t5(e,o)}}function t5(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&B7(t,n)}function OMt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Yje(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=N7;n&&(o=[r],i=Ax);const{revoke:s,proxy:a}=Proxy.revocable(o,i);return r.draft_=a,r.revoke_=s,a}var N7={get(e,t){if(t===ca)return e;const n=ip(e);if(!$M(n,t))return PMt(e,n,t);const r=n[t];return e.finalized_||!cm(r)?r:r===uP(e.base_,t)?(dP(e),e.copy_[t]=NM(r,e)):r},has(e,t){return t in ip(e)},ownKeys(e){return Reflect.ownKeys(ip(e))},set(e,t,n){const r=qje(ip(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=uP(ip(e),t),i=o==null?void 0:o[ca];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(jMt(n,o)&&(n!==void 0||$M(e.base_,t)))return!0;dP(e),BM(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return uP(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,dP(e),BM(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ip(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){xl(11)},getPrototypeOf(e){return d0(e.base_)},setPrototypeOf(){xl(12)}},Ax={};jx(N7,(e,t)=>{Ax[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ax.deleteProperty=function(e,t){return Ax.set.call(this,e,t,void 0)};Ax.set=function(e,t,n){return N7.set.call(this,e[0],t,n,e[0])};function uP(e,t){const n=e[ca];return(n?ip(n):e)[t]}function PMt(e,t,n){var o;const r=qje(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function qje(e,t){if(!(t in e))return;let n=d0(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=d0(n)}}function BM(e){e.modified_||(e.modified_=!0,e.parent_&&BM(e.parent_))}function dP(e){e.copy_||(e.copy_=MM(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var RMt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const s=this;return function(c=i,...u){return s.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&xl(6),r!==void 0&&typeof r!="function"&&xl(7);let o;if(cm(t)){const i=sQ(this),s=NM(t,void 0);let a=!0;try{o=n(s),a=!1}finally{a?FM(i):LM(i)}return iQ(i,r),aQ(o,i)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===Hje&&(o=void 0),this.autoFreeze_&&B7(o,!0),r){const i=[],s=[];um("Patches").generateReplacementPatches_(t,o,i,s),r(i,s)}return o}else xl(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,c=>t(c,...a));let r,o;return[this.produce(t,n,(s,a)=>{r=s,o=a}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){cm(e)||xl(8),lm(e)&&(e=$Mt(e));const t=sQ(this),n=NM(e,void 0);return n[ca].isManual_=!0,LM(t),n}finishDraft(e,t){const n=e&&e[ca];(!n||!n.isManual_)&&xl(9);const{scope_:r}=n;return iQ(r,t),aQ(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=um("Patches").applyPatches_;return lm(e)?r(e,t):this.produce(e,o=>r(o,t))}};function NM(e,t){const n=yA(e)?um("MapSet").proxyMap_(e,t):bA(e)?um("MapSet").proxySet_(e,t):OMt(e,t);return(t?t.scope_:Yje()).drafts_.push(n),n}function $Mt(e){return lm(e)||xl(10,e),Gje(e)}function Gje(e){if(!cm(e)||xA(e))return e;const t=e[ca];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=MM(e,t.scope_.immer_.useStrictShallowCopy_)}else n=MM(e,!0);return jx(n,(r,o)=>{Wje(n,r,Gje(o))}),t&&(t.finalized_=!1),n}var ua=new RMt,z7=ua.produce;ua.produceWithPatches.bind(ua);ua.setAutoFreeze.bind(ua);ua.setUseStrictShallowCopy.bind(ua);ua.applyPatches.bind(ua);var cQ=ua.createDraft.bind(ua),uQ=ua.finishDraft.bind(ua),MMt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=te.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},FMt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=Ot.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},LMt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=de.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},n5=new WeakMap,r5=new WeakMap,Ab=new WeakMap,Kje=new WeakMap,dQ=new WeakMap,fQ=new WeakMap,hQ=new WeakMap,te={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=te.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r],i=t[r];if(o!==i)break;n.push(o)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return te.equals(r,o)&&i>s},endsAt(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return te.equals(r,o)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return te.equals(r,o)&&i<s},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return te.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&te.compare(e,t)===0},isBefore(e,t){return te.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&te.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&te.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&te.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&te.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),o=e[e.length-1],i=t[t.length-1];return o!==i&&te.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!te.isAncestor(t,e)&&!te.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:o="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{var{path:i}=t;(te.equals(i,r)||te.endsBefore(i,r)||te.isAncestor(i,r))&&(r[i.length-1]+=1);break}case"remove_node":{var{path:s}=t;if(te.equals(s,r)||te.isAncestor(s,r))return null;te.endsBefore(s,r)&&(r[s.length-1]-=1);break}case"merge_node":{var{path:a,position:c}=t;te.equals(a,r)||te.endsBefore(a,r)?r[a.length-1]-=1:te.isAncestor(a,r)&&(r[a.length-1]-=1,r[a.length]+=c);break}case"split_node":{var{path:u,position:d}=t;if(te.equals(u,r)){if(o==="forward")r[r.length-1]+=1;else if(o!=="backward")return null}else te.endsBefore(u,r)?r[u.length-1]+=1:te.isAncestor(u,r)&&e[u.length]>=d&&(r[u.length-1]+=1,r[u.length]-=d);break}case"move_node":{var{path:f,newPath:p}=t;if(te.equals(f,p))return r;if(te.isAncestor(f,r)||te.equals(f,r)){var m=p.slice();return te.endsBefore(f,p)&&f.length<p.length&&(m[f.length-1]-=1),m.concat(r.slice(f.length))}else te.isSibling(f,p)&&(te.isAncestor(p,r)||te.equals(p,r))?te.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:te.endsBefore(p,r)||te.equals(p,r)||te.isAncestor(p,r)?(te.endsBefore(f,r)&&(r[f.length-1]-=1),r[p.length-1]+=1):te.endsBefore(f,r)&&(te.equals(p,r)&&(r[p.length-1]+=1),r[f.length-1]-=1);break}}return r}};function Dx(e){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dx(e)}function BMt(e,t){if(Dx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Dx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NMt(e){var t=BMt(e,"string");return Dx(t)==="symbol"?t:String(t)}function cs(e,t,n){return t=NMt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ry(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pQ(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var zMt=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:r,node:o}=n,i=Ee.parent(e,r),s=r[r.length-1];if(s>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(i.children.splice(s,0,o),t)for(var[a,c]of de.points(t))t[c]=Ot.transform(a,n);break}case"insert_text":{var{path:u,offset:d,text:f}=n;if(f.length===0)break;var p=Ee.leaf(e,u),m=p.text.slice(0,d),v=p.text.slice(d);if(p.text=m+f+v,t)for(var[g,y]of de.points(t))t[y]=Ot.transform(g,n);break}case"merge_node":{var{path:x}=n,b=Ee.get(e,x),w=te.previous(x),C=Ee.get(e,w),_=Ee.parent(e,x),S=x[x.length-1];if(_e.isText(b)&&_e.isText(C))C.text+=b.text;else if(!_e.isText(b)&&!_e.isText(C))C.children.push(...b.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(x,"] to nodes of different interfaces: ").concat(Mo.stringify(b)," ").concat(Mo.stringify(C)));if(_.children.splice(S,1),t)for(var[E,j]of de.points(t))t[j]=Ot.transform(E,n);break}case"move_node":{var{path:k,newPath:T}=n;if(te.isAncestor(k,T))throw new Error("Cannot move a path [".concat(k,"] to new path [").concat(T,"] because the destination is inside itself."));var A=Ee.get(e,k),D=Ee.parent(e,k),I=k[k.length-1];D.children.splice(I,1);var O=te.transform(k,n),$=Ee.get(e,te.parent(O)),R=O[O.length-1];if($.children.splice(R,0,A),t)for(var[V,N]of de.points(t))t[N]=Ot.transform(V,n);break}case"remove_node":{var{path:W}=n,q=W[W.length-1],H=Ee.parent(e,W);if(H.children.splice(q,1),t)for(var[Y,X]of de.points(t)){var B=Ot.transform(Y,n);if(t!=null&&B!=null)t[X]=B;else{var K=void 0,z=void 0;for(var[Z,Q]of Ee.texts(e))if(te.compare(Q,W)===-1)K=[Z,Q];else{z=[Z,Q];break}var ne=!1;K&&z&&(te.equals(z[1],W)?ne=!te.hasPrevious(z[1]):ne=te.common(K[1],W).length<te.common(z[1],W).length),K&&!ne?(Y.path=K[1],Y.offset=K[0].text.length):z?(Y.path=z[1],Y.offset=0):t=null}}break}case"remove_text":{var{path:G,offset:J,text:re}=n;if(re.length===0)break;var fe=Ee.leaf(e,G),le=fe.text.slice(0,J),ge=fe.text.slice(J+re.length);if(fe.text=le+ge,t)for(var[we,ce]of de.points(t))t[ce]=Ot.transform(we,n);break}case"set_node":{var{path:ve,properties:$e,newProperties:Ae}=n;if(ve.length===0)throw new Error("Cannot set properties on the root node!");var it=Ee.get(e,ve);for(var et in Ae){if(et==="children"||et==="text")throw new Error('Cannot set the "'.concat(et,'" property of nodes!'));var lt=Ae[et];lt==null?delete it[et]:it[et]=lt}for(var Pe in $e)Ae.hasOwnProperty(Pe)||delete it[Pe];break}case"set_selection":{var{newProperties:xe}=n;if(xe==null)t=xe;else{if(t==null){if(!de.isRange(xe))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Mo.stringify(xe)," when there is no current selection."));t=ry({},xe)}for(var We in xe){var ze=xe[We];if(ze==null){if(We==="anchor"||We==="focus")throw new Error('Cannot remove the "'.concat(We,'" selection property'));delete t[We]}else t[We]=ze}}break}case"split_node":{var{path:Ze,position:xt,properties:ke}=n;if(Ze.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ze,"] because the root node cannot be split."));var Ne=Ee.get(e,Ze),dt=Ee.parent(e,Ze),di=Ze[Ze.length-1],Xn;if(_e.isText(Ne)){var qo=Ne.text.slice(0,xt),Wt=Ne.text.slice(xt);Ne.text=qo,Xn=ry(ry({},ke),{},{text:Wt})}else{var eo=Ne.children.slice(0,xt),cl=Ne.children.slice(xt);Ne.children=eo,Xn=ry(ry({},ke),{},{children:cl})}if(dt.children.splice(di+1,0,Xn),t)for(var[ul,Ms]of de.points(t))t[Ms]=Ot.transform(ul,n);break}}return t},VMt={transform(e,t){e.children=cQ(e.children);var n=e.selection&&cQ(e.selection);try{n=zMt(e,n,t)}finally{e.children=uQ(e.children),n?e.selection=lm(n)?uQ(n):n:e.selection=null}}},HMt={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},UMt={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},Zje=(e,t)=>{for(var n in e){var r=e[n],o=t[n];if(_i(r)&&_i(o)){if(!Zje(r,o))return!1}else if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;for(var i=0;i<r.length;i++)if(r[i]!==o[i])return!1}else if(r!==o)return!1}for(var s in t)if(e[s]===void 0&&t[s]!==void 0)return!1;return!0};function WMt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function rd(e,t){if(e==null)return{};var n=WMt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var YMt=["anchor","focus"];function mQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function qMt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mQ(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var de={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:o}=e;return de.isBackward(e)===n?[r,o]:[o,r]},end(e){var[,t]=de.edges(e);return t},equals(e,t){return Ot.equals(e.anchor,t.anchor)&&Ot.equals(e.focus,t.focus)},includes(e,t){if(de.isRange(t)){if(de.includes(e,t.anchor)||de.includes(e,t.focus))return!0;var[n,r]=de.edges(e),[o,i]=de.edges(t);return Ot.isBefore(n,o)&&Ot.isAfter(r,i)}var[s,a]=de.edges(e),c=!1,u=!1;return Ot.isPoint(t)?(c=Ot.compare(t,s)>=0,u=Ot.compare(t,a)<=0):(c=te.compare(t,s.path)>=0,u=te.compare(t,a.path)<=0),c&&u},intersection(e,t){var n=rd(e,YMt),[r,o]=de.edges(e),[i,s]=de.edges(t),a=Ot.isBefore(r,i)?i:r,c=Ot.isBefore(o,s)?o:s;return Ot.isBefore(c,a)?null:qMt({anchor:a,focus:c},n)},isBackward(e){var{anchor:t,focus:n}=e;return Ot.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return Ot.equals(t,n)},isExpanded(e){return!de.isCollapsed(e)},isForward(e){return!de.isBackward(e)},isRange(e){return _i(e)&&Ot.isPoint(e.anchor)&&Ot.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=de.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return z7(e,r=>{if(r===null)return null;var{affinity:o="inward"}=n,i,s;if(o==="inward"){var a=de.isCollapsed(r);de.isForward(r)?(i="forward",s=a?i:"backward"):(i="backward",s=a?i:"forward")}else o==="outward"?de.isForward(r)?(i="backward",s="forward"):(i="forward",s="backward"):(i=o,s=o);var c=Ot.transform(r.anchor,t,{affinity:i}),u=Ot.transform(r.focus,t,{affinity:s});if(!c||!u)return null;r.anchor=c,r.focus=u})}},gQ=e=>_i(e)&&Ee.isNodeList(e.children)&&!F.isEditor(e),Re={isAncestor(e){return _i(e)&&Ee.isNodeList(e.children)},isElement:gQ,isElementList(e){return Array.isArray(e)&&e.every(t=>Re.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return gQ(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},GMt=["children"],KMt=["text"],vQ=new WeakMap,Ee={ancestor(e,t){var n=Ee.get(e,t);if(_e.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(Mo.stringify(n)));return n},ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of te.ancestors(t,n)){var o=Ee.ancestor(e,r),i=[o,r];yield i}}()},child(e,t){if(_e.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Mo.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(Mo.stringify(e)));return n},children(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:r=!1}=n,o=Ee.ancestor(e,t),{children:i}=o,s=r?i.length-1:0;r?s>=0:s<i.length;){var a=Ee.child(o,s),c=t.concat(s);yield[a,c],s=r?s-1:s+1}}()},common(e,t,n){var r=te.common(t,n),o=Ee.get(e,r);return[o,r]},descendant(e,t){var n=Ee.get(e,t);if(F.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(Mo.stringify(n)));return n},descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Ee.nodes(e,t))r.length!==0&&(yield[n,r])}()},elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Ee.nodes(e,t))Re.isElement(n)&&(yield[n,r])}()},extractProps(e){if(Re.isAncestor(e)){var t=rd(e,GMt);return t}else{var t=rd(e,KMt);return t}},first(e,t){for(var n=t.slice(),r=Ee.get(e,n);r&&!(_e.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(_e.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Mo.stringify(e)));var n=z7({children:e.children},r=>{var[o,i]=de.edges(t),s=Ee.nodes(r,{reverse:!0,pass:p=>{var[,m]=p;return!de.includes(t,m)}});for(var[,a]of s){if(!de.includes(t,a)){var c=Ee.parent(r,a),u=a[a.length-1];c.children.splice(u,1)}if(te.equals(a,i.path)){var d=Ee.leaf(r,a);d.text=d.text.slice(0,i.offset)}if(te.equals(a,o.path)){var f=Ee.leaf(r,a);f.text=f.text.slice(o.offset)}}F.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(_e.isText(n)||!n.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(Mo.stringify(e)));n=n.children[o]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(_e.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode(e){return _e.isText(e)||Re.isElement(e)||F.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=vQ.get(e);if(t!==void 0)return t;var n=e.every(r=>Ee.isNode(r));return vQ.set(e,n),n},last(e,t){for(var n=t.slice(),r=Ee.get(e,n);r&&!(_e.isText(r)||r.children.length===0);){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf(e,t){var n=Ee.get(e,t);if(!_e.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Mo.stringify(n)));return n},levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of te.levels(t,n)){var o=Ee.get(e,r);yield[o,r]}}()},matches(e,t){return Re.isElement(e)&&Re.isElementProps(t)&&Re.matches(e,t)||_e.isText(e)&&_e.isTextProps(t)&&_e.matches(e,t)},nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:n,reverse:r=!1}=t,{from:o=[],to:i}=t,s=new Set,a=[],c=e;!(i&&(r?te.isBefore(a,i):te.isAfter(a,i)));){if(s.has(c)||(yield[c,a]),!s.has(c)&&!_e.isText(c)&&c.children.length!==0&&(n==null||n([c,a])===!1)){s.add(c);var u=r?c.children.length-1:0;te.isAncestor(a,o)&&(u=o[a.length]),a=a.concat(u),c=Ee.get(e,a);continue}if(a.length===0)break;if(!r){var d=te.next(a);if(Ee.has(e,d)){a=d,c=Ee.get(e,a);continue}}if(r&&a[a.length-1]!==0){var f=te.previous(a);a=f,c=Ee.get(e,a);continue}a=te.parent(a),c=Ee.get(e,a),s.add(c)}}()},parent(e,t){var n=te.parent(t),r=Ee.get(e,n);if(_e.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return _e.isText(e)?e.text:e.children.map(Ee.string).join("")},texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Ee.nodes(e,t))_e.isText(n)&&(yield[n,r])}()}};function yQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yQ(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var iv={isNodeOperation(e){return iv.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!_i(e))return!1;switch(e.type){case"insert_node":return te.isPath(e.path)&&Ee.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&te.isPath(e.path);case"merge_node":return typeof e.position=="number"&&te.isPath(e.path)&&_i(e.properties);case"move_node":return te.isPath(e.path)&&te.isPath(e.newPath);case"remove_node":return te.isPath(e.path)&&Ee.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&te.isPath(e.path);case"set_node":return te.isPath(e.path)&&_i(e.properties)&&_i(e.newProperties);case"set_selection":return e.properties===null&&de.isRange(e.newProperties)||e.newProperties===null&&de.isRange(e.properties)||_i(e.properties)&&_i(e.newProperties);case"split_node":return te.isPath(e.path)&&typeof e.position=="number"&&_i(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>iv.isOperation(t))},isSelectionOperation(e){return iv.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return iv.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return pr(pr({},e),{},{type:"remove_node"});case"insert_text":return pr(pr({},e),{},{type:"remove_text"});case"merge_node":return pr(pr({},e),{},{type:"split_node",path:te.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(te.equals(t,n))return e;if(te.isSibling(n,t))return pr(pr({},e),{},{path:t,newPath:n});var r=te.transform(n,e),o=te.transform(te.next(n),e);return pr(pr({},e),{},{path:r,newPath:o})}case"remove_node":return pr(pr({},e),{},{type:"insert_node"});case"remove_text":return pr(pr({},e),{},{type:"insert_text"});case"set_node":{var{properties:i,newProperties:s}=e;return pr(pr({},e),{},{properties:s,newProperties:i})}case"set_selection":{var{properties:a,newProperties:c}=e;return a==null?pr(pr({},e),{},{properties:c,newProperties:null}):c==null?pr(pr({},e),{},{properties:null,newProperties:a}):pr(pr({},e),{},{properties:c,newProperties:a})}case"split_node":return pr(pr({},e),{},{type:"merge_node",path:te.next(e.path)})}}},bQ=new WeakMap,ZMt=e=>{var t=bQ.get(e);if(t!==void 0)return t;if(!_i(e))return!1;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||_i(e.marks))&&(e.selection===null||de.isRange(e.selection))&&Ee.isNodeList(e.children)&&iv.isOperationList(e.operations);return bQ.set(e,n),n},F={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return ZMt(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)}},XMt={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(te.isPath)}};function xQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function wQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xQ(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ot={compare(e,t){var n=te.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return Ot.compare(e,t)===1},isBefore(e,t){return Ot.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&te.equals(e.path,t.path)},isPoint(e){return _i(e)&&typeof e.offset=="number"&&te.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return z7(e,r=>{if(r===null)return null;var{affinity:o="forward"}=n,{path:i,offset:s}=r;switch(t.type){case"insert_node":case"move_node":{r.path=te.transform(i,t,n);break}case"insert_text":{te.equals(t.path,i)&&(t.offset<s||t.offset===s&&o==="forward")&&(r.offset+=t.text.length);break}case"merge_node":{te.equals(t.path,i)&&(r.offset+=t.position),r.path=te.transform(i,t,n);break}case"remove_text":{te.equals(t.path,i)&&t.offset<=s&&(r.offset-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(te.equals(t.path,i)||te.isAncestor(t.path,i))return null;r.path=te.transform(i,t,n);break}case"split_node":{if(te.equals(t.path,i)){if(t.position===s&&o==null)return null;(t.position<s||t.position===s&&o==="forward")&&(r.offset-=t.position,r.path=te.transform(i,t,wQ(wQ({},n),{},{affinity:"forward"})))}else r.path=te.transform(i,t,n);break}}})}},CQ=void 0,Mo={setScrubber(e){CQ=e},stringify(e){return JSON.stringify(e,CQ)}},QMt=["text"],JMt=["anchor","focus"];function _Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function lu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_Q(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_Q(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _e={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function o(i){var s=rd(i,QMt);return s}return Zje(r?o(e):e,r?o(t):t)},isText(e){return _i(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>_e.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[lu({},e)];for(var r of t){var o=rd(r,JMt),[i,s]=de.edges(r),a=[],c=0,u=i.offset,d=s.offset;for(var f of n){var{length:p}=f.text,m=c;if(c+=p,u<=m&&c<=d){Object.assign(f,o),a.push(f);continue}if(u!==d&&(u===c||d===m)||u>c||d<m||d===m&&m!==0){a.push(f);continue}var v=f,g=void 0,y=void 0;if(d<c){var x=d-m;y=lu(lu({},v),{},{text:v.text.slice(x)}),v=lu(lu({},v),{},{text:v.text.slice(0,x)})}if(u>m){var b=u-m;g=lu(lu({},v),{},{text:v.text.slice(0,b)}),v=lu(lu({},v),{},{text:v.text.slice(b)})}Object.assign(v,o),g&&a.push(g),a.push(v),y&&a.push(y)}n=a}return n}},V7=e=>e.selection?e.selection:e.children.length>0?F.end(e,[]):[0],n1=(e,t)=>{var[n]=F.node(e,t);return r=>r===n},H7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,o=n?i4t(t):t,i=gt.None,s=gt.None,a=0,c=null,u=null;for(var d of o){var f=d.codePointAt(0);if(!f)break;var p=v4t(d,f);if([i,s]=r?[s,p]:[p,i],sv(i,gt.ZWJ)&&sv(s,gt.ExtPict)&&(r?c=SQ(t.substring(0,a)):c=SQ(t.substring(0,t.length-a)),!c)||sv(i,gt.RI)&&sv(s,gt.RI)&&(u!==null?u=!u:r?u=!0:u=C4t(t.substring(0,t.length-a)),!u)||i!==gt.None&&s!==gt.None&&b4t(i,s))break;a+=d.length}return a||1},e4t=/\s/,t4t=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,n4t=/['\u2018\u2019]/,r4t=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,o=!1;t.length>0;){var i=H7(t,n),[s,a]=U7(t,i,n);if(o4t(s,a,n))o=!0,r+=i;else if(!o)r+=i;else break;t=a}return r},U7=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},o4t=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e4t.test(t))return!1;if(n4t.test(t)){var o=H7(n,r),[i,s]=U7(n,o,r);if(e(i,s,r))return!0}return!t4t.test(t)},i4t=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var o=t.charAt(n-r);if(a4t(o.charCodeAt(0))){var i=t.charAt(n-r-1);if(s4t(i.charCodeAt(0))){yield i+o,r++;continue}}yield o}},s4t=e=>e>=55296&&e<=56319,a4t=e=>e>=56320&&e<=57343,gt;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(gt||(gt={}));var l4t=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,c4t=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,u4t=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,d4t=/^[\u1100-\u115F\uA960-\uA97C]$/,f4t=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,h4t=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,p4t=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,m4t=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,g4t=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,v4t=(e,t)=>{var n=gt.Any;return e.search(l4t)!==-1&&(n|=gt.Extend),t===8205&&(n|=gt.ZWJ),t>=127462&&t<=127487&&(n|=gt.RI),e.search(c4t)!==-1&&(n|=gt.Prepend),e.search(u4t)!==-1&&(n|=gt.SpacingMark),e.search(d4t)!==-1&&(n|=gt.L),e.search(f4t)!==-1&&(n|=gt.V),e.search(h4t)!==-1&&(n|=gt.T),e.search(p4t)!==-1&&(n|=gt.LV),e.search(m4t)!==-1&&(n|=gt.LVT),e.search(g4t)!==-1&&(n|=gt.ExtPict),n};function sv(e,t){return(e&t)!==0}var y4t=[[gt.L,gt.L|gt.V|gt.LV|gt.LVT],[gt.LV|gt.V,gt.V|gt.T],[gt.LVT|gt.T,gt.T],[gt.Any,gt.Extend|gt.ZWJ],[gt.Any,gt.SpacingMark],[gt.Prepend,gt.Any],[gt.ZWJ,gt.ExtPict],[gt.RI,gt.RI]];function b4t(e,t){return y4t.findIndex(n=>sv(e,n[0])&&sv(t,n[1]))===-1}var x4t=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,SQ=e=>e.search(x4t)!==-1,w4t=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,C4t=e=>{var t=e.match(w4t);if(t===null)return!1;var n=t[0].length/2;return n%2===1},_4t={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:o=V7(e)}=n;if(te.isPath(o)&&(o=F.range(e,o)),de.isRange(o))if(de.isCollapsed(o))o=o.anchor;else{var i=de.end(o);if(!r&&F.void(e,{at:i}))return;var s=de.start(o),a=F.pointRef(e,s),c=F.pointRef(e,i);ae.delete(e,{at:o,voids:r});var u=a.unref(),d=c.unref();o=u||d,ae.setSelection(e,{anchor:o,focus:o})}if(!(!r&&F.void(e,{at:o})||F.elementReadOnly(e,{at:o}))){var{path:f,offset:p}=o;t.length>0&&e.apply({type:"insert_text",path:f,offset:p,text:t})}})}};function EQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function z_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EQ(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ae=z_(z_(z_(z_({},VMt),HMt),UMt),_4t),S4t=(e,t)=>{for(var n of F.pathRefs(e))MMt.transform(n,t);for(var r of F.pointRefs(e))FMt.transform(r,t);for(var o of F.rangeRefs(e))LMt.transform(o,t);var i=n5.get(e)||[],s=r5.get(e)||new Set,a,c,u=v=>{if(v){var g=v.join(",");c.has(g)||(c.add(g),a.push(v))}};if(te.operationCanTransformPath(t)){a=[],c=new Set;for(var d of i){var f=te.transform(d,t);u(f)}}else a=i,c=s;var p=e.getDirtyPaths(t);for(var m of p)u(m);n5.set(e,a),r5.set(e,c),ae.transform(e,t),e.operations.push(t),F.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),Ab.get(e)||(Ab.set(e,!0),Promise.resolve().then(()=>{Ab.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},E4t=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=t;return te.levels(n)}case"insert_node":{var{node:r,path:o}=t,i=te.levels(o),s=_e.isText(r)?[]:Array.from(Ee.nodes(r),T=>{var[,A]=T;return o.concat(A)});return[...i,...s]}case"merge_node":{var{path:a}=t,c=te.ancestors(a),u=te.previous(a);return[...c,u]}case"move_node":{var{path:d,newPath:f}=t;if(te.equals(d,f))return[];var p=[],m=[];for(var v of te.ancestors(d)){var g=te.transform(v,t);p.push(g)}for(var y of te.ancestors(f)){var x=te.transform(y,t);m.push(x)}var b=m[m.length-1],w=f[f.length-1],C=b.concat(w);return[...p,...m,C]}case"remove_node":{var{path:_}=t,S=te.ancestors(_);return[...S]}case"split_node":{var{path:E}=t,j=te.levels(E),k=te.next(E);return[...j,k]}default:return[]}},k4t=e=>{var{selection:t}=e;return t?Ee.fragment(e,t):[]},j4t=(e,t)=>{var[n,r]=t;if(!_e.isText(n)){if(Re.isElement(n)&&n.children.length===0){var o={text:""};ae.insertNodes(e,o,{at:r.concat(0),voids:!0});return}for(var i=F.isEditor(n)?!1:Re.isElement(n)&&(e.isInline(n)||n.children.length===0||_e.isText(n.children[0])||e.isInline(n.children[0])),s=0,a=0;a<n.children.length;a++,s++){var c=Ee.get(e,r);if(!_e.isText(c)){var u=c.children[s],d=c.children[s-1],f=a===n.children.length-1,p=_e.isText(u)||Re.isElement(u)&&e.isInline(u);if(p!==i)ae.removeNodes(e,{at:r.concat(s),voids:!0}),s--;else if(Re.isElement(u)){if(e.isInline(u)){if(d==null||!_e.isText(d)){var m={text:""};ae.insertNodes(e,m,{at:r.concat(s),voids:!0}),s++}else if(f){var v={text:""};ae.insertNodes(e,v,{at:r.concat(s+1),voids:!0}),s++}}}else d!=null&&_e.isText(d)&&(_e.equals(u,d,{loose:!0})?(ae.mergeNodes(e,{at:r.concat(s),voids:!0}),s--):d.text===""?(ae.removeNodes(e,{at:r.concat(s-1),voids:!0}),s--):u.text===""&&(ae.removeNodes(e,{at:r.concat(s),voids:!0}),s--))}}}},T4t=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,o=r*42;if(n>o)throw new Error("Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},A4t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:o="lowest",at:i=t.selection,match:s}=n;if(i){var a=F.path(t,i),c=o==="lowest";for(var[u,d]of F.levels(t,{at:a,voids:r,match:s,reverse:c}))if(!_e.isText(u)){if(de.isRange(i)){if(te.isAncestor(d,i.anchor.path)&&te.isAncestor(d,i.focus.path))return[u,d]}else if(!te.equals(a,d))return[u,d]}}};function kQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function jQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kQ(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var D4t=(e,t,n)=>{var{selection:r}=e;if(r){var o=(f,p)=>{if(!_e.isText(f))return!1;var[m,v]=F.parent(e,p);return!e.isVoid(m)||e.markableVoid(m)},i=de.isExpanded(r),s=!1;if(!i){var[a,c]=F.node(e,r);if(a&&o(a,c)){var[u]=F.parent(e,c);s=u&&e.markableVoid(u)}}if(i||s)ae.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{var d=jQ(jQ({},F.marks(e)||{}),{},{[t]:n});e.marks=d,Ab.get(e)||e.onChange()}}};function TQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function AQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TQ(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var I4t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.point(t,n,{edge:"end"}),i=F.end(t,[]),s={anchor:o,focus:i},{distance:a=1}=r,c=0,u;for(var d of F.positions(t,AQ(AQ({},r),{},{at:s}))){if(c>a)break;c!==0&&(u=d),c++}return u};function DQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function IQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DQ(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var O4t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.start(t,[]),i=F.point(t,n,{edge:"start"}),s={anchor:o,focus:i},{distance:a=1}=r,c=0,u;for(var d of F.positions(t,IQ(IQ({},r),{},{at:s,reverse:!0}))){if(c>a)break;c!==0&&(u=d),c++}return u},P4t=(e,t)=>{var{selection:n}=e;n&&de.isCollapsed(n)&&ae.delete(e,{unit:t,reverse:!0})},R4t=(e,t)=>{var{selection:n}=e;n&&de.isCollapsed(n)&&ae.delete(e,{unit:t})},$4t=function(t){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t;r&&de.isExpanded(r)&&ae.delete(t,{reverse:n==="backward"})},M4t=(e,t)=>[F.start(e,t),F.end(e,t)];function OQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function PQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OQ(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var F4t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(t,PQ(PQ({},n),{},{match:r=>Re.isElement(r)&&F.isElementReadOnly(t,r)}))},L4t=(e,t)=>F.point(e,t,{edge:"end"}),B4t=(e,t)=>{var n=F.path(e,t,{edge:"start"});return F.node(e,n)},N4t=(e,t)=>{var n=F.range(e,t);return Ee.fragment(e,n)};function RQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function $Q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RQ(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var z4t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(t,$Q($Q({},n),{},{match:r=>Re.isElement(r)&&F.isVoid(t,r)}))},V4t=(e,t)=>t.children.some(n=>Re.isElement(n)&&F.isBlock(e,n)),H4t=(e,t)=>t.children.some(n=>_e.isText(n)||F.isInline(e,n)),U4t=(e,t)=>Ee.has(e,t),W4t=(e,t)=>t.children.every(n=>_e.isText(n)),Y4t=e=>{ae.splitNodes(e,{always:!0})},q4t=(e,t,n)=>{ae.insertNodes(e,t,n)},G4t=e=>{ae.splitNodes(e,{always:!0})};function MQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function K4t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MQ(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Z4t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o,marks:i}=t;if(o){if(i){var s=K4t({text:n},i);ae.insertNodes(t,s,{at:r.at,voids:r.voids})}else ae.insertText(t,n,r);t.marks=null}},X4t=(e,t)=>!e.isInline(t),Q4t=(e,t,n)=>F.isStart(e,t,n)||F.isEnd(e,t,n),J4t=(e,t)=>{var{children:n}=t,[r]=n;return n.length===0||n.length===1&&_e.isText(r)&&r.text===""&&!e.isVoid(t)},eFt=(e,t,n)=>{var r=F.end(e,n);return Ot.equals(t,r)},tFt=e=>{var t=Kje.get(e);return t===void 0?!0:t},nFt=(e,t,n)=>{if(t.offset!==0)return!1;var r=F.start(e,n);return Ot.equals(t,r)},rFt=(e,t)=>{var n=F.path(e,t,{edge:"end"});return F.node(e,n)},oFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=Ee.leaf(t,o);return[i,o]};function iFt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,reverse:r=!1,voids:o=!1}=t,{match:i}=t;if(i==null&&(i=()=>!0),!!n){var s=[],a=F.path(e,n);for(var[c,u]of Ee.levels(e,a))if(i(c,u)&&(s.push([c,u]),!o&&Re.isElement(c)&&F.isVoid(e,c)))break;r&&s.reverse(),yield*s}}()}var sFt=["text"],aFt=["text"],lFt=function(t){var{marks:n,selection:r}=t;if(!r)return null;if(n)return n;if(de.isExpanded(r)){var[o]=F.nodes(t,{match:_e.isText});if(o){var[i]=o,s=rd(i,sFt);return s}else return{}}var{anchor:a}=r,{path:c}=a,[u]=F.leaf(t,c);if(a.offset===0){var d=F.previous(t,{at:c,match:_e.isText}),f=F.above(t,{match:x=>Re.isElement(x)&&F.isVoid(t,x)&&t.markableVoid(x)});if(!f){var p=F.above(t,{match:x=>Re.isElement(x)&&F.isBlock(t,x)});if(d&&p){var[m,v]=d,[,g]=p;te.isAncestor(g,v)&&(u=m)}}}var y=rd(u,aFt);return y},cFt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=F.after(t,s,{voids:o});if(a){var[,c]=F.last(t,[]),u=[a.path,c];if(te.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(i==null)if(te.isPath(s)){var[d]=F.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=F.nodes(t,{at:u,match:i,mode:r,voids:o});return f}}},uFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=Ee.get(t,o);return[i,o]};function dFt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,mode:r="all",universal:o=!1,reverse:i=!1,voids:s=!1,ignoreNonSelectable:a=!1}=t,{match:c}=t;if(c||(c=()=>!0),!!n){var u,d;if(XMt.isSpan(n))u=n[0],d=n[1];else{var f=F.path(e,n,{edge:"start"}),p=F.path(e,n,{edge:"end"});u=i?p:f,d=i?f:p}var m=Ee.nodes(e,{reverse:i,from:u,to:d,pass:C=>{var[_]=C;return Re.isElement(_)?!!(!s&&(F.isVoid(e,_)||F.isElementReadOnly(e,_))||a&&!F.isSelectable(e,_)):!1}}),v=[],g;for(var[y,x]of m)if(!(a&&Re.isElement(y)&&!F.isSelectable(e,y))){var b=g&&te.compare(x,g[1])===0;if(!(r==="highest"&&b)){if(!c(y,x)){if(o&&!b&&_e.isText(y))return;continue}if(r==="lowest"&&b){g=[y,x];continue}var w=r==="lowest"?g:[y,x];w&&(o?v.push(w):yield w),g=[y,x]}}r==="lowest"&&g&&(o?v.push(g):yield g),o&&(yield*v)}}()}var fFt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1,operation:o}=n,i=d=>n5.get(d)||[],s=d=>r5.get(d)||new Set,a=d=>{var f=i(d).pop(),p=f.join(",");return s(d).delete(p),f};if(F.isNormalizing(t)){if(r){var c=Array.from(Ee.nodes(t),d=>{var[,f]=d;return f}),u=new Set(c.map(d=>d.join(",")));n5.set(t,c),r5.set(t,u)}i(t).length!==0&&F.withoutNormalizing(t,()=>{for(var d of i(t))if(Ee.has(t,d)){var f=F.node(t,d),[p,m]=f;Re.isElement(p)&&p.children.length===0&&t.normalizeNode(f,{operation:o})}for(var v=i(t),g=v.length,y=0;v.length!==0;){if(!t.shouldNormalize({dirtyPaths:v,iteration:y,initialDirtyPathsLength:g,operation:o}))return;var x=a(t);if(Ee.has(t,x)){var b=F.node(t,x);t.normalizeNode(b,{operation:o})}y++,v=i(t)}})}},hFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=te.parent(o),s=F.node(t,i);return s},pFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=F.pathRefs(t);return c.delete(i),i.current=null,a}},s=F.pathRefs(t);return s.add(i),i},mFt=e=>{var t=dQ.get(e);return t||(t=new Set,dQ.set(e,t)),t},gFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:o,edge:i}=r;if(te.isPath(n)){if(i==="start"){var[,s]=Ee.first(t,n);n=s}else if(i==="end"){var[,a]=Ee.last(t,n);n=a}}return de.isRange(n)&&(i==="start"?n=de.start(n):i==="end"?n=de.end(n):n=te.common(n.anchor.path,n.focus.path)),Ot.isPoint(n)&&(n=n.path),o!=null&&(n=n.slice(0,o)),n},vFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=F.pointRefs(t);return c.delete(i),i.current=null,a}},s=F.pointRefs(t);return s.add(i),i},yFt=e=>{var t=fQ.get(e);return t||(t=new Set,fQ.set(e,t)),t},bFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:o="start"}=r;if(te.isPath(n)){var i;if(o==="end"){var[,s]=Ee.last(t,n);i=s}else{var[,a]=Ee.first(t,n);i=a}var c=Ee.get(t,i);if(!_e.isText(c))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(n,"] because it has no ").concat(o," text node."));return{path:i,offset:o==="end"?c.text.length:0}}if(de.isRange(n)){var[u,d]=de.edges(n);return o==="start"?u:d}return n};function xFt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,unit:r="offset",reverse:o=!1,voids:i=!1,ignoreNonSelectable:s=!1}=t;if(!n)return;var a=F.range(e,n),[c,u]=de.edges(a),d=o?u:c,f=!1,p="",m=0,v=0,g=0;for(var[y,x]of F.nodes(e,{at:n,reverse:o,voids:i,ignoreNonSelectable:s})){if(Re.isElement(y)){if(!i&&(e.isVoid(y)||e.isElementReadOnly(y))){yield F.start(e,x);continue}if(e.isInline(y))continue;if(F.hasInlines(e,y)){var b=te.isAncestor(x,u.path)?u:F.end(e,x),w=te.isAncestor(x,c.path)?c:F.start(e,x);p=F.string(e,{anchor:w,focus:b},{voids:i}),f=!0}}if(_e.isText(y)){var C=te.equals(x,d.path);for(C?(v=o?d.offset:y.text.length-d.offset,g=d.offset):(v=y.text.length,g=o?v:0),(C||f||r==="offset")&&(yield{path:x,offset:g},f=!1);;){if(m===0){if(p==="")break;m=_(p,r,o),p=U7(p,m,o)[1]}if(g=o?g-m:g+m,v=v-m,v<0){m=-v;break}m=0,yield{path:x,offset:g}}}}function _(S,E,j){return E==="character"?H7(S,j):E==="word"?r4t(S,j):E==="line"||E==="block"?S.length:1}}()}var wFt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=F.before(t,s,{voids:o});if(a){var[,c]=F.first(t,[]),u=[a.path,c];if(te.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(i==null)if(te.isPath(s)){var[d]=F.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=F.nodes(t,{reverse:!0,at:u,match:i,mode:r,voids:o});return f}}},CFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=F.rangeRefs(t);return c.delete(i),i.current=null,a}},s=F.rangeRefs(t);return s.add(i),i},_Ft=e=>{var t=hQ.get(e);return t||(t=new Set,hQ.set(e,t)),t},SFt=(e,t,n)=>{if(de.isRange(t)&&!n)return t;var r=F.start(e,t),o=F.end(e,n||t);return{anchor:r,focus:o}};function FQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function EFt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FQ(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var kFt=(e,t)=>{var{selection:n}=e;if(n){var r=(d,f)=>{if(!_e.isText(d))return!1;var[p,m]=F.parent(e,f);return!e.isVoid(p)||e.markableVoid(p)},o=de.isExpanded(n),i=!1;if(!o){var[s,a]=F.node(e,n);if(s&&r(s,a)){var[c]=F.parent(e,a);i=c&&e.markableVoid(c)}}if(o||i)ae.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var u=EFt({},F.marks(e)||{});delete u[t],e.marks=u,Ab.get(e)||e.onChange()}}},jFt=(e,t)=>{Kje.set(e,t)},TFt=(e,t)=>F.point(e,t,{edge:"start"}),AFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,i=F.range(t,n),[s,a]=de.edges(i),c="";for(var[u,d]of F.nodes(t,{at:i,match:_e.isText,voids:o})){var f=u.text;te.equals(d,a.path)&&(f=f.slice(0,a.offset)),te.equals(d,s.path)&&(f=f.slice(s.offset)),c+=f}return c},DFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,[i,s]=de.edges(n);if(i.offset!==0||s.offset!==0||de.isCollapsed(n)||te.hasPrevious(s.path))return n;var a=F.above(t,{at:s,match:v=>Re.isElement(v)&&F.isBlock(t,v),voids:o}),c=a?a[1]:[],u=F.start(t,i),d={anchor:u,focus:s},f=!0;for(var[p,m]of F.nodes(t,{at:d,match:_e.isText,reverse:!0,voids:o})){if(f){f=!1;continue}if(p.text!==""||te.isBefore(m,c)){s={path:m,offset:p.text.length};break}}return{anchor:i,focus:s}},IFt=(e,t)=>{var n=F.isNormalizing(e);F.setNormalizing(e,!1);try{t()}finally{F.setNormalizing(e,n)}F.normalize(e)},OFt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var r,o,{reverse:i=!1,unit:s="character",distance:a=1,voids:c=!1}=n,{at:u=t.selection,hanging:d=!1}=n;if(u){var f=!1;if(de.isRange(u)&&de.isCollapsed(u)&&(f=!0,u=u.anchor),Ot.isPoint(u)){var p=F.void(t,{at:u,mode:"highest"});if(!c&&p){var[,m]=p;u=m}else{var v={unit:s,distance:a},g=i?F.before(t,u,v)||F.start(t,[]):F.after(t,u,v)||F.end(t,[]);u={anchor:u,focus:g},d=!0}}if(te.isPath(u)){ae.removeNodes(t,{at:u,voids:c});return}if(!de.isCollapsed(u)){if(!d){var[,y]=de.edges(u),x=F.end(t,[]);Ot.equals(y,x)||(u=F.unhangRange(t,u,{voids:c}))}var[b,w]=de.edges(u),C=F.above(t,{match:le=>Re.isElement(le)&&F.isBlock(t,le),at:b,voids:c}),_=F.above(t,{match:le=>Re.isElement(le)&&F.isBlock(t,le),at:w,voids:c}),S=C&&_&&!te.equals(C[1],_[1]),E=te.equals(b.path,w.path),j=c?null:(r=F.void(t,{at:b,mode:"highest"}))!==null&&r!==void 0?r:F.elementReadOnly(t,{at:b,mode:"highest"}),k=c?null:(o=F.void(t,{at:w,mode:"highest"}))!==null&&o!==void 0?o:F.elementReadOnly(t,{at:w,mode:"highest"});if(j){var T=F.before(t,b);T&&C&&te.isAncestor(C[1],T.path)&&(b=T)}if(k){var A=F.after(t,w);A&&_&&te.isAncestor(_[1],A.path)&&(w=A)}var D=[],I;for(var O of F.nodes(t,{at:u,voids:c})){var[$,R]=O;I&&te.compare(R,I)===0||(!c&&Re.isElement($)&&(F.isVoid(t,$)||F.isElementReadOnly(t,$))||!te.isCommon(R,b.path)&&!te.isCommon(R,w.path))&&(D.push(O),I=R)}var V=Array.from(D,le=>{var[,ge]=le;return F.pathRef(t,ge)}),N=F.pointRef(t,b),W=F.pointRef(t,w),q="";if(!E&&!j){var H=N.current,[Y]=F.leaf(t,H),{path:X}=H,{offset:B}=b,K=Y.text.slice(B);K.length>0&&(t.apply({type:"remove_text",path:X,offset:B,text:K}),q=K)}if(V.reverse().map(le=>le.unref()).filter(le=>le!==null).forEach(le=>ae.removeNodes(t,{at:le,voids:c})),!k){var z=W.current,[Z]=F.leaf(t,z),{path:Q}=z,ne=E?b.offset:0,G=Z.text.slice(ne,w.offset);G.length>0&&(t.apply({type:"remove_text",path:Q,offset:ne,text:G}),q=G)}!E&&S&&W.current&&N.current&&ae.mergeNodes(t,{at:W.current,hanging:!0,voids:c}),f&&i&&s==="character"&&q.length>1&&q.match(/[\u0E00-\u0E7F]+/)&&ae.insertText(t,q.slice(0,q.length-a));var J=N.unref(),re=W.unref(),fe=i?J||re:re||J;n.at==null&&fe&&ae.select(t,fe)}}})},PFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1}=r,{at:s=V7(t)}=r;if(n.length){if(de.isRange(s))if(o||(s=F.unhangRange(t,s,{voids:i})),de.isCollapsed(s))s=s.anchor;else{var[,a]=de.edges(s);if(!i&&F.void(t,{at:a}))return;var c=F.pointRef(t,a);ae.delete(t,{at:s}),s=c.unref()}else te.isPath(s)&&(s=F.start(t,s));if(!(!i&&F.void(t,{at:s}))){var u=F.above(t,{at:s,match:B=>Re.isElement(B)&&F.isInline(t,B),mode:"highest",voids:i});if(u){var[,d]=u;if(F.isEnd(t,s,d)){var f=F.after(t,d);s=f}else if(F.isStart(t,s,d)){var p=F.before(t,d);s=p}}var m=F.above(t,{match:B=>Re.isElement(B)&&F.isBlock(t,B),at:s,voids:i}),[,v]=m,g=F.isStart(t,s,v),y=F.isEnd(t,s,v),x=g&&y,b=!g||g&&y,w=!y,[,C]=Ee.first({children:n},[]),[,_]=Ee.last({children:n},[]),S=[],E=B=>{var[K,z]=B,Z=z.length===0;return Z?!1:x?!0:!(b&&te.isAncestor(z,C)&&Re.isElement(K)&&!t.isVoid(K)&&!t.isInline(K)||w&&te.isAncestor(z,_)&&Re.isElement(K)&&!t.isVoid(K)&&!t.isInline(K))};for(var j of Ee.nodes({children:n},{pass:E}))E(j)&&S.push(j);var k=[],T=[],A=[],D=!0,I=!1;for(var[O]of S)Re.isElement(O)&&!t.isInline(O)?(D=!1,I=!0,T.push(O)):D?k.push(O):A.push(O);var[$]=F.nodes(t,{at:s,match:B=>_e.isText(B)||F.isInline(t,B),mode:"highest",voids:i}),[,R]=$,V=F.isStart(t,s,R),N=F.isEnd(t,s,R),W=F.pathRef(t,y&&!A.length?te.next(v):v),q=F.pathRef(t,N?te.next(R):R);ae.splitNodes(t,{at:s,match:B=>I?Re.isElement(B)&&F.isBlock(t,B):_e.isText(B)||F.isInline(t,B),mode:I?"lowest":"highest",always:I&&(!g||k.length>0)&&(!y||A.length>0),voids:i});var H=F.pathRef(t,!V||V&&N?te.next(R):R);if(ae.insertNodes(t,k,{at:H.current,match:B=>_e.isText(B)||F.isInline(t,B),mode:"highest",voids:i}),x&&!k.length&&T.length&&!A.length&&ae.delete(t,{at:v,voids:i}),ae.insertNodes(t,T,{at:W.current,match:B=>Re.isElement(B)&&F.isBlock(t,B),mode:"lowest",voids:i}),ae.insertNodes(t,A,{at:q.current,match:B=>_e.isText(B)||F.isInline(t,B),mode:"highest",voids:i}),!r.at){var Y;if(A.length>0&&q.current?Y=te.previous(q.current):T.length>0&&W.current?Y=te.previous(W.current):H.current&&(Y=te.previous(H.current)),Y){var X=F.end(t,Y);ae.select(t,X)}}H.unref(),W.unref(),q.unref()}}})},RFt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=n,{selection:o}=t;if(o){if(r==="anchor")ae.select(t,o.anchor);else if(r==="focus")ae.select(t,o.focus);else if(r==="start"){var[i]=de.edges(o);ae.select(t,i)}else if(r==="end"){var[,s]=de.edges(o);ae.select(t,s)}}else return},$Ft=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},MFt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t,{distance:o=1,unit:i="character",reverse:s=!1}=n,{edge:a=null}=n;if(r){a==="start"&&(a=de.isBackward(r)?"focus":"anchor"),a==="end"&&(a=de.isBackward(r)?"anchor":"focus");var{anchor:c,focus:u}=r,d={distance:o,unit:i,ignoreNonSelectable:!0},f={};if(a==null||a==="anchor"){var p=s?F.before(t,c,d):F.after(t,c,d);p&&(f.anchor=p)}if(a==null||a==="focus"){var m=s?F.before(t,u,d):F.after(t,u,d);m&&(f.focus=m)}ae.setSelection(t,f)}},FFt=(e,t)=>{var{selection:n}=e;if(t=F.range(e,t),n){ae.setSelection(e,t);return}if(!de.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Mo.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})};function LQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function BQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LQ(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var LFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o}=t,{edge:i="both"}=r;if(o){i==="start"&&(i=de.isBackward(o)?"focus":"anchor"),i==="end"&&(i=de.isBackward(o)?"anchor":"focus");var{anchor:s,focus:a}=o,c=i==="anchor"?s:a;ae.setSelection(t,{[i==="anchor"?"anchor":"focus"]:BQ(BQ({},c),n)})}},BFt=(e,t)=>{var{selection:n}=e,r={},o={};if(n){for(var i in t)(i==="anchor"&&t.anchor!=null&&!Ot.equals(t.anchor,n.anchor)||i==="focus"&&t.focus!=null&&!Ot.equals(t.focus,n.focus)||i!=="anchor"&&i!=="focus"&&t[i]!==n[i])&&(r[i]=n[i],o[i]=t[i]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}},NFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1,mode:s="lowest"}=r,{at:a,match:c,select:u}=r;if(Ee.isNode(n)&&(n=[n]),n.length!==0){var[d]=n;if(a||(a=V7(t),u=!0),u==null&&(u=!1),de.isRange(a))if(o||(a=F.unhangRange(t,a,{voids:i})),de.isCollapsed(a))a=a.anchor;else{var[,f]=de.edges(a),p=F.pointRef(t,f);ae.delete(t,{at:a}),a=p.unref()}if(Ot.isPoint(a)){c==null&&(_e.isText(d)?c=E=>_e.isText(E):t.isInline(d)?c=E=>_e.isText(E)||F.isInline(t,E):c=E=>Re.isElement(E)&&F.isBlock(t,E));var[m]=F.nodes(t,{at:a.path,match:c,mode:s,voids:i});if(m){var[,v]=m,g=F.pathRef(t,v),y=F.isEnd(t,a,v);ae.splitNodes(t,{at:a,match:c,mode:s,voids:i});var x=g.unref();a=y?te.next(x):x}else return}var b=te.parent(a),w=a[a.length-1];if(!(!i&&F.void(t,{at:b}))){for(var C of n){var _=b.concat(w);w++,t.apply({type:"insert_node",path:_,node:C}),a=te.next(a)}if(a=te.previous(a),u){var S=F.end(t,a);S&&ae.select(t,S)}}}})},zFt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{at:r=t.selection,mode:o="lowest",voids:i=!1}=n,{match:s}=n;if(s==null&&(s=te.isPath(r)?n1(t,r):C=>Re.isElement(C)&&F.isBlock(t,C)),!!r){var a=F.nodes(t,{at:r,match:s,mode:o,voids:i}),c=Array.from(a,C=>{var[,_]=C;return F.pathRef(t,_)});for(var u of c){var d=u.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var f=F.node(t,te.parent(d)),[p,m]=f,v=d[d.length-1],{length:g}=p.children;if(g===1){var y=te.next(m);ae.moveNodes(t,{at:d,to:y,voids:i}),ae.removeNodes(t,{at:m,voids:i})}else if(v===0)ae.moveNodes(t,{at:d,to:m,voids:i});else if(v===g-1){var x=te.next(m);ae.moveNodes(t,{at:d,to:x,voids:i})}else{var b=te.next(d),w=te.next(m);ae.splitNodes(t,{at:b,voids:i}),ae.moveNodes(t,{at:d,to:w,voids:i})}}}})},VFt=["text"],HFt=["children"],Xje=(e,t)=>{if(Re.isElement(t)){var n=t;return F.isVoid(e,t)?!0:n.children.length===1?Xje(e,n.children[0]):!1}else return!F.isEditor(t)},UFt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{match:r,at:o=t.selection}=n,{hanging:i=!1,voids:s=!1,mode:a="lowest"}=n;if(o){if(r==null)if(te.isPath(o)){var[c]=F.parent(t,o);r=T=>c.children.includes(T)}else r=T=>Re.isElement(T)&&F.isBlock(t,T);if(!i&&de.isRange(o)&&(o=F.unhangRange(t,o,{voids:s})),de.isRange(o))if(de.isCollapsed(o))o=o.anchor;else{var[,u]=de.edges(o),d=F.pointRef(t,u);ae.delete(t,{at:o}),o=d.unref(),n.at==null&&ae.select(t,o)}var[f]=F.nodes(t,{at:o,match:r,voids:s,mode:a}),p=F.previous(t,{at:o,match:r,voids:s,mode:a});if(!(!f||!p)){var[m,v]=f,[g,y]=p;if(!(v.length===0||y.length===0)){var x=te.next(y),b=te.common(v,y),w=te.isSibling(v,y),C=Array.from(F.levels(t,{at:v}),T=>{var[A]=T;return A}).slice(b.length).slice(0,-1),_=F.above(t,{at:v,mode:"highest",match:T=>C.includes(T)&&Xje(t,T)}),S=_&&F.pathRef(t,_[1]),E,j;if(_e.isText(m)&&_e.isText(g)){var k=rd(m,VFt);j=g.text.length,E=k}else if(Re.isElement(m)&&Re.isElement(g)){var k=rd(m,HFt);j=g.children.length,E=k}else throw new Error("Cannot merge the node at path [".concat(v,"] with the previous sibling because it is not the same kind: ").concat(Mo.stringify(m)," ").concat(Mo.stringify(g)));w||ae.moveNodes(t,{at:v,to:x,voids:s}),S&&ae.removeNodes(t,{at:S.current,voids:s}),Re.isElement(g)&&F.isEmpty(t,g)||_e.isText(g)&&g.text===""&&y[y.length-1]!==0?ae.removeNodes(t,{at:y,voids:s}):t.apply({type:"merge_node",path:x,position:j,properties:E}),S&&S.unref()}}}})},WFt=(e,t)=>{F.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:o="lowest",voids:i=!1}=t,{match:s}=t;if(r){s==null&&(s=te.isPath(r)?n1(e,r):m=>Re.isElement(m)&&F.isBlock(e,m));var a=F.pathRef(e,n),c=F.nodes(e,{at:r,match:s,mode:o,voids:i}),u=Array.from(c,m=>{var[,v]=m;return F.pathRef(e,v)});for(var d of u){var f=d.unref(),p=a.current;f.length!==0&&e.apply({type:"move_node",path:f,newPath:p}),a.current&&te.isSibling(p,f)&&te.isAfter(p,f)&&(a.current=te.next(a.current))}a.unref()}})},YFt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:o=!1,mode:i="lowest"}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=te.isPath(s)?n1(t,s):m=>Re.isElement(m)&&F.isBlock(t,m)),!r&&de.isRange(s)&&(s=F.unhangRange(t,s,{voids:o}));var c=F.nodes(t,{at:s,match:a,mode:i,voids:o}),u=Array.from(c,m=>{var[,v]=m;return F.pathRef(t,v)});for(var d of u){var f=d.unref();if(f){var[p]=F.node(t,f);t.apply({type:"remove_node",path:f,node:p})}}}})},qFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{match:o,at:i=t.selection,compare:s,merge:a}=r,{hanging:c=!1,mode:u="lowest",split:d=!1,voids:f=!1}=r;if(i){if(o==null&&(o=te.isPath(i)?n1(t,i):j=>Re.isElement(j)&&F.isBlock(t,j)),!c&&de.isRange(i)&&(i=F.unhangRange(t,i,{voids:f})),d&&de.isRange(i)){if(de.isCollapsed(i)&&F.leaf(t,i.anchor)[0].text.length>0)return;var p=F.rangeRef(t,i,{affinity:"inward"}),[m,v]=de.edges(i),g=u==="lowest"?"lowest":"highest",y=F.isEnd(t,v,v.path);ae.splitNodes(t,{at:v,match:o,mode:g,voids:f,always:!y});var x=F.isStart(t,m,m.path);ae.splitNodes(t,{at:m,match:o,mode:g,voids:f,always:!x}),i=p.unref(),r.at==null&&ae.select(t,i)}s||(s=(j,k)=>j!==k);for(var[b,w]of F.nodes(t,{at:i,match:o,mode:u,voids:f})){var C={},_={};if(w.length!==0){var S=!1;for(var E in n)E==="children"||E==="text"||s(n[E],b[E])&&(S=!0,b.hasOwnProperty(E)&&(C[E]=b[E]),a?n[E]!=null&&(_[E]=a(b[E],n[E])):n[E]!=null&&(_[E]=n[E]));S&&t.apply({type:"set_node",path:w,properties:C,newProperties:_})}}}})},GFt=(e,t)=>{if(de.isCollapsed(t))return t.anchor;var[,n]=de.edges(t),r=F.pointRef(e,n);return ae.delete(e,{at:t}),r.unref()},KFt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection,height:a=0,always:c=!1}=n;if(i==null&&(i=W=>Re.isElement(W)&&F.isBlock(t,W)),de.isRange(s)&&(s=GFt(t,s)),te.isPath(s)){var u=s,d=F.point(t,u),[f]=F.parent(t,u);i=W=>W===f,a=d.path.length-u.length+1,s=d,c=!0}if(s){var p=F.pointRef(t,s,{affinity:"backward"}),m;try{var[v]=F.nodes(t,{at:s,match:i,mode:r,voids:o});if(!v)return;var g=F.void(t,{at:s,mode:"highest"}),y=0;if(!o&&g){var[x,b]=g;if(Re.isElement(x)&&t.isInline(x)){var w=F.after(t,b);if(!w){var C={text:""},_=te.next(b);ae.insertNodes(t,C,{at:_,voids:o}),w=F.point(t,_)}s=w,c=!0}var S=s.path.length-b.length;a=S+1,c=!0}m=F.pointRef(t,s);var E=s.path.length-a,[,j]=v,k=s.path.slice(0,E),T=a===0?s.offset:s.path[E]+y;for(var[A,D]of F.levels(t,{at:k,reverse:!0,voids:o})){var I=!1;if(D.length<j.length||D.length===0||!o&&Re.isElement(A)&&F.isVoid(t,A))break;var O=p.current,$=F.isEnd(t,O,D);if(c||!p||!F.isEdge(t,O,D)){I=!0;var R=Ee.extractProps(A);t.apply({type:"split_node",path:D,position:T,properties:R})}T=D[D.length-1]+(I||$?1:0)}if(n.at==null){var V=m.current||F.end(t,[]);ae.select(t,V)}}finally{var N;p.unref(),(N=m)===null||N===void 0||N.unref()}}})},ZFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var o={};for(var i of n)o[i]=null;ae.setNodes(t,o,r)},XFt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{mode:r="lowest",split:o=!1,voids:i=!1}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=te.isPath(s)?n1(t,s):m=>Re.isElement(m)&&F.isBlock(t,m)),te.isPath(s)&&(s=F.range(t,s));var c=de.isRange(s)?F.rangeRef(t,s):null,u=F.nodes(t,{at:s,match:a,mode:r,voids:i}),d=Array.from(u,m=>{var[,v]=m;return F.pathRef(t,v)}).reverse(),f=function(){var v=p.unref(),[g]=F.node(t,v),y=F.range(t,v);o&&c&&(y=de.intersection(c.current,y)),ae.liftNodes(t,{at:y,match:x=>Re.isAncestor(g)&&g.children.includes(x),voids:i})};for(var p of d)f();c&&c.unref()}})};function NQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function zQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NQ(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var QFt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{mode:o="lowest",split:i=!1,voids:s=!1}=r,{match:a,at:c=t.selection}=r;if(c){if(a==null&&(te.isPath(c)?a=n1(t,c):t.isInline(n)?a=y=>Re.isElement(y)&&F.isInline(t,y)||_e.isText(y):a=y=>Re.isElement(y)&&F.isBlock(t,y)),i&&de.isRange(c)){var[u,d]=de.edges(c),f=F.rangeRef(t,c,{affinity:"inward"});ae.splitNodes(t,{at:d,match:a,voids:s}),ae.splitNodes(t,{at:u,match:a,voids:s}),c=f.unref(),r.at==null&&ae.select(t,c)}var p=Array.from(F.nodes(t,{at:c,match:t.isInline(n)?y=>Re.isElement(y)&&F.isBlock(t,y):y=>F.isEditor(y),mode:"lowest",voids:s})),m=function(){var x=de.isRange(c)?de.intersection(c,F.range(t,g)):c;if(!x)return 0;var b=Array.from(F.nodes(t,{at:x,match:a,mode:o,voids:s}));if(b.length>0){var[w]=b,C=b[b.length-1],[,_]=w,[,S]=C;if(_.length===0&&S.length===0)return 0;var E=te.equals(_,S)?te.parent(_):te.common(_,S),j=F.range(t,_,S),k=F.node(t,E),[T]=k,A=E.length+1,D=te.next(S.slice(0,A)),I=zQ(zQ({},n),{},{children:[]});ae.insertNodes(t,I,{at:D,voids:s}),ae.moveNodes(t,{at:j,match:O=>Re.isAncestor(T)&&T.children.includes(O),to:D.concat(0),voids:s})}},v;for(var[,g]of p)v=m()}})},JFt=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return S4t(e,...r)},addMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return D4t(e,...r)},deleteBackward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return P4t(e,...r)},deleteForward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return R4t(e,...r)},deleteFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $4t(e,...r)},getFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return k4t(e,...r)},insertBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Y4t(e,...r)},insertSoftBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return G4t(e,...r)},insertFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return PFt(e,...r)},insertNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return q4t(e,...r)},insertText:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Z4t(e,...r)},normalizeNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return j4t(e,...r)},removeMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return kFt(e,...r)},getDirtyPaths:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return E4t(e,...r)},shouldNormalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return T4t(e,...r)},above:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return A4t(e,...r)},after:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return I4t(e,...r)},before:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return O4t(e,...r)},collapse:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return RFt(e,...r)},delete:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return OFt(e,...r)},deselect:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $Ft(e,...r)},edges:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M4t(e,...r)},elementReadOnly:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return F4t(e,...r)},end:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return L4t(e,...r)},first:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return B4t(e,...r)},fragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return N4t(e,...r)},getMarks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return lFt(e,...r)},hasBlocks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return V4t(e,...r)},hasInlines:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return H4t(e,...r)},hasPath:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return U4t(e,...r)},hasTexts:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return W4t(e,...r)},insertNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return NFt(e,...r)},isBlock:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return X4t(e,...r)},isEdge:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Q4t(e,...r)},isEmpty:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return J4t(e,...r)},isEnd:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return eFt(e,...r)},isNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tFt(e,...r)},isStart:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return nFt(e,...r)},last:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return rFt(e,...r)},leaf:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return oFt(e,...r)},levels:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return iFt(e,...r)},liftNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zFt(e,...r)},mergeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return UFt(e,...r)},move:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return MFt(e,...r)},moveNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return WFt(e,...r)},next:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return cFt(e,...r)},node:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return uFt(e,...r)},nodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return dFt(e,...r)},normalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return fFt(e,...r)},parent:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return hFt(e,...r)},path:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return gFt(e,...r)},pathRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pFt(e,...r)},pathRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return mFt(e,...r)},point:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return bFt(e,...r)},pointRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return vFt(e,...r)},pointRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return yFt(e,...r)},positions:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return xFt(e,...r)},previous:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return wFt(e,...r)},range:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return SFt(e,...r)},rangeRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return CFt(e,...r)},rangeRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _Ft(e,...r)},removeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return YFt(e,...r)},select:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return FFt(e,...r)},setNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return qFt(e,...r)},setNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return jFt(e,...r)},setPoint:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return LFt(e,...r)},setSelection:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return BFt(e,...r)},splitNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return KFt(e,...r)},start:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return TFt(e,...r)},string:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return AFt(e,...r)},unhangRange:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return DFt(e,...r)},unsetNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ZFt(e,...r)},unwrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return XFt(e,...r)},void:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return z4t(e,...r)},withoutNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return IFt(e,...r)},wrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return QFt(e,...r)}};return e},Sd={};Object.defineProperty(Sd,"__esModule",{value:!0});var e6t=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),fP={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Qje={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:e6t?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},W7={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var V_=1;V_<20;V_++)W7["f"+V_]=111+V_;function wA(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return Jje(s,t)}),o=function(a){return r.some(function(c){return eTe(c,a)})},i=n==null?o:o(n);return i}function t6t(e,t){return wA(e,t)}function n6t(e,t){return wA(e,{byKey:!0},t)}function Jje(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in fP)r[fP[s]]=!1;var a=!0,c=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var v=Y7(p),g=fP[v];if(p.length>1&&!g&&!Qje[p]&&!W7[v])throw new TypeError('Unknown modifier: "'+p+'"');(i===1||!g)&&(n?r.key=v:r.which=tTe(p)),g&&(r[g]=m?null:!0)}}catch(y){c=!0,u=y}finally{try{!a&&d.return&&d.return()}finally{if(c)throw u}}return r}function eTe(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function tTe(e){e=Y7(e);var t=W7[e]||e.toUpperCase().charCodeAt(0);return t}function Y7(e){return e=e.toLowerCase(),e=Qje[e]||e,e}Sd.default=wA;var hP=Sd.isHotkey=wA;Sd.isCodeHotkey=t6t;Sd.isKeyHotkey=n6t;Sd.parseHotkey=Jje;Sd.compareHotkey=eTe;Sd.toKeyCode=tTe;Sd.toKeyName=Y7;function r6t(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function f0(e,t){if(e==null)return{};var n=r6t(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ix(e){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ix(e)}function o6t(e,t){if(Ix(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ix(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i6t(e){var t=o6t(e,"string");return Ix(t)==="symbol"?t:String(t)}function Na(e,t,n){return t=i6t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q7=h.createContext(null),Qc=()=>{var e=h.useContext(q7);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},nTe=parseInt(ie.version.split(".")[0],10),s6t=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,VQ=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),_s=typeof navigator<"u"&&/Android/.test(navigator.userAgent),av=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),zy=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),a6t=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),rTe=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),l6t=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),c6t=_s&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),u6t=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),d6t=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),f6t=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),DS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pd=(!l6t||!c6t)&&!a6t&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",G7=new WeakMap,K7=new WeakMap,oTe=new WeakMap,IS=new WeakMap,zM=new WeakMap,Ox=new WeakMap,Bp=new WeakMap,o5=new WeakMap,CA=new WeakMap,VM=new WeakMap,df=new WeakMap,bp=new WeakMap,Db=new WeakMap,HM=new WeakMap,Z7=new WeakMap,jl=new WeakMap,Au=new WeakMap,ys=new WeakMap,Wd=new WeakMap,Yd=new WeakMap,iTe=new WeakMap,h0=Symbol("placeholder"),sTe=Symbol("mark-placeholder"),h6t=globalThis.Text,X7=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,p6t=e=>eh(e)&&e.nodeType===8,Pa=e=>eh(e)&&e.nodeType===1,eh=e=>{var t=X7(e);return!!t&&e instanceof t.Node},UM=e=>{var t=e&&e.anchorNode&&X7(e.anchorNode);return!!t&&e instanceof t.Selection},aTe=e=>eh(e)&&e.nodeType===3,m6t=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,g6t=e=>{var[t,n]=e;if(Pa(t)&&t.childNodes.length){var r=n===t.childNodes.length,o=r?n-1:n;for([t,o]=lTe(t,o,r?"backward":"forward"),r=o<n;Pa(t)&&t.childNodes.length;){var i=r?t.childNodes.length-1:0;t=y6t(t,i,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},v6t=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},lTe=(e,t,n)=>{for(var{childNodes:r}=e,o=r[t],i=t,s=!1,a=!1;(p6t(o)||Pa(o)&&o.childNodes.length===0||Pa(o)&&o.getAttribute("contenteditable")==="false")&&!(s&&a);){if(i>=r.length){s=!0,i=t-1,n="backward";continue}if(i<0){a=!0,i=t+1,n="forward";continue}o=r[i],t=i,i+=n==="forward"?1:-1}return[o,t]},y6t=(e,t,n)=>{var[r]=lTe(e,t,n);return r},cTe=e=>{var t="";if(aTe(e)&&e.nodeValue)return e.nodeValue;if(Pa(e)){for(var n of Array.from(e.childNodes))t+=cTe(n);var r=getComputedStyle(e).getPropertyValue("display");(r==="block"||r==="list"||e.tagName==="BR")&&(t+=`
`)}return t},b6t=/data-slate-fragment="(.+?)"/m,x6t=e=>{var t=e.getData("text/html"),[,n]=t.match(b6t)||[];return n},Q7=(e,t,n)=>{var{target:r}=t;if(Pa(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:o}=me.getWindow(e);if(o.contains(r))return me.hasDOMNode(e,r,{editable:!0});var i=n.find(s=>{var{addedNodes:a,removedNodes:c}=s;for(var u of a)if(u===r||u.contains(r))return!0;for(var d of c)if(d===r||d.contains(r))return!0});return!i||i===t?!1:Q7(e,i,n)},w6t=0;class C6t{constructor(){Na(this,"id",void 0),this.id="".concat(w6t++)}}var me={androidPendingDiffs:e=>ys.get(e),androidScheduleFlush:e=>{var t;(t=Z7.get(e))===null||t===void 0||t()},blur:e=>{var t=me.toDOMNode(e,e),n=me.findDocumentOrShadowRoot(e);df.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=me.findDocumentOrShadowRoot(e),r=n.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&ae.deselect(e)},findDocumentOrShadowRoot:e=>{var t=me.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:o}=t;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i=me.toSlateNode(e,t.target),s=me.findPath(e,i);if(Re.isElement(i)&&F.isVoid(e,i)){var a=o.getBoundingClientRect(),c=e.isInline(i)?n-a.left<a.left+a.width-n:r-a.top<a.top+a.height-r,u=F.point(e,s,{edge:c?"start":"end"}),d=c?F.before(e,u):F.after(e,u);if(d){var f=F.range(e,d);return f}}var p,{document:m}=me.getWindow(e);if(m.caretRangeFromPoint)p=m.caretRangeFromPoint(n,r);else{var v=m.caretPositionFromPoint(n,r);v&&(p=m.createRange(),p.setStart(v.offsetNode,v.offset),p.setEnd(v.offsetNode,v.offset))}if(!p)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var g=me.toSlateRange(e,p,{exactMatch:!1,suppressThrow:!1});return g},findKey:(e,t)=>{var n=o5.get(t);return n||(n=new C6t,o5.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var o=K7.get(r);if(o==null){if(F.isEditor(r))return n;break}var i=G7.get(r);if(i==null)break;n.unshift(i),r=o}throw new Error("Unable to find the path for Slate node: ".concat(Mo.stringify(t)))},focus:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!df.get(t)){if(n.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(t.operations.length>0){setTimeout(()=>{me.focus(t,{retries:n.retries-1})},10);return}var r=me.toDOMNode(t,t),o=me.findDocumentOrShadowRoot(t);if(o.activeElement!==r){if(t.selection&&o instanceof Document){var i=o.getSelection(),s=me.toDOMRange(t,t.selection);i==null||i.removeAllRanges(),i==null||i.addRange(s)}t.selection||(ae.select(t,F.start(t,[])),t.onChange()),r.focus({preventScroll:!0}),df.set(t,!0)}}},getWindow:e=>{var t=oTe.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:o=!1}=r,i=me.toDOMNode(t,t),s;try{s=Pa(n)?n:n.parentElement}catch(a){if(a instanceof Error&&!a.message.includes('Permission denied to access property "nodeType"'))throw a}return s?s.closest("[data-slate-editor]")===i&&(!o||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===i||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>eh(t)&&me.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return F.hasPath(e,n.path)&&F.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>me.hasEditableTarget(e,t)||me.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>eh(t)&&me.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!bp.get(e),isFocused:e=>!!df.get(e),isReadOnly:e=>!!VM.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(VM.get(e))return!1;var n=me.hasTarget(e,t)&&me.toSlateNode(e,t);return Re.isElement(n)&&F.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=CA.get(e),r=F.isEditor(t)?IS.get(e):n==null?void 0:n.get(me.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Mo.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=F.node(e,t.path),r=me.toDOMNode(e,n),o;F.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i="[data-slate-string], [data-slate-zero-width]",s=Array.from(r.querySelectorAll(i)),a=0,c=0;c<s.length;c++){var u=s[c],d=u.childNodes[0];if(!(d==null||d.textContent==null)){var{length:f}=d.textContent,p=u.getAttribute("data-slate-length"),m=p==null?f:parseInt(p,10),v=a+m,g=s[c+1];if(t.offset===v&&g!==null&&g!==void 0&&g.hasAttribute("data-slate-mark-placeholder")){var y,x=g.childNodes[0];o=[x instanceof h6t?x:g,(y=g.textContent)!==null&&y!==void 0&&y.startsWith("\uFEFF")?1:0];break}if(t.offset<=v){var b=Math.min(f,Math.max(0,t.offset-a));o=[d,b];break}a=v}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Mo.stringify(t)));return o},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,o=de.isBackward(t),i=me.toDOMPoint(e,n),s=de.isCollapsed(t)?i:me.toDOMPoint(e,r),a=me.getWindow(e),c=a.document.createRange(),[u,d]=o?s:i,[f,p]=o?i:s,m=Pa(u)?u:u.parentElement,v=!!m.getAttribute("data-slate-zero-width"),g=Pa(f)?f:f.parentElement,y=!!g.getAttribute("data-slate-zero-width");return c.setStart(u,v?1:d),c.setEnd(f,y?1:p),c},toSlateNode:(e,t)=>{var n=Pa(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?Ox.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,[i,s]=r?t:g6t(t),a=i.parentNode,c=null,u=0;if(a){var d,f,p=me.toDOMNode(e,e),m=a.closest('[data-slate-void="true"]'),v=m&&p.contains(m)?m:null,g=a.closest("[data-slate-leaf]"),y=null;if(g){if(c=g.closest('[data-slate-node="text"]'),c){var x=me.getWindow(e),b=x.document.createRange();b.setStart(c,0),b.setEnd(i,s);var w=b.cloneContents(),C=[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))];C.forEach(O=>{if(_s&&!r&&O.hasAttribute("data-slate-zero-width")&&O.textContent.length>0&&O.textContext!=="\uFEFF"){O.textContent.startsWith("\uFEFF")&&(O.textContent=O.textContent.slice(1));return}O.parentNode.removeChild(O)}),u=w.textContent.length,y=c}}else if(v){for(var _=v.querySelectorAll("[data-slate-leaf]"),S=0;S<_.length;S++){var E=_[S];if(me.hasDOMNode(e,E)){g=E;break}}g?(c=g.closest('[data-slate-node="text"]'),y=g,u=y.textContent.length,y.querySelectorAll("[data-slate-zero-width]").forEach(O=>{u-=O.textContent.length})):u=1}y&&u===y.textContent.length&&_s&&y.getAttribute("data-slate-zero-width")==="z"&&(d=y.textContent)!==null&&d!==void 0&&d.startsWith("\uFEFF")&&(a.hasAttribute("data-slate-zero-width")||av&&(f=y.textContent)!==null&&f!==void 0&&f.endsWith(`

`))&&u--}if(_s&&!c&&!r){var j=a.hasAttribute("data-slate-node")?a:a.closest("[data-slate-node]");if(j&&me.hasDOMNode(e,j,{editable:!0})){var k=me.toSlateNode(e,j),{path:T,offset:A}=F.start(e,me.findPath(e,k));return j.querySelector("[data-slate-leaf]")||(A=s),{path:T,offset:A}}}if(!c){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var D=me.toSlateNode(e,c),I=me.findPath(e,D);return{path:I,offset:u}},toSlateRange:(e,t,n)=>{var r,{exactMatch:o,suppressThrow:i}=n,s=UM(t)?t.anchorNode:t.startContainer,a,c,u,d,f;if(s)if(UM(t)){if(av&&t.rangeCount>1){u=t.focusNode;var p=t.getRangeAt(0),m=t.getRangeAt(t.rangeCount-1);if(u instanceof HTMLTableRowElement&&p.startContainer instanceof HTMLTableRowElement&&m.startContainer instanceof HTMLTableRowElement){let S=function(E){return E.childElementCount>0?S(E.children[0]):E};var v=p.startContainer,g=m.startContainer,y=S(v.children[p.startOffset]),x=S(g.children[m.startOffset]);d=0,x.childNodes.length>0?a=x.childNodes[0]:a=x,y.childNodes.length>0?u=y.childNodes[0]:u=y,x instanceof HTMLElement?c=x.innerHTML.length:c=0}else p.startContainer===u?(a=m.endContainer,c=m.endOffset,d=p.startOffset):(a=p.startContainer,c=p.endOffset,d=m.startOffset)}else a=t.anchorNode,c=t.anchorOffset,u=t.focusNode,d=t.focusOffset;rTe&&v6t(a)||av?f=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:f=t.isCollapsed}else a=t.startContainer,c=t.startOffset,u=t.endContainer,d=t.endOffset,f=t.collapsed;if(a==null||u==null||c==null||d==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));if(av&&(r=u.textContent)!==null&&r!==void 0&&r.endsWith(`

`)&&d===u.textContent.length&&d--,"getAttribute"in u&&u.getAttribute("contenteditable")==="false"&&u.getAttribute("data-slate-void")!=="true"){var b;u=a,d=((b=a.textContent)===null||b===void 0?void 0:b.length)||0}var w=me.toSlatePoint(e,[a,c],{exactMatch:o,suppressThrow:i});if(!w)return null;var C=f?w:me.toSlatePoint(e,[u,d],{exactMatch:o,suppressThrow:i});if(!C)return null;var _={anchor:w,focus:C};return de.isExpanded(_)&&de.isForward(_)&&Pa(u)&&F.void(e,{at:_.focus,mode:"highest"})&&(_=F.unhangRange(e,_,{voids:!0})),_}};function _6t(e,t){var{path:n,diff:r}=t;if(!F.hasPath(e,n))return!1;var o=Ee.get(e,n);if(!_e.isText(o))return!1;if(r.start!==o.text.length||r.text.length===0)return o.text.slice(r.start,r.start+r.text.length)===r.text;var i=te.next(n);if(!F.hasPath(e,i))return!1;var s=Ee.get(e,i);return _e.isText(s)&&s.text.startsWith(r.text)}function uTe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((o,i)=>o.slice(0,i.start)+i.text+o.slice(i.end),e)}function S6t(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function E6t(e,t,n){for(var r=Math.min(e.length,t.length,n),o=0;o<r;o++)if(e.charAt(e.length-o-1)!==t.charAt(t.length-o-1))return o;return r}function dTe(e,t){var{start:n,end:r,text:o}=t,i=e.slice(n,r),s=S6t(i,o),a=Math.min(i.length-s,o.length-s),c=E6t(i,o,a),u={start:n+s,end:r-c,text:o.slice(s,o.length-c)};return u.start===u.end&&u.text.length===0?null:u}function k6t(e,t,n){var r=Math.min(t.start,n.start),o=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),i=uTe(e,t,n),s=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-o),a=i.slice(r,s),c=Math.max(t.end,n.end-t.text.length+(t.end-t.start));return dTe(e,{start:r,end:c,text:a})}function j6t(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function WM(e,t){var{path:n,offset:r}=t;if(!F.hasPath(e,n))return null;var o=Ee.get(e,n);if(!_e.isText(o))return null;var i=F.above(e,{match:a=>Re.isElement(a)&&F.isBlock(e,a),at:n});if(!i)return null;for(;r>o.text.length;){var s=F.next(e,{at:n,match:_e.isText});if(!s||!te.isDescendant(s[1],i[1]))return null;r-=o.text.length,o=s[0],n=s[1]}return{path:n,offset:r}}function HQ(e,t){var n=WM(e,t.anchor);if(!n)return null;if(de.isCollapsed(t))return{anchor:n,focus:n};var r=WM(e,t.focus);return r?{anchor:n,focus:r}:null}function YM(e,t,n){var r=ys.get(e),o=r==null?void 0:r.find(d=>{var{path:f}=d;return te.equals(f,t.path)});if(!o||t.offset<=o.diff.start)return Ot.transform(t,n,{affinity:"backward"});var{diff:i}=o;if(t.offset<=i.start+i.text.length){var s={path:t.path,offset:i.start},a=Ot.transform(s,n,{affinity:"backward"});return a?{path:a.path,offset:a.offset+t.offset-i.start}:null}var c={path:t.path,offset:t.offset-i.text.length+i.end-i.start},u=Ot.transform(c,n,{affinity:"backward"});return u?n.type==="split_node"&&te.equals(n.path,t.path)&&c.offset<n.position&&i.start<n.position?u:{path:u.path,offset:u.offset+i.text.length-i.end+i.start}:null}function UQ(e,t,n){var r=YM(e,t.anchor,n);if(!r)return null;if(de.isCollapsed(t))return{anchor:r,focus:r};var o=YM(e,t.focus,n);return o?{anchor:r,focus:o}:null}function T6t(e,t){var{path:n,diff:r,id:o}=e;switch(t.type){case"insert_text":return!te.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:o,path:n};case"remove_text":return!te.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:o,path:n};case"split_node":return!te.equals(t.path,n)||t.position>=r.end?{diff:r,id:o,path:te.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:o,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:o,path:te.transform(n,t,{affinity:"forward"})};case"merge_node":return te.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:o,path:te.transform(n,t)}:{diff:r,id:o,path:te.transform(n,t)}}var i=te.transform(n,t);return i?{diff:r,path:i,id:o}:null}function WQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function H_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WQ(Object(n),!0).forEach(function(r){Na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var A6t=25,D6t=200,I6t=function(){},O6t=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function P6t(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,o=!1,i=null,s=null,a=null,c=0,u=!1,d=()=>{var D=Yd.get(t);if(Yd.delete(t),D){var{selection:I}=t,O=HQ(t,D);O&&(!I||!de.equals(O,I))&&ae.select(t,O)}},f=()=>{var D=Wd.get(t);if(Wd.delete(t),!!D){if(D.at){var I=Ot.isPoint(D.at)?WM(t,D.at):HQ(t,D.at);if(!I)return;var O=F.range(t,I);(!t.selection||!de.equals(t.selection,O))&&ae.select(t,I)}D.run()}},p=()=>{if(s&&(clearTimeout(s),s=null),a&&(clearTimeout(a),a=null),!C()&&!w()){d();return}o||(o=!0,setTimeout(()=>o=!1)),w()&&(o="action");var D=t.selection&&F.rangeRef(t,t.selection,{affinity:"forward"});Au.set(t,t.marks),I6t("flush",Wd.get(t),ys.get(t));for(var I=C(),O;O=($=ys.get(t))===null||$===void 0?void 0:$[0];){var $,R,V=jl.get(t);V!==void 0&&(jl.delete(t),t.marks=V),V&&u===!1&&(u=null);var N=j6t(O);(!t.selection||!de.equals(t.selection,N))&&ae.select(t,N),O.diff.text?F.insertText(t,O.diff.text):F.deleteFragment(t),ys.set(t,(R=ys.get(t))===null||R===void 0?void 0:R.filter(H=>{var{id:Y}=H;return Y!==O.id})),_6t(t,O)||(I=!1,Wd.delete(t),Au.delete(t),o="action",Yd.delete(t),n.cancel(),r.cancel(),D==null||D.unref())}var W=D==null?void 0:D.unref();if(W&&!Yd.get(t)&&(!t.selection||!de.equals(W,t.selection))&&ae.select(t,W),w()){f();return}I&&n(),n.flush(),r.flush(),d();var q=Au.get(t);Au.delete(t),q!==void 0&&(t.marks=q,t.onChange())},m=D=>{i&&clearTimeout(i),i=setTimeout(()=>{bp.set(t,!1),p()},A6t)},v=D=>{bp.set(t,!0),i&&(clearTimeout(i),i=null)},g=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,O=zM.get(t);if(O){if(C()||I){O.style.display="none";return}O.style.removeProperty("display")}},y=(D,I)=>{var O,$=(O=ys.get(t))!==null&&O!==void 0?O:[];ys.set(t,$);var R=Ee.leaf(t,D),V=$.findIndex(q=>te.equals(q.path,D));if(V<0){var N=dTe(R.text,I);N&&$.push({path:D,diff:I,id:c++}),g();return}var W=k6t(R.text,$[V].diff,I);if(!W){$.splice(V,1),g();return}$[V]=H_(H_({},$[V]),{},{diff:W})},x=function(I){var{at:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u=!1,Yd.delete(t),n.cancel(),r.cancel(),w()&&p(),Wd.set(t,{at:O,run:I}),a=setTimeout(p)},b=D=>{var I;s&&(clearTimeout(s),s=null);var{inputType:O}=D,$=null,R=D.dataTransfer||D.data||void 0;u!==!1&&O!=="insertText"&&O!=="insertCompositionText"&&(u=!1);var[V]=D.getTargetRanges();V&&($=me.toSlateRange(t,V,{exactMatch:!1,suppressThrow:!0}));var N=me.getWindow(t),W=N.getSelection();if(!$&&W&&(V=W,$=me.toSlateRange(t,W,{exactMatch:!1,suppressThrow:!0})),$=(I=$)!==null&&I!==void 0?I:t.selection,!!$){var q=!0;if(O.startsWith("delete")){if(de.isExpanded($)){var[H,Y]=de.edges($),X=Ee.leaf(t,H.path);if(X.text.length===H.offset&&Y.offset===0){var B=F.next(t,{at:H.path,match:_e.isText});B&&te.equals(B[1],Y.path)&&($={anchor:Y,focus:Y})}}var K=O.endsWith("Backward")?"backward":"forward",[z,Z]=de.edges($),[Q,ne]=F.leaf(t,z.path),G={text:"",start:z.offset,end:Z.offset},J=ys.get(t),re=J==null?void 0:J.find(Ze=>te.equals(Ze.path,ne)),fe=re?[re.diff,G]:[G],le=uTe(Q.text,...fe);if(le.length===0&&(q=!1),de.isExpanded($)){if(q&&te.equals($.anchor.path,$.focus.path)){var ge={path:$.anchor.path,offset:z.offset},we=F.range(t,ge,ge);return E(we),y($.anchor.path,{text:"",end:Z.offset,start:z.offset})}return x(()=>F.deleteFragment(t,{direction:K}),{at:$})}}switch(O){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return x(()=>F.deleteFragment(t),{at:$});case"deleteContent":case"deleteContentForward":{var{anchor:ce}=$;if(q&&de.isCollapsed($)){var ve=Ee.leaf(t,ce.path);if(ce.offset<ve.text.length)return y(ce.path,{text:"",start:ce.offset,end:ce.offset+1})}return x(()=>F.deleteForward(t),{at:$})}case"deleteContentBackward":{var $e,{anchor:Ae}=$,it=UM(V)?V.isCollapsed:!!(($e=V)!==null&&$e!==void 0&&$e.collapsed);return q&&it&&de.isCollapsed($)&&Ae.offset>0?y(Ae.path,{text:"",start:Ae.offset-1,end:Ae.offset}):x(()=>F.deleteBackward(t),{at:$})}case"deleteEntireSoftLine":return x(()=>{F.deleteBackward(t,{unit:"line"}),F.deleteForward(t,{unit:"line"})},{at:$});case"deleteHardLineBackward":return x(()=>F.deleteBackward(t,{unit:"block"}),{at:$});case"deleteSoftLineBackward":return x(()=>F.deleteBackward(t,{unit:"line"}),{at:$});case"deleteHardLineForward":return x(()=>F.deleteForward(t,{unit:"block"}),{at:$});case"deleteSoftLineForward":return x(()=>F.deleteForward(t,{unit:"line"}),{at:$});case"deleteWordBackward":return x(()=>F.deleteBackward(t,{unit:"word"}),{at:$});case"deleteWordForward":return x(()=>F.deleteForward(t,{unit:"word"}),{at:$});case"insertLineBreak":return x(()=>F.insertSoftBreak(t),{at:$});case"insertParagraph":return x(()=>F.insertBreak(t),{at:$});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(O6t(R))return x(()=>me.insertData(t,R),{at:$});var et=R??"";if(jl.get(t)&&(et=et.replace("\uFEFF","")),O==="insertText"&&/.*\n.*\n$/.test(et)&&(et=et.slice(0,-1)),et.includes(`
`))return x(()=>{var Ze=et.split(`
`);Ze.forEach((xt,ke)=>{xt&&F.insertText(t,xt),ke!==Ze.length-1&&F.insertSoftBreak(t)})},{at:$});if(te.equals($.anchor.path,$.focus.path)){var[lt,Pe]=de.edges($),xe={start:lt.offset,end:Pe.offset,text:et};if(et&&u&&O==="insertCompositionText"){var We=u.start+u.text.search(/\S|$/),ze=xe.start+xe.text.search(/\S|$/);ze===We+1&&xe.end===u.start+u.text.length?(xe.start-=1,u=null,T()):u=!1}else O==="insertText"?u===null?u=xe:u&&de.isCollapsed($)&&u.end+u.text.length===lt.offset?u=H_(H_({},u),{},{text:u.text+et}):u=!1:u=!1;if(q){y(lt.path,xe);return}}return x(()=>F.insertText(t,et),{at:$})}}}},w=()=>!!Wd.get(t),C=()=>{var D;return!!((D=ys.get(t))!==null&&D!==void 0&&D.length)},_=()=>w()||C(),S=()=>o,E=D=>{Yd.set(t,D),s&&(clearTimeout(s),s=null);var{selection:I}=t;if(D){var O=!I||!te.equals(I.anchor.path,D.anchor.path),$=!I||!te.equals(I.anchor.path.slice(0,-1),D.anchor.path.slice(0,-1));(O&&u||$)&&(u=!1),(O||C())&&(s=setTimeout(p,D6t))}},j=()=>{(w()||!C())&&p()},k=D=>{C()||(g(!0),setTimeout(g))},T=()=>{w()||(a=setTimeout(p))},A=D=>{if(!(C()||w())&&D.some(O=>Q7(t,O,D))){var I;(I=iTe.get(t))===null||I===void 0||I()}};return{flush:p,scheduleFlush:T,hasPendingDiffs:C,hasPendingAction:w,hasPendingChanges:_,isFlushing:S,handleUserSelect:E,handleCompositionEnd:m,handleCompositionStart:v,handleDOMBeforeInput:b,handleKeyDown:k,handleDomMutations:A,handleInput:j}}function R6t(){var e=h.useRef(!1);return h.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var Px=DS?h.useLayoutEffect:h.useEffect;function $6t(e,t,n){var[r]=h.useState(()=>new MutationObserver(t));Px(()=>{r.takeRecords()}),h.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}var M6t=["node"];function YQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function F6t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YQ(Object(n),!0).forEach(function(r){Na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var L6t={subtree:!0,childList:!0,characterData:!0},B6t=_s?e=>{var{node:t}=e,n=f0(e,M6t);if(!_s)return null;var r=Qc(),o=R6t(),[i]=h.useState(()=>P6t(F6t({editor:r},n)));return $6t(t,i.handleDomMutations,L6t),Z7.set(r,i.scheduleFlush),o&&i.flush(),i}:()=>null,N6t=["anchor","focus"],z6t=["anchor","focus"],V6t=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),fTe=(e,t)=>{var n=f0(e,N6t),r=f0(t,z6t);return e[h0]===t[h0]&&V6t(n,r)},H6t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(!de.equals(r,o)||!fTe(r,o))return!1}return!0},U6t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(r.anchor.offset!==o.anchor.offset||r.focus.offset!==o.focus.offset||!fTe(r,o))return!1}return!0};function qQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function W6t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qQ(Object(n),!0).forEach(function(r){Na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Y6t=e=>{var{isLast:t,leaf:n,parent:r,text:o}=e,i=Qc(),s=me.findPath(i,o),a=te.parent(s),c=!!n[sTe];return i.isVoid(r)?ie.createElement(pP,{length:Ee.string(r).length}):n.text===""&&r.children[r.children.length-1]===o&&!i.isInline(r)&&F.string(i,a)===""?ie.createElement(pP,{isLineBreak:!0,isMarkPlaceholder:c}):n.text===""?ie.createElement(pP,{isMarkPlaceholder:c}):t&&n.text.slice(-1)===`
`?ie.createElement(GQ,{isTrailing:!0,text:n.text}):ie.createElement(GQ,{text:n.text})},GQ=e=>{var{text:t,isTrailing:n=!1}=e,r=h.useRef(null),o=()=>"".concat(t??"").concat(n?`
`:""),[i]=h.useState(o);return Px(()=>{var s=o();r.current&&r.current.textContent!==s&&(r.current.textContent=s)}),ie.createElement(q6t,{ref:r},i)},q6t=h.memo(h.forwardRef((e,t)=>ie.createElement("span",{"data-slate-string":!0,ref:t},e.children))),pP=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,o={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(o["data-slate-mark-placeholder"]=!0),ie.createElement("span",W6t({},o),!_s||!n?"\uFEFF":null,n?ie.createElement("br",null):null)};function KQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function hTe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KQ(Object(n),!0).forEach(function(r){Na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G6t(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function ZQ(e){e.current&&(clearTimeout(e.current),e.current=null)}var K6t=e=>{var{leaf:t,isLast:n,text:r,parent:o,renderPlaceholder:i,renderLeaf:s=b=>ie.createElement(X6t,hTe({},b))}=e,a=Qc(),c=h.useRef(null),u=h.useRef(null),[d,f]=h.useState(!1),p=h.useRef(null),m=h.useCallback(b=>{if(G6t(c,b==null),b==null){var w;zM.delete(a),(w=t.onPlaceholderResize)===null||w===void 0||w.call(t,null)}else{if(zM.set(a,b),!c.current){var C=window.ResizeObserver||R2e;c.current=new C(()=>{var _;(_=t.onPlaceholderResize)===null||_===void 0||_.call(t,b)})}c.current.observe(b),u.current=b}},[u,t,a]),v=ie.createElement(Y6t,{isLast:n,leaf:t,parent:o,text:r}),g=!!t[h0];if(h.useEffect(()=>(g?p.current||(p.current=setTimeout(()=>{f(!0),p.current=null},300)):(ZQ(p),f(!1)),()=>ZQ(p)),[g,f]),g&&d){var y={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:zy?"inherit":void 0},contentEditable:!1,ref:m}};v=ie.createElement(ie.Fragment,null,i(y),v)}var x={"data-slate-leaf":!0};return s({attributes:x,children:v,leaf:t,text:r})},Z6t=ie.memo(K6t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&_e.equals(t.leaf,e.leaf)&&t.leaf[h0]===e.leaf[h0]),X6t=e=>{var{attributes:t,children:n}=e;return ie.createElement("span",hTe({},t),n)},Q6t=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:o,renderLeaf:i,text:s}=e,a=Qc(),c=h.useRef(null),u=_e.decorations(s,t),d=me.findKey(a,s),f=[],p=0;p<u.length;p++){var m=u[p];f.push(ie.createElement(Z6t,{isLast:n&&p===u.length-1,key:"".concat(d.id,"-").concat(p),renderPlaceholder:o,leaf:m,text:s,parent:r,renderLeaf:i}))}var v=h.useCallback(g=>{var y=CA.get(a);g?(y==null||y.set(d,g),Bp.set(s,g),Ox.set(g,s)):(y==null||y.delete(d),Bp.delete(s),c.current&&Ox.delete(c.current)),c.current=g},[c,a,d,s]);return ie.createElement("span",{"data-slate-node":"text",ref:v},f)},pTe=ie.memo(Q6t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&U6t(t.decorations,e.decorations));function XQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function qM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XQ(Object(n),!0).forEach(function(r){Na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var J6t=e=>{var{decorations:t,element:n,renderElement:r=b=>ie.createElement(tLt,qM({},b)),renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=Qc(),c=rLt(),u=a.isInline(n),d=me.findKey(a,n),f=h.useCallback(b=>{var w=CA.get(a);b?(w==null||w.set(d,b),Bp.set(n,b),Ox.set(b,n)):(w==null||w.delete(d),Bp.delete(n))},[a,d,n]),p=yTe({decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}),m={"data-slate-node":"element",ref:f};if(u&&(m["data-slate-inline"]=!0),!u&&F.hasInlines(a,n)){var v=Ee.string(n),g=Vje(v);g==="rtl"&&(m.dir=g)}if(F.isVoid(a,n)){m["data-slate-void"]=!0,!c&&u&&(m.contentEditable=!1);var y=u?"span":"div",[[x]]=Ee.texts(n);p=ie.createElement(y,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},ie.createElement(pTe,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:x})),G7.set(x,0),K7.set(x,n)}return r({attributes:m,children:p,element:n})},eLt=ie.memo(J6t,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&H6t(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&de.equals(e.selection,t.selection))),tLt=e=>{var{attributes:t,children:n,element:r}=e,o=Qc(),i=o.isInline(r)?"span":"div";return ie.createElement(i,qM(qM({},t),{},{style:{position:"relative"}}),n)},mTe=h.createContext(()=>[]),nLt=()=>h.useContext(mTe),gTe=h.createContext(!1),vTe=()=>h.useContext(gTe),yTe=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=nLt(),c=Qc(),u=me.findPath(c,n),d=[],f=Re.isElement(n)&&!c.isInline(n)&&F.hasInlines(c,n),p=0;p<n.children.length;p++){var m=u.concat(p),v=n.children[p],g=me.findKey(c,v),y=F.range(c,m),x=s&&de.intersection(y,s),b=a([v,m]);for(var w of t){var C=de.intersection(w,y);C&&b.push(C)}Re.isElement(v)?d.push(ie.createElement(gTe.Provider,{key:"provider-".concat(g.id),value:!!x},ie.createElement(eLt,{decorations:b,element:v,key:g.id,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:x}))):d.push(ie.createElement(pTe,{decorations:b,key:g.id,isLast:f&&p===n.children.length-1,parent:n,renderPlaceholder:o,renderLeaf:i,text:v})),G7.set(v,p),K7.set(v,n)}return d},bTe=h.createContext(!1),rLt=()=>h.useContext(bTe),xTe=h.createContext(null),_A=()=>{var e=h.useContext(xTe);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function oLt(){var e=Qc(),t=h.useRef(!1),n=h.useRef(0),r=h.useCallback(()=>{if(!t.current){t.current=!0;var o=me.getWindow(e);o.cancelAnimationFrame(n.current),n.current=o.requestAnimationFrame(()=>{t.current=!1})}},[e]);return h.useEffect(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}var iLt=3,sLt={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},aLt={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},lLt={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},mr=e=>{var t=sLt[e],n=aLt[e],r=lLt[e],o=t&&hP(t),i=n&&hP(n),s=r&&hP(r);return a=>!!(o&&o(a)||VQ&&i&&i(a)||!VQ&&s&&s(a))},kr={isBold:mr("bold"),isCompose:mr("compose"),isMoveBackward:mr("moveBackward"),isMoveForward:mr("moveForward"),isDeleteBackward:mr("deleteBackward"),isDeleteForward:mr("deleteForward"),isDeleteLineBackward:mr("deleteLineBackward"),isDeleteLineForward:mr("deleteLineForward"),isDeleteWordBackward:mr("deleteWordBackward"),isDeleteWordForward:mr("deleteWordForward"),isExtendBackward:mr("extendBackward"),isExtendForward:mr("extendForward"),isExtendLineBackward:mr("extendLineBackward"),isExtendLineForward:mr("extendLineForward"),isItalic:mr("italic"),isMoveLineBackward:mr("moveLineBackward"),isMoveLineForward:mr("moveLineForward"),isMoveWordBackward:mr("moveWordBackward"),isMoveWordForward:mr("moveWordForward"),isRedo:mr("redo"),isSoftBreak:mr("insertSoftBreak"),isSplitBlock:mr("splitBlock"),isTransposeCharacter:mr("transposeCharacter"),isUndo:mr("undo")},cLt=(e,t)=>{var n=[],r=()=>{n=[]},o=s=>{if(t.current){var a=s.filter(c=>Q7(e,c,s));n.push(...a)}};function i(){n.length>0&&(n.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(a=>{s.target.insertBefore(a,s.nextSibling)}),s.addedNodes.forEach(a=>{s.target.removeChild(a)}))}),r())}return{registerMutations:o,restoreDOM:i,clear:r}},uLt={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class wTe extends h.Component{constructor(){super(...arguments),Na(this,"context",null),Na(this,"manager",null),Na(this,"mutationObserver",null)}observe(){var t,{node:n}=this.props;if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(n.current,uLt)}componentDidMount(){var{receivedUserInput:t}=this.props,n=this.context;this.manager=cLt(n,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,n,r,o=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(o!=null&&o.length){var i;(i=this.manager)===null||i===void 0||i.registerMutations(o)}return(n=this.mutationObserver)===null||n===void 0||n.disconnect(),(r=this.manager)===null||r===void 0||r.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}Na(wTe,"contextType",q7);var dLt=_s?wTe:e=>{var{children:t}=e;return ie.createElement(ie.Fragment,null,t)},fLt=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],hLt=["text"];function QQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function cc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QQ(Object(n),!0).forEach(function(r){Na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var pLt=e=>ie.createElement(ie.Fragment,null,yTe(e)),mLt=e=>{var t=h.useCallback(B=>ie.createElement(gLt,cc({},B)),[]),{autoFocus:n,decorate:r=vLt,onDOMBeforeInput:o,placeholder:i,readOnly:s=!1,renderElement:a,renderLeaf:c,renderPlaceholder:u=t,scrollSelectionIntoView:d=yLt,style:f={},as:p="div",disableDefaultStyles:m=!1}=e,v=f0(e,fLt),g=_A(),[y,x]=h.useState(!1),b=h.useRef(null),w=h.useRef([]),[C,_]=h.useState(),{onUserInput:S,receivedUserInput:E}=oLt(),[,j]=h.useReducer(B=>B+1,0);iTe.set(g,j),VM.set(g,s);var k=h.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);h.useEffect(()=>{b.current&&n&&b.current.focus()},[n]);var T=h.useRef(),A=h.useMemo(()=>ET(()=>{var B=T.current;if((_s||!me.isComposing(g))&&(!k.isUpdatingSelection||B!=null&&B.isFlushing())&&!k.isDraggingInternally){var K=me.findDocumentOrShadowRoot(g),{activeElement:z}=K,Z=me.toDOMNode(g,g),Q=K.getSelection();if(z===Z?(k.latestElement=z,df.set(g,!0)):df.delete(g),!Q)return ae.deselect(g);var{anchorNode:ne,focusNode:G}=Q,J=me.hasEditableTarget(g,ne)||me.isTargetInsideNonReadonlyVoid(g,ne),re=me.hasEditableTarget(g,G)||me.isTargetInsideNonReadonlyVoid(g,G);if(J&&re){var fe=me.toSlateRange(g,Q,{exactMatch:!1,suppressThrow:!0});fe&&(!me.isComposing(g)&&!(B!=null&&B.hasPendingChanges())&&!(B!=null&&B.isFlushing())?ae.select(g,fe):B==null||B.handleUserSelect(fe))}s&&(!J||!re)&&ae.deselect(g)}},100),[g,s,k]),D=h.useMemo(()=>vw(A,0),[A]);T.current=B6t({node:b,onDOMSelectionChange:A,scheduleOnDOMSelectionChange:D}),Px(()=>{var B,K,z;b.current&&(z=X7(b.current))?(oTe.set(g,z),IS.set(g,b.current),Bp.set(g,b.current),Ox.set(b.current,g)):Bp.delete(g);var{selection:Z}=g,Q=me.findDocumentOrShadowRoot(g),ne=Q.getSelection();if(!(!ne||!me.isFocused(g)||(B=T.current)!==null&&B!==void 0&&B.hasPendingAction())){var G=le=>{var ge=ne.type!=="None";if(!(!Z&&!ge)){var we=ne.focusNode,ce;if(av&&ne.rangeCount>1){var ve=ne.getRangeAt(0),$e=ne.getRangeAt(ne.rangeCount-1);ve.startContainer===we?ce=$e.endContainer:ce=ve.startContainer}else ce=ne.anchorNode;var Ae=IS.get(g),it=!1;if(Ae.contains(ce)&&Ae.contains(we)&&(it=!0),ge&&it&&Z&&!le){var et=me.toSlateRange(g,ne,{exactMatch:!0,suppressThrow:!0});if(et&&de.equals(et,Z)){var lt;if(!k.hasMarkPlaceholder||(lt=ce)!==null&&lt!==void 0&&(lt=lt.parentElement)!==null&&lt!==void 0&&lt.hasAttribute("data-slate-mark-placeholder"))return}}if(Z&&!me.hasRange(g,Z)){g.selection=me.toSlateRange(g,ne,{exactMatch:!1,suppressThrow:!0});return}k.isUpdatingSelection=!0;var Pe=Z&&me.toDOMRange(g,Z);return Pe?(me.isComposing(g)&&!_s?ne.collapseToEnd():de.isBackward(Z)?ne.setBaseAndExtent(Pe.endContainer,Pe.endOffset,Pe.startContainer,Pe.startOffset):ne.setBaseAndExtent(Pe.startContainer,Pe.startOffset,Pe.endContainer,Pe.endOffset),d(g,Pe)):ne.removeAllRanges(),Pe}};ne.rangeCount<=1&&G();var J=((K=T.current)===null||K===void 0?void 0:K.isFlushing())==="action";if(!_s||!J){setTimeout(()=>{k.isUpdatingSelection=!1});return}var re=null,fe=requestAnimationFrame(()=>{if(J){var le=ge=>{try{var we=me.toDOMNode(g,g);we.focus(),G(ge)}catch{}};le(),re=setTimeout(()=>{le(!0),k.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(fe),re&&clearTimeout(re)}}});var I=h.useCallback(B=>{if(S(),!s&&me.hasEditableTarget(g,B.target)&&!bLt(B,o)){var K;if(T.current)return T.current.handleDOMBeforeInput(B);D.flush(),A.flush();var{selection:z}=g,{inputType:Z}=B,Q=B.dataTransfer||B.data||void 0,ne=Z==="insertCompositionText"||Z==="deleteCompositionText";if(ne&&me.isComposing(g))return;var G=!1;if(Z==="insertText"&&z&&de.isCollapsed(z)&&B.data&&B.data.length===1&&/[a-z ]/i.test(B.data)&&z.anchor.offset!==0){var J,re;G=!0,g.marks&&(G=!1);var{anchor:fe}=z,[le,ge]=me.toDOMPoint(g,fe),we=(J=le.parentElement)===null||J===void 0?void 0:J.closest("a"),ce=me.getWindow(g);if(G&&we&&me.hasDOMNode(g,we)){var ve,$e=ce==null?void 0:ce.document.createTreeWalker(we,NodeFilter.SHOW_TEXT).lastChild();$e===le&&((ve=$e.textContent)===null||ve===void 0?void 0:ve.length)===ge&&(G=!1)}if(G&&le.parentElement&&(ce==null||(re=ce.getComputedStyle(le.parentElement))===null||re===void 0?void 0:re.whiteSpace)==="pre"){var Ae=F.above(g,{at:fe.path,match:We=>Re.isElement(We)&&F.isBlock(g,We)});Ae&&Ee.string(Ae[0]).includes("	")&&(G=!1)}}if(!Z.startsWith("delete")||Z.startsWith("deleteBy")){var[it]=B.getTargetRanges();if(it){var et=me.toSlateRange(g,it,{exactMatch:!1,suppressThrow:!1});if(!z||!de.equals(z,et)){G=!1;var lt=!ne&&g.selection&&F.rangeRef(g,g.selection);ae.select(g,et),lt&&Db.set(g,lt)}}}if(ne)return;if(G||B.preventDefault(),z&&de.isExpanded(z)&&Z.startsWith("delete")){var Pe=Z.endsWith("Backward")?"backward":"forward";F.deleteFragment(g,{direction:Pe});return}switch(Z){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{F.deleteFragment(g);break}case"deleteContent":case"deleteContentForward":{F.deleteForward(g);break}case"deleteContentBackward":{F.deleteBackward(g);break}case"deleteEntireSoftLine":{F.deleteBackward(g,{unit:"line"}),F.deleteForward(g,{unit:"line"});break}case"deleteHardLineBackward":{F.deleteBackward(g,{unit:"block"});break}case"deleteSoftLineBackward":{F.deleteBackward(g,{unit:"line"});break}case"deleteHardLineForward":{F.deleteForward(g,{unit:"block"});break}case"deleteSoftLineForward":{F.deleteForward(g,{unit:"line"});break}case"deleteWordBackward":{F.deleteBackward(g,{unit:"word"});break}case"deleteWordForward":{F.deleteForward(g,{unit:"word"});break}case"insertLineBreak":F.insertSoftBreak(g);break;case"insertParagraph":{F.insertBreak(g);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{Z==="insertFromComposition"&&me.isComposing(g)&&(x(!1),bp.set(g,!1)),(Q==null?void 0:Q.constructor.name)==="DataTransfer"?me.insertData(g,Q):typeof Q=="string"&&(G?w.current.push(()=>F.insertText(g,Q)):F.insertText(g,Q));break}}var xe=(K=Db.get(g))===null||K===void 0?void 0:K.unref();Db.delete(g),xe&&(!g.selection||!de.equals(g.selection,xe))&&ae.select(g,xe)}},[g,A,S,o,s,D]),O=h.useCallback(B=>{B==null?(A.cancel(),D.cancel(),IS.delete(g),Bp.delete(g),b.current&&Pd&&b.current.removeEventListener("beforeinput",I)):Pd&&B.addEventListener("beforeinput",I),b.current=B},[A,D,g,I]);Px(()=>{var B=me.getWindow(g);return B.document.addEventListener("selectionchange",D),()=>{B.document.removeEventListener("selectionchange",D)}},[D]);var $=r([g,[]]),R=i&&g.children.length===1&&Array.from(Ee.texts(g)).length===1&&Ee.string(g)===""&&!y,V=h.useCallback(B=>{if(B&&R){var K;_((K=B.getBoundingClientRect())===null||K===void 0?void 0:K.height)}else _(void 0)},[R]);if(R){var N=F.start(g,[]);$.push({[h0]:!0,placeholder:i,onPlaceholderResize:V,anchor:N,focus:N})}var{marks:W}=g;if(k.hasMarkPlaceholder=!1,g.selection&&de.isCollapsed(g.selection)&&W){var{anchor:q}=g.selection,H=Ee.leaf(g,q.path),Y=f0(H,hLt);if(!_e.equals(H,W,{loose:!0})){k.hasMarkPlaceholder=!0;var X=Object.fromEntries(Object.keys(Y).map(B=>[B,null]));$.push(cc(cc(cc({[sTe]:!0},X),W),{},{anchor:q,focus:q}))}}return h.useEffect(()=>{setTimeout(()=>{var{selection:B}=g;if(B){var{anchor:K}=B,z=Ee.leaf(g,K.path);if(W&&!_e.equals(z,W,{loose:!0})){jl.set(g,W);return}}jl.delete(g)})}),ie.createElement(bTe.Provider,{value:s},ie.createElement(mTe.Provider,{value:r},ie.createElement(dLt,{node:b,receivedUserInput:E},ie.createElement(p,cc(cc({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},v),{},{spellCheck:Pd||!DS?v.spellCheck:!1,autoCorrect:Pd||!DS?v.autoCorrect:"false",autoCapitalize:Pd||!DS?v.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:O,style:cc(cc({},m?{}:cc({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},C?{minHeight:C}:{})),f),onBeforeInput:h.useCallback(B=>{if(!Pd&&!s&&!Wi(B,v.onBeforeInput)&&me.hasSelectableTarget(g,B.target)&&(B.preventDefault(),!me.isComposing(g))){var K=B.data;F.insertText(g,K)}},[v.onBeforeInput,g,s]),onInput:h.useCallback(B=>{if(!Wi(B,v.onInput)){if(T.current){T.current.handleInput();return}for(var K of w.current)K();w.current=[]}},[v.onInput]),onBlur:h.useCallback(B=>{if(!(s||k.isUpdatingSelection||!me.hasSelectableTarget(g,B.target)||Wi(B,v.onBlur))){var K=me.findDocumentOrShadowRoot(g);if(k.latestElement!==K.activeElement){var{relatedTarget:z}=B,Z=me.toDOMNode(g,g);if(z!==Z&&!(Pa(z)&&z.hasAttribute("data-slate-spacer"))){if(z!=null&&eh(z)&&me.hasDOMNode(g,z)){var Q=me.toSlateNode(g,z);if(Re.isElement(Q)&&!g.isVoid(Q))return}if(zy){var ne=K.getSelection();ne==null||ne.removeAllRanges()}df.delete(g)}}}},[s,k.isUpdatingSelection,k.latestElement,g,v.onBlur]),onClick:h.useCallback(B=>{if(me.hasTarget(g,B.target)&&!Wi(B,v.onClick)&&eh(B.target)){var K=me.toSlateNode(g,B.target),z=me.findPath(g,K);if(!F.hasPath(g,z)||Ee.get(g,z)!==K)return;if(B.detail===iLt&&z.length>=1){var Z=z;if(!(Re.isElement(K)&&F.isBlock(g,K))){var Q,ne=F.above(g,{match:we=>Re.isElement(we)&&F.isBlock(g,we),at:z});Z=(Q=ne==null?void 0:ne[1])!==null&&Q!==void 0?Q:z.slice(0,1)}var G=F.range(g,Z);ae.select(g,G);return}if(s)return;var J=F.start(g,z),re=F.end(g,z),fe=F.void(g,{at:J}),le=F.void(g,{at:re});if(fe&&le&&te.equals(fe[1],le[1])){var ge=F.range(g,J);ae.select(g,ge)}}},[g,v.onClick,s]),onCompositionEnd:h.useCallback(B=>{if(me.hasSelectableTarget(g,B.target)){var K;if(me.isComposing(g)&&(x(!1),bp.set(g,!1)),(K=T.current)===null||K===void 0||K.handleCompositionEnd(B),Wi(B,v.onCompositionEnd)||_s)return;if(!zy&&!u6t&&!s6t&&!f6t&&!d6t&&B.data){var z=jl.get(g);jl.delete(g),z!==void 0&&(Au.set(g,g.marks),g.marks=z),F.insertText(g,B.data);var Z=Au.get(g);Au.delete(g),Z!==void 0&&(g.marks=Z)}}},[v.onCompositionEnd,g]),onCompositionUpdate:h.useCallback(B=>{me.hasSelectableTarget(g,B.target)&&!Wi(B,v.onCompositionUpdate)&&(me.isComposing(g)||(x(!0),bp.set(g,!0)))},[v.onCompositionUpdate,g]),onCompositionStart:h.useCallback(B=>{if(me.hasSelectableTarget(g,B.target)){var K;if((K=T.current)===null||K===void 0||K.handleCompositionStart(B),Wi(B,v.onCompositionStart)||_s)return;x(!0);var{selection:z}=g;if(z){if(de.isExpanded(z)){F.deleteFragment(g);return}var Z=F.above(g,{match:G=>Re.isElement(G)&&F.isInline(g,G),mode:"highest"});if(Z){var[,Q]=Z;if(F.isEnd(g,z.anchor,Q)){var ne=F.after(g,Q);ae.setSelection(g,{anchor:ne,focus:ne})}}}}},[v.onCompositionStart,g]),onCopy:h.useCallback(B=>{me.hasSelectableTarget(g,B.target)&&!Wi(B,v.onCopy)&&!JQ(B)&&(B.preventDefault(),me.setFragmentData(g,B.clipboardData,"copy"))},[v.onCopy,g]),onCut:h.useCallback(B=>{if(!s&&me.hasSelectableTarget(g,B.target)&&!Wi(B,v.onCut)&&!JQ(B)){B.preventDefault(),me.setFragmentData(g,B.clipboardData,"cut");var{selection:K}=g;if(K)if(de.isExpanded(K))F.deleteFragment(g);else{var z=Ee.parent(g,K.anchor.path);F.isVoid(g,z)&&ae.delete(g)}}},[s,g,v.onCut]),onDragOver:h.useCallback(B=>{if(me.hasTarget(g,B.target)&&!Wi(B,v.onDragOver)){var K=me.toSlateNode(g,B.target);Re.isElement(K)&&F.isVoid(g,K)&&B.preventDefault()}},[v.onDragOver,g]),onDragStart:h.useCallback(B=>{if(!s&&me.hasTarget(g,B.target)&&!Wi(B,v.onDragStart)){var K=me.toSlateNode(g,B.target),z=me.findPath(g,K),Z=Re.isElement(K)&&F.isVoid(g,K)||F.void(g,{at:z,voids:!0});if(Z){var Q=F.range(g,z);ae.select(g,Q)}k.isDraggingInternally=!0,me.setFragmentData(g,B.dataTransfer,"drag")}},[s,g,v.onDragStart,k]),onDrop:h.useCallback(B=>{if(!s&&me.hasTarget(g,B.target)&&!Wi(B,v.onDrop)){B.preventDefault();var K=g.selection,z=me.findEventRange(g,B),Z=B.dataTransfer;ae.select(g,z),k.isDraggingInternally&&K&&!de.equals(K,z)&&!F.void(g,{at:z,voids:!0})&&ae.delete(g,{at:K}),me.insertData(g,Z),me.isFocused(g)||me.focus(g)}k.isDraggingInternally=!1},[s,g,v.onDrop,k]),onDragEnd:h.useCallback(B=>{!s&&k.isDraggingInternally&&v.onDragEnd&&me.hasTarget(g,B.target)&&v.onDragEnd(B),k.isDraggingInternally=!1},[s,k,v,g]),onFocus:h.useCallback(B=>{if(!s&&!k.isUpdatingSelection&&me.hasEditableTarget(g,B.target)&&!Wi(B,v.onFocus)){var K=me.toDOMNode(g,g),z=me.findDocumentOrShadowRoot(g);if(k.latestElement=z.activeElement,av&&B.target!==K){K.focus();return}df.set(g,!0)}},[s,k,g,v.onFocus]),onKeyDown:h.useCallback(B=>{if(!s&&me.hasEditableTarget(g,B.target)){var K;(K=T.current)===null||K===void 0||K.handleKeyDown(B);var{nativeEvent:z}=B;if(me.isComposing(g)&&z.isComposing===!1&&(bp.set(g,!1),x(!1)),Wi(B,v.onKeyDown)||me.isComposing(g))return;var{selection:Z}=g,Q=g.children[Z!==null?Z.focus.path[0]:0],ne=Vje(Ee.string(Q))==="rtl";if(kr.isRedo(z)){B.preventDefault();var G=g;typeof G.redo=="function"&&G.redo();return}if(kr.isUndo(z)){B.preventDefault();var J=g;typeof J.undo=="function"&&J.undo();return}if(kr.isMoveLineBackward(z)){B.preventDefault(),ae.move(g,{unit:"line",reverse:!0});return}if(kr.isMoveLineForward(z)){B.preventDefault(),ae.move(g,{unit:"line"});return}if(kr.isExtendLineBackward(z)){B.preventDefault(),ae.move(g,{unit:"line",edge:"focus",reverse:!0});return}if(kr.isExtendLineForward(z)){B.preventDefault(),ae.move(g,{unit:"line",edge:"focus"});return}if(kr.isMoveBackward(z)){B.preventDefault(),Z&&de.isCollapsed(Z)?ae.move(g,{reverse:!ne}):ae.collapse(g,{edge:"start"});return}if(kr.isMoveForward(z)){B.preventDefault(),Z&&de.isCollapsed(Z)?ae.move(g,{reverse:ne}):ae.collapse(g,{edge:"end"});return}if(kr.isMoveWordBackward(z)){B.preventDefault(),Z&&de.isExpanded(Z)&&ae.collapse(g,{edge:"focus"}),ae.move(g,{unit:"word",reverse:!ne});return}if(kr.isMoveWordForward(z)){B.preventDefault(),Z&&de.isExpanded(Z)&&ae.collapse(g,{edge:"focus"}),ae.move(g,{unit:"word",reverse:ne});return}if(Pd){if((rTe||zy)&&Z&&(kr.isDeleteBackward(z)||kr.isDeleteForward(z))&&de.isCollapsed(Z)){var re=Ee.parent(g,Z.anchor.path);if(Re.isElement(re)&&F.isVoid(g,re)&&(F.isInline(g,re)||F.isBlock(g,re))){B.preventDefault(),F.deleteBackward(g,{unit:"block"});return}}}else{if(kr.isBold(z)||kr.isItalic(z)||kr.isTransposeCharacter(z)){B.preventDefault();return}if(kr.isSoftBreak(z)){B.preventDefault(),F.insertSoftBreak(g);return}if(kr.isSplitBlock(z)){B.preventDefault(),F.insertBreak(g);return}if(kr.isDeleteBackward(z)){B.preventDefault(),Z&&de.isExpanded(Z)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g);return}if(kr.isDeleteForward(z)){B.preventDefault(),Z&&de.isExpanded(Z)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g);return}if(kr.isDeleteLineBackward(z)){B.preventDefault(),Z&&de.isExpanded(Z)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g,{unit:"line"});return}if(kr.isDeleteLineForward(z)){B.preventDefault(),Z&&de.isExpanded(Z)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g,{unit:"line"});return}if(kr.isDeleteWordBackward(z)){B.preventDefault(),Z&&de.isExpanded(Z)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g,{unit:"word"});return}if(kr.isDeleteWordForward(z)){B.preventDefault(),Z&&de.isExpanded(Z)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g,{unit:"word"});return}}}},[s,g,v.onKeyDown]),onPaste:h.useCallback(B=>{!s&&me.hasEditableTarget(g,B.target)&&!Wi(B,v.onPaste)&&(!Pd||m6t(B.nativeEvent)||zy)&&(B.preventDefault(),me.insertData(g,B.clipboardData))},[s,g,v.onPaste])}),ie.createElement(pLt,{decorations:$,node:g,renderElement:a,renderPlaceholder:u,renderLeaf:c,selection:g.selection})))))},gLt=e=>{var{attributes:t,children:n}=e;return ie.createElement("span",cc({},t),n,_s&&ie.createElement("br",null))},vLt=()=>[],yLt=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&de.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),u0(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Wi=(e,t)=>{if(!t)return!1;var n=t(e);return n??(e.isDefaultPrevented()||e.isPropagationStopped())},JQ=e=>eh(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),bLt=(e,t)=>{if(!t)return!1;var n=t(e);return n??e.defaultPrevented},xLt=h.createContext(!1),wLt=h.createContext({});function CLt(e){var t=h.useRef([]).current,n=h.useRef({editor:e}).current,r=h.useCallback(i=>{n.editor=i,t.forEach(s=>s(i))},[t,n]),o=h.useMemo(()=>({getSlate:()=>n.editor,addEventListener:i=>(t.push(i),()=>{t.splice(t.indexOf(i),1)})}),[t,n]);return{selectorContext:o,onChange:r}}var _Lt=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],SLt=e=>{var{editor:t,children:n,onChange:r,onSelectionChange:o,onValueChange:i,initialValue:s}=e,a=f0(e,_Lt),[c,u]=ie.useState(()=>{if(!Ee.isNodeList(s))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Mo.stringify(s)));if(!F.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(Mo.stringify(t)));return t.children=s,Object.assign(t,a),{v:0,editor:t}}),{selectorContext:d,onChange:f}=CLt(t),p=h.useCallback(g=>{var y;switch(r&&r(t.children),g==null||(y=g.operation)===null||y===void 0?void 0:y.type){case"set_selection":o==null||o(t.selection);break;default:i==null||i(t.children)}u(x=>({v:x.v+1,editor:t})),f(t)},[t,f,r,o,i]);h.useEffect(()=>(HM.set(t,p),()=>{HM.set(t,()=>{})}),[t,p]);var[m,v]=h.useState(me.isFocused(t));return h.useEffect(()=>{v(me.isFocused(t))},[t]),Px(()=>{var g=()=>v(me.isFocused(t));return nTe>=17?(document.addEventListener("focusin",g),document.addEventListener("focusout",g),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",g)}):(document.addEventListener("focus",g,!0),document.addEventListener("blur",g,!0),()=>{document.removeEventListener("focus",g,!0),document.removeEventListener("blur",g,!0)})},[]),ie.createElement(wLt.Provider,{value:d},ie.createElement(xTe.Provider,{value:c},ie.createElement(q7.Provider,{value:c.editor},ie.createElement(xLt.Provider,{value:m},n))))},eJ=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},tJ=(e,t,n)=>{var r=me.toDOMRange(e,t).getBoundingClientRect(),o=me.toDOMRange(e,n).getBoundingClientRect();return eJ(r,o)&&eJ(o,r)},ELt=(e,t)=>{var n=F.range(e,de.end(t)),r=Array.from(F.positions(e,{at:t})),o=0,i=r.length,s=Math.floor(i/2);if(tJ(e,F.range(e,r[o]),n))return F.range(e,r[o],n);if(r.length<2)return F.range(e,r[r.length-1],n);for(;s!==r.length&&s!==o;)tJ(e,F.range(e,r[s]),n)?i=s:o=s,s=Math.floor((o+i)/2);return F.range(e,r[i],n)};function nJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function rJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nJ(Object(n),!0).forEach(function(r){Na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var kLt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t,{apply:o,onChange:i,deleteBackward:s,addMark:a,removeMark:c}=r;return CA.set(r,new WeakMap),r.addMark=(u,d)=>{var f,p;(f=Z7.get(r))===null||f===void 0||f(),!jl.get(r)&&(p=ys.get(r))!==null&&p!==void 0&&p.length&&jl.set(r,null),Au.delete(r),a(u,d)},r.removeMark=u=>{var d;!jl.get(r)&&(d=ys.get(r))!==null&&d!==void 0&&d.length&&jl.set(r,null),Au.delete(r),c(u)},r.deleteBackward=u=>{if(u!=="line")return s(u);if(r.selection&&de.isCollapsed(r.selection)){var d=F.above(r,{match:v=>Re.isElement(v)&&F.isBlock(r,v),at:r.selection});if(d){var[,f]=d,p=F.range(r,f,r.selection.anchor),m=ELt(r,p);de.isCollapsed(m)||ae.delete(r,{at:m})}}},r.apply=u=>{var d=[],f=[],p=ys.get(r);if(p!=null&&p.length){var m=p.map(O=>T6t(O,u)).filter(Boolean);ys.set(r,m)}var v=Yd.get(r);v&&Yd.set(r,UQ(r,v,u));var g=Wd.get(r);if(g!=null&&g.at){var y=Ot.isPoint(g==null?void 0:g.at)?YM(r,g.at,u):UQ(r,g.at,u);Wd.set(r,y?rJ(rJ({},g),{},{at:y}):null)}switch(u.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(...fg(r,u.path));break}case"set_selection":{var x;(x=Db.get(r))===null||x===void 0||x.unref(),Db.delete(r);break}case"insert_node":case"remove_node":{d.push(...fg(r,te.parent(u.path)));break}case"merge_node":{var b=te.previous(u.path);d.push(...fg(r,b));break}case"move_node":{var w=te.common(te.parent(u.path),te.parent(u.newPath));d.push(...fg(r,w));var C;te.isBefore(u.path,u.newPath)?(d.push(...fg(r,te.parent(u.path))),C=u.newPath):(d.push(...fg(r,te.parent(u.newPath))),C=u.path);var _=Ee.get(t,te.parent(C)),S=me.findKey(r,_),E=F.pathRef(r,te.parent(C));f.push([E,S]);break}}o(u);for(var[j,k]of d){var[T]=F.node(r,j);o5.set(T,k)}for(var[A,D]of f)if(A.current){var[I]=F.node(r,A.current);o5.set(I,D)}},r.setFragmentData=u=>{var{selection:d}=r;if(d){var[f,p]=de.edges(d),m=F.void(r,{at:f.path}),v=F.void(r,{at:p.path});if(!(de.isCollapsed(d)&&!m)){var g=me.toDOMRange(r,d),y=g.cloneContents(),x=y.childNodes[0];if(y.childNodes.forEach(T=>{T.textContent&&T.textContent.trim()!==""&&(x=T)}),v){var[b]=v,w=g.cloneRange(),C=me.toDOMNode(r,b);w.setEndAfter(C),y=w.cloneContents()}if(m&&(x=y.querySelector("[data-slate-spacer]")),Array.from(y.querySelectorAll("[data-slate-zero-width]")).forEach(T=>{var A=T.getAttribute("data-slate-zero-width")==="n";T.textContent=A?`
`:""}),aTe(x)){var _=x.ownerDocument.createElement("span");_.style.whiteSpace="pre",_.appendChild(x),y.appendChild(_),x=_}var S=r.getFragment(),E=JSON.stringify(S),j=window.btoa(encodeURIComponent(E));x.setAttribute("data-slate-fragment",j),u.setData("application/".concat(n),j);var k=y.ownerDocument.createElement("div");return k.appendChild(y),k.setAttribute("hidden","true"),y.ownerDocument.body.appendChild(k),u.setData("text/html",k.innerHTML),u.setData("text/plain",cTe(k)),y.ownerDocument.body.removeChild(k),u}}},r.insertData=u=>{r.insertFragmentData(u)||r.insertTextData(u)},r.insertFragmentData=u=>{var d=u.getData("application/".concat(n))||x6t(u);if(d){var f=decodeURIComponent(window.atob(d)),p=JSON.parse(f);return r.insertFragment(p),!0}return!1},r.insertTextData=u=>{var d=u.getData("text/plain");if(d){var f=d.split(/\r\n|\r|\n/),p=!1;for(var m of f)p&&ae.splitNodes(r,{always:!0}),r.insertText(m),p=!0;return!0}return!1},r.onChange=u=>{var d=nTe<18?RWe.unstable_batchedUpdates:f=>f();d(()=>{var f=HM.get(r);f&&f(u),i(u)})},r},fg=(e,t)=>{var n=[];for(var[r,o]of F.levels(e,{at:t})){var i=me.findKey(e,r);n.push([o,i])}return n},jLt=t1e,oJ=1/0,TLt=17976931348623157e292;function ALt(e){if(!e)return e===0?e:0;if(e=jLt(e),e===oJ||e===-oJ){var t=e<0?-1:1;return t*TLt}return e===e?e:0}var CTe=ALt,DLt=CTe;function ILt(e){var t=DLt(e),n=t%1;return t===t?n?t-n:t:0}var OLt=ILt,PLt=nSe,RLt=gh,$Lt=OLt,MLt=Math.max;function FLt(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:$Lt(n);return o<0&&(o=MLt(r+o,0)),PLt(e,RLt(t),o)}var _Te=FLt;const J7=Ie(_Te);var LLt=N9,BLt=4;function NLt(e){return LLt(e,BLt)}var zLt=NLt;const STe=Ie(zLt);var Ed={};Object.defineProperty(Ed,"__esModule",{value:!0});var VLt=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),mP={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},HLt={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:VLt?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},ETe={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var U_=1;U_<20;U_++)ETe["f"+U_]=111+U_;function SA(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return kTe(s,t)}),o=function(a){return r.some(function(c){return jTe(c,a)})},i=n==null?o:o(n);return i}function ULt(e,t){return SA(e,t)}function WLt(e,t){return SA(e,{byKey:!0},t)}function kTe(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in mP)r[mP[s]]=!1;var a=!0,c=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var v=eB(p),g=mP[v];(i===1||!g)&&(n?r.key=v:r.which=TTe(p)),g&&(r[g]=m?null:!0)}}catch(y){c=!0,u=y}finally{try{!a&&d.return&&d.return()}finally{if(c)throw u}}return r}function jTe(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function TTe(e){e=eB(e);var t=ETe[e]||e.toUpperCase().charCodeAt(0);return t}function eB(e){return e=e.toLowerCase(),e=HLt[e]||e,e}var xi=Ed.default=SA;Ed.isHotkey=SA;Ed.isCodeHotkey=ULt;Ed.isKeyHotkey=WLt;Ed.parseHotkey=kTe;Ed.compareHotkey=jTe;Ed.toKeyCode=TTe;Ed.toKeyName=eB;function OS(e){return!!e&&(typeof e=="object"||typeof e=="function")}function i5(e){return OS(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>OS(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>OS(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function gP(e){return OS(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function od(e){return!!e&&(typeof e=="object"||typeof e=="function")}function iJ(e){return od(e)?e.jsonType==="object":!1}function YLt(e){return od(e)?e.jsonType==="array":!1}function qLt(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function GLt(e){return od(e)?Array.isArray(e.annotations)&&Array.isArray(e.decorators):!1}function KLt(e){if(!od(e)||!Array.isArray(e.fields))return!1;const t=e.fields.find(ZM),n=e.fields.find(GM),r=e.fields.find(KM);return ZM(t)&&GM(n)&&KM(r)}function GM(e){return!od(e)||e.name!=="style"?!1:od(e.type)&&e.type.jsonType==="string"}function KM(e){return!od(e)||e.name!=="listItem"?!1:od(e.type)&&e.type.jsonType==="string"}function ZM(e){return!od(e)||e.name!=="children"||!YLt(e.type)?!1:e.type.of.some(GLt)}function tB(e){return e.type?tB(e.type):e.name==="block"}function ZLt(e){var t,n;if(!e)throw new Error("Parameter 'blockContentType' required");const r=e.of.find(tB);if(!KLt(r))throw new Error("'block' type is not defined in this schema (required).");const o=(n=(t=r.fields.find(ZM))==null?void 0:t.type)==null?void 0:n.of;if(!o)throw new Error("No `of` declaration found for blocks `children` field");const i=o.find(c=>c.name==="span");if(!i)throw new Error("No `span` type found in `block` schema type `children` definition");const s=o.filter(c=>c.name!=="span"&&iJ(c)),a=e.of.filter(c=>c.name!==r.name&&iJ(c));return{styles:XLt(r),decorators:JLt(i),annotations:QLt(i),lists:e8t(r),types:{block:e,span:i,inlineObjects:s,blockObjects:a}}}function XLt(e){const t=e.fields.find(GM);if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=ATe(t.type.options);if(n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function QLt(e){return e.annotations.map(t=>({title:t.title,type:t,value:t.name,icon:t.icon}))}function JLt(e){return e.decorators}function e8t(e){const t=e.fields.find(KM);if(!t)throw new Error("A field with name 'list' is not defined in the block type (required).");const n=ATe(t.type.options);if(!n)throw new Error("The list field need at least to be an empty array");return n}function ATe(e){const t=e?e.list:void 0;return Array.isArray(t)?t.map(n=>qLt(n)?n:{title:n,value:n}):[]}const t8t=Object.prototype.toString;function DTe(e){switch(t8t.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return e===null?"null":e===void 0?"undefined":e&&typeof e=="object"&&"nodeType"in e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function n8t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return F7(t),t}const ITe=[];for(let e=0;e<256;++e)ITe[e]=(e+256).toString(16).substring(1);function XM(e){return n8t(e).reduce((t,n)=>t+ITe[n],"").slice(0,e)}const r8t=["pre","textarea","code"],p0="normal",ws=Object.freeze({_type:"block",markDefs:[],style:p0}),PS=Object.freeze({_type:"span",marks:[]}),s5={p:ws,blockquote:{...ws,style:"blockquote"}},OTe={span:{object:"text"}},a5={ol:{object:null},ul:{object:null}},l5={h1:{...ws,style:"h1"},h2:{...ws,style:"h2"},h3:{...ws,style:"h3"},h4:{...ws,style:"h4"},h5:{...ws,style:"h5"},h6:{...ws,style:"h6"}},o8t={br:{...ws,style:p0}},PTe={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},RTe={li:{...ws,style:p0,level:1,listItem:"bullet"}},i8t={...s5,...OTe,...a5,...RTe,...l5,...o8t};ho(Object.values(i8t).filter(e=>"style"in e).map(e=>e.style));ho(Object.values(PTe));const dm={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};var s8t=(e,t)=>{function n(r){var o,i;if(r.nodeType===dm.BOOLEAN_TYPE&&!r8t.includes(((o=r.parentElement)==null?void 0:o.tagName.toLowerCase())||""))r.textContent=((i=r.textContent)==null?void 0:i.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||"";else for(let s=0;s<r.childNodes.length;s++)n(r.childNodes[s])}return n(t.body),t};const a8t=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var l8t=(e,t)=>{var n,r,o;const i=t.evaluate("/html/body/text()",t,null,dm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=i.snapshotLength-1;a>=0;a--){const c=i.snapshotItem(a),u=c.textContent||"";if(u.replace(/[^\S\n]+$/g,"")){const d=t.createElement("span");d.appendChild(t.createTextNode(u)),(n=c.parentNode)==null||n.replaceChild(d,c)}else(r=c.parentNode)==null||r.removeChild(c)}const s=t.evaluate(a8t.join("|"),t,null,dm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=s.snapshotLength-1;a>=0;a--){const c=s.snapshotItem(a);c&&((o=c.parentNode)==null||o.removeChild(c))}return t};const c8t=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,u8t=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],d8t=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],f8t={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function h8t(e){return c8t.test(e)}var p8t=(e,t)=>{var n;if(!h8t(e))return t;const r=t.evaluate(u8t.join("|"),t,i=>i==="o"?"urn:schemas-microsoft-com:office:office":null,dm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=r.snapshotLength-1;i>=0;i--){const s=r.snapshotItem(i);s!=null&&s.parentNode&&s.parentNode.removeChild(s)}const o=t.evaluate(d8t.join("|"),t,null,dm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i),a=f8t[s.className],c=new Text(s.textContent||"");if(!a)continue;const u=document.createElement(a[0]);let d=u,f=u;a.slice(1).forEach(p=>{f=document.createElement(p),d.appendChild(f),d=f}),f.appendChild(c),(n=s==null?void 0:s.parentNode)==null||n.replaceChild(u,s)}return t},m8t=(e,t)=>{var n;const r=t.evaluate('//b[contains(@id, "docs-internal-guid")]',t,null,dm.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(r){const o=t.evaluate("//*",t,null,dm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i);s==null||s.setAttribute("data-is-google-docs","true")}return(n=t.body.firstElementChild)==null||n.replaceWith(...Array.from(r.childNodes)),t}return t},g8t=[s8t,p8t,m8t,l8t];function v8t(e){const t=ZLt(e),n=t.styles.map(s=>s.value||s.title),r=t.decorators.map(s=>s.value||s.title),o=t.annotations.map(s=>s.value||s.title||""),i=t.lists.map(s=>s.value||s.title||"");return{enabledBlockStyles:n,enabledSpanDecorators:r,enabledBlockAnnotations:o,enabledListTypes:i}}function jr(e){if(e&&"tagName"in e)return e.tagName.toLowerCase()}function y8t(e,t){const n=t(b8t(e));return g8t.forEach(r=>{r(e,n)}),n}function b8t(e){return e.trim()}function x8t(){if(DTe(DOMParser)==="undefined")throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return e=>new DOMParser().parseFromString(e,"text/html")}function w8t(e){let t=0;const n=[],r=o=>{const i=[];o.forEach(s=>{t===0&&n.push(s),i5(s)&&(t>0&&(i.push(s),n.push(s)),t++,r(s.children)),s._type==="__block"&&(i.push(s),n.push(s.block))}),i.forEach(s=>{o.splice(o.indexOf(s),1)}),t--};return r(e),n}function C8t(e,t){const n=e.children[t+1];return n&&n._type==="span"?n:null}function _8t(e,t){const n=e.children[t-1];return n&&n._type==="span"?n:null}function sJ(e){return[" "," "].includes(e)}function S8t(e){return e.forEach(t=>{i5(t)&&t.children.forEach((n,r)=>{if(!Dv(n))return;const o=C8t(t,r),i=_8t(t,r);r===0&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),r===t.children.length-1&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(n.text.length-1))&&o&&Dv(o)&&/\s/.test(o.text.substring(0,1))&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(0,1))&&i&&Dv(i)&&/\s/.test(i.text.substring(i.text.length-1))&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),n.text||t.children.splice(r,1),i&&Ht(i.marks,n.marks)&&sJ(n.text)?(i.text+=" ",t.children.splice(r,1)):o&&Ht(o.marks,n.marks)&&sJ(n.text)&&(o.text=" ".concat(o.text),t.children.splice(r,1))})}),e}function E8t(e){return e.reduce((t,n,r,o)=>{if(n._type==="block")return t.push(n),t;if(n._type==="__block")return t.push(n.block),t;const i=t[t.length-1];if(r>0&&!i5(o[r-1])&&i5(i))return i.children.push(n),t;const s={...ws,children:[n]};return t.push(s),t},[])}function k8t(e){return Object.prototype.toString.call(e)=="[object NodeList]"}function Dv(e){return e._type==="span"}function aJ(e){return e._type==="block"}function lJ(e){return e._type==="__decorator"}function cJ(e){return e._type==="__annotation"}function xh(e){return e.nodeType===1}function j8t(e,t){if(e==="ul"&&t.includes("bullet"))return"bullet";if(e==="ol"&&t.includes("number"))return"number"}function T8t(e,t){return[{deserialize(n){if(jr(n)==="pre")return;const o=(n.nodeType===3&&(n.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")===" "&&n.nextSibling&&n.nextSibling.nodeType!==3&&n.previousSibling&&n.previousSibling.nodeType!==3||n.textContent!==" ")&&jr(n.parentNode)!=="body";if(n.nodeName==="#text"&&o)return{...PS,marks:[],text:(n.textContent||"").replace(/\s\s+/g," ")}}},{deserialize(n){if(jr(n)!=="pre")return;const r=t.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...PS,marks:r?["code"]:[],text:n.textContent||""}]}}},{deserialize(n,r){if(jr(n)!=="blockquote")return;const o={...s5,...l5};delete o.blockquote;const i=[];return n.childNodes.forEach((s,a)=>{if(s.nodeType===1&&Object.keys(o).includes(s.localName.toLowerCase())){if(!n.ownerDocument)return;const c=n.ownerDocument.createElement("span");c.appendChild(n.ownerDocument.createTextNode("\r")),s.childNodes.forEach(u=>{c.appendChild(u.cloneNode(!0))}),a!==n.childNodes.length&&c.appendChild(n.ownerDocument.createTextNode("\r")),i.push(c)}else i.push(s)}),{_type:"block",style:"blockquote",markDefs:[],children:r(i)}}},{deserialize(n,r){const o={...s5,...l5},i=jr(n);let s=i?o[i]:void 0;if(s)return n.parentNode&&jr(n.parentNode)==="li"?r(n.childNodes):(t.enabledBlockStyles.includes(s.style)||(s=ws),{...s,children:r(n.childNodes)})}},{deserialize(n,r){const o=jr(n);if(!(!o||!(o in OTe)))return r(n.childNodes)}},{deserialize(n,r){if(jr(n)==="div")return r(n.childNodes)}},{deserialize(n,r){const o=jr(n);if(!(!o||!(o in a5)))return r(n.childNodes)}},{deserialize(n){if(jr(n)==="br")return{...PS,text:`
`}}},{deserialize(n,r,o){const i=jr(n),s=i?RTe[i]:void 0,a=jr(n.parentNode)||"";if(!s||!n.parentNode||!a5[a])return;const c=j8t(a,t.enabledListTypes);return c?(s.listItem=c,{...s,children:r(n.childNodes)}):o({_type:"block",children:r(n.childNodes)})}},{deserialize(n,r){const o=PTe[jr(n)||""];if(!(!o||!t.enabledSpanDecorators.includes(o)))return{_type:"__decorator",name:o,children:r(n.childNodes)}}},{deserialize(n,r){if(jr(n)!="a")return;const o=t.enabledBlockAnnotations.includes("link"),i=xh(n)&&n.getAttribute("href");if(!i)return r(n.childNodes);let s;return o?(s={_key:XM(12),_type:"link",href:i},{_type:"__annotation",markDef:s,children:r(n.childNodes)}):n.appendChild(n.ownerDocument.createTextNode(" (".concat(i,")")))&&r(n.childNodes)}}]}const $Te=Object.keys(a5);function A8t(e){const t=xh(e)&&e.getAttribute("style");return/font-style:italic/.test(t||"")}function D8t(e){const t=xh(e)&&e.getAttribute("style");return/font-weight:700/.test(t||"")}function uJ(e){return xh(e)&&!!e.getAttribute("data-is-google-docs")}function I8t(e){const t=jr(e.parentNode);if(!(t&&!$Te.includes(t)))return jr(e.parentNode)==="ul"?"bullet":"number"}function O8t(e){let t=0;if(jr(e)==="li"){let n=e.parentNode;for(;n;){const r=jr(n);r&&$Te.includes(r)&&t++,n=n.parentNode}}else t=1;return t}const P8t={...s5,...l5};function R8t(e,t){const n=jr(e.firstChild),r=n&&P8t[n];return!r||!t.includes(r.style)?p0:r.style}function $8t(e,t){return[{deserialize(n){if(xh(n)&&jr(n)==="span"&&uJ(n)){const r={...PS,marks:[],text:n.textContent};return D8t(n)&&r.marks.push("strong"),A8t(n)&&r.marks.push("em"),r}}},{deserialize(n,r){var o;if(jr(n)==="li"&&uJ(n))return{...ws,listItem:I8t(n),level:O8t(n),style:R8t(n,t.enabledBlockStyles),children:r(((o=n.firstChild)==null?void 0:o.childNodes)||[])}}}]}function M8t(e){const t=xh(e)&&e.getAttribute("style");if(t&&t.match(/lfo\d+/))return t.match("lfo1")?"bullet":"number"}function F8t(e){const t=xh(e)&&e.getAttribute("style");if(!t)return;const n=t.match(/level\d+/);if(!n)return;const[r]=n[0].match(/\d/)||[];return(r?parseInt(r,10):1)||1}function L8t(e){return xh(e)&&e.className?e.className==="MsoListParagraphCxSpFirst"||e.className==="MsoListParagraphCxSpMiddle"||e.className==="MsoListParagraphCxSpLast":!1}function B8t(){return[{deserialize(e,t){if(jr(e)==="p"&&L8t(e))return{...ws,listItem:M8t(e),level:F8t(e),style:p0,children:t(e.childNodes)}}}]}function N8t(e,t){return[...B8t(),...$8t(e,t),...T8t(e,t)]}class z8t{constructor(t){var n=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._markDefs=[],this.deserialize=a=>{this._markDefs=[];const{parseHtml:c}=this,u=c(a),d=Array.from(u.childNodes),f=S8t(w8t(E8t(this.deserializeElements(d))));this._markDefs.length>0&&f.filter(m=>m._type==="block").forEach(m=>{m.markDefs=m.markDefs||[],m.markDefs=m.markDefs.concat(this._markDefs.filter(v=>Tn(m.children.map(g=>g.marks||[])).includes(v._key)))});const p=this.blockContentType.of.find(tB);return p?f.map(m=>(m._type==="block"&&(m._type=p.name),m)):f},this.deserializeElements=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=[];return a.forEach(u=>{c=c.concat(n.deserializeElement(u))}),c},this.deserializeElement=a=>{var c,u;const d=m=>{if(k8t(m))return this.deserializeElements(Array.from(m));if(Array.isArray(m))return this.deserializeElements(m);if(m)return this.deserializeElement(m)},f=m=>({_type:"__block",block:m});let p;for(let m=0;m<this.rules.length;m++){const v=this.rules[m];if(!v.deserialize)continue;const g=v.deserialize(a,d,f),y=DTe(g);if(y!=="array"&&y!=="object"&&y!=="null"&&y!=="undefined")throw new Error('A rule returned an invalid deserialized representation: "'.concat(p,'".'));if(g!==void 0){{if(g===null)throw new Error("Deserializer rule returned `null`");Array.isArray(g)?p=g:lJ(g)?p=this.deserializeDecorator(g):cJ(g)?p=this.deserializeAnnotation(g):p=g}if(g&&!Array.isArray(g)&&aJ(g)&&"listItem"in g){let x=(c=a.parentNode)==null?void 0:c.parentNode;for(;x&&jr(x)==="li";)x=(u=x.parentNode)==null?void 0:u.parentNode,g.level=g.level?g.level+1:1}g&&!Array.isArray(g)&&aJ(g)&&g.style==="blockquote"&&g.children.forEach((x,b)=>{Dv(x)&&x.text==="\r"&&(x.text=`

`,(b===0||b===g.children.length-1)&&g.children.splice(b,1))});break}}return p||d(a.childNodes)||[]},this.deserializeDecorator=a=>{const{name:c}=a,u=d=>{if(lJ(d))return this.deserializeDecorator(d);if(Dv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(c);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])},this.deserializeAnnotation=a=>{const{markDef:c}=a;this._markDefs.push(c);const u=d=>{if(cJ(d))return this.deserializeAnnotation(d);if(Dv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(c._key);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])};const{rules:o=[]}=r;if(!t)throw new Error("Parameter 'blockContentType' is required");const i=N8t(t,v8t(t));this.rules=[...o,...i];const s=r.parseHtml||x8t();this.blockContentType=t,this.parseHtml=a=>y8t(a,s).body}}function Rx(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:XM(12)};const n={_key:XM(12),children:[],markDefs:[],...e},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:"".concat(n._key).concat(0),text:"",marks:[]}],n;const o=[],i=t.allowedDecorators&&Array.isArray(t.allowedDecorators)?t.allowedDecorators:!1;return n.children=n.children.reduce((s,a)=>{const c=s[s.length-1];return c&&gP(a)&&gP(c)&&Ht(c.marks,a.marks)?(r&&r===a&&a.text===""&&n.children.length>1||(c.text+=a.text),s):(s.push(a),s)},[]).map((s,a)=>{if(!s)throw new Error("missing child");return s._key="".concat(n._key).concat(a),gP(s)&&(s.marks?i&&(s.marks=s.marks.filter(c=>{var u;const d=i.includes(c),f=(u=n.markDefs)==null?void 0:u.some(p=>p._key===c);return d||f})):s.marks=[],o.push(...s.marks)),s}),n.markDefs=(n.markDefs||[]).filter(s=>o.includes(s._key)),n}function dJ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new z8t(t,n).deserialize(e).map(o=>Rx(o))}function fJ(e){return H9.compile({name:"blockTypeSchema",types:[e]}).get(e.name)}function hJ(e){var t,n,r;if(!e)throw new Error("Parameter 'portabletextType' missing (required)");const o=(t=e.of)==null?void 0:t.find(MTe);if(!o)throw new Error("Block type is not defined in this schema (required)");const i=(n=o.fields)==null?void 0:n.find(d=>d.name==="children");if(!i)throw new Error("Children field for block type found in schema (required)");const s=i.type.of;if(!s)throw new Error("Valid types for block children not found in schema (required)");const a=s.find(d=>d.name==="span");if(!a)throw new Error("Span type not found in schema (required)");const c=s.filter(d=>d.name!=="span")||[],u=((r=e.of)==null?void 0:r.filter(d=>d.name!==o.name))||[];return{styles:V8t(o),decorators:H8t(a),lists:U8t(o),block:o,span:a,portableText:e,inlineObjects:c,blockObjects:u,annotations:a.annotations}}function V8t(e){var t,n,r;const o=(t=e.fields)==null?void 0:t.find(s=>s.name==="style");if(!o)throw new Error("A field with name 'style' is not defined in the block type (required).");const i=((n=o.type.options)==null?void 0:n.list)&&((r=o.type.options.list)==null?void 0:r.filter(s=>s.value));if(!i||i.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return i}function H8t(e){return e.decorators}function U8t(e){var t,n;const r=(t=e.fields)==null?void 0:t.find(i=>i.name==="listItem");if(!r)throw new Error("A field with name 'listItem' is not defined in the block type (required).");const o=((n=r.type.options)==null?void 0:n.list)&&r.type.options.list.filter(i=>i.value);if(!o)throw new Error("The list field need at least to be an empty array");return o}function MTe(e){return e.type?MTe(e.type):e.name==="block"?e:null}const QM="sanity-pte:";Ny(QM);function Wr(e){const t="".concat(QM).concat(e);return Ny&&Ny.enabled(t)?Ny(t):Ny(QM)}const c5=()=>lC(12),FTe=h.createContext(c5),W8t=()=>{const e=h.useContext(FTe);if(e===void 0)throw new Error("The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.");return e},u5=new WeakMap,RS=new WeakMap,W_=new WeakMap,oy=new WeakMap,iy=new WeakMap,sy=new WeakMap,JM=new WeakMap,Ea=new WeakMap,d5=new WeakMap;function Y8t(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function e4(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function cC(e){const[t,n]=e;return[t,n]}function pJ(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,c=1;for(let u=0;u!==-1;){const d=n.substring(s-c);if(u=r.indexOf(d),u===-1)return a;c+=u,(u===0||n.substring(s-c)===r.substring(0,c))&&(a=c,c++)}return a}function nB(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function EA(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function LTe(e){let t=e.map(f=>cC(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,c=0,u=0,d=0;for(;s<t.length;)t[s][0]===Ct?(r[o++]=s,a=u,c=d,u=0,d=0,i=t[s][1]):(t[s][0]===Kn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[jn,i]),t[r[o-1]+1][0]=Kn,o--,o--,s=o>0?r[o-1]:-1,a=0,c=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=kA(t)),t=BTe(t),s=1;s<t.length;){if(t[s-1][0]===jn&&t[s][0]===Kn){const f=t[s-1][1],p=t[s][1],m=pJ(f,p),v=pJ(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[Ct,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[Ct,f.substring(0,v)]),t[s-1][0]=Kn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=jn,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const mJ=/[^a-zA-Z0-9]/,gJ=/\s/,vJ=/[\r\n]/,q8t=/\n\r?\n$/,G8t=/^\r?\n\r?\n/;function BTe(e){const t=e.map(o=>cC(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),c=s.match(mJ),u=a.match(mJ),d=c&&s.match(gJ),f=u&&a.match(gJ),p=d&&s.match(vJ),m=f&&a.match(vJ),v=p&&o.match(q8t),g=m&&i.match(G8t);return v||g?5:p||m?4:c&&!d&&f?3:d||f?2:c||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===Ct&&t[r+1][0]===Ct){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=EA(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let c=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,c=o,u=i,d=s)}t[r-1][1]!==c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function kA(e){let t=e.map(u=>cC(u));t.push([Ct,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Kn:o++,s+=t[n][1],n++;break;case jn:r++,i+=t[n][1],n++;break;case Ct:r+o>1?(r!==0&&o!==0&&(a=nB(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===Ct?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[Ct,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=EA(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[jn,i]),n++),s.length&&(t.splice(n,0,[Kn,s]),n++),n++):n!==0&&t[n-1][0]===Ct?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let c=!1;for(n=1;n<t.length-1;)t[n-1][0]===Ct&&t[n+1][0]===Ct&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;return c&&(t=kA(t)),t}function K8t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function NTe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>cC(p)),r=!1;const o=[];let i=0,s=null,a=0,c=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===Ct?(n[a][1].length<t&&(d||f)?(o[i++]=a,c=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===jn?f=!0:d=!0,s&&(c&&u&&d&&f||s.length<t/2&&K8t(c,u,d,f)===3)&&(n.splice(o[i-1],0,[jn,s]),n[o[i-1]+1][0]=Kn,i--,s=null,c&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=kA(n)),n}function Z8t(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,c=new Array(a),u=new Array(a);for(let y=0;y<a;y++)c[y]=-1,u[y]=-1;c[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let y=0;y<i&&!(Date.now()>n);y++){for(let x=-y+p;x<=y-m;x+=2){const b=s+x;let w;x===-y||x!==y&&c[b-1]<c[b+1]?w=c[b+1]:w=c[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(c[b]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return yJ(e,t,w,C,n)}}}for(let x=-y+v;x<=y-g;x+=2){const b=s+x;let w;x===-y||x!==y&&u[b-1]<u[b+1]?w=u[b+1]:w=u[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[b]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&c[_]!==-1){const S=c[_],E=s+S-_;if(w=r-w,S>=w)return yJ(e,t,S,E,n)}}}}return[[jn,e],[Kn,t]]}function yJ(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),c=t.substring(r),u=fm(i,s,{checkLines:!1,deadline:o}),d=fm(a,c,{checkLines:!1,deadline:o});return u.concat(d)}function X8t(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=bJ(r,o,Math.ceil(r.length/4)),s=bJ(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let c,u,d,f;e.length>t.length?(c=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],c=a[2],u=a[3]);const p=a[4];return[c,u,d,f,p]}function bJ(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,c,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=nB(e.slice(n),t.slice(o)),f=EA(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),c=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",c||"",u||"",i||""]:null}function Q8t(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function J8t(e,t){const n=[],r={};n[0]="";function o(c){let u="",d=0,f=-1,p=n.length;for(;f<c.length-1;){f=c.indexOf(`
`,d),f===-1&&(f=c.length-1);let m=c.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=c.slice(d),f=c.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function e9t(e,t,n){let r=e,o=t;const i=J8t(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=fm(r,o,{checkLines:!1,deadline:n.deadline});Q8t(a,s),a=LTe(a),a.push([Ct,""]);let c=0,u=0,d=0,f="",p="";for(;c<a.length;){switch(a[c][0]){case Kn:d++,p+=a[c][1];break;case jn:u++,f+=a[c][1];break;case Ct:if(u>=1&&d>=1){a.splice(c-u-d,u+d),c=c-u-d;const m=fm(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(c,0,m[v]);c+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}c++}return a.pop(),a}function t9t(e,t,n){let r;if(!e)return[[Kn,t]];if(!t)return[[jn,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Kn,o.substring(0,s)],[Ct,i],[Kn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=jn,r[2][0]=jn),r;if(i.length===1)return[[jn,e],[Kn,t]];const a=X8t(e,t);if(a){const c=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=fm(c,d,n),v=fm(u,f,n);return m.concat([[Ct,p]],v)}return n.checkLines&&e.length>100&&t.length>100?e9t(e,t,n):Z8t(e,t,n.deadline)}const jn=-1,Kn=1,Ct=0;function rB(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=fm(e,t,r9t(n||{}));return i9t(r),r}function fm(e,t,n){let r=e,o=t;if(r===o)return r?[[Ct,r]]:[];let i=nB(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=EA(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let c=t9t(r,o,n);return s&&c.unshift([Ct,s]),a&&c.push([Ct,a]),c=kA(c),c}function n9t(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function r9t(e){return{checkLines:!0,deadline:n9t(e.timeout||1),...e}}function Y_(e,t,n){return n===1?e+t:t+e}function q_(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function o9t(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function xJ(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Kn){o===null&&(o=s);continue}else if(u===jn){i===null&&(i=s);continue}else if(u===Ct){if(o===null&&i===null){const[f,p]=q_(e[t][1],n);e[t][1]=f,e[s][1]=Y_(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&o9t(e,o,i,n)){const[u,d]=q_(e[o][1],r),[f]=q_(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=Y_(e[t][1],d,n);return}const[a,c]=q_(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Kn,c]),i!==null&&i>=s&&i++):e[o][1]=Y_(e[o][1],c,r),i===null?e.splice(s,0,[jn,c]):e[i][1]=Y_(e[i][1],c,r)}function i9t(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];Y8t(i)&&n===Ct&&xJ(e,t,1),e4(o)&&n===Ct&&xJ(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const s9t={threshold:.5,distance:1e3};function a9t(e){return{...s9t,...e}}const l9t=32;function c9t(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>l9t)throw new Error("Pattern too long for this browser.");const o=a9t(r),i=u9t(t);function s(v,g){const y=v/t.length,x=Math.abs(n-g);return o.distance?y+x/o.distance:x?1:y}let a=o.threshold,c=e.indexOf(t,n);c!==-1&&(a=Math.min(s(0,c),a),c=e.lastIndexOf(t,n+t.length),c!==-1&&(a=Math.min(s(0,c),a)));const u=1<<t.length-1;c=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const y=Math.min(n+f,e.length)+t.length,x=new Array(y+2);x[y+1]=(1<<v)-1;for(let b=y;b>=g;b--){const w=i[e.charAt(b-1)];if(v===0?x[b]=(x[b+1]<<1|1)&w:x[b]=(x[b+1]<<1|1)&w|((m[b+1]|m[b])<<1|1)|m[b+1],x[b]&u){const C=s(v,b-1);if(C<=a)if(a=C,c=b-1,c>n)g=Math.max(1,2*n-c);else break}}if(s(v+1,n)>a)break;m=x}return c}function u9t(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function vP(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return c9t(e,t,r)}function f5(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function oB(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Kn&&(t[n]=e[n][1]);return t.join("")}function zTe(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==jn&&(t[n]=e[n][1]);return t.join("")}function ff(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=VTe(r)}return t}function d9t(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const c=t.codePointAt(o);if(typeof c>"u")return o;r+=VTe(c),c>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(c=>cC(c)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function VTe(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const qd=32,iB=4,f9t={margin:4};function yP(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...f9t,...e}}function h9t(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=rB(e,t,{checkLines:!0});return r.length>2&&(r=LTe(r),r=NTe(r)),bP(e,r,yP(n))}if(e&&Array.isArray(e)&&typeof t>"u")return bP(oB(e),e,yP(n));if(typeof e=="string"&&t&&Array.isArray(t))return bP(e,t,yP(n));throw new Error("Unknown call format to make()")}function bP(e,t,n){if(t.length===0)return[];const r=[];let o=f5(0,0),i=0,s=0,a=0,c=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,y=g.length,x=ff(g);switch(!i&&v!==Ct&&(o.start1=s,o.start2=a,o.utf8Start1=c,o.utf8Start2=u),v){case Kn:o.diffs[i++]=m,o.length2+=y,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case jn:o.length1+=y,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+y);break;case Ct:y<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=y,o.length2+=y,o.utf8Length1+=x,o.utf8Length2+=x):y>=2*n.margin&&i&&(wJ(o,d,n),r.push(o),o=f5(-1,-1),i=0,d=f,s=a,c=u);break;default:throw new Error("Unknown diff type")}v!==Kn&&(s+=y,c+=x),v!==jn&&(a+=y,u+=x)}return i&&(wJ(o,d,n),r.push(o)),r}function wJ(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<qd-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&e4(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([Ct,s]);const a=s.length,c=ff(s);let u=e.start2+e.length1+o;u<t.length&&e4(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([Ct,d]);const f=d.length,p=ff(d);e.start1-=a,e.start2-=a,e.utf8Start1-=c,e.utf8Start2-=c,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=c+p,e.utf8Length2+=c+p}function p9t(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Kn:n+=s.length;break;case jn:r+=s.length;break;case Ct:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function CJ(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Kn&&(n+=e[s][1].length),e[s][0]!==jn&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===jn?i:i+(t-o)}function m9t(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iB;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==Ct)i.unshift([Ct,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==Ct)i.push([Ct,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function g9t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iB;const n=qd;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const c=f5(i-a.length,s-a.length);let u=!0;if(a!==""){const p=ff(a);c.length1=a.length,c.utf8Length1=p,c.length2=a.length,c.utf8Length2=p,c.diffs.push([Ct,a])}for(;o.diffs.length!==0&&c.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=ff(m);if(p===Kn){c.length2+=m.length,c.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&c.diffs.push(g),u=!1}else p===jn&&c.diffs.length===1&&c.diffs[0][0]===Ct&&m.length>2*n?(c.length1+=m.length,c.utf8Length1+=v,i+=m.length,u=!1,c.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-c.length1-t),v=ff(m),c.length1+=m.length,c.utf8Length1+=v,i+=m.length,p===Ct?(c.length2+=m.length,c.utf8Length2+=v,s+=m.length):u=!1,c.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=zTe(c.diffs),a=a.substring(a.length-t);const d=oB(o.diffs).substring(0,t),f=ff(d);d!==""&&(c.length1+=d.length,c.length2+=d.length,c.utf8Length1+=f,c.utf8Length2+=f,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===Ct?c.diffs[c.diffs.length-1][1]+=d:c.diffs.push([Ct,d])),u||e.splice(++r,0,c)}}}function HTe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=d9t(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||iB,s=n.deleteThreshold||.4,a=m9t(o,i);r=a+r+a,g9t(o,i);let c=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+c,p=oB(o[d].diffs);let m,v=-1;if(p.length>qd?(m=vP(r,p.substring(0,qd),f),m!==-1&&(v=vP(r,p.substring(p.length-qd),f+p.length-qd),(v===-1||m>=v)&&(m=-1))):m=vP(r,p,f),m===-1)u[d]=!1,c-=o[d].length2-o[d].length1;else{u[d]=!0,c=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+qd),p===g)r=r.substring(0,m)+zTe(o[d].diffs)+r.substring(m+p.length);else{let y=rB(p,g,{checkLines:!1});if(p.length>qd&&p9t(y)/p.length>s)u[d]=!1;else{y=BTe(y);let x=0,b=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==Ct&&(b=CJ(y,x)),C[0]===Kn?r=r.substring(0,m+b)+C[1]+r.substring(m+b):C[0]===jn&&(r=r.substring(0,m+b)+r.substring(m+CJ(y,x+C[1].length))),C[0]!==jn&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function v9t(e){return e.map(y9t).join("")}function y9t(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const c=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Kn:u="+";break;case jn:u="-";break;case Ct:u=" ";break;default:throw new Error("Unknown patch operation.")}c[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return c.join("").replace(/%20/g," ")}const b9t=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function sB(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(b9t);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=f5(G_(o[1]),G_(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=G_(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=G_(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let c;try{c=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=ff(c)-c.length;if(a==="-")i.diffs.push([jn,c]),i.length1-=u;else if(a==="+")i.diffs.push([Kn,c]),i.length2-=u;else if(a===" ")i.diffs.push([Ct,c]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(c));r++}}return t}function G_(e){return parseInt(e,10)}function UTe(e){return{type:"setIfMissing",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function _J(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=h9t(e,t),o=v9t(r);return{type:"diffMatchPatch",path:n,value:o}}function bu(e,t){return{type:"insert",path:arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],position:t,items:e}}function bl(e){return{type:"set",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function Ks(){return{type:"unset",path:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const x9t=[],WTe="void-child";function Iv(e,t){const n=t[e._key];return n&&Ht(e,n)?n:(t[e._key]=e,e)}function Rc(e,t){let{schemaTypes:n}=t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e&&Array.isArray(e)?e.map(o=>{const{_type:i,_key:s,...a}=o,c=[{_key:WTe,_type:"span",text:"",marks:[]}];if(o&&o._type===n.block.name){const d=o;let f=!1;const p=typeof d.style>"u",m=typeof d.markDefs>"u",v=d.children.map(g=>{const{_type:y,_key:x,...b}=g;return y!=="span"?(f=!0,Iv({_type:y,_key:x,children:c,value:b,__inline:!0},r)):g});return!p&&!m&&!f&&Re.isElement(o)?o:(p&&(a.style=n.styles[0].value),m&&(a.markDefs=x9t),Iv({_type:i,_key:s,...a,children:v},r))}return Iv({_type:i,_key:s,children:c,value:a},r)}):[]}function yr(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.map(r=>{const{_key:o,_type:i}=r;if(!o||!i)throw new Error("Not a valid block");if(i===t&&"children"in r&&Array.isArray(r.children)&&o){let a=!1;const c=r.children.map(u=>{const{_type:d}=u;if("value"in u&&d!=="span"){a=!0;const{value:f,_key:p,_type:m,__inline:v,children:g,...y}=u;return Iv({...y,...f,_key:p,_type:m},n)}return u});return a?Iv({...r,children:c,_key:o,_type:i},n):r}const s="value"in r&&r.value;return Iv({_key:o,_type:i,...typeof s=="object"?s:{}},n)})}function h5(e,t){var n;return e===void 0||e&&Array.isArray(e)&&e.length===0||e&&Array.isArray(e)&&e.length===1&&Re.isElement(e[0])&&e[0]._type===t.block.name&&"style"in e[0]&&e[0].style===t.styles[0].value&&!("listItem"in e[0])&&Array.isArray(e[0].children)&&e[0].children.length===1&&_e.isText(e[0].children[0])&&e[0].children[0]._type==="span"&&!((n=e[0].children[0].marks)!=null&&n.join(""))&&e[0].children[0].text===""}const sp=Wr("operationToPatches");sp.enabled=!1;function w9t(e){const t=e.block.name;function n(d,f,p){sp.enabled&&sp("Operation",JSON.stringify(f,null,2));const m=d.isTextBlock(d.children[f.path[0]])&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&d.isTextSpan(m.children[f.path[1]])&&m.children[f.path[1]];if(!v)throw new Error("Could not find child");const g=[{_key:m._key},"children",{_key:v._key},"text"],y=p[f.path[0]],x=d.isTextBlock(y)&&y.children[f.path[1]],b=d.isTextSpan(x)?x.text:"",w=_J(b,v.text,g);return w.value.length?[w]:[]}function r(d,f,p){const m=d&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&m.children[f.path[1]]||void 0,g=d.isTextSpan(v)?v:void 0;if(v&&!g)throw new Error("Expected span");if(!g)throw new Error("Could not find child");const y=[{_key:m._key},"children",{_key:g._key},"text"],x=p[f.path[0]],b=d.isTextBlock(x)&&x.children[f.path[1]],w=d.isTextSpan(b)&&b.text,C=_J(w||"",g.text,y);return C.value?[C]:[]}function o(d,f){if(f.path.length===1){const p=d.children[f.path[0]];if(typeof p._key!="string")throw new Error("Expected block to have a _key");const m=Rke({...d.children[f.path[0]],...f.newProperties},$ke);return[bl(yr([m],t)[0],[{_key:p._key}])]}else if(f.path.length===2){const p=d.children[f.path[0]];if(d.isTextBlock(p)){const m=p.children[f.path[1]];if(m){const v=p._key,g=m._key,y=[];return Object.keys(f.newProperties).forEach(x=>{const b=Hn(f.newProperties,x);y.push(bl(b,[{_key:v},"children",{_key:g},x]))}),y}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}else throw new Error("Unexpected path encountered: ".concat(JSON.stringify(f.path)))}function i(d,f,p){const m=p[f.path[0]],v=d.isTextBlock(m);if(f.path.length===1){const g=f.path[0]===0?"before":"after",y=p[f.path[0]-1],x=f.path[0]===0?m==null?void 0:m._key:y==null?void 0:y._key;return x?[bu([yr([f.node],t)[0]],g,[{_key:x}])]:[UTe(p,[]),bu([yr([f.node],t)[0]],"before",[f.path[0]])]}else if(v&&f.path.length===2&&d.children[f.path[0]]){const g=m.children.length===0||!m.children[f.path[1]-1]?"before":"after",y={...f.node};!y._type&&_e.isText(y)&&(y._type="span",y.marks=[]);const b=yr([{_key:"bogus",_type:t,children:[y]}],t)[0].children[0];return[bu([b],g,[{_key:m._key},"children",m.children.length<=1||!m.children[f.path[1]-1]?0:{_key:m.children[f.path[1]-1]._key}])]}return sp("Something was inserted into a void block. Not producing editor patches."),[]}function s(d,f,p){const m=[],v=d.children[f.path[0]];if(!d.isTextBlock(v))throw new Error("Block with path ".concat(JSON.stringify(f.path[0])," is not a text block and can't be split"));if(f.path.length===1){const g=p[f.path[0]];if(d.isTextBlock(g)){const y=yr([d.children[f.path[0]+1]],t)[0];y&&(m.push(bu([y],"after",[{_key:v._key}])),g.children.slice(f.position).forEach(b=>{const w=[{_key:g._key},"children",{_key:b._key}];m.push(Ks(w))}))}return m}if(f.path.length===2){const g=v.children[f.path[1]];if(d.isTextSpan(g)){const y=yr([{...v,children:v.children.slice(f.path[1]+1,f.path[1]+2)}],t)[0].children;m.push(bu(y,"after",[{_key:v._key},"children",{_key:g._key}])),m.push(bl(g.text,[{_key:v._key},"children",{_key:g._key},"text"]))}return m}return m}function a(d,f,p){const m=p[f.path[0]];if(f.path.length===1){if(m&&m._key)return[Ks([{_key:m._key}])];throw new Error("Block not found")}else if(d.isTextBlock(m)&&f.path.length===2){const v=d.isTextBlock(m)&&m.children&&m.children[f.path[1]];return v?[Ks([{_key:m._key},"children",{_key:v._key}])]:(sp("Span not found in editor trying to remove node"),[])}else return sp("Not creating patch inside object block"),[]}function c(d,f,p){const m=[],v=p[f.path[0]],g=d.children[f.path[0]];if(f.path.length===1)if(v!=null&&v._key){const y=yr([d.children[f.path[0]-1]],t)[0];m.push(bl(y,[{_key:y._key}])),m.push(Ks([{_key:v._key}]))}else throw new Error("Target key not found!");else if(f.path.length===2&&d.isTextBlock(g)){const y=d.isTextBlock(v)&&v.children[f.path[1]]||void 0,x=g.children[f.path[1]-1];d.isTextSpan(x)&&(m.push(bl(x.text,[{_key:v._key},"children",{_key:x._key},"text"])),y&&m.push(Ks([{_key:v._key},"children",{_key:y._key}])))}else sp("Void nodes can't be merged, not creating any patches");return m}function u(d,f,p){const m=[],v=p[f.path[0]],g=p[f.newPath[0]];if(f.path.length===1){const y=f.path[0]>f.newPath[0]?"before":"after";m.push(Ks([{_key:v._key}])),m.push(bu([yr([v],t)[0]],y,[{_key:g._key}]))}else if(f.path.length===2&&d.isTextBlock(v)&&d.isTextBlock(g)){const y=v.children[f.path[1]],x=g.children[f.newPath[1]],b=f.newPath[1]===g.children.length?"after":"before",w=yr([v],t)[0].children[f.path[1]];m.push(Ks([{_key:v._key},"children",{_key:y._key}])),m.push(bu([w],b,[{_key:g._key},"children",{_key:x._key}]))}return m}return{insertNodePatch:i,insertTextPatch:n,mergeNodePatch:c,moveNodePatch:u,removeNodePatch:a,removeTextPatch:r,setNodePatch:o,splitNodePatch:s}}function SJ(e,t,n){const r=[e.path[0]];if(!t)return null;const o=t[r[0]];if(!o)return null;const i=[{_key:o._key}];if(o._type!==n.block.name)return i;let s;const a=e.path.slice(0,2),c=Array.isArray(o.children)&&o.children[a[1]];return c&&(s=["children",{_key:c._key}]),s?[...i,...s]:i}function EJ(e,t){if(!t)return[];const[n,r]=Array.from(F.nodes(t,{at:[],match:s=>Pr(e.path[0])&&s._key===e.path[0]._key}))[0]||[void 0,void 0];if(!n||!Re.isElement(n))return[];if(t.isVoid(n))return[r[0],0];const o=[e.path[2]],i=n.children.findIndex(s=>Ht([{_key:s._key}],o));if(i>=0&&n.children[i]){const s=n.children[i];return Re.isElement(s)&&t.isVoid(s)?r.concat(i).concat(0):r.concat(i)}return r}function xp(e,t,n){if(!t)return null;let r=null,o=null;const i=t.anchor&&SJ(t.anchor,e,n);i&&t.anchor&&(r={path:i,offset:t.anchor.offset});const s=t.focus&&SJ(t.focus,e,n);return s&&t.focus&&(o={path:s,offset:t.focus.offset}),r&&o?{anchor:r,focus:o}:null}function $S(e,t){if(!e||!t)return null;const n={path:EJ(e.anchor,t),offset:e.anchor.offset},r={path:EJ(e.focus,t),offset:e.focus.offset};return n&&r?{anchor:n,focus:r}:null}function t4(e){if(e){const t=e&&window.getSelection();t==null||t.removeAllRanges()}}const ay=Wr("API:editable");function C9t(e,t,n){return function(o){return e.setEditable({focus:()=>{me.focus(o)},blur:()=>{me.blur(o)},toggleMark:i=>{o.pteToggleMark(i)},toggleList:i=>{o.pteToggleListItem(i)},toggleBlockStyle:i=>{o.pteToggleBlockStyle(i)},isMarkActive:i=>{try{return o.pteIsMarkActive(i)}catch(s){return console.warn(s),!1}},marks:()=>({...F.marks(o)||{}}).marks||[],undo:()=>o.undo(),redo:()=>o.redo(),select:i=>{const s=$S(i,o);s?ae.select(o,s):ae.deselect(o),o.onChange()},focusBlock:()=>{if(o.selection){const i=Ee.descendant(o,o.selection.focus.path.slice(0,1));if(i)return yr([i],t.block.name,Ea.get(o))[0]}},focusChild:()=>{if(o.selection){const i=Ee.descendant(o,o.selection.focus.path.slice(0,1));if(i&&o.isTextBlock(i))return yr([i],t.block.name,Ea.get(o))[0].children[o.selection.focus.path[1]]}},insertChild:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const[c]=Array.from(F.nodes(o,{at:o.selection.focus.path.slice(0,1),match:v=>v._type===t.block.name}))[0]||[void 0];if(!c)throw new Error("No focused text block");if(i.name!==t.span.name&&!t.inlineObjects.some(v=>v.name===i.name))throw new Error("This type cannot be inserted as a child to a text block");const d=Rc([{_key:n(),_type:t.block.name,children:[{_key:n(),_type:i.name,...s||{}}]}],e)[0].children[0],f=o.selection.focus.path.slice(0,2),p=d._type===t.span.name,m=Ee.get(o,f);return p&&m._type!==t.span.name&&(ay("Inserting span child next to inline object child, moving selection + 1"),o.move({distance:1,unit:"character"})),ae.insertNodes(o,d,{select:!0,at:o.selection}),o.onChange(),((a=xp(yr(o.children,t.block.name,Ea.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},insertBlock:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const c=Rc([{_key:n(),_type:i.name,...s||{}}],e)[0];return F.insertNode(o,c),o.onChange(),((a=xp(yr(o.children,t.block.name,Ea.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},hasBlockStyle:i=>{try{return o.pteHasBlockStyle(i)}catch{return!1}},hasListStyle:i=>{try{return o.pteHasListStyle(i)}catch{return!1}},isVoid:i=>![t.block.name,t.span.name].includes(i._type),findByPath:i=>{const s=$S({focus:{path:i,offset:0},anchor:{path:i,offset:0}},o);if(s){const[a,c]=F.node(o,s.focus.path.slice(0,1));if(a&&c&&typeof a._key=="string"){if(i.length===1&&s.focus.path.length===1)return[yr([a],t.block.name)[0],[{_key:a._key}]];const u=yr([a],t.block.name,Ea.get(o))[0];if(o.isTextBlock(u)){const d=u.children[s.focus.path[1]];if(d)return[d,[{_key:a._key},"children",{_key:d._key}]]}}}return[void 0,void 0]},findDOMNode:i=>{let s;try{const[a]=Array.from(F.nodes(o,{at:[],match:c=>c._key===i._key})||[])[0]||[void 0];s=me.toDOMNode(o,a)}catch{}return s},activeAnnotations:()=>{var i;if(!o.selection||o.selection.focus.path.length<2)return[];try{const s=[],a=F.nodes(o,{at:o.selection,match:c=>_e.isText(c)&&c.marks!==void 0&&Array.isArray(c.marks)&&c.marks.length>0});for(const[c,u]of a){const[d]=F.node(o,u,{depth:1});o.isTextBlock(d)&&((i=d.markDefs)==null||i.forEach(f=>{_e.isText(c)&&c.marks&&Array.isArray(c.marks)&&c.marks.includes(f._key)&&s.push(f)}))}return s}catch{return[]}},addAnnotation:(i,s)=>{const{selection:a}=o;if(a){const[c]=F.node(o,a.focus,{depth:1});if(Re.isElement(c)&&c._type===t.block.name){const u=n();if(o.isTextBlock(c)){ae.setNodes(o,{markDefs:[...c.markDefs||[],{_type:i.name,_key:u,...s}]},{at:a.focus}),o.onChange(),de.isCollapsed(a)&&(o.pteExpandToWord(),o.onChange());const[d]=F.node(o,a.focus,{depth:2});if(o.selection){F.withoutNormalizing(o,()=>{ae.setNodes(o,{},{match:_e.isText,split:!0}),o.selection&&_e.isText(d)&&(ae.setNodes(o,{marks:[...d.marks||[],u]},{at:o.selection,match:p=>p._type===t.span.name}),o.onChange())}),F.normalize(o),o.onChange();const f=xp(yr(o.children,t.block.name,Ea.get(o)),o.selection,t);if(f&&typeof c._key=="string")return F.withoutNormalizing(o,()=>{o.selection&&(ae.insertNodes(o,[{_type:"span",text:"",marks:[],_key:n()}],{at:de.end(o.selection)}),o.onChange())}),{spanPath:f.focus.path,markDefPath:[{_key:c._key},"markDefs",{_key:u}]}}}}}},delete:(i,s)=>{if(i){const a=$S(i,o);if(!(a&&a.anchor.path.length>0&&a.focus.path.length>0))throw new Error("Invalid range");if(a){if(!(s!=null&&s.mode)||(s==null?void 0:s.mode)==="selected"){ay("Deleting content in selection"),ae.delete(o,{at:a,hanging:!0,voids:!0}),o.onChange();return}(s==null?void 0:s.mode)==="blocks"&&(ay("Deleting blocks touched by selection"),ae.removeNodes(o,{at:a,voids:!0,match:u=>o.isTextBlock(u)||!o.isTextBlock(u)&&Re.isElement(u)})),(s==null?void 0:s.mode)==="children"&&(ay("Deleting children touched by selection"),ae.removeNodes(o,{at:a,voids:!0,match:u=>u._type===t.span.name||!o.isTextBlock(u)&&Re.isElement(u)})),o.children.length===0&&(o.children=[o.createPlaceholderBlock()]),o.onChange()}}},removeAnnotation:i=>{let{selection:s}=o;if(ay("Removing annotation",i),s){if(de.isCollapsed(s)){const[a,c]=F.node(o,s,{depth:2});_e.isText(a)&&a.marks&&typeof a.text=="string"&&(ae.select(o,c),s=o.selection)}F.withoutNormalizing(o,()=>{if(s&&de.isExpanded(s)){if(s=o.selection,!s)return;ae.setNodes(o,{},{match:_e.isText,split:!0}),o.onChange(),[...F.nodes(o,{at:s,match:c=>_e.isText(c)&&c.marks!==void 0&&Array.isArray(c.marks)&&c.marks.length>0})].forEach(c=>{let[u,d]=c;var f;const[p]=F.node(o,d,{depth:1});o.isTextBlock(p)&&((f=p.markDefs)==null||f.filter(m=>m._type===i.name).forEach(m=>{if(_e.isText(u)&&Array.isArray(u.marks)&&u.marks.includes(m._key)){const v=[...(u.marks||[]).filter(g=>g!==m._key)];ae.setNodes(o,{marks:v},{at:d,voids:!1,split:!1})}}))})}}),F.normalize(o),o.onChange()}},getSelection:()=>{let i=null;if(o.selection){const s=d5.get(o.selection);if(s)return s;i=xp(yr(o.children,t.block.name,Ea.get(o)),o.selection,t),d5.set(o.selection,i)}return i},getValue:()=>yr(o.children,t.block.name,Ea.get(o)),isCollapsedSelection:()=>!!o.selection&&de.isCollapsed(o.selection),isExpandedSelection:()=>!!o.selection&&de.isExpanded(o.selection),insertBreak:()=>{o.insertBreak(),o.onChange()}}),o}}function _9t(e){return function(n){const{apply:r}=n;return n.apply=o=>{const i=e;i>0&&n.children.length>=i&&(o.type==="insert_node"||o.type==="split_node")&&o.path.length===1||r(o)},n}}const p5=new WeakMap;function $x(e,t){const n=YTe(e);p5.set(e,!0),t(),p5.set(e,n)}function YTe(e){return p5.get(e)}function S9t(e,t){return function(r){p5.set(r,!1);const{apply:o,normalizeNode:i}=r;return r.apply=s=>{if(s.type==="split_node"&&(s.properties={...s.properties,_key:t()}),s.type==="insert_node"){const a=!YTe(r)||!("_key"in s.node);F.isEditor(s.node)||(s.node={...s.node,...a?{_key:t()}:{}})}o(s)},r.normalizeNode=s=>{const[a,c]=s;if(Re.isElement(a)&&a._type===e.block.name){a._key||ae.setNodes(r,{_key:t()},{at:c});for(const[u,d]of Ee.children(r,c))if(!u._key){ae.setNodes(r,{_key:t()},{at:d});return}}i(s)},r}}const m5=new WeakMap;function n4(e,t){const n=qTe(e);m5.set(e,!1),t(),m5.set(e,n)}function qTe(e){return m5.get(e)}const kJ="before",jJ="after";function E9t(e,t,n){if(t!==kJ&&t!==jJ)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(kJ," or ").concat(jJ));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=TJ(...o);if(e.length===0)return s;const a=e.length,c=Math.abs((a+n)%a)%a,u=t==="after"?c+1:c,d=e.slice();return d.splice(u,0,...TJ(s)),d}function TJ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const AJ=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function k9t(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function j9t(e,t){if(typeof t=="number")return t;const n=J7(e,t);return n===-1?!1:n}function T9t(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!AJ(t.value,"from")||!AJ(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return k9t(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=j9t(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return E9t(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=aB(n[i],{...t,path:o}),n}function A9t(e,t){const n=STe(e);if(t.path.length===0){if(t.type==="set"){if(!gw(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?Mi(n,r):(n[r]=aB(n[r],{...t,path:o}),n)}const GTe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},D9t=Object.keys(GTe);function I9t(e,t){if(!D9t.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return GTe[t.type](e,t.value)}const KTe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=HTe(sB(t),e,{allowExceedingIndices:!0});return n}},O9t=Object.keys(KTe);function P9t(e,t){if(!O9t.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));const n=KTe[t.type];if(n)return n(e,t.value);throw new Error("Unknown patch type")}function R9t(e,t){return t.reduce(aB,e)}function $9t(e,t){return Array.isArray(e)?T9t(e,t):WT(e)?P9t(e,t):gw(e)?A9t(e,t):I9t(e,t)}function aB(e,t){return $9t(e,t)}const xr=Wr("applyPatches"),lB=xr.enabled&&!0;function M9t(e){let t;return function(n,r){let o=!1;lB&&(xr(`

NEW PATCH =============================================================`),xr(JSON.stringify(r,null,2)));try{switch(r.type){case"insert":o=L9t(n,r,e);break;case"unset":o=N9t(n,r,t);break;case"set":o=B9t(n,r);break;case"diffMatchPatch":o=F9t(n,r);break;default:xr("Unhandled patch",r.type)}}catch(i){console.error(i)}return t=r,o}}function F9t(e,t){const{block:n,child:r,childPath:o}=jA(e,t.path);if(!n)return xr("Block not found"),!1;if(!r||!o)return xr("Child not found"),!1;if(!(n&&e.isTextBlock(n)&&t.path.length===4&&t.path[1]==="children"&&t.path[3]==="text")||!_e.isText(r))return!1;const s=sB(t.value),[a]=HTe(s,r.text,{allowExceedingIndices:!0}),c=NTe(rB(r.text,a),5);Cs(e,"before");let u=0;for(const[d,f]of c)d===Kn?(e.apply({type:"insert_text",path:o,offset:u,text:f}),u+=f.length):d===jn?e.apply({type:"remove_text",path:o,offset:u,text:f}):d===Ct&&(u+=f.length);return Cs(e,"after"),!0}function L9t(e,t,n){const{block:r,child:o,blockPath:i,childPath:s}=jA(e,t.path);if(!r||!i)return xr("Block not found"),!1;if(t.path.length>1&&t.path[1]!=="children")return xr("Ignoring patch targeting void value"),!1;if(t.path.length===1){const{items:m,position:v}=t,g=Rc(m,{schemaTypes:n},JM.get(e)),y=i[0],x=v==="after"?y+1:y;return xr("Inserting blocks at path [".concat(x,"]")),Cs(e,"before"),ae.insertNodes(e,g,{at:[x]}),Cs(e,"after"),!0}const{items:a,position:c}=t;if(!o||!s)return xr("Child not found"),!1;const u=r&&Rc([{...r,children:a}],{schemaTypes:n},JM.get(e)),d=s[1],f=c==="after"?d+1:d,p=[s[0],f];return xr("Inserting children at path ".concat(p)),Cs(e,"before"),u&&Re.isElement(u[0])&&ae.insertNodes(e,u[0].children,{at:p}),Cs(e,"after"),!0}function B9t(e,t){let n=t.value;typeof t.path[3]=="string"&&(n={},n[t.path[3]]=t.value);const{block:r,blockPath:o,child:i,childPath:s}=jA(e,t.path);if(!r)return xr("Block not found"),!1;const a=e.isTextBlock(r);if(a&&t.path.length>1&&t.path[1]!=="children")return xr("Ignoring setting void value"),!1;if(Cs(e,"before"),a&&i&&s){if(_e.isText(n)&&_e.isText(i)){const c=i.text;n.text!==c&&(xr("Setting text property"),e.apply({type:"remove_text",path:s,offset:0,text:c}),e.apply({type:"insert_text",path:s,offset:0,text:n.text}),e.onChange())}else xr("Setting non-text property"),e.apply({type:"set_node",path:s,properties:{},newProperties:n});return!0}else if(Re.isElement(r)&&t.path.length===1&&o){xr("Setting block property");const{children:c,...u}=n,{children:d,...f}=r||{children:void 0};e.apply({type:"set_node",path:o,properties:{...f},newProperties:u}),r.children.forEach((p,m)=>{e.apply({type:"remove_node",path:o.concat(m),node:p})}),Array.isArray(c)&&c.forEach((p,m)=>{e.apply({type:"insert_node",path:o.concat(m),node:p})})}else if(r&&"value"in r){const c=R9t([r.value],[t])[0];return ae.setNodes(e,{...r,value:c},{at:o}),!0}return Cs(e,"after"),!0}function N9t(e,t,n){if(t.path.length===0){xr("Removing everything"),Cs(e,"before");const a=e.selection;return ae.deselect(e),e.children.forEach((c,u)=>{ae.removeNodes(e,{at:[u]})}),ae.insertNodes(e,e.createPlaceholderBlock()),a&&ae.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),Cs(e,"after"),!0}const{block:r,blockPath:o,child:i,childPath:s}=jA(e,t.path);if(t.path.length===1){if(!r||!o)return xr("Block not found"),!1;const a=o[0];return xr("Removing block at path [".concat(a,"]")),Cs(e,"before"),ae.removeNodes(e,{at:[a]}),Cs(e,"after"),!0}if(e.isTextBlock(r)&&t.path[1]==="children"&&t.path.length===3){if(!i||!s)return xr("Child not found"),!1;const a=s[1];return xr("Unsetting child at path ".concat(JSON.stringify(s))),Cs(e,"before"),lB&&xr("Removing child at path ".concat(JSON.stringify([s,a]))),ae.removeNodes(e,{at:s}),Cs(e,"after"),!0}return!1}function ZTe(e){return typeof e=="object"&&"_key"in e}function Cs(e,t){lB&&(xr("Children ".concat(t,":"),JSON.stringify(e.children,null,2)),xr("Selection ".concat(t,": "),JSON.stringify(e.selection,null,2)))}function z9t(e,t){let n=-1;const r=e.children.find((o,i)=>{const s=ZTe(t[0])?o._key===t[0]._key:i===t[0];return s&&(n=i),s});return r?{block:r,path:[n]}:{}}function jA(e,t){const{block:n,path:r}=z9t(e,t);if(!(Re.isElement(n)&&t[1]==="children"))return{block:n,blockPath:r,child:void 0,childPath:void 0};let o=-1;const i=n.children.find((s,a)=>{const c=ZTe(t[2])?s._key===t[2]._key:a===t[2];return c&&(o=a),c});return i?{block:n,child:i,blockPath:r,childPath:r==null?void 0:r.concat(o)}:{block:n,blockPath:r,child:void 0,childPath:void 0}}function XTe(e,t){const n=QTe(e)||!1;u5.set(e,!0),t(),u5.set(e,n)}function QTe(e){return u5.get(e)}function V9t(e){return RS.get(e)}const Xo=Wr("plugin:withUndoRedo"),DJ=Xo.enabled&&!1,Ov=new WeakMap,xP=new WeakMap,H9t=1e3,JTe=e=>{const t=Ov.get(e);return t===void 0?!0:t},U9t=e=>(xP.get(e)||xP.set(e,[]),xP.get(e)||[]);function W9t(e){const{readOnly:t,patches$:n,blockSchemaType:r}=e;return o=>{let i=yr(o.children,r.name);const s=U9t(o);n&&o.subscriptions.push(()=>{Xo("Subscribing to patches");const c=n.subscribe(u=>{let{patches:d,snapshot:f}=u,p=!1;d.forEach(m=>{if(!p&&m.origin!=="local"&&s){if(m.type==="unset"&&m.path.length===0){Xo("Someone else cleared the content, resetting undo/redo history"),o.history={undos:[],redos:[]},s.splice(0,s.length),Ov.set(o,!0),p=!0;return}s.push({patch:m,time:new Date,snapshot:f,previousSnapshot:i})}}),i=f});return()=>{Xo("Unsubscribing to patches"),c.unsubscribe()}}),o.history={undos:[],redos:[]};const{apply:a}=o;return o.apply=c=>{if(t){a(c);return}const{operations:u,history:d}=o,{undos:f}=d,p=f[f.length-1],m=p&&p.operations&&p.operations[p.operations.length-1],v=q9t(c,m),g=JTe(o);let y=!0;if(g){if(p?u.length===0&&(y=Y9t(c,m)||v):y=!1,p&&y)p.operations.push(c);else{const x={operations:[...o.selection===null?[]:[K9t(o)],c],timestamp:new Date};f.push(x),Xo("Created new undo step",p)}for(;f.length>H9t;)f.shift();G9t(c)&&(d.redos=[])}a(c)},o.undo=()=>{if(t)return;const{undos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(Xo("Undoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=Tn(f.map(m=>IJ(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),t4(!!o.selection);try{F.withoutNormalizing(o,()=>{Mx(o,()=>{f.map(iv.inverse).reverse().forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Xo("Could not perform undo step",p),s.splice(0,s.length),ae.deselect(o),o.history={undos:[],redos:[]},Ov.set(o,!0),o.onChange();return}o.history.redos.push(u),o.history.undos.pop()}}},o.redo=()=>{if(t)return;const{redos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(Xo("Redoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=Tn(f.map(m=>IJ(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),t4(!!o.selection);try{F.withoutNormalizing(o,()=>{Mx(o,()=>{f.forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Xo("Could not perform redo step",p),s.splice(0,s.length),ae.deselect(o),o.history={undos:[],redos:[]},Ov.set(o,!0),o.onChange();return}o.history.undos.push(u),o.history.redos.pop()}}},o}}function IJ(e,t,n,r,o){DJ&&(Xo("Adjusting '".concat(n.type,"' operation paths for '").concat(t.type,"' patch")),Xo("Operation ".concat(JSON.stringify(n))),Xo("Patch ".concat(JSON.stringify(t))));const i={...n};if(t.type==="insert"&&t.path.length===1){const s=(r||[]).findIndex(a=>Ht({_key:a._key},t.path[0]));return Xo("Adjusting block path (+".concat(t.items.length,") for '").concat(i.type,"' operation and patch '").concat(t.type,"'")),[OJ(i,t.items.length,s)]}if(t.type==="unset"&&t.path.length===1){const s=(o||[]).findIndex(a=>Ht({_key:a._key},t.path[0]));return"path"in i&&Array.isArray(i.path)&&i.path[0]===s?(Xo("Skipping transformation that targeted removed block"),[]):(DJ&&(Xo("Selection ".concat(JSON.stringify(e.selection))),Xo("Adjusting block path (-1) for '".concat(i.type,"' operation and patch '").concat(t.type,"'"))),[OJ(i,-1,s)])}if(t.type==="unset"&&t.path.length===0)return Xo("Adjusting selection for unset everything patch and ".concat(n.type," operation")),[];if(t.type==="diffMatchPatch"){const s=Z9t(e,i);return!s||!Ht({_key:s._key},t.path[0])?[i]:(sB(t.value).forEach(c=>{var u,d,f,p;let m=0,v=c.utf8Start1;const{diffs:g}=c;if(g.forEach((y,x)=>{const[b,w]=y;b===Kn?(m+=w.length,v+=w.length):b===jn?(m-=w.length,v-=w.length):b===Ct&&(g.slice(x).every(C=>{let[_]=C;return _===Ct})||(v+=w.length))}),i.type==="insert_text"&&v<i.offset&&(i.offset+=m),i.type==="remove_text"&&v<=i.offset-i.text.length&&(i.offset+=m),i.type==="set_selection"){const y=(u=i.properties)!=null&&u.focus?{...i.properties.focus}:void 0,x=(d=i==null?void 0:i.properties)!=null&&d.anchor?{...i.properties.anchor}:void 0,b=(f=i==null?void 0:i.newProperties)!=null&&f.focus?{...i.newProperties.focus}:void 0,w=(p=i==null?void 0:i.newProperties)!=null&&p.anchor?{...i.newProperties.anchor}:void 0;(y&&x||b&&w)&&([y,x,b,w].forEach(_=>{_&&v<_.offset&&(_.offset+=m)}),y&&x&&(i.properties={focus:y,anchor:x}),b&&w&&(i.newProperties={focus:b,anchor:w}))}}),[i])}return[i]}function OJ(e,t,n){var r,o,i,s;const a={...e};if(n>=0&&a.type!=="set_selection"&&Array.isArray(a.path)&&a.path[0]>=n+t&&a.path[0]+t>-1){const c=[a.path[0]+t,...a.path.slice(1)];a.path=c}if(a.type==="set_selection"){const c=(r=a.properties)!=null&&r.focus?{...a.properties.focus}:void 0,u=(o=a==null?void 0:a.properties)!=null&&o.anchor?{...a.properties.anchor}:void 0,d=(i=a==null?void 0:a.newProperties)!=null&&i.focus?{...a.newProperties.focus}:void 0,f=(s=a==null?void 0:a.newProperties)!=null&&s.anchor?{...a.newProperties.anchor}:void 0;(c&&u||d&&f)&&([c,u,d,f].forEach(m=>{m&&m.path[0]>=n+t&&m.path[0]+t>-1&&(m.path=[m.path[0]+t,...m.path.slice(1)])}),c&&u&&(a.properties={focus:c,anchor:u}),d&&f&&(a.newProperties={focus:d,anchor:f}))}return a}const Y9t=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&te.equals(e.path,t.path)&&e.text!==" "||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&te.equals(e.path,t.path)),q9t=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),G9t=e=>e.type!=="set_selection";function Mx(e,t){const n=JTe(e);Ov.set(e,!1),t(),Ov.set(e,n)}function K9t(e){return{type:"set_selection",properties:{...e.selection},newProperties:{...e.selection}}}function Z9t(e,t){let n;return t.type==="set_selection"&&e.selection?n=e.children[e.selection.focus.path[0]]:"path"in t&&(n=e.children[t.path[0]]),n}const K_=Wr("plugin:withPatches");function X9t(e){let{change$:t,patches$:n,patchFunctions:r,readOnly:o,schemaTypes:i}=e,s;const a=M9t(i);return function(u){u5.set(u,!1),m5.set(u,!0),s=[...u.children];const{apply:d}=u;let f=[];const p=()=>{if(f.length===0)return;const v=f;f=[];let g=!1;XTe(u,()=>{F.withoutNormalizing(u,()=>{n4(u,()=>{Mx(u,()=>{$x(u,()=>{v.forEach(y=>{(y.type==="insert"||y.type==="unset")&&t4(!!u.selection),K_.enabled&&K_("Handling remote patch ".concat(JSON.stringify(y))),g=a(u,y)})})})})}),g&&(u.normalize(),u.onChange())})},m=v=>{let{patches:g}=v;const y=g.filter(x=>x.origin!=="local");y.length!==0&&(f=f.concat(y),p())};return n&&u.subscriptions.push(()=>{K_("Subscribing to patches$");const v=n.subscribe(m);return()=>{K_("Unsubscribing to patches$"),v.unsubscribe()}}),u.apply=v=>{if(o)return d(v),u;let g=[];s=u.children;const y=h5(s,i);d(v);const x=h5(u.children,i);if(!qTe(u))return u;switch(y&&!x&&v.type!=="set_selection"&&g.push(bu(s,"before",[0])),v.type){case"insert_text":g=[...g,...r.insertTextPatch(u,v,s)];break;case"remove_text":g=[...g,...r.removeTextPatch(u,v,s)];break;case"remove_node":g=[...g,...r.removeNodePatch(u,v,s)];break;case"split_node":g=[...g,...r.splitNodePatch(u,v,s)];break;case"insert_node":g=[...g,...r.insertNodePatch(u,v,s)];break;case"set_node":g=[...g,...r.setNodePatch(u,v,s)];break;case"merge_node":g=[...g,...r.mergeNodePatch(u,v,s)];break;case"move_node":g=[...g,...r.moveNodePatch(u,v,s)];break}return!y&&x&&["merge_node","set_node","remove_text","remove_node"].includes(v.type)&&(g=[...g,Ks([])],t.next({type:"unset",previousValue:yr(s,i.block.name,Ea.get(u))})),y&&g.length>0&&(g=[UTe([],[]),...g]),g.length>0&&g.forEach(b=>{t.next({type:"patch",patch:{...b,origin:"local"}})}),u},u}}const Q9t=Wr("plugin:withPlaceholderBlock");function J9t(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){return o.createPlaceholderBlock=()=>(Q9t("Creating placeholder block"),{_type:t.block.name,_key:n(),style:t.styles[0].value||"normal",markDefs:[],children:[{_type:"span",_key:n(),text:"",marks:[]}]}),o}}const Z_=Wr("plugin:withPortableTextBlockStyle");function e7t(e){const t=e.styles[0].value;return function(r){const{normalizeNode:o}=r;return r.normalizeNode=i=>{o(i);const[,s]=i;for(const a of r.operations)if(a.type==="split_node"&&a.path.length===1&&r.isTextBlock(a.properties)&&a.properties.style!==t&&a.path[0]===s[0]&&!te.equals(s,a.path)){const[c]=F.node(r,[a.path[0]+1,0]);if(_e.isText(c)&&c.text===""){Z_("Normalizing split node to ".concat(t," style"),a),ae.setNodes(r,{style:t},{at:[a.path[0]+1],voids:!1});break}}},r.pteHasBlockStyle=i=>r.selection?[...F.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)&&a.style===i})].length>0:!1,r.pteToggleBlockStyle=i=>{if(!r.selection)return;[...F.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)})].forEach(a=>{let[c,u]=a;r.isTextBlock(c)&&c.style===i?(Z_("Unsetting block style '".concat(i,"'")),ae.setNodes(r,{...c,style:t},{at:u})):(i?Z_("Setting style '".concat(i,"'")):Z_("Setting default style",t),ae.setNodes(r,{...c,style:i||t},{at:u}))}),r.onChange()},r}}const Fh=Wr("plugin:withPortableTextLists"),wP=10;function t7t(e){return function(n){return n.pteToggleListItem=r=>{n.pteHasListStyle(r)?(Fh("Remove list item '".concat(r,"'")),n.pteUnsetListItem(r)):(Fh("Add list item '".concat(r,"'")),n.pteSetListItem(r))},n.pteUnsetListItem=r=>{if(!n.selection)return;[...F.nodes(n,{at:n.selection,match:i=>Re.isElement(i)&&i._type===e.block.name})].forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){const{listItem:c,level:u,...d}=s,f={...d,listItem:void 0,level:void 0};Fh("Unsetting list '".concat(r,"'")),ae.setNodes(n,f,{at:a})}})},n.pteSetListItem=r=>{if(!n.selection)return;[...F.nodes(n,{at:n.selection,match:i=>n.isTextBlock(i)})].forEach(i=>{let[s,a]=i;Fh("Setting list '".concat(r,"'")),ae.setNodes(n,{...s,level:1,listItem:r||e.lists[0]&&e.lists[0].value},{at:a})})},n.pteEndList=()=>{if(!n.selection)return!1;const r=[...F.nodes(n,{at:n.selection,match:o=>Re.isElement(o)&&n.isListBlock(o)&&o.children.length===1&&_e.isText(o.children[0])&&o.children[0].text===""})];return r.length===0?!1:(r.forEach(o=>{let[i,s]=o;Re.isElement(i)&&(Fh("Unset list"),ae.setNodes(n,{...i,level:void 0,listItem:void 0},{at:s}))}),!0)},n.pteIncrementBlockLevels=r=>{if(!n.selection)return!1;const o=[...F.nodes(n,{at:n.selection,match:i=>!!n.isListBlock(i)})];return o.length===0?!1:(o.forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){let c=s.level||1;r?(c--,Fh("Decrementing list level",Math.min(wP,Math.max(1,c)))):(c++,Fh("Incrementing list level",Math.min(wP,Math.max(1,c)))),ae.setNodes(n,{level:Math.min(wP,Math.max(1,c))},{at:a})}}),!0)},n.pteHasListStyle=r=>n.selection?[...F.nodes(n,{at:n.selection,match:i=>n.isListBlock(i)&&i.listItem===r})].length>0:!1,n}}const Rd=Wr("plugin:withPortableTextMarkModel");function n7t(e,t){return function(i){const{apply:s,normalizeNode:a}=i,c=e.decorators.map(d=>d.value),u=()=>{i.selection&&(ae.select(i,{...i.selection}),i.selection={...i.selection});const d=xp(i.children,i.selection,e);t.next({type:"selection",selection:d})};return i.normalizeNode=d=>{a(d),i.operations.some(g=>["insert_node","insert_text","merge_node","remove_node","remove_text","set_node"].includes(g.type))&&n(i);const[f,p]=d,m=_e.isText(f)&&f._type===e.span.name,v=i.isTextBlock(f);if(m||v){m&&!Array.isArray(f.marks)&&(Rd("Adding .marks to span node"),ae.setNodes(i,{marks:[]},{at:p}),i.onChange());for(const g of i.operations){if(g.type==="merge_node"&&g.path.length===1&&"markDefs"in g.properties&&g.properties._type===e.block.name&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]-1>=0){const[y,x]=F.node(i,[g.path[0]-1]);if(Rd("Copying markDefs over to merged block",g),i.isTextBlock(y)){const b=Array.isArray(y.markDefs)&&y.markDefs||[],w=ho([...b,...g.properties.markDefs]);Ht(w,y.markDefs)||(ae.setNodes(i,{markDefs:w},{at:x,voids:!1}),i.onChange())}}if(g.type==="split_node"&&g.path.length===1&&Re.isElementProps(g.properties)&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]+1<i.children.length){const[y,x]=F.node(i,[g.path[0]+1]);if(Rd("Copying markDefs over to split block",g),i.isTextBlock(y)){const b=Array.isArray(y.markDefs)&&y.markDefs||[];ae.setNodes(i,{markDefs:ho([...b,...g.properties.markDefs])},{at:x,voids:!1}),i.onChange()}}if(g.type==="split_node"&&g.path.length===2&&g.properties._type===e.span.name&&"marks"in g.properties&&Array.isArray(g.properties.marks)&&g.properties.marks.length>0&&g.path[0]+1<i.children.length){const[y,x]=F.node(i,[g.path[0]+1,0]);_e.isText(y)&&y.text===""&&Array.isArray(y.marks)&&y.marks.length>0&&(ae.setNodes(i,{marks:[]},{at:x,voids:!1}),i.onChange())}if(g.type==="split_node"&&g.path.length===1&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0){const[y,x]=F.node(i,[g.path[0]]);i.isTextBlock(y)&&y.children.length===1&&y.markDefs&&y.markDefs.length>0&&_e.isText(y.children[0])&&y.children[0].text===""&&(!y.children[0].marks||y.children[0].marks.length===0)&&(ae.setNodes(i,{markDefs:[]},{at:x}),i.onChange())}}m&&Array.isArray(f.marks)&&(!f.marks||f.marks.length>0&&f.text==="")&&(ae.setNodes(i,{marks:[]},{at:p,voids:!1}),i.onChange())}v&&i.operations.some(g=>["split_node","remove_node","remove_text","merge_node"].includes(g.type))&&r(i)},i.apply=d=>{var f,p;if(d.type==="insert_text"){const{selection:m}=i;if(m&&de.isCollapsed(m)&&((p=(f=F.marks(i))==null?void 0:f.marks)!=null&&p.some(v=>!c.includes(v)))){const[v]=Array.from(F.nodes(i,{mode:"lowest",at:m.focus,match:g=>g._type===e.span.name,voids:!1}))[0]||[void 0];if(_e.isText(v)&&v.text.length===m.focus.offset&&Array.isArray(v.marks)&&v.marks.length>0){s(d),ae.splitNodes(i,{match:_e.isText,at:{...m.focus,offset:m.focus.offset}});const g=({...F.marks(i)||{}}.marks||[]).filter(y=>c.includes(y));ae.setNodes(i,{marks:g},{at:te.next(m.focus.path)}),Rd("Inserting text at end of annotation");return}}}s(d)},i.addMark=d=>{if(i.selection){if(de.isExpanded(i.selection)){ae.setNodes(i,{},{match:_e.isText,split:!0});const f=[...F.nodes(i,{at:i.selection,match:_e.isText})];if(Tn(f.map(m=>m[0]).map(m=>m.marks)).includes(d))return i.removeMark(d),i;F.withoutNormalizing(i,()=>{f.forEach(m=>{let[v,g]=m;const y=[...(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),d];ae.setNodes(i,{marks:y},{at:g,match:_e.isText,split:!0,hanging:!0})})}),F.normalize(i)}else{const f={...F.marks(i)||{}}.marks||[],p={...F.marks(i)||{},marks:[...f,d]};return i.marks=p,u(),i}i.onChange(),u()}return i},i.removeMark=d=>{const{selection:f}=i;if(f){if(de.isExpanded(f))F.withoutNormalizing(i,()=>{ae.setNodes(i,{},{match:_e.isText,split:!0}),i.selection&&[...F.nodes(i,{at:i.selection,match:_e.isText})].forEach(m=>{let[v,g]=m;const y=i.children[g[0]];Re.isElement(y)&&y.children.includes(v)&&ae.setNodes(i,{marks:(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),_type:"span"},{at:g})})}),F.normalize(i);else{const p={...F.marks(i)||{}}.marks||[],m={...F.marks(i)||{},marks:p.filter(v=>v!==d)};return i.marks={marks:m.marks,_type:"span"},u(),i}i.onChange(),u()}return i},i.pteIsMarkActive=d=>{if(!i.selection)return!1;let f={...F.marks(i)||{}}.marks||[];return de.isExpanded(i.selection)&&Array.from(F.nodes(i,{match:_e.isText,at:i.selection})).forEach(p=>{const[m]=p;f=ho([...f,...m.marks||[]])}),f.includes(d)},i.pteToggleMark=d=>{i.pteIsMarkActive(d)?(Rd("Remove mark '".concat(d,"'")),F.removeMark(i,d)):(Rd("Add mark '".concat(d,"'")),F.addMark(i,d,!0))},i};function n(o){const{selection:i}=o;if(i)for(const[s,a]of Array.from(F.nodes(o,{at:F.range(o,[i.anchor.path[0]],[i.focus.path[0]])})).reverse()){const[c]=a.length>1?F.node(o,te.parent(a)):[void 0],u=[a[0],a[1]+1];if(o.isTextBlock(c)){const d=c.children[u[1]];_e.isText(s)&&_e.isText(d)&&Ht(d.marks,s.marks)&&(Rd("Merging spans"),ae.mergeNodes(o,{at:u,voids:!0}),o.onChange())}}}function r(o){const{selection:i}=o;if(i){const s=F.nodes(o,{at:i,match:a=>a._type===e.block.name});for(const[a,c]of s)if(o.isTextBlock(a)){const u=(a.markDefs||[]).filter(d=>a.children.find(f=>_e.isText(f)&&Array.isArray(f.marks)&&f.marks.includes(d._key)));Ht(u,a.markDefs)||(Rd("Removing markDef not in use"),ae.setNodes(o,{markDefs:u},{at:c}),o.onChange())}}}}const eAe=Wr("plugin:withPortableTextSelections"),r7t=eAe.enabled&&!1;function o7t(e,t){let n=null;return function(o){const i=()=>{if(n!==o.selection){let a=null;if(o.selection){const c=d5.get(o.selection);if(c)a=c;else{const u=o.children;a=xp(u,o.selection,t),d5.set(o.selection,a)}}r7t&&eAe("Emitting selection ".concat(JSON.stringify(a||null)," (").concat(JSON.stringify(o.selection),")")),a?e.next({type:"selection",selection:a}):e.next({type:"selection",selection:null})}n=o.selection},{onChange:s}=o;return o.onChange=()=>{const a=o.operations.length>0;s(),a&&i()},o}}const i7t=Wr("plugin:withSchemaTypes");function s7t(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){o.isTextBlock=s=>oh(s)&&s._type===t.block.name,o.isTextSpan=s=>ta(s)&&s._type==t.span.name,o.isListBlock=s=>SFe(s)&&s._type===t.block.name,o.isVoid=s=>t.block.name!==s._type&&(t.blockObjects.map(a=>a.name).includes(s._type)||t.inlineObjects.map(a=>a.name).includes(s._type)),o.isInline=s=>t.inlineObjects.map(c=>c.name).includes(s._type)&&"__inline"in s&&s.__inline===!0;const{normalizeNode:i}=o;return o.normalizeNode=s=>{const[a,c]=s;if(a._type===void 0&&c.length===2){i7t("Setting span type on text node without a type");const u=a,d=u._key||n();ae.setNodes(o,{...u,_type:t.span.name,_key:d},{at:c})}i(s)},o}}const CP=Wr("plugin:withUtils");function a7t(e){return function(n){return n.pteExpandToWord=()=>{const{selection:r}=n;if(r&&!de.isExpanded(r)){const[o]=F.node(n,r.focus,{depth:2});if(!o||!_e.isText(o)||o.text.length===0){CP("pteExpandToWord: Can't expand to word here");return}const{focus:i}=r,s=i.offset,a=o.text.slice(0,s),c=o.text.slice(s,-1),u=v=>v.match(/\s/g),d=a.split("").reverse().findIndex(v=>u(v)),f=d>-1?a.length-d:0,p=c.split("").findIndex(v=>u(v)),m=a.length+(p>-1?p:c.length+1);if(!(f===m||isNaN(f)||isNaN(m))){CP("pteExpandToWord: Expanding to focused word"),ae.setSelection(n,{anchor:{...r.anchor,offset:f},focus:{...r.focus,offset:m}});return}CP("pteExpandToWord: Can't expand to word here")}},n}}const _P=Wr("plugin:withHotKeys"),l7t={marks:{"mod+b":"strong","mod+i":"em","mod+u":"underline","mod+'":"code"},custom:{}};function c7t(e,t,n,r){const o=["enter","tab","shift","delete","end"],i=r||l7t,s=()=>Rc([{_type:e.block.name,_key:t(),style:"normal",markDefs:[],children:[{_type:"span",_key:t(),text:"",marks:[]}]}],n)[0];return function(c){return c.pteWithHotKeys=u=>{Object.keys(i).forEach(y=>{if(y==="marks")for(const x in i[y]){if(o.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(xi(x,u.nativeEvent)){u.preventDefault();const b=i[y];if(b){const w=b[x];_P("HotKey ".concat(x," to toggle ").concat(w)),c.pteToggleMark(w)}}}if(y==="custom")for(const x in i[y]){if(o.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(xi(x,u.nativeEvent)){const b=i[y];if(b){const w=b[x];w(u,n)}}}});const d=xi("enter",u.nativeEvent),f=xi("tab",u.nativeEvent),p=xi("shift+enter",u.nativeEvent),m=xi("shift+tab",u.nativeEvent),v=xi("backspace",u.nativeEvent),g=xi("delete",u.nativeEvent);if(v&&c.selection&&c.selection.focus.path[0]>0&&de.isCollapsed(c.selection)){const y=te.previous(c.selection.focus.path.slice(0,1)),x=Ee.descendant(c,y),b=Ee.descendant(c,c.selection.focus.path.slice(0,1));if(x&&b&&F.isVoid(c,x)&&c.selection.focus.offset===0){_P("Preventing deleting void block above"),u.preventDefault(),u.stopPropagation(),ae.removeNodes(c,{match:w=>w===b}),ae.select(c,y),c.onChange();return}}if(g&&c.selection&&c.selection.focus.offset===0&&de.isCollapsed(c.selection)&&c.children[c.selection.focus.path[0]+1]){const y=Ee.descendant(c,te.next(c.selection.focus.path.slice(0,1))),x=c.selection.focus.path.slice(0,1),b=Ee.descendant(c,x);if(y&&b&&!F.isVoid(c,b)&&F.isVoid(c,y)){_P("Preventing deleting void block below"),u.preventDefault(),u.stopPropagation(),ae.removeNodes(c,{match:w=>w===b}),ae.select(c,x),c.onChange();return}}if((f||m)&&c.selection){const[y]=F.node(c,c.selection.focus,{depth:2}),[x]=ta(y)?F.node(c,c.selection.focus,{depth:1}):[],b=y&&oh(x)&&ta(y)&&(y.marks||[]).filter(_=>(x.markDefs||[]).map(S=>S._key).includes(_)).length>0,[w]=de.edges(c.selection),C=F.isStart(c,w,w.path);y&&ta(y)&&(!b||C)&&c.pteIncrementBlockLevels(m)&&u.preventDefault()}if(d&&!p&&c.selection){const y=c.selection.focus.path.slice(0,1),x=Ee.descendant(c,y);if(c.isListBlock(x)){c.pteEndList()&&u.preventDefault();return}if(c.isTextBlock(x)&&x.style&&x.style!==e.styles[0].value){const[,b]=de.edges(c.selection);if(F.isEnd(c,b,b.path)){F.insertNode(c,s()),u.preventDefault(),c.onChange();return}}if(x&&F.isVoid(c,x)){F.insertNode(c,s()),u.preventDefault(),c.onChange();return}u.preventDefault(),c.insertBreak(),c.onChange()}if(p){u.preventDefault(),c.insertText(`
`);return}if(xi("mod+z",u.nativeEvent)){u.preventDefault(),c.undo();return}(xi("mod+y",u.nativeEvent)||xi("mod+shift+z",u.nativeEvent))&&(u.preventDefault(),c.redo())},c}}function g5(e,t,n){let r=null,o=!0;const i=[t.span.name,...t.inlineObjects.map(a=>a.name)],s=[t.block.name,...t.blockObjects.map(a=>a.name)];return e===void 0?{valid:!0,resolution:null,value:e}:!Array.isArray(e)||e.length===0?{valid:!1,resolution:{patches:[Ks([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:e},value:e}:(e.some((a,c)=>{if(!gw(a))return r={patches:[Ks([c])],description:"Block must be an object, got ".concat(String(a)),action:"Unset invalid item",item:a},!0;if(!a._key)return r={patches:[bl({...a,_key:n()},[c])],description:"Block at index ".concat(c," is missing required _key."),action:"Set the block with a random _key value",item:a},!0;if(!a._type||!s.includes(a._type)){if(a._type==="block"){const u=t.block.name;return r={patches:[bl({...a,_type:u},[{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid type name '").concat(a._type,"'. According to the schema, the block type name is '").concat(u,"'"),action:"Use type '".concat(u,"'"),item:a},!0}return r={patches:[Ks([{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid _type '").concat(a._type,"'"),action:"Remove the block",item:a},!0}if(a._type===t.block.name){const u=a;if(!u.children)return r={patches:[Ks([{_key:u._key}])],description:"Text block with _key '".concat(u._key,"' is missing required key 'children'."),action:"Remove the block",item:u},!0;if(!a.markDefs)return r={patches:[bl({...u,markDefs:[]},[{_key:u._key}])],description:"Block is missing required key 'markDefs'.",action:"Add empty markDefs array",item:u},!0;const p=ho(Tn(u.children.filter(m=>m._type===t.span.name).map(m=>m.marks||[]))).filter(m=>!t.decorators.map(v=>v.value).includes(m)).filter(m=>u.markDefs?!u.markDefs.find(v=>v._key===m):!1);if(p.length>0){const m=u.children.filter(v=>v._type===t.span.name&&Array.isArray(v.marks)&&v.marks.some(g=>p.includes(g)));if(m)return r={patches:m.map(v=>bl((v.marks||[]).filter(g=>!p.includes(g)),[{_key:a._key},"children",{_key:v._key},"marks"])),description:"Block with _key '".concat(a._key,"' contains marks (").concat(p.join(", "),") not supported by the current content model."),action:"Remove invalid marks",item:a},!0}if(u.children&&u.children.length===0){const m={_type:t.span.name,_key:n(),text:""};return r={patches:[bu([m],"after",[{_key:a._key},"children",0])],description:"Children for text block with _key '".concat(a._key,"' is empty."),action:"Insert an empty text",item:a},!0}u.children.some((m,v)=>{if(!m._key){const g={...m,_key:n()};return r={patches:[bl(g,[{_key:a._key},"children",v])],description:"Child at index ".concat(v," is missing required _key in block with _key ").concat(a._key,"."),action:"Set a new random _key on the object",item:a},!0}return!m._type||i.includes(m._type)===!1?(r={patches:[Ks([{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' has invalid '_type' property (").concat(m._type,")."),action:"Remove the object",item:a},!0):m._type===t.span.name&&m.text===void 0?(r={patches:[bl({...m,text:""},[{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' is missing text property!"),action:"Write an empty .text to the object",item:a},!0):!1})&&(o=!1)}return!1})&&(o=!1),{valid:o,resolution:r,value:e})}const mu=Wr("plugin:withInsertData");function u7t(e,t,n){return function(o){const i=t.block.name,s=t.span.name,a=c=>c.map(u=>{var d;return o.isTextBlock(u)?u.children.map(f=>{var p;return f._type===s?f.text:"[".concat(((p=t.inlineObjects.find(m=>m.name===f._type))==null?void 0:p.title)||"Object","]")}).join(""):"[".concat(((d=t.blockObjects.find(f=>f.name===u._type))==null?void 0:d.title)||"Object","]")}).join(`

`);return o.setFragmentData=(c,u)=>{const{selection:d}=o;if(!d)return;const[f,p]=de.edges(d),m=F.void(o,{at:f.path}),v=F.void(o,{at:p.path});if(de.isCollapsed(d)&&!m)return;const g=me.toDOMRange(o,d);let y=g.cloneContents();if(v){const[E]=v,j=g.cloneRange(),k=me.toDOMNode(o,E);j.setEndAfter(k),y=j.cloneContents()}Array.from(y.querySelectorAll("[data-slate-zero-width]")).forEach(E=>{const j=E.getAttribute("data-slate-zero-width")==="n";E.textContent=j?`
`:""}),Array.from(y.querySelectorAll("*")).forEach(E=>{E.removeAttribute("contentEditable"),E.removeAttribute("data-slate-inline"),E.removeAttribute("data-slate-leaf"),E.removeAttribute("data-slate-node"),E.removeAttribute("data-slate-spacer"),E.removeAttribute("data-slate-string"),E.removeAttribute("data-slate-zero-width"),E.removeAttribute("draggable");for(const j in E.attributes)E.hasAttribute(j)&&E.removeAttribute(j)});const x=y.ownerDocument.createElement("div");x.appendChild(y),x.setAttribute("hidden","true"),y.ownerDocument.body.appendChild(x);const b=x.innerHTML;y.ownerDocument.body.removeChild(x);const w=o.getFragment(),C=yr(w,i),_=JSON.stringify(C),S=a(C);c.clearData(),c.setData("text/plain",S),c.setData("text/html",b),c.setData("application/json",_),c.setData("application/x-portable-text",_),mu("text",S),c.setData("application/x-portable-text-event-origin",u||"external"),mu("Set fragment data",_,b)},o.insertPortableTextData=c=>{var u;if(!o.selection)return!1;const d=c.getData("application/x-portable-text"),f=c.getData("application/x-portable-text-event-origin");if(mu("Inserting portable text from ".concat(f," event"),d),d){const p=JSON.parse(d);if(Array.isArray(p)&&p.length>0){const m=h7t(o,Rc(p,{schemaTypes:t}),n,s),v=g5(p,t,n);if(!v.valid){const g="".concat((u=v.resolution)==null?void 0:u.description);return e.next({type:"error",level:"warning",name:"pasteError",description:g,data:v}),mu("Invalid insert result",v),!1}return PJ(o,m,t),!0}}return!1},o.insertTextOrHTMLData=c=>{var u;if(!o.selection)return mu("No selection, not inserting"),!1;e.next({type:"loading",isLoading:!0});const d=c.getData("text/html"),f=c.getData("text/plain");if(d||f){mu("Inserting data",c);let p,m,v;if(d)p=dJ(d,t.portableText).map(y=>Rx(y,{blockTypeName:i})),m=Rc(p,{schemaTypes:t}),v="HTML";else{const y=f7t(f).split(/\n{2,}/).map(b=>b?"<p>".concat(b.replace(/(?:\r\n|\r|\n)/g,"<br/>"),"</p>"):"<p></p>").join(""),x="<html><body>".concat(y,"</body></html>");p=dJ(x,t.portableText).map(b=>Rx(b,{blockTypeName:i})),m=Rc(p,{schemaTypes:t}),v="text"}const g=g5(p,t,n);if(!g.valid){const y=`Could not validate the resulting portable text to insert.
`.concat((u=g.resolution)==null?void 0:u.description,`
Try to insert as plain text (shift-paste) instead.`);return e.next({type:"error",level:"warning",name:"pasteError",description:y,data:g}),mu("Invalid insert result",g),!1}return mu("Inserting ".concat(v," fragment at ").concat(JSON.stringify(o.selection))),PJ(o,m,t),e.next({type:"loading",isLoading:!1}),!0}return e.next({type:"loading",isLoading:!1}),!1},o.insertData=c=>{o.insertPortableTextData(c)||o.insertTextOrHTMLData(c)},o.insertFragmentData=c=>{const u=c.getData("application/x-portable-text");if(u){const d=JSON.parse(u);return o.insertFragment(d),!0}return!1},o}}const d7t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function f7t(e){return String(e).replace(/[&<>"'`=/]/g,t=>d7t[t])}function h7t(e,t,n,r){return t.map(o=>{const i={...o};e.isTextBlock(i)&&(i.markDefs=(i.markDefs||[]).map(a=>{const c=a._key,u=n();return i.children=i.children.map(d=>d._type===r&&e.isTextSpan(d)?{...d,marks:d.marks&&d.marks.includes(c)?[...d.marks].filter(f=>f!==c).concat(u):d.marks}:d),{...a,_key:u}}));const s={...i,_key:n()};return e.isTextBlock(s)&&(s.children=s.children.map(a=>({...a,_key:n()}))),s})}function PJ(e,t,n){if(!e.selection)return;const[r,o]=F.node(e,e.selection,{depth:1});if(e.isTextBlock(r)&&e.isTextBlock(t[0])){const{markDefs:s}=r;mu("Mixing markDefs of focusBlock and fragments[0] block",s,t[0].markDefs),Ht(s,t[0].markDefs)||ae.setNodes(e,{markDefs:ho([...t[0].markDefs||[],...s||[]])},{at:o,mode:"lowest",voids:!1})}h5(e.children,n)?(ae.splitNodes(e,{at:[0,0]}),e.insertFragment(t),ae.removeNodes(e,{at:[0]})):e.insertFragment(t),e.onChange()}const RJ=new WeakMap,$J=(e,t)=>{const n=e,{keyGenerator:r,portableTextEditor:o,patches$:i,readOnly:s,maxBlocks:a}=t,{schemaTypes:c,change$:u}=o;n.subscriptions=[],n.destroy?n.destroy():RJ.set(n,{apply:n.apply,onChange:n.onChange,normalizeNode:n.normalizeNode});const d=w9t(c),f=S9t(c,r),p=s7t({schemaTypes:c,keyGenerator:r}),m=C9t(o,c,r),v=X9t({change$:u,keyGenerator:r,patches$:i,patchFunctions:d,readOnly:s,schemaTypes:c}),g=_9t(a||-1),y=t7t(c),x=W9t({readOnly:s,patches$:i,blockSchemaType:c.block}),b=n7t(c,u),w=e7t(c),C=J9t({keyGenerator:r,schemaTypes:c}),_=a7t(),S=o7t(u,c);return n.destroy=()=>{const E=RJ.get(n);if(!E)throw new Error("Could not find pristine versions of editor functions");n.apply=E.apply,n.history={undos:[],redos:[]},n.normalizeNode=E.normalizeNode,n.onChange=E.onChange},s?{editor:p(f(b(w(_(C(y(S(m(n))))))))),subscribe:()=>Fke}:{editor:p(f(b(w(y(C(_(g(x(v(S(m(n)))))))))))),subscribe:()=>{const E=[];return e.subscriptions.forEach(j=>{E.push(j())}),()=>{E.forEach(j=>{j()})}}}},SP=Wr("component:PortableTextEditor:SlateContainer");function p7t(e){const{patches$:t,portableTextEditor:n,readOnly:r,maxBlocks:o,keyGenerator:i}=e,[s,a]=h.useMemo(()=>{SP("Creating new Slate editor instance");const{editor:u,subscribe:d}=$J(kLt(JFt()),{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r});return Ea.set(u,{}),JM.set(u,{}),[u,d]},[]);h.useEffect(()=>{const u=a();return()=>{u()}},[a]),h.useEffect(()=>{SP("Re-initializing plugin chain"),$J(s,{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r})},[i,n,o,r,t,s]);const c=h.useMemo(()=>[s.createPlaceholderBlock()],[s]);return h.useEffect(()=>()=>{SP("Destroying Slate editor"),s.destroy()},[s]),l.jsx(SLt,{editor:s,initialValue:c,children:e.children})}const tAe=h.createContext(null),r1=()=>{const e=h.useContext(tAe);if(e===void 0)throw new Error("The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.");return e},nAe=h.createContext(null),bo=()=>{const e=h.useContext(nAe);if(!e)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return e},m7t=h.createContext(void 0),rAe=h.createContext(!1),g7t=()=>{const e=h.useContext(rAe);if(e===void 0)throw new Error("The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.");return e},oo=Wr("hook:useSyncValue"),MJ=new WeakMap;function v7t(e){const{portableTextEditor:t,readOnly:n,keyGenerator:r}=e,{change$:o,schemaTypes:i}=t,s=h.useRef(),a=_A(),c=h.useRef(),u=h.useCallback(()=>{const f=MJ.get(t);if(s.current===f){oo("Value is the same object as previous, not need to sync");return}c.current&&f&&(oo("Updating the value debounced"),c.current(f))},[t]),d=h.useCallback(vw(u,1e3,{trailing:!0,leading:!1}),[u]);return h.useMemo(()=>{const f=p=>{MJ.set(t,p);const m=V9t(a),v=QTe(a);if(!n){if(m){oo("Has local changes, not syncing value right now"),d();return}if(v){oo("Has remote changes, not syncing value right now"),d();return}}let g=!1,y=!0;const x=!!a.selection;if((!p||p.length===0)&&(oo("Value is empty"),F.withoutNormalizing(a,()=>{Mx(a,()=>{n4(a,()=>{x&&ae.deselect(a);const b=a.children.length;a.children.forEach((w,C)=>{ae.removeNodes(a,{at:[b-1-C]})}),ae.insertNodes(a,a.createPlaceholderBlock(),{at:[0]}),x&&ae.select(a,[0,0])})})}),g=!0),p&&p.length>0){const b=Rc(p,{schemaTypes:i});F.withoutNormalizing(a,()=>{XTe(a,()=>{Mx(a,()=>{n4(a,()=>{const w=a.children.length;if(b.length<w){for(let C=w-1;C>b.length-1;C--)ae.removeNodes(a,{at:[C]});g=!0}b.forEach((C,_)=>{const S=a.children[_];if(S&&!Ht(C,S)&&y){const j=[p[_]],k=g5(j,i,r);k.valid?(S._key===C._key?(oo.enabled&&oo("Updating block",S,C),b7t(a,C,S,_)):(oo.enabled&&oo("Replacing block",S,C),y7t(a,C,_)),g=!0):(o.next({type:"invalidValue",resolution:k.resolution,value:p}),y=!1)}if(!S&&y){const j=[p[_]],k=g5(j,i,r);oo.enabled&&oo("Validating and inserting new block in the end of the value",C),k.valid?$x(a,()=>{ae.insertNodes(a,C,{at:[_]})}):(oo("Invalid",k),o.next({type:"invalidValue",resolution:k.resolution,value:p}),y=!1)}})})})})})}if(!y){oo("Invalid value, returning");return}if(g){oo("Server value changed, syncing editor");try{a.onChange()}catch(b){console.error(b),o.next({type:"invalidValue",resolution:null,value:p});return}x&&!a.selection&&(ae.select(a,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),a.onChange()),o.next({type:"value",value:p})}else oo("Server value and editor value is equal, no need to sync.");s.current=p};return c.current=f,f},[o,r,t,n,i,a,d])}function y7t(e,t,n){const r=e.selection,o=r&&r.focus.path[0]===n;o&&ae.deselect(e),ae.removeNodes(e,{at:[n]}),$x(e,()=>{ae.insertNodes(e,t,{at:[n]})}),o&&ae.select(e,r)}function b7t(e,t,n,r){if(ae.setNodes(e,t,{at:[r]}),e.isTextBlock(t)&&e.isTextBlock(n)){const o=n.children.length;t.children.length<o&&Array.from(Array(o-t.children.length)).forEach((i,s)=>{const a=o-1-s;a>0&&(oo("Removing child"),ae.removeNodes(e,{at:[r,a]}))}),t.children.forEach((i,s)=>{const a=n.children[s],c=!Ht(i,a),u=!Ht(i.text,a==null?void 0:a.text),d=[r,s];if(c)if(i._key===(a==null?void 0:a._key)){oo("Updating changed child",i,a),ae.setNodes(e,i,{at:d});const f=_e.isText(i)&&i._type==="span"&&_e.isText(a)&&a._type==="span";f&&u?(ae.delete(e,{at:{focus:{path:d,offset:0},anchor:{path:d,offset:a.text.length}}}),ae.insertText(e,i.text,{at:d}),e.onChange()):f||(oo("Updating changed inline object child",i),ae.setNodes(e,{_key:WTe},{at:[...d,0],voids:!0}))}else a?(oo("Replacing child",i),ae.removeNodes(e,{at:[r,s]}),$x(e,()=>{ae.insertNodes(e,i,{at:[r,s]})}),e.onChange()):a||(oo("Inserting new child",i),$x(e,()=>{ae.insertNodes(e,i,{at:[r,s]}),e.onChange()}))})}}const gu=Wr("component:PortableTextEditor:Synchronizer"),FJ=gu.enabled&&!1,x7t=1e3;function w7t(e){const{change$:t,portableTextEditor:n,onChange:r,keyGenerator:o,readOnly:i,value:s}=e,[a,c]=h.useState(null),u=h.useRef([]),d=v7t({keyGenerator:o,onChange:r,portableTextEditor:n,readOnly:i}),f=_A();h.useEffect(()=>{RS.set(f,!1)},[f]);const p=h.useCallback(()=>{if(u.current.length>0){gu("Flushing pending patches"),FJ&&gu(`Patches:
`.concat(JSON.stringify(u.current,null,2)));const x=Se.getValue(n);t.next({type:"mutation",patches:u.current,snapshot:x}),u.current=[]}RS.set(f,!1)},[f,n,t]),m=h.useMemo(()=>ET(()=>{if(F.isNormalizing(f)){p();return}m()},x7t,{leading:!1,trailing:!0}),[p,f]);h.useEffect(()=>()=>{p()},[p]),h.useEffect(()=>{gu("Subscribing to editor changes$");const x=t.subscribe(b=>{switch(b.type){case"patch":RS.set(f,!0),u.current.push(b.patch),m(),r(b);break;case"selection":h.startTransition(()=>{FJ&&gu("Setting selection"),c(b.selection)}),r(b);break;default:r(b)}});return()=>{gu("Unsubscribing to changes$"),x.unsubscribe()}},[t,r,m,f]);const v=h.useCallback(()=>{gu("Editor is online, syncing from props.value"),t.next({type:"connection",value:"online"}),d(s)},[t,d,s]),g=h.useCallback(()=>{gu("Editor is offline"),t.next({type:"connection",value:"offline"})},[t]);h.useEffect(()=>(n.props.patches$&&(window.addEventListener("online",v),window.addEventListener("offline",g)),()=>{n.props.patches$&&(window.removeEventListener("online",v),window.removeEventListener("offline",g))}));const y=h.useRef(!0);return h.useEffect(()=>{gu("Value from props changed, syncing new value"),d(s),y.current&&(t.next({type:"loading",isLoading:!1}),t.next({type:"ready"}),y.current=!1)},[t,d,s]),l.jsx(FTe.Provider,{value:o,children:l.jsx(nAe.Provider,{value:n,children:l.jsx(m7t.Provider,{value:s,children:l.jsx(rAe.Provider,{value:i,children:l.jsx(tAe.Provider,{value:a,children:e.children})})})})})}const o1=Wr("component:PortableTextEditor");class Se extends ie.Component{constructor(t){if(super(t),this.change$=new $m,this.setEditable=n=>{this.editable={...this.editable,...n}},!t.schemaType)throw new Error('PortableTextEditor: missing "type" property');t.incomingPatches$&&console.warn("The prop 'incomingPatches$' is deprecated and renamed to 'patches$'"),this.change$.next({type:"loading",isLoading:!0}),this.schemaTypes=hJ(t.schemaType.hasOwnProperty("jsonType")?t.schemaType:fJ(t.schemaType))}componentDidUpdate(t){this.props.schemaType!==t.schemaType&&(this.schemaTypes=hJ(this.props.schemaType.hasOwnProperty("jsonType")?this.props.schemaType:fJ(this.props.schemaType)))}render(){const{onChange:t,value:n,children:r,patches$:o,incomingPatches$:i}=this.props,{change$:s}=this,a=i||o,c=typeof this.props.maxBlocks>"u"?void 0:parseInt(this.props.maxBlocks.toString(),10)||void 0,u=!!this.props.readOnly,d=this.props.keyGenerator||c5;return l.jsx(p7t,{keyGenerator:d,maxBlocks:c,patches$:a,portableTextEditor:this,readOnly:u,children:l.jsx(w7t,{change$:s,keyGenerator:d,onChange:t,portableTextEditor:this,readOnly:u,value:n,children:r})})}}Se.activeAnnotations=e=>e&&e.editable?e.editable.activeAnnotations():[];Se.addAnnotation=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.addAnnotation(t,n)};Se.blur=e=>{var t;o1("Host blurred"),(t=e.editable)==null||t.blur()};Se.delete=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.delete(t,n)};Se.findDOMNode=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.findDOMNode(t)};Se.findByPath=(e,t)=>{var n;return((n=e.editable)==null?void 0:n.findByPath(t))||[]};Se.focus=e=>{var t;o1("Host requesting focus"),(t=e.editable)==null||t.focus()};Se.focusBlock=e=>{var t;return(t=e.editable)==null?void 0:t.focusBlock()};Se.focusChild=e=>{var t;return(t=e.editable)==null?void 0:t.focusChild()};Se.getSelection=e=>e.editable?e.editable.getSelection():null;Se.getValue=e=>{var t;return(t=e.editable)==null?void 0:t.getValue()};Se.hasBlockStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasBlockStyle(t)};Se.hasListStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasListStyle(t)};Se.isCollapsedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isCollapsedSelection()};Se.isExpandedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isExpandedSelection()};Se.isMarkActive=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isMarkActive(t)};Se.insertChild=(e,t,n)=>{var r;return o1("Host inserting child"),(r=e.editable)==null?void 0:r.insertChild(t,n)};Se.insertBlock=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.insertBlock(t,n)};Se.insertBreak=e=>{var t;return(t=e.editable)==null?void 0:t.insertBreak()};Se.isVoid=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isVoid(t)};Se.isObjectPath=(e,t)=>{if(!t||!Array.isArray(t))return!1;const n=t.length>3&&t[1]==="children";return t.length>1&&t[1]!=="children"||n};Se.marks=e=>{var t;return(t=e.editable)==null?void 0:t.marks()};Se.select=(e,t)=>{var n;o1("Host setting selection",t),(n=e.editable)==null||n.select(t)};Se.removeAnnotation=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.removeAnnotation(t)};Se.toggleBlockStyle=(e,t)=>{var n;return o1("Host is toggling block style"),(n=e.editable)==null?void 0:n.toggleBlockStyle(t)};Se.toggleList=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.toggleList(t)};Se.toggleMark=(e,t)=>{var n;o1("Host toggling mark",t),(n=e.editable)==null||n.toggleMark(t)};function LJ(e,t){if(!e||!t)return null;const n=[];let r=e.offset||0;const o=typeof e.path[0]=="object"&&"_key"in e.path[0]&&e.path[0]._key,i=typeof e.path[2]=="object"&&"_key"in e.path[2]&&e.path[2]._key,s=t.find(a=>a._key===o);if(s)n.push({_key:s._key});else return null;if(s&&e.path[1]==="children"){if(!s.children||Array.isArray(s.children)&&s.children.length===0)return null;const a=Array.isArray(s.children)&&s.children.find(c=>c._key===i);if(a)n.push("children"),n.push({_key:a._key}),r=a.text&&a.text.length>=e.offset?e.offset:a.text&&a.text.length||0;else return null}return{path:n,offset:r}}function C7t(e,t){if(!e||!t||t.length===0)return null;let n=null,r=null;const{anchor:o,focus:i}=e;return o&&t.find(s=>Ht({_key:s._key},o.path[0]))&&(n=LJ(o,t)),i&&t.find(s=>Ht({_key:s._key},i.path[0]))&&(r=LJ(i,t)),n&&r?{anchor:n,focus:r}:null}function _7t(e){const t=h.useCallback(()=>alert(JSON.stringify(e.annotation)),[e.annotation]);return l.jsx("span",{style:{color:"blue"},onClick:t,children:e.children})}const S7t=Wr("components:Leaf"),BJ=[],E7t=e=>{const{attributes:t,children:n,leaf:r,schemaTypes:o,renderChild:i,renderDecorator:s,renderAnnotation:a}=e,c=ie.useRef(null),u=bo(),d=vTe(),[f,p]=h.useState(!1),[m,v]=h.useState(!1),g=n.props.parent,y=h.useMemo(()=>g?[{_key:g==null?void 0:g._key},"children",{_key:r._key}]:[],[g,r._key]),x=h.useMemo(()=>o.decorators.map(j=>j.value),[o.decorators]),b=h.useMemo(()=>ho((r.marks||BJ).filter(j=>x.includes(j))),[x,r.marks]),w=Array.isArray(r.marks)?r.marks:BJ,C=h.useMemo(()=>w.map(j=>{var k;return!x.includes(j)&&((k=g==null?void 0:g.markDefs)==null?void 0:k.find(T=>T._key===j))}).filter(Boolean),[w,g,x]),_=C.length>0&&d;h.useEffect(()=>{if(!_){p(!1);return}const j=Se.getSelection(u);j&&Ht(j.focus.path,y)&&Se.isCollapsedSelection(u)&&h.startTransition(()=>{p(!0)})},[_,y,u]);const S=h.useCallback(()=>{if(!_)return;S7t("Setting selection and focus from range");const j=window.getSelection();if(!j){v(!1);return}if(j&&j.rangeCount>0){const k=j.getRangeAt(0);c.current&&k.intersectsNode(c.current)?v(!0):v(!1)}else v(!1)},[_]);h.useEffect(()=>{if(!_)return;const j=u.change$.subscribe(k=>{if(k.type==="blur"){p(!1),v(!1);return}if(k.type==="focus"){const T=Se.getSelection(u);T&&Ht(T.focus.path,y)&&Se.isCollapsedSelection(u)&&p(!0),S();return}k.type==="selection"&&(k.selection&&Ht(k.selection.focus.path,y)&&Se.isCollapsedSelection(u)?p(!0):p(!1),S())});return()=>{j.unsubscribe()}},[y,u,S,_]),h.useEffect(()=>S(),[S]);const E=h.useMemo(()=>{let j=n;if(_e.isText(r)&&r._type===o.span.name&&(b.forEach(k=>{const T=o.decorators.find(A=>A.value===k);if(T&&s){const A=Object.defineProperty({children:j,editorElementRef:c,focused:f,path:y,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=s(A)}}),g&&C.length>0&&C.forEach(k=>{const T=o.annotations.find(A=>A.name===k._type);if(T)if(a){const A=Object.defineProperty({block:g,children:j,editorElementRef:c,focused:f,path:y,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=l.jsx("span",{ref:c,children:a(A)})}else j=l.jsx(_7t,{annotation:k,children:l.jsx("span",{ref:c,children:j})})}),g&&i)){const k=g.children.find(T=>T._key===r._key);if(k){const T=l.jsx(l.Fragment,{children:j}),A=Object.defineProperty({annotations:C,children:T,editorElementRef:c,focused:f,path:y,schemaType:o.span,selected:m,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.span}});j=i(A)}}return j},[C,g,n,f,r,b,y,a,i,s,o.annotations,o.decorators,o.span,m]);return h.useMemo(()=>l.jsx("span",{...t,ref:c,children:E},r._key),[r,t,E])},X_=e=>l.jsx("div",{children:l.jsx("pre",{children:JSON.stringify(e.value,null,2)})});var NJ=Object.freeze,k7t=Object.defineProperty,TA=(e,t)=>NJ(k7t(e,"raw",{value:NJ(t||e.slice())})),zJ,VJ,HJ,UJ;const j7t=P.div(zJ||(zJ=TA([`
  user-select: none;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");P.span(VJ||(VJ=TA([`
  background: #999;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");const T7t=P.div(HJ||(HJ=TA([`
  &.pt-list-item {
    width: fit-content;
    position: relative;
    display: block;

    /* Important 'transform' in order to force refresh the ::before and ::after rules
      in Webkit: https://stackoverflow.com/a/21947628/831480
    */
    transform: translateZ(0);
    margin-left: `,`;
  }
  &.pt-list-item > .pt-list-item-inner {
    display: flex;
    margin: 0;
    padding: 0;
    &:before {
      justify-content: flex-start;
      vertical-align: top;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner:before {
      content: '`,`';
      font-size: 0.4375rem; /* 7px */
      line-height: 1.5rem; /* Same as body text */
      /* Optical alignment */
      position: relative;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner {
    &:before {
      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */
    }
  }
  &.pt-list-item-number {
    counter-increment: `,`;
    counter-reset: `,`;
  }
  & + :not(.pt-list-item-number) {
    counter-reset: listItemNumber;
  }
  &.pt-list-item-number > .pt-list-item-inner:before {
    content: `,`;
    min-width: 1.5rem; /* Make sure space between number and text never shrinks */
    /* Optical alignment */
    position: relative;
    top: 1px;
  }
`])),e=>D7t(e.listLevel),e=>O7t(e.listLevel,e.listStyle),e=>P7t(e.listLevel),e=>R7t(e.listLevel),e=>$7t(e.listLevel)),A7t=P.div(UJ||(UJ=TA([""])));function D7t(e){switch(Number(e)){case 1:return"1.5em";case 2:return"3em";case 3:return"4.5em";case 4:return"6em";case 5:return"7.5em";case 6:return"9em";case 7:return"10.5em";case 8:return"12em";case 9:return"13.5em";case 10:return"15em";default:return"0em"}}const I7t=["●","○","■"];function O7t(e,t){const n=(e-1)%3;return t==="bullet"?I7t[n]:"*"}function P7t(e){switch(e){case 1:return"listItemNumber";case 2:return"listItemAlpha";case 3:return"listItemRoman";case 4:return"listItemNumberNext";case 5:return"listItemLetterNext";case 6:return"listItemRomanNext";case 7:return"listItemNumberNextNext";case 8:return"listItemAlphaNextNext";case 9:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function R7t(e){switch(e){case 1:return"listItemAlpha";case 2:return"listItemRoman";case 3:return"listItemNumberNext";case 4:return"listItemLetterNext";case 5:return"listItemRomanNext";case 6:return"listItemNumberNextNext";case 7:return"listItemAlphaNextNext";case 8:return"listItemRomanNextNext";case 9:return"listItemNumberNextNextNext";default:return"listItemNumberNextNextNext"}}function $7t(e){switch(e){case 1:return"counter(listItemNumber) '. '";case 2:return"counter(listItemAlpha, lower-alpha) '. '";case 3:return"counter(listItemRoman, lower-roman) '. '";case 4:return"counter(listItemNumberNext) '. '";case 5:return"counter(listItemLetterNext, lower-alpha) '. '";case 6:return"counter(listItemRomanNext, lower-roman) '. '";case 7:return"counter(listItemNumberNextNext) '. '";case 8:return"counter(listItemAlphaNextNext, lower-alpha) '. '";case 9:return"counter(listItemRomanNextNext, lower-roman) '. '";default:return"counter(listItemNumberNextNextNext) '. '"}}const ac=Wr("components:DraggableBlock"),WJ=e=>{let{children:t,element:n,readOnly:r,blockRef:o}=e;const i=Qc(),s=h.useRef(),[a,c]=h.useState(!1),u=h.useMemo(()=>F.isVoid(i,n),[i,n]),d=h.useMemo(()=>F.isInline(i,n),[i,n]),[f,p]=h.useState(null);h.useEffect(()=>p(o?o.current:me.toDOMNode(i,n)),[i,n,o]);const m=h.useCallback(k=>{const T=oy.get(i);if(!T||!f)return;k.preventDefault(),k.dataTransfer.dropEffect="move",iy.set(i,n);const A=f.getBoundingClientRect(),D=A.top,I=A.height,O=k.pageY,$=Math.abs(D-O);let R="bottom";if(n===i.children[0]?R="top":$<I/2?(R="top",sy.set(i,R)):(R="bottom",sy.set(i,R)),T===n){k.dataTransfer.dropEffect="none";return}c(!0)},[f,i,n]),v=h.useCallback(()=>{c(!1)},[]),g=h.useCallback(k=>{const T=iy.get(i);if(T){W_.set(i,!1),k.preventDefault(),k.stopPropagation(),iy.delete(i),s.current&&(ac("Removing drag ghost"),document.body.removeChild(s.current));const A=sy.get(i);sy.delete(i);let D=me.findPath(i,T);const I=me.findPath(i,n),O=te.isBefore(I,D);if(A==="bottom"&&!O){if(D[0]>=i.children.length-1){ac("target is already at the bottom, not moving");return}const $=D;D=te.next(D),ac("Adjusting targetPath from ".concat(JSON.stringify($)," to ").concat(JSON.stringify(D)))}if(A==="top"&&O&&D[0]!==i.children.length-1){const $=D;D=te.previous(D),ac("Adjusting targetPath from ".concat(JSON.stringify($)," to ").concat(JSON.stringify(D)))}if(te.equals(D,I)){k.preventDefault(),ac("targetPath and myPath is the same, not moving");return}ac("Moving element ".concat(n._key," from path ").concat(JSON.stringify(I)," to ").concat(JSON.stringify(D)," (").concat(A,")")),ae.moveNodes(i,{at:I,to:D}),i.onChange();return}ac("No target element, not doing anything")},[i,n]),y=h.useCallback(k=>{oy.get(i)&&(ac("On drop (prevented)",n),k.preventDefault(),k.stopPropagation(),c(!1))},[i,n]),x=h.useCallback(k=>{if(!u){oy.delete(i);return}W_.set(i,!0),oy.set(i,n),k.stopPropagation();const T=k.target;T instanceof HTMLElement&&(T.style.opacity="1")},[i,n,u]),b=h.useCallback(k=>{if(!u||d){ac("Not dragging block"),oy.delete(i),W_.set(i,!1);return}if(ac("Drag start"),W_.set(i,!0),k.dataTransfer&&(k.dataTransfer.setData("application/portable-text","something"),k.dataTransfer.effectAllowed="move"),f&&f instanceof HTMLElement){let T=f.cloneNode(!0);const A=T.querySelector("[data-pt-drag-ghost-element]");if(A&&(T=A),T.setAttribute("data-dragged",""),document.body){s.current=T,T.style.position="absolute",T.style.left="-99999px",T.style.boxSizing="border-box",document.body.appendChild(T);const D=f.getBoundingClientRect(),I=k.clientX-D.left,O=k.clientY-D.top;T.style.width="".concat(D.width,"px"),T.style.height="".concat(D.height,"px"),k.dataTransfer.setDragImage(T,I,O)}}x(k)},[f,i,x,d,u]),w=a&&i.children[0]===iy.get(i),C=a&&i.children[i.children.length-1]===iy.get(i),_=sy.get(i),S=w||a&&!w&&!C&&_==="top",E=C||a&&!w&&!C&&_==="bottom",j=h.useMemo(()=>l.jsx("div",{className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5}}),[]);return r?l.jsx(l.Fragment,{children:t}):l.jsxs("div",{draggable:u,onDragStart:b,onDrag:x,onDragOver:m,onDragLeave:v,onDragEnd:g,onDrop:y,children:[S&&j,t,E&&j]})};Wr("components:Element");const M7t=[],F7t={display:"inline-block"},L7t=e=>{let{attributes:t,children:n,element:r,schemaTypes:o,readOnly:i,renderBlock:s,renderChild:a,renderListItem:c,renderStyle:u,spellCheck:d}=e;const f=Qc(),p=vTe(),m=h.useRef(null),v=h.useRef(null),g=p&&f.selection&&de.isCollapsed(f.selection)||!1,y=h.useMemo(()=>yr([r],o.block.name,Ea.get(f))[0],[f,r,o.block.name]);let x=n,b;const w=h.useMemo(()=>[{_key:r._key}],[r]);if(typeof r._type!="string")throw new Error("Expected element to have a _type property");if(typeof r._key!="string")throw new Error("Expected element to have a _key property");if(f.isInline(r)){const E=me.findPath(f,r),[j]=F.node(f,E,{depth:1}),k=o.inlineObjects.find(T=>T.name===r._type);if(!k)throw new Error("Could not find type for inline block element");if(Re.isElement(j)){const T=[{_key:j._key},"children",{_key:r._key}];return l.jsxs("span",{...t,children:[n,l.jsxs("span",{draggable:!i,className:"pt-inline-object",ref:v,style:F7t,contentEditable:!1,children:[a&&a({annotations:M7t,children:l.jsx(X_,{value:y}),editorElementRef:v,focused:g,path:T,schemaType:k,selected:p,type:k,value:y}),!a&&l.jsx(X_,{value:y})]},r._key)]})}throw new Error("Block not found!")}if(r._type===o.block.name){b="pt-block pt-text-block";const E="listItem"in r,j="style"in r&&r.style||"normal";b="pt-block pt-text-block pt-text-block-style-".concat(j);const k=o.styles.find(I=>I.value===j);u&&k&&(x=u({block:r,children:n,focused:g,selected:p,value:j,path:w,schemaType:k,editorElementRef:m}));let T;if(E&&(typeof r.level=="number"&&(T=r.level),b+=" pt-list-item pt-list-item-".concat(r.listItem," pt-list-item-level-").concat(T||1)),f.isListBlock(y)&&E&&r.listItem){const I=o.lists.find(O=>O.value===r.listItem);c&&I?x=c({block:y,children:x,focused:g,selected:p,value:r.listItem,path:w,schemaType:I,level:y.level||1,editorElementRef:m}):x=l.jsx(T7t,{listStyle:y.listItem||o.lists[0].value,listLevel:y.level||1,children:l.jsx(A7t,{children:x})})}const A=Object.defineProperty({children:x,editorElementRef:m,focused:g,level:T,listItem:E?r.listItem:void 0,path:w,selected:p,style:j,schemaType:o.block,value:y},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.block}}),D=s?s(A):n;return l.jsx("div",{...t,className:b,spellCheck:d,children:l.jsx(WJ,{element:r,readOnly:i,blockRef:m,children:l.jsx("div",{ref:m,children:D})})},r._key)}const C=o.blockObjects.find(E=>E.name===r._type);if(!C)throw new Error("Could not find schema type for block element of _type ".concat(r._type));b="pt-block pt-object-block";const _=yr([r],o.block.name,Ea.get(f))[0];let S;if(s){const E=Object.defineProperty({children:l.jsx(X_,{value:y}),editorElementRef:m,focused:g,path:w,schemaType:C,selected:p,value:_},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),C}});S=s(E)}return l.jsxs("div",{...t,className:b,children:[n,l.jsxs(WJ,{element:r,readOnly:i,blockRef:m,children:[S&&l.jsx("div",{ref:m,contentEditable:!1,children:S}),!S&&l.jsx(j7t,{selected:p,children:l.jsx(X_,{value:y})})]})]},r._key)},B7t=typeof window>"u"?h.useEffect:h.useLayoutEffect;function N7t(e){const t=h.useRef(null);return B7t(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}const fl=Wr("component:Editable"),z7t={opacity:.5,position:"absolute",userSelect:"none",pointerEvents:"none",left:0,right:0},V7t=[],oAe=h.forwardRef(function(t,n){const{hotkeys:r,onBlur:o,onFocus:i,onBeforeInput:s,onPaste:a,onCopy:c,renderAnnotation:u,renderBlock:d,renderChild:f,renderDecorator:p,renderListItem:m,renderPlaceholder:v,renderStyle:g,selection:y,scrollSelectionIntoView:x,spellCheck:b,...w}=t,C=bo(),_=g7t(),S=W8t(),E=N7t(n),[j,k]=h.useState(null),[T,A]=h.useState(!1),{change$:D,schemaTypes:I}=C,O=_A(),$=I.block.name,R=h.useMemo(()=>u7t(D,I,S),[D,S,I]),V=h.useMemo(()=>c7t(I,S,C,r),[r,S,C,I]);h.useMemo(()=>_?(fl("Editable is in read only mode"),R(O)):(fl("Editable is in edit mode"),R(V(O))),[_,O,V,R]);const N=h.useCallback(G=>l.jsx(L7t,{...G,readOnly:_,renderBlock:d,renderChild:f,renderListItem:m,renderStyle:g,schemaTypes:I,spellCheck:b}),[I,b,_,d,f,m,g]),W=h.useCallback(G=>{const J=l.jsx(E7t,{...G,schemaTypes:I,renderAnnotation:u,renderChild:f,renderDecorator:p,readOnly:_});return v&&G.leaf.placeholder&&G.text.text===""?l.jsxs(l.Fragment,{children:[l.jsx("span",{style:z7t,contentEditable:!1,children:v()}),J]}):J},[_,u,f,p,v,I]),q=h.useCallback(()=>{if(y){fl("Selection from props ".concat(JSON.stringify(y)));const G=C7t(y,yr(O.children,$));if(G!==null){fl("Normalized selection from props ".concat(JSON.stringify(G)));const J=$S(G,O);J&&(ae.select(O,J),O.operations.some(re=>re.type==="set_selection")||D.next({type:"selection",selection:G}),O.onChange())}}},[y,O,$,D]);h.useEffect(()=>{fl("Subscribing to editor changes$");const G=D.subscribe(J=>{switch(J.type){case"ready":q();break;case"invalidValue":A(!0);break;case"value":A(!1);break}});return()=>{fl("Unsubscribing to changes$"),G.unsubscribe()}},[D,q]),h.useEffect(()=>{y&&!T&&q()},[T,y,q]);const H=h.useCallback(G=>{c&&c(G)!==void 0&&G.preventDefault()},[c]),Y=h.useCallback(G=>{if(G.preventDefault(),!!O.selection){if(!a){fl("Pasting normally"),O.insertData(G.clipboardData);return}new Promise(J=>{const re=Se.getValue(C),fe=xp(re,O.selection,I),le=(fe==null?void 0:fe.focus.path)||[];J(a({event:G,value:re,path:le,schemaTypes:I}))}).then(J=>{if(fl("Custom paste function from client resolved",J),D.next({type:"loading",isLoading:!0}),!J||!J.insert){fl("No result from custom paste handler, pasting normally"),O.insertData(G.clipboardData);return}if(J&&J.insert){O.insertFragment(Rc(J.insert,{schemaTypes:I})),D.next({type:"loading",isLoading:!1});return}console.warn("Your onPaste function returned something unexpected:",J)}).catch(J=>(D.next({type:"loading",isLoading:!1}),console.error(J),J))}},[D,a,C,I,O]),X=h.useCallback(G=>{if(i&&i(G),!G.isDefaultPrevented()){const J=Se.getSelection(C);J===null&&(ae.select(O,F.start(O,[])),O.onChange()),D.next({type:"focus",event:G});const re=Se.getSelection(C);J===re&&D.next({type:"selection",selection:J})}},[i,C,D,O]),B=h.useCallback(G=>{o&&o(G),G.isPropagationStopped()||D.next({type:"blur",event:G})},[D,o]),K=h.useCallback(G=>{s&&s(G)},[s]),z=h.useCallback(()=>{if(!O.selection)return;const G=me.findDocumentOrShadowRoot(O),{activeElement:J}=G;if(E.current!==J)return;const fe=me.getWindow(O).getSelection();if(!fe)return;const le=fe.getRangeAt(0);try{const ge=me.toDOMRange(O,O.selection);(ge.startOffset!==le.startOffset||ge.endOffset!==le.endOffset)&&(fl("DOM range out of sync, validating selection"),fe==null||fe.removeAllRanges(),fe.addRange(ge))}catch{fl("Could not resolve selection, selecting top document"),ae.deselect(O),O.children.length>0&&ae.select(O,[0,0]),O.onChange()}},[E,O]);h.useEffect(()=>{if(j){const G=new MutationObserver(z);return G.observe(j,{attributeOldValue:!1,attributes:!1,characterData:!1,childList:!0,subtree:!0}),()=>{G.disconnect()}}},[z,j]);const Z=h.useCallback(G=>{t.onKeyDown&&t.onKeyDown(G),G.isDefaultPrevented()||O.pteWithHotKeys(G)},[t,O]),Q=h.useMemo(()=>{if(x!==void 0)return x===null?Fke:(G,J)=>{x(C,J)}},[C,x]),ne=h.useCallback(()=>h5(O.children,I)?[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}]:V7t,[I,O]);return h.useEffect(()=>{E.current=me.toDOMNode(O,O),k(E.current)},[O,E]),C?T?null:l.jsx(mLt,{...w,autoFocus:!1,className:w.className||"pt-editable",decorate:ne,onBlur:B,onCopy:H,onDOMBeforeInput:K,onFocus:X,onKeyDown:Z,onPaste:Y,readOnly:_,renderPlaceholder:void 0,renderElement:N,renderLeaf:W,scrollSelectionIntoView:Q}):null});var H7t=rSe,U7t=G0,YJ=qT;function W7t(e,t,n){var r=e.length;if(r<2)return r?YJ(e[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var s=e[o],a=-1;++a<r;)a!=o&&(i[o]=H7t(i[o]||s,e[a],t,n));return YJ(U7t(i,1),t,n)}var Y7t=W7t,q7t=v2e,G7t=Z0,K7t=Y7t,Z7t=TT,X7t=G7t(function(e){return K7t(q7t(e,Z7t))}),Q7t=X7t;const J7t=Ie(Q7t);function iAe(e){return e.reduce((t,n,r)=>{if(Array.isArray(n))return"".concat(t,"[").concat(n.join(":"),"]");if(eBt(n))return"".concat(t,'[_key=="').concat(n._key,'"]');if(typeof n=="number")return"".concat(t,"[").concat(n,"]");if(typeof n=="string"&&/^\d+$/.test(n))return"".concat(t,'["').concat(n,'"]');if(typeof n=="string"){const o=r===0?"":".";return"".concat(t).concat(o).concat(n)}throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function eBt(e){return typeof e=="object"&&typeof e._key=="string"}class Vy extends Error{constructor(t,n,r){const o=iAe(n);super("".concat(t," (at '").concat(o,"')")),this.path=n,this.serializedPath=o,this.value=r}}const tBt=/^[a-z0-9][a-z0-9_.-]+$/i,nBt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,rBt=/^[a-z_]/i;function qJ(e,t,n){if(!rBt.test(e))throw new Vy("Keys must start with a letter (a-z)",n.concat(e),t);if(!nBt.test(e))throw new Vy("Keys can only contain letters, numbers and underscores",n.concat(e),t);if(e==="_key"||e==="_ref"||e==="_type"){if(typeof t!="string")throw new Vy("Keys must be strings",n.concat(e),t);if(!tBt.test(t))throw new Vy("Invalid key - use less exotic characters",n.concat(e),t)}return e}const oBt=["_id","_type","_createdAt","_updatedAt","_rev"],r4={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function iBt(e){return{...r4,...e,diffMatchPatch:{...r4.diffMatchPatch,...e.diffMatchPatch||{}}}}function AA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r4,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];if(e===t)return o;const i=Array.isArray(e)?"array":typeof e,s=Array.isArray(t)?"array":typeof t,a=i==="undefined",c=s==="undefined";if(a&&!c)return o.push({op:"set",path:r,value:t}),o;if(!a&&c)return o.push({op:"unset",path:r}),o;const u=iBt(n),d=a?s:i;return d==="object"||d==="array"?i!==s?(o.push({op:"set",path:r,value:t}),o):d==="array"?aBt(e,t,u,r,o):sBt(e,t,u,r,o):uBt(e,t,u,r,o)}function sBt(e,t,n,r,o){const i=r.length===0,s=Object.keys(e).filter(i?GJ:ZJ).map(d=>qJ(d,e[d],r)),a=s.length,c=Object.keys(t).filter(i?GJ:ZJ).map(d=>qJ(d,t[d],r)),u=c.length;for(let d=0;d<a;d++){const f=s[d];f in t||o.push({op:"unset",path:r.concat(f)})}for(let d=0;d<u;d++){const f=c[d];AA(e[f],t[f],n,r.concat([f]),o)}return o}function aBt(e,t,n,r,o){if(t.length>e.length&&o.push({op:"insert",after:r.concat([-1]),items:t.slice(e.length).map((c,u)=>cB(c,r,u,n))}),t.length<e.length){const c=e.length-t.length===1,u=e.slice(t.length);hBt(n)||!EP(u)?o.push({op:"unset",path:r.concat([c?t.length:[t.length,""]])}):o.push(...u.map(d=>({op:"unset",path:r.concat({_key:d._key})})))}for(let c=0;c<t.length;c++)if(Array.isArray(t[c]))throw new Vy("Multi-dimensional arrays not supported",r.concat(c),t[c]);const i=Math.min(e.length,t.length),s=e.slice(0,i),a=t.slice(0,i);return EP(s)&&EP(a)?lBt(s,a,n,r,o):sAe(s,a,n,r,o)}function sAe(e,t,n,r,o){for(let i=0;i<e.length;i++)AA(e[i],cB(t[i],r,i,n),n,r.concat(i),o);return o}function lBt(e,t,n,r,o){const i=KJ(e),s=KJ(t);if(!fBt(i.keys,s.keys))return sAe(e,t,n,r,o);for(let a=0;a<s.keys.length;a++){const c=s.keys[a],u=i.index[c],d=cB(s.index[c],r,a,n);AA(u,d,n,r.concat({_key:c}),o)}return o}function cBt(e,t,n,r){const{enabled:o,lengthThresholdRelative:i,lengthThresholdAbsolute:s}=n.diffMatchPatch,a=r[r.length-1];if(!o||typeof e!="string"||typeof t!="string"||typeof a=="string"&&a[0]==="_"||t.length<s)return;let c="";try{const u=rC(e,t),d=h7(u);c=Y5e(U5e(d))}catch{return}return c.length>t.length*i?void 0:{op:"diffMatchPatch",path:r,value:c}}function uBt(e,t,n,r,o){const i=cBt(e,t,n,r);return o.push(i||{op:"set",path:r,value:t}),o}function GJ(e){return oBt.indexOf(e)===-1}function EP(e){const t=[];for(let n=0;n<e.length;n++){const r=dBt(e[n]);if(!r||t.indexOf(r)!==-1)return!1;t.push(r)}return!0}function dBt(e){return typeof e=="object"&&e!==null&&e._key}function KJ(e){return e.reduce((t,n)=>(t.keys.push(n._key),t.index[n._key]=n,t),{keys:[],index:{}})}function fBt(e,t){return e.length===t.length&&e.every((n,r)=>t[r]===n)}function cB(e,t,n,r){if(typeof e<"u")return e;if(!r.hideWarnings){const o=iAe(t.concat(n));console.warn("undefined value in array converted to null (at '".concat(o,"')"))}return null}function hBt(e){return!!e.ifRevisionID}function ZJ(e){return!0}var pBt=AT,mBt=q9,gBt=Object.prototype,vBt=gBt.hasOwnProperty,yBt=mBt(function(e,t,n){vBt.call(e,n)?e[n].push(t):pBt(e,n,[t])}),bBt=yBt;const uB=Ie(bBt);function xBt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const DA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function i1(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function dB(e){return"nodeType"in e}function $s(e){var t,n;return e?i1(e)?e:dB(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function fB(e){const{Document:t}=$s(e);return e instanceof t}function uC(e){return i1(e)?!1:e instanceof $s(e).HTMLElement}function wBt(e){return e instanceof $s(e).SVGElement}function s1(e){return e?i1(e)?e.document:dB(e)?fB(e)?e:uC(e)?e.ownerDocument:document:document:document}const Hl=DA?h.useLayoutEffect:h.useEffect;function hB(e){const t=h.useRef(e);return Hl(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function CBt(){const e=h.useRef(null),t=h.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Fx(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return Hl(()=>{n.current!==e&&(n.current=e)},t),n}function dC(e,t){const n=h.useRef();return h.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function v5(e){const t=hB(e),n=h.useRef(null),r=h.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function o4(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let kP={};function fC(e,t){return h.useMemo(()=>{if(t)return t;const n=kP[e]==null?0:kP[e]+1;return kP[e]=n,e+"-"+n},[e,t])}function aAe(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const a=Object.entries(s);for(const[c,u]of a){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const Pv=aAe(1),Lx=aAe(-1);function _Bt(e){return"clientX"in e&&"clientY"in e}function pB(e){if(!e)return!1;const{KeyboardEvent:t}=$s(e.target);return t&&e instanceof t}function SBt(e){if(!e)return!1;const{TouchEvent:t}=$s(e.target);return t&&e instanceof t}function i4(e){if(SBt(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return _Bt(e)?{x:e.clientX,y:e.clientY}:null}const Bx=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Bx.Translate.toString(e),Bx.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),XJ="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function EBt(e){return e.matches(XJ)?e:e.querySelector(XJ)}const kBt={display:"none"};function jBt(e){let{id:t,value:n}=e;return ie.createElement("div",{id:t,style:kBt},n)}const TBt={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function ABt(e){let{id:t,announcement:n}=e;return ie.createElement("div",{id:t,style:TBt,role:"status","aria-live":"assertive","aria-atomic":!0},n)}function DBt(){const[e,t]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const lAe=h.createContext(null);function IBt(e){const t=h.useContext(lAe);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function OBt(){const[e]=h.useState(()=>new Set),t=h.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[h.useCallback(r=>{let{type:o,event:i}=r;e.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[e]),t]}const PBt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},RBt={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function $Bt(e){let{announcements:t=RBt,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=PBt}=e;const{announce:i,announcement:s}=DBt(),a=fC("DndLiveRegion"),[c,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),IBt(h.useMemo(()=>({onDragStart(f){let{active:p}=f;i(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:m}=f;t.onDragMove&&i(t.onDragMove({active:p,over:m}))},onDragOver(f){let{active:p,over:m}=f;i(t.onDragOver({active:p,over:m}))},onDragEnd(f){let{active:p,over:m}=f;i(t.onDragEnd({active:p,over:m}))},onDragCancel(f){let{active:p,over:m}=f;i(t.onDragCancel({active:p,over:m}))}}),[i,t])),!c)return null;const d=ie.createElement(ie.Fragment,null,ie.createElement(jBt,{id:r,value:o.draggable}),ie.createElement(ABt,{id:a,announcement:s}));return n?_c.createPortal(d,n):d}var So;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(So||(So={}));function y5(){}function QJ(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function MBt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ul=Object.freeze({x:0,y:0});function cAe(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function uAe(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function FBt(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function JJ(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function dAe(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function eee(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const LBt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=eee(t,t.left,t.top),i=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const u=cAe(eee(c),o);i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(uAe)},BBt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=JJ(t),i=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const u=JJ(c),d=o.reduce((p,m,v)=>p+cAe(u[v],m),0),f=Number((d/4).toFixed(4));i.push({id:a,data:{droppableContainer:s,value:f}})}}return i.sort(uAe)};function NBt(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const c=t.width*t.height,u=e.width*e.height,d=s*a,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const zBt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,a=n.get(s);if(a){const c=NBt(a,t);c>0&&o.push({id:s,data:{droppableContainer:i,value:c}})}}return o.sort(FBt)};function VBt(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function fAe(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ul}function HBt(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const UBt=HBt(1);function WBt(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function YBt(e,t,n){const r=WBt(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:a}=r,c=e.left-s-(1-o)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const qBt={ignoreTransform:!1};function a1(e,t){t===void 0&&(t=qBt);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=$s(e).getComputedStyle(e);u&&(n=YBt(n,u,d))}const{top:r,left:o,width:i,height:s,bottom:a,right:c}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:c}}function tee(e){return a1(e,{ignoreTransform:!0})}function GBt(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function KBt(e,t){return t===void 0&&(t=$s(e).getComputedStyle(e)),t.position==="fixed"}function ZBt(e,t){t===void 0&&(t=$s(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function IA(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(fB(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!uC(o)||wBt(o)||n.includes(o))return n;const i=$s(e).getComputedStyle(o);return o!==e&&ZBt(o,i)&&n.push(o),KBt(o,i)?n:r(o.parentNode)}return e?r(e):n}function hAe(e){const[t]=IA(e,1);return t??null}function jP(e){return!DA||!e?null:i1(e)?e:dB(e)?fB(e)||e===s1(e).scrollingElement?window:uC(e)?e:null:null}function pAe(e){return i1(e)?e.scrollX:e.scrollLeft}function mAe(e){return i1(e)?e.scrollY:e.scrollTop}function s4(e){return{x:pAe(e),y:mAe(e)}}var $o;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})($o||($o={}));function gAe(e){return!DA||!e?!1:e===document.scrollingElement}function vAe(e){const t={x:0,y:0},n=gAe(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const XBt={x:.2,y:.2};function QBt(e,t,n,r,o){let{top:i,left:s,right:a,bottom:c}=n;r===void 0&&(r=10),o===void 0&&(o=XBt);const{isTop:u,isBottom:d,isLeft:f,isRight:p}=vAe(e),m={x:0,y:0},v={x:0,y:0},g={height:t.height*o.y,width:t.width*o.x};return!u&&i<=t.top+g.height?(m.y=$o.Backward,v.y=r*Math.abs((t.top+g.height-i)/g.height)):!d&&c>=t.bottom-g.height&&(m.y=$o.Forward,v.y=r*Math.abs((t.bottom-g.height-c)/g.height)),!p&&a>=t.right-g.width?(m.x=$o.Forward,v.x=r*Math.abs((t.right-g.width-a)/g.width)):!f&&s<=t.left+g.width&&(m.x=$o.Backward,v.x=r*Math.abs((t.left+g.width-s)/g.width)),{direction:m,speed:v}}function JBt(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function yAe(e){return e.reduce((t,n)=>Pv(t,s4(n)),Ul)}function eNt(e){return e.reduce((t,n)=>t+pAe(n),0)}function tNt(e){return e.reduce((t,n)=>t+mAe(n),0)}function nNt(e,t){if(t===void 0&&(t=a1),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);hAe(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const rNt=[["x",["left","right"],eNt],["y",["top","bottom"],tNt]];let mB=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=IA(n),o=yAe(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,a]of rNt)for(const c of s)Object.defineProperty(this,c,{get:()=>{const u=a(r),d=o[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class Ib{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function oNt(e){const{EventTarget:t}=$s(e);return e instanceof t?e:s1(e)}function TP(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ja;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ja||(ja={}));function nee(e){e.preventDefault()}function iNt(e){e.stopPropagation()}var Zt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Zt||(Zt={}));const bAe={start:[Zt.Space,Zt.Enter],cancel:[Zt.Esc],end:[Zt.Space,Zt.Enter]},sNt=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Zt.Right:return{...n,x:n.x+25};case Zt.Left:return{...n,x:n.x-25};case Zt.Down:return{...n,y:n.y+25};case Zt.Up:return{...n,y:n.y-25}}};class gB{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ib(s1(n)),this.windowListeners=new Ib($s(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ja.Resize,this.handleCancel),this.windowListeners.add(ja.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ja.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&nNt(r),n(Ul)}handleKeyDown(t){if(pB(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=bAe,coordinateGetter:s=sNt,scrollBehavior:a="smooth"}=o,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Ul;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:n,context:r.current,currentCoordinates:d});if(f){const p=Lx(f,d),m={x:0,y:0},{scrollableAncestors:v}=r.current;for(const g of v){const y=t.code,{isTop:x,isRight:b,isLeft:w,isBottom:C,maxScroll:_,minScroll:S}=vAe(g),E=JBt(g),j={x:Math.min(y===Zt.Right?E.right-E.width/2:E.right,Math.max(y===Zt.Right?E.left:E.left+E.width/2,f.x)),y:Math.min(y===Zt.Down?E.bottom-E.height/2:E.bottom,Math.max(y===Zt.Down?E.top:E.top+E.height/2,f.y))},k=y===Zt.Right&&!b||y===Zt.Left&&!w,T=y===Zt.Down&&!C||y===Zt.Up&&!x;if(k&&j.x!==f.x){const A=g.scrollLeft+p.x,D=y===Zt.Right&&A<=_.x||y===Zt.Left&&A>=S.x;if(D&&!p.y){g.scrollTo({left:A,behavior:a});return}D?m.x=g.scrollLeft-A:m.x=y===Zt.Right?g.scrollLeft-_.x:g.scrollLeft-S.x,m.x&&g.scrollBy({left:-m.x,behavior:a});break}else if(T&&j.y!==f.y){const A=g.scrollTop+p.y,D=y===Zt.Down&&A<=_.y||y===Zt.Up&&A>=S.y;if(D&&!p.x){g.scrollTo({top:A,behavior:a});return}D?m.y=g.scrollTop-A:m.y=y===Zt.Down?g.scrollTop-_.y:g.scrollTop-S.y,m.y&&g.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(t,Pv(Lx(f,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}gB.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=bAe,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function ree(e){return!!(e&&"distance"in e)}function oee(e){return!!(e&&"delay"in e)}class vB{constructor(t,n,r){var o;r===void 0&&(r=oNt(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=s1(s),this.documentListeners=new Ib(this.document),this.listeners=new Ib(r),this.windowListeners=new Ib($s(s)),this.initialCoordinates=(o=i4(i))!=null?o:Ul,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(ja.Resize,this.handleCancel),this.windowListeners.add(ja.DragStart,nee),this.windowListeners.add(ja.VisibilityChange,this.handleCancel),this.windowListeners.add(ja.ContextMenu,nee),this.documentListeners.add(ja.Keydown,this.handleKeydown),n){if(ree(n))return;if(oee(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ja.Click,iNt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ja.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;const c=(n=i4(t))!=null?n:Ul,u=Lx(o,c);if(!r&&a){if(oee(a))return TP(u,a.tolerance)?this.handleCancel():void 0;if(ree(a))return a.tolerance!=null&&TP(u,a.tolerance)?this.handleCancel():TP(u,a.distance)?this.handleStart():void 0}t.cancelable&&t.preventDefault(),s(c)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Zt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const aNt={move:{name:"pointermove"},end:{name:"pointerup"}};class yB extends vB{constructor(t){const{event:n}=t,r=s1(n.target);super(t,aNt,r)}}yB.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const lNt={move:{name:"mousemove"},end:{name:"mouseup"}};var a4;(function(e){e[e.RightClick=2]="RightClick"})(a4||(a4={}));class cNt extends vB{constructor(t){super(t,lNt,s1(t.event.target))}}cNt.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===a4.RightClick?!1:(r==null||r({event:n}),!0)}}];const AP={move:{name:"touchmove"},end:{name:"touchend"}};class uNt extends vB{constructor(t){super(t,AP)}static setup(){return window.addEventListener(AP.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(AP.move.name,t)};function t(){}}}uNt.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var Ob;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ob||(Ob={}));var b5;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(b5||(b5={}));function dNt(e){let{acceleration:t,activator:n=Ob.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:a=b5.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:p}=e;const m=hNt({delta:f,disabled:!i}),[v,g]=CBt(),y=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),b=h.useMemo(()=>{switch(n){case Ob.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Ob.DraggableRect:return o}},[n,o,c]),w=h.useRef(null),C=h.useCallback(()=>{const S=w.current;if(!S)return;const E=y.current.x*x.current.x,j=y.current.y*x.current.y;S.scrollBy(E,j)},[]),_=h.useMemo(()=>a===b5.TreeOrder?[...u].reverse():u,[a,u]);h.useEffect(()=>{if(!i||!u.length||!b){g();return}for(const S of _){if((r==null?void 0:r(S))===!1)continue;const E=u.indexOf(S),j=d[E];if(!j)continue;const{direction:k,speed:T}=QBt(S,j,b,t,p);for(const A of["x","y"])m[A][k[A]]||(T[A]=0,k[A]=0);if(T.x>0||T.y>0){g(),w.current=S,v(C,s),y.current=T,x.current=k;return}}y.current={x:0,y:0},x.current={x:0,y:0},g()},[t,C,r,g,i,s,JSON.stringify(b),JSON.stringify(m),v,u,_,d,JSON.stringify(p)])}const fNt={x:{[$o.Backward]:!1,[$o.Forward]:!1},y:{[$o.Backward]:!1,[$o.Forward]:!1}};function hNt(e){let{delta:t,disabled:n}=e;const r=o4(t);return dC(o=>{if(n||!r||!o)return fNt;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[$o.Backward]:o.x[$o.Backward]||i.x===-1,[$o.Forward]:o.x[$o.Forward]||i.x===1},y:{[$o.Backward]:o.y[$o.Backward]||i.y===-1,[$o.Forward]:o.y[$o.Forward]||i.y===1}}},[n,t,r])}function pNt(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return dC(o=>{var i;return t===null?null:(i=r??o)!=null?i:null},[r,t])}function mNt(e,t){return h.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var Nx;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Nx||(Nx={}));var l4;(function(e){e.Optimized="optimized"})(l4||(l4={}));const iee=new Map;function gNt(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=h.useState(null),{frequency:a,measure:c,strategy:u}=o,d=h.useRef(e),f=y(),p=Fx(f),m=h.useCallback(function(x){x===void 0&&(x=[]),!p.current&&s(b=>b===null?x:b.concat(x.filter(w=>!b.includes(w))))},[p]),v=h.useRef(null),g=dC(x=>{if(f&&!n)return iee;if(!x||x===iee||d.current!==e||i!=null){const b=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const C=w.node.current,_=C?new mB(c(C),C):null;w.rect.current=_,_&&b.set(w.id,_)}return b}return x},[e,i,n,f,c]);return h.useEffect(()=>{d.current=e},[e]),h.useEffect(()=>{f||m()},[n,f]),h.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),h.useEffect(()=>{f||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{m(),v.current=null},a))},[a,f,m,...r]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:i!=null};function y(){switch(u){case Nx.Always:return!1;case Nx.BeforeDragging:return n;default:return!n}}}function xAe(e,t){return dC(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function vNt(e,t){return xAe(e,t)}function yNt(e){let{callback:t,disabled:n}=e;const r=hB(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function OA(e){let{callback:t,disabled:n}=e;const r=hB(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function bNt(e){return new mB(a1(e),e)}function see(e,t,n){t===void 0&&(t=bNt);const[r,o]=h.useReducer(a,null),i=yNt({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),s=OA({callback:o});return Hl(()=>{o(),e?(s==null||s.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),i==null||i.disconnect())},[e]),r;function a(c){if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d}}function xNt(e){const t=xAe(e);return fAe(e,t)}const aee=[];function wNt(e){const t=h.useRef(e),n=dC(r=>e?r&&r!==aee&&e&&t.current&&e.parentNode===t.current.parentNode?r:IA(e):aee,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function CNt(e){const[t,n]=h.useState(null),r=h.useRef(e),o=h.useCallback(i=>{const s=jP(i.target);s&&n(a=>a?(a.set(s,s4(s)),new Map(a)):null)},[]);return h.useEffect(()=>{const i=r.current;if(e!==i){s(i);const a=e.map(c=>{const u=jP(c);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,s4(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(i)};function s(a){a.forEach(c=>{const u=jP(c);u==null||u.removeEventListener("scroll",o)})}},[o,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>Pv(i,s),Ul):yAe(e):Ul,[e,t])}function lee(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const r=e!==Ul;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Lx(e,n.current):Ul}function _Nt(e){h.useEffect(()=>{if(!DA)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function SNt(e,t){return h.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function wAe(e){return h.useMemo(()=>e?GBt(e):null,[e])}const DP=[];function ENt(e,t){t===void 0&&(t=a1);const[n]=e,r=wAe(n?$s(n):null),[o,i]=h.useReducer(a,DP),s=OA({callback:i});return e.length>0&&o===DP&&i(),Hl(()=>{e.length?e.forEach(c=>s==null?void 0:s.observe(c)):(s==null||s.disconnect(),i())},[e]),o;function a(){return e.length?e.map(c=>gAe(c)?r:new mB(t(c),c)):DP}}function kNt(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return uC(t)?t:e}function jNt(e){let{measure:t}=e;const[n,r]=h.useState(null),o=h.useCallback(u=>{for(const{target:d}of u)if(uC(d)){r(f=>{const p=t(d);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),i=OA({callback:o}),s=h.useCallback(u=>{const d=kNt(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[a,c]=v5(s);return h.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const TNt=[{sensor:yB,options:{}},{sensor:gB,options:{}}],ANt={current:{}},MS={draggable:{measure:tee},droppable:{measure:tee,strategy:Nx.WhileDragging,frequency:l4.Optimized},dragOverlay:{measure:a1}};class Pb extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const DNt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Pb,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:y5},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:MS,measureDroppableContainers:y5,windowRect:null,measuringScheduled:!1},INt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:y5,draggableNodes:new Map,over:null,measureDroppableContainers:y5},PA=h.createContext(INt),CAe=h.createContext(DNt);function ONt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Pb}}}function PNt(e,t){switch(t.type){case So.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case So.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case So.DragEnd:case So.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case So.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Pb(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case So.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new Pb(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case So.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new Pb(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function RNt(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=h.useContext(PA),i=o4(r),s=o4(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!r&&i&&s!=null){if(!pB(i)||document.activeElement===i.target)return;const a=o.get(s);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=EBt(d);if(f){f.focus();break}}})}},[r,t,o,s,i]),null}function $Nt(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function MNt(e){return h.useMemo(()=>({draggable:{...MS.draggable,...e==null?void 0:e.draggable},droppable:{...MS.droppable,...e==null?void 0:e.droppable},dragOverlay:{...MS.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function FNt(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=h.useRef(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;Hl(()=>{if(!s&&!a||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=fAe(d,r);if(s||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=hAe(u);p&&p.scrollBy({top:f.y,left:f.x})}},[t,s,a,r,n])}const _Ae=h.createContext({...Ul,scaleX:1,scaleY:1});var Gd;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Gd||(Gd={}));const LNt=h.memo(function(t){var n,r,o,i;let{id:s,accessibility:a,autoScroll:c=!0,children:u,sensors:d=TNt,collisionDetection:f=zBt,measuring:p,modifiers:m,...v}=t;const g=h.useReducer(PNt,void 0,ONt),[y,x]=g,[b,w]=OBt(),[C,_]=h.useState(Gd.Uninitialized),S=C===Gd.Initialized,{draggable:{active:E,nodes:j,translate:k},droppable:{containers:T}}=y,A=E?j.get(E):null,D=h.useRef({initial:null,translated:null}),I=h.useMemo(()=>{var Mn;return E!=null?{id:E,data:(Mn=A==null?void 0:A.data)!=null?Mn:ANt,rect:D}:null},[E,A]),O=h.useRef(null),[$,R]=h.useState(null),[V,N]=h.useState(null),W=Fx(v,Object.values(v)),q=fC("DndDescribedBy",s),H=h.useMemo(()=>T.getEnabled(),[T]),Y=MNt(p),{droppableRects:X,measureDroppableContainers:B,measuringScheduled:K}=gNt(H,{dragging:S,dependencies:[k.x,k.y],config:Y.droppable}),z=pNt(j,E),Z=h.useMemo(()=>V?i4(V):null,[V]),Q=Ms(),ne=vNt(z,Y.draggable.measure);FNt({activeNode:E?j.get(E):null,config:Q.layoutShiftCompensation,initialRect:ne,measure:Y.draggable.measure});const G=see(z,Y.draggable.measure,ne),J=see(z?z.parentElement:null),re=h.useRef({activatorEvent:null,active:null,activeNode:z,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),fe=T.getNodeFor((n=re.current.over)==null?void 0:n.id),le=jNt({measure:Y.dragOverlay.measure}),ge=(r=le.nodeRef.current)!=null?r:z,we=S?(o=le.rect)!=null?o:G:null,ce=!!(le.nodeRef.current&&le.rect),ve=xNt(ce?null:G),$e=wAe(ge?$s(ge):null),Ae=wNt(S?fe??z:null),it=ENt(Ae),et=$Nt(m,{transform:{x:k.x-ve.x,y:k.y-ve.y,scaleX:1,scaleY:1},activatorEvent:V,active:I,activeNodeRect:G,containerNodeRect:J,draggingNodeRect:we,over:re.current.over,overlayNodeRect:le.rect,scrollableAncestors:Ae,scrollableAncestorRects:it,windowRect:$e}),lt=Z?Pv(Z,k):null,Pe=CNt(Ae),xe=lee(Pe),We=lee(Pe,[G]),ze=Pv(et,xe),Ze=we?UBt(we,et):null,xt=I&&Ze?f({active:I,collisionRect:Ze,droppableRects:X,droppableContainers:H,pointerCoordinates:lt}):null,ke=dAe(xt,"id"),[Ne,dt]=h.useState(null),di=ce?et:Pv(et,We),Xn=VBt(di,(i=Ne==null?void 0:Ne.rect)!=null?i:null,G),qo=h.useCallback((Mn,Ln)=>{let{sensor:Yr,options:Ge}=Ln;if(O.current==null)return;const wt=j.get(O.current);if(!wt)return;const Qn=Mn.nativeEvent,Fn=new Yr({active:O.current,activeNode:wt,event:Qn,options:Ge,context:re,onStart(Er){const fi=O.current;if(fi==null)return;const Fs=j.get(fi);if(!Fs)return;const{onDragStart:ya}=W.current,rg={active:{id:fi,data:Fs.data,rect:D}};_c.unstable_batchedUpdates(()=>{ya==null||ya(rg),_(Gd.Initializing),x({type:So.DragStart,initialCoordinates:Er,active:fi}),b({type:"onDragStart",event:rg})})},onMove(Er){x({type:So.DragMove,coordinates:Er})},onEnd:va(So.DragEnd),onCancel:va(So.DragCancel)});_c.unstable_batchedUpdates(()=>{R(Fn),N(Mn.nativeEvent)});function va(Er){return async function(){const{active:Fs,collisions:ya,over:rg,scrollAdjustedTranslate:WC}=re.current;let rc=null;if(Fs&&WC){const{cancelDrop:ou}=W.current;rc={activatorEvent:Qn,active:Fs,collisions:ya,delta:WC,over:rg},Er===So.DragEnd&&typeof ou=="function"&&await Promise.resolve(ou(rc))&&(Er=So.DragCancel)}O.current=null,_c.unstable_batchedUpdates(()=>{x({type:Er}),_(Gd.Uninitialized),dt(null),R(null),N(null);const ou=Er===So.DragEnd?"onDragEnd":"onDragCancel";if(rc){const O1=W.current[ou];O1==null||O1(rc),b({type:ou,event:rc})}})}}},[j]),Wt=h.useCallback((Mn,Ln)=>(Yr,Ge)=>{const wt=Yr.nativeEvent,Qn=j.get(Ge);if(O.current!==null||!Qn||wt.dndKit||wt.defaultPrevented)return;const Fn={active:Qn};Mn(Yr,Ln.options,Fn)===!0&&(wt.dndKit={capturedBy:Ln.sensor},O.current=Ge,qo(Yr,Ln))},[j,qo]),eo=mNt(d,Wt);_Nt(d),Hl(()=>{G&&C===Gd.Initializing&&_(Gd.Initialized)},[G,C]),h.useEffect(()=>{const{onDragMove:Mn}=W.current,{active:Ln,activatorEvent:Yr,collisions:Ge,over:wt}=re.current;if(!Ln||!Yr)return;const Qn={active:Ln,activatorEvent:Yr,collisions:Ge,delta:{x:ze.x,y:ze.y},over:wt};_c.unstable_batchedUpdates(()=>{Mn==null||Mn(Qn),b({type:"onDragMove",event:Qn})})},[ze.x,ze.y]),h.useEffect(()=>{const{active:Mn,activatorEvent:Ln,collisions:Yr,droppableContainers:Ge,scrollAdjustedTranslate:wt}=re.current;if(!Mn||O.current==null||!Ln||!wt)return;const{onDragOver:Qn}=W.current,Fn=Ge.get(ke),va=Fn&&Fn.rect.current?{id:Fn.id,rect:Fn.rect.current,data:Fn.data,disabled:Fn.disabled}:null,Er={active:Mn,activatorEvent:Ln,collisions:Yr,delta:{x:wt.x,y:wt.y},over:va};_c.unstable_batchedUpdates(()=>{dt(va),Qn==null||Qn(Er),b({type:"onDragOver",event:Er})})},[ke]),Hl(()=>{re.current={activatorEvent:V,active:I,activeNode:z,collisionRect:Ze,collisions:xt,droppableRects:X,draggableNodes:j,draggingNode:ge,draggingNodeRect:we,droppableContainers:T,over:Ne,scrollableAncestors:Ae,scrollAdjustedTranslate:ze},D.current={initial:we,translated:Ze}},[I,z,xt,Ze,j,ge,we,X,T,Ne,Ae,ze]),dNt({...Q,delta:k,draggingRect:Ze,pointerCoordinates:lt,scrollableAncestors:Ae,scrollableAncestorRects:it});const cl=h.useMemo(()=>({active:I,activeNode:z,activeNodeRect:G,activatorEvent:V,collisions:xt,containerNodeRect:J,dragOverlay:le,draggableNodes:j,droppableContainers:T,droppableRects:X,over:Ne,measureDroppableContainers:B,scrollableAncestors:Ae,scrollableAncestorRects:it,measuringConfiguration:Y,measuringScheduled:K,windowRect:$e}),[I,z,G,V,xt,J,le,j,T,X,Ne,B,Ae,it,Y,K,$e]),ul=h.useMemo(()=>({activatorEvent:V,activators:eo,active:I,activeNodeRect:G,ariaDescribedById:{draggable:q},dispatch:x,draggableNodes:j,over:Ne,measureDroppableContainers:B}),[V,eo,I,G,x,q,j,Ne,B]);return ie.createElement(lAe.Provider,{value:w},ie.createElement(PA.Provider,{value:ul},ie.createElement(CAe.Provider,{value:cl},ie.createElement(_Ae.Provider,{value:Xn},u)),ie.createElement(RNt,{disabled:(a==null?void 0:a.restoreFocus)===!1})),ie.createElement($Bt,{...a,hiddenTextDescribedById:q}));function Ms(){const Mn=($==null?void 0:$.autoScrollEnabled)===!1,Ln=typeof c=="object"?c.enabled===!1:c===!1,Yr=S&&!Mn&&!Ln;return typeof c=="object"?{...c,enabled:Yr}:{enabled:Yr}}}),BNt=h.createContext(null),cee="button",NNt="Droppable";function zNt(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=fC(NNt),{activators:s,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:p}=h.useContext(PA),{role:m=cee,roleDescription:v="draggable",tabIndex:g=0}=o??{},y=(c==null?void 0:c.id)===t,x=h.useContext(y?_Ae:BNt),[b,w]=v5(),[C,_]=v5(),S=SNt(s,t),E=Fx(n);Hl(()=>(f.set(t,{id:t,key:i,node:b,activatorNode:C,data:E}),()=>{const k=f.get(t);k&&k.key===i&&f.delete(t)}),[f,t]);const j=h.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":r,"aria-pressed":y&&m===cee?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,m,g,y,v,d.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:j,isDragging:y,listeners:r?void 0:S,node:b,over:p,setNodeRef:w,setActivatorNodeRef:_,transform:x}}function VNt(){return h.useContext(CAe)}const HNt="Droppable",UNt={timeout:25};function WNt(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=fC(HNt),{active:s,dispatch:a,over:c,measureDroppableContainers:u}=h.useContext(PA),d=h.useRef({disabled:n}),f=h.useRef(!1),p=h.useRef(null),m=h.useRef(null),{disabled:v,updateMeasurementsFor:g,timeout:y}={...UNt,...o},x=Fx(g??r),b=h.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),m.current=null},y)},[y]),w=OA({callback:b,disabled:v||!s}),C=h.useCallback((j,k)=>{w&&(k&&(w.unobserve(k),f.current=!1),j&&w.observe(j))},[w]),[_,S]=v5(C),E=Fx(t);return h.useEffect(()=>{!w||!_.current||(w.disconnect(),f.current=!1,w.observe(_.current))},[_,w]),Hl(()=>(a({type:So.RegisterDroppable,element:{id:r,key:i,disabled:n,node:_,rect:p,data:E}}),()=>a({type:So.UnregisterDroppable,key:i,id:r})),[r]),h.useEffect(()=>{n!==d.current.disabled&&(a({type:So.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,a]),{active:s,rect:p,isOver:(c==null?void 0:c.id)===r,node:_,over:c,setNodeRef:S}}function SAe(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function YNt(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function Q_(e){return e!==null&&e>=0}function qNt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function GNt(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const J_={scaleX:1,scaleY:1},KNt=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:i,index:s}=e;const a=(t=n[o])!=null?t:r;if(!a)return null;const c=ZNt(n,s,o);if(s===o){const u=n[i];return u?{x:o<i?u.left+u.width-(a.left+a.width):u.left-a.left,y:0,...J_}:null}return s>o&&s<=i?{x:-a.width-c,y:0,...J_}:s<o&&s>=i?{x:a.width+c,y:0,...J_}:{x:0,y:0,...J_}};function ZNt(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return!r||!o&&!i?0:n<t?o?r.left-(o.left+o.width):i.left-(r.left+r.width):i?i.left-(r.left+r.width):r.left-(o.left+o.width)}const EAe=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=SAe(t,r,n),s=t[o],a=i[o];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},e2={scaleX:1,scaleY:1},XNt=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const a=(t=i[n])!=null?t:r;if(!a)return null;if(o===n){const u=i[s];return u?{x:0,y:n<s?u.top+u.height-(a.top+a.height):u.top-a.top,...e2}:null}const c=QNt(i,o,n);return o>n&&o<=s?{x:0,y:-a.height-c,...e2}:o<n&&o>=s?{x:0,y:a.height+c,...e2}:{x:0,y:0,...e2}};function QNt(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const kAe="Sortable",jAe=ie.createContext({activeIndex:-1,containerId:kAe,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:EAe,disabled:{draggable:!1,droppable:!1}});function JNt(e){let{children:t,id:n,items:r,strategy:o=EAe,disabled:i=!1}=e;const{active:s,dragOverlay:a,droppableRects:c,over:u,measureDroppableContainers:d}=VNt(),f=fC(kAe,n),p=a.rect!==null,m=h.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),v=s!=null,g=s?m.indexOf(s.id):-1,y=u?m.indexOf(u.id):-1,x=h.useRef(m),b=!qNt(m,x.current),w=y!==-1&&g===-1||b,C=GNt(i);Hl(()=>{b&&v&&d(m)},[b,m,v,d]),h.useEffect(()=>{x.current=m},[m]);const _=h.useMemo(()=>({activeIndex:g,containerId:f,disabled:C,disableTransforms:w,items:m,overIndex:y,useDragOverlay:p,sortedRects:YNt(m,c),strategy:o}),[g,f,C.draggable,C.droppable,w,m,y,c,p,o]);return ie.createElement(jAe.Provider,{value:_},t)}const ezt=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return SAe(n,r,o).indexOf(t)},tzt=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:c,transition:u}=e;return!u||!r||a!==i&&o===s?!1:n?!0:s!==o&&t===c},nzt={duration:200,easing:"ease"},TAe="transform",rzt=Bx.Transition.toString({property:TAe,duration:0,easing:"linear"}),ozt={roleDescription:"sortable"};function izt(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=h.useState(null),a=h.useRef(n);return Hl(()=>{if(!t&&n!==a.current&&r.current){const c=o.current;if(c){const u=a1(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&s(d)}}n!==a.current&&(a.current=n)},[t,n,r,o]),h.useEffect(()=>{i&&s(null)},[i]),i}function AAe(e){let{animateLayoutChanges:t=tzt,attributes:n,disabled:r,data:o,getNewIndex:i=ezt,id:s,strategy:a,resizeObserverConfig:c,transition:u=nzt}=e;const{items:d,containerId:f,activeIndex:p,disabled:m,disableTransforms:v,sortedRects:g,overIndex:y,useDragOverlay:x,strategy:b}=h.useContext(jAe),w=szt(r,m),C=d.indexOf(s),_=h.useMemo(()=>({sortable:{containerId:f,index:C,items:d},...o}),[f,o,C,d]),S=h.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:E,node:j,isOver:k,setNodeRef:T}=WNt({id:s,data:_,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:A,activatorEvent:D,activeNodeRect:I,attributes:O,setNodeRef:$,listeners:R,isDragging:V,over:N,setActivatorNodeRef:W,transform:q}=zNt({id:s,data:_,attributes:{...ozt,...n},disabled:w.draggable}),H=xBt(T,$),Y=!!A,X=Y&&!v&&Q_(p)&&Q_(y),B=!x&&V,K=B&&X?q:null,Z=X?K??(a??b)({rects:g,activeNodeRect:I,activeIndex:p,overIndex:y,index:C}):null,Q=Q_(p)&&Q_(y)?i({id:s,items:d,activeIndex:p,overIndex:y}):C,ne=A==null?void 0:A.id,G=h.useRef({activeId:ne,items:d,newIndex:Q,containerId:f}),J=d!==G.current.items,re=t({active:A,containerId:f,isDragging:V,isSorting:Y,id:s,index:C,items:d,newIndex:G.current.newIndex,previousItems:G.current.items,previousContainerId:G.current.containerId,transition:u,wasDragging:G.current.activeId!=null}),fe=izt({disabled:!re,index:C,node:j,rect:E});return h.useEffect(()=>{Y&&G.current.newIndex!==Q&&(G.current.newIndex=Q),f!==G.current.containerId&&(G.current.containerId=f),d!==G.current.items&&(G.current.items=d)},[Y,Q,f,d]),h.useEffect(()=>{if(ne===G.current.activeId)return;if(ne&&!G.current.activeId){G.current.activeId=ne;return}const ge=setTimeout(()=>{G.current.activeId=ne},50);return()=>clearTimeout(ge)},[ne]),{active:A,activeIndex:p,attributes:O,data:_,rect:E,index:C,newIndex:Q,items:d,isOver:k,isSorting:Y,isDragging:V,listeners:R,node:j,overIndex:y,over:N,setNodeRef:H,setActivatorNodeRef:W,setDroppableNodeRef:T,setDraggableNodeRef:$,transform:fe??Z,transition:le()};function le(){if(fe||J&&G.current.newIndex===C)return rzt;if(!(B&&!pB(D)||!u)&&(Y||re))return Bx.Transition.toString({...u,property:TAe})}}function szt(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function x5(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const azt=[Zt.Down,Zt.Right,Zt.Up,Zt.Left],lzt=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:a}}=t;if(azt.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const p=o.get(f.id);if(p)switch(e.code){case Zt.Down:r.top<p.top&&c.push(f);break;case Zt.Up:r.top>p.top&&c.push(f);break;case Zt.Left:r.left>p.left&&c.push(f);break;case Zt.Right:r.left<p.left&&c.push(f);break}});const u=BBt({active:n,collisionRect:r,droppableRects:o,droppableContainers:c,pointerCoordinates:null});let d=dAe(u,"id");if(d===(s==null?void 0:s.id)&&u.length>1&&(d=u[1].id),d!=null){const f=i.get(n.id),p=i.get(d),m=p?o.get(p.id):null,v=p==null?void 0:p.node.current;if(v&&m&&f&&p){const y=IA(v).some((S,E)=>a[E]!==S),x=DAe(f,p),b=czt(f,p),w=y||!x?{x:0,y:0}:{x:b?r.width-m.width:0,y:b?r.height-m.height:0},C={x:m.left,y:m.top};return w.x&&w.y?C:Lx(C,w)}}}};function DAe(e,t){return!x5(e)||!x5(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function czt(e,t){return!x5(e)||!x5(t)||!DAe(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const uzt=e=>{let{transform:t}=e;return{...t,y:0}},dzt=e=>{let{transform:t}=e;return{...t,x:0}};var fzt=Sm;function hzt(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],s=t(i);if(s!=null&&(a===void 0?s===s&&!fzt(s):n(s,a)))var a=s,c=i}return c}var IAe=hzt;function pzt(e,t){return e<t}var mzt=pzt,gzt=IAe,vzt=mzt,yzt=Lm;function bzt(e){return e&&e.length?gzt(e,yzt,vzt):void 0}var xzt=bzt;const wzt=Ie(xzt);function Czt(e,t){return e>t}var _zt=Czt,Szt=IAe,Ezt=_zt,kzt=Lm;function jzt(e){return e&&e.length?Szt(e,kzt,Ezt):void 0}var Tzt=jzt;const Azt=Ie(Tzt);var c4={exports:{}};function Dzt(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=jT(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,y=Number(new Date),x=y-(d||y);g.diff=x,g.prev=d,g.curr=y,d=y,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var b=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;b++;var S=n.formatters[_];if(typeof S=="function"){var E=m[b];C=S.call(g,E),m.splice(b,1),b--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var Izt=Dzt;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=Izt(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(c4,c4.exports);var Ozt=c4.exports;const Pzt=Ie(Ozt),Rzt=/[0-9]/,$zt=/^[a-zA-Z0-9_]$/,Mzt=/^[a-zA-Z_]$/,OAe={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},Fzt=Object.keys(OAe);class Lzt{constructor(t){this.source=t,this.length=t.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(n=>n.bind(this))}tokenize(){const t=[];for(;!this.EOF();){this.chompWhitespace();let n=null;if(!this.tokenizers.some(o=>(n=o(),!!n))||!n)throw new Error("Invalid tokens in jsonpath '".concat(this.source,"' @ ").concat(this.i));t.push(n)}return t}takeWhile(t){const n=this.i;let r="";for(;!this.EOF();){const o=t(this.source[this.i]);if(o===null)break;r+=o,this.i++}return this.i===n?null:r}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(t){if(this.i+t.length>this.length)throw new Error("Expected ".concat(t," at end of jsonpath"));if(t===this.source.slice(this.i,this.i+t.length))this.i+=t.length;else throw new Error('Expected "'.concat(t,'", but source contained "').concat(this.source.slice()))}tryConsume(t){return this.i+t.length>this.length?null:t===this.source.slice(this.i,this.i+t.length)?(this.i+=t.length,t):null}chompWhitespace(){this.takeWhile(t=>t===" "?"":null)}tokenizeQuoted(){const t=this.peek();if(t==="'"||t==='"'){this.consume(t);let n=!1;const r=this.takeWhile(o=>n?(n=!1,o):o==="\\"?(n=!0,""):o!=t?o:null);return this.consume(t),{type:"quoted",value:r,quote:t==='"'?"double":"single"}}return null}tokenizeIdentifier(){let t=!0;const n=this.takeWhile(r=>t?(t=!1,r.match(Mzt)?r:null):r.match($zt)?r:null);return n!==null?{type:"identifier",name:n}:null}tokenizeNumber(){const t=this.i;let n=!1,r=!1,o=!1;this.peek()==="-"&&(o=!0,this.consume("-"));const i=this.takeWhile(s=>s==="."&&!n&&r?(n=!0,s):(r=!0,s.match(Rzt)?s:null));return i!==null?{type:"number",value:o?-i:+i,raw:o?"-".concat(i):i}:(this.i=t,null)}tokenizeSymbol(){for(const t of Fzt){const r=OAe[t].find(o=>this.tryConsume(o));if(r)return{type:t,symbol:r}}return null}}function Bzt(e){return new Lzt(e).tokenize()}class Nzt{constructor(t){this.tokens=Bzt(t),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const t=this.peek();return this.i+=1,t}probe(t){const n=this.peek();if(!n)return null;const r=n;return Object.keys(t).every(i=>i in n&&t[i]===r[i])?n:null}match(t){return this.probe(t)?this.consume():null}parseAttribute(){const t=this.match({type:"identifier"});if(t&&t.type==="identifier")return{type:"attribute",name:t.name};const n=this.match({type:"quoted",quote:"single"});return n&&n.type==="quoted"?{type:"attribute",name:n.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const t=this.match({type:"number"});return t&&t.type==="number"?{type:"number",value:t.value}:null}parseNumberValue(){const t=this.parseNumber();return t?t.value:null}parseSliceSelector(){const t=this.i,n=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return n===null?(this.i=t,null):{type:"index",value:n};const o={type:"range",start:n,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(o.step=this.parseNumberValue()),o.start===null&&o.end===null?(this.i=t,null):o}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const t=this.match({type:"quoted",quote:"double"});if(t&&t.type==="quoted")return{type:"string",value:t.value||""};const n=this.match({type:"boolean"});return n&&n.type==="boolean"?{type:"boolean",value:n.symbol==="true"}:this.parseNumber()}parseFilterExpression(){const t=this.i,n=this.parseAttribute()||this.parseAlias();if(!n)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:n};const r=this.match({type:"comparator"});if(!r||r.type!=="comparator")return this.i=t,null;const o=n,i=this.parseLiteralValue();if(!i)throw new Error("Operator ".concat(r.symbol," needs a literal value at the right hand side"));return{type:"constraint",operator:r.symbol,lhs:o,rhs:i}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const t=[];let n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;n&&(t.push(n),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!n)throw new Error("Expected expression following ','")}return{type:"union",nodes:t}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const t=this.parsePath();if(!t)throw new Error("Expected path following '..' operator");return{type:"recursive",term:t}}parsePath(){const t=[],n=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!n)return null;for(t.push(n);!this.EOF();)if(this.match({type:"operator",symbol:"."})){const r=this.parseAttribute();if(!r)throw new Error("Expected attribute name following '.");t.push(r);continue}else if(this.probe({type:"paren",symbol:"["})){const r=this.parseUnion();if(!r)throw new Error("Expected union following '['");t.push(r)}else{const r=this.parseRecursive();r&&t.push(r);break}return t.length===1?t[0]:{type:"path",nodes:t}}}function PAe(e){const t=new Nzt(e).parse();if(!t)throw new Error('Failed to parse JSON path "'.concat(e,'"'));return t}function zzt(e){const[t,n]=RAe(e);if(!t)throw new Error("Head cannot be null");return Hzt(t,n)}function RAe(e){if(e.type!=="path")return[e,null];const t=e.nodes;return t.length===0?[null,null]:t.length===1?[t[0],null]:[t[0],{type:"path",nodes:t.slice(1)}]}function Vzt(e,t){if(!e&&!t)return null;const n=e?e.nodes:[],r=t?t.nodes:[];return{type:"path",nodes:n.concat(r)}}function Hzt(e,t){return e.type!=="union"?[[e,t]]:e.nodes.map(n=>{if(n.type==="path"){const[r,o]=RAe(n);return[r,Vzt(o,t)]}return[n,t]})}function $Ae(e){return Dg(e,!1)}function Dg(e,t){switch(e.type){case"attribute":return e.name;case"alias":return e.target==="self"?"@":"$";case"number":return"".concat(e.value);case"range":{const n=[];return t||n.push("["),e.start&&n.push("".concat(e.start)),n.push(":"),e.end&&n.push("".concat(e.end)),e.step&&n.push(":".concat(e.step)),t||n.push("]"),n.join("")}case"index":return t?"".concat(e.value):"[".concat(e.value,"]");case"constraint":{const n=e.rhs?" ".concat(Dg(e.rhs,!1)):"",r="".concat(Dg(e.lhs,!1)," ").concat(e.operator).concat(n);return t?r:"[".concat(r,"]")}case"string":return JSON.stringify(e.value);case"path":{const n=[],r=e.nodes.slice();for(;r.length>0;){const o=r.shift();o&&n.push($Ae(o));const i=r[0];i&&Dg(i,!1)[0]!=="["&&n.push(".")}return n.join("")}case"union":return"[".concat(e.nodes.map(n=>Dg(n,!0)).join(","),"]");default:throw new Error("Unknown node type ".concat(e.type));case"recursive":return"..".concat(Dg(e.term,!1))}}class Zs{constructor(t){if(!t)throw new Error("Attempted to create Expression from null-value");if("expr"in t?this.expr=t.expr:this.expr=t,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return this.expr.type==="path"}isUnion(){return this.expr.type==="union"}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return this.expr.type==="constraint"}isRecursive(){return this.expr.type==="recursive"}isExistenceConstraint(){return this.expr.type==="constraint"&&this.expr.operator==="?"}isIndex(){return this.expr.type==="index"}isRange(){return this.expr.type==="range"}expandRange(t){const n=()=>{if(!t)throw new Error("expandRange() required a probe that was not passed");return t.length()};let r="start"in this.expr&&this.expr.start||0;r=IP(r,t);let o="end"in this.expr&&this.expr.end||n();o=IP(o,t);const i="step"in this.expr&&this.expr.step||1;return{start:r,end:o,step:i}}isAttributeReference(){return this.expr.type==="attribute"}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return this.expr.type==="alias"&&this.expr.target==="self"}constraintTargetIsSelf(){return this.expr.type==="constraint"&&this.expr.lhs.type==="alias"&&this.expr.lhs.target==="self"}constraintTargetIsAttribute(){return this.expr.type==="constraint"&&this.expr.lhs.type==="attribute"}testConstraint(t){const n=this.expr;if(n.type==="constraint"&&n.lhs.type==="alias"&&n.lhs.target==="self"){if(t.containerType()!=="primitive")return!1;if(n.type==="constraint"&&n.operator==="?")return!0;const s=t.get(),a=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return uee(s,n.operator,a)}if(n.type!=="constraint")return!1;const r=n.lhs;if(!r)throw new Error("No LHS of expression");if(r.type!=="attribute")throw new Error("Constraint target ".concat(r.type," not supported"));if(t.containerType()!=="object")return!1;const o=t.getAttribute(r.name);if(o==null||o.containerType()!=="primitive")return!1;if(this.isExistenceConstraint())return!0;const i=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return uee(o.get(),n.operator,i)}pathNodes(){return this.expr.type==="path"?this.expr.nodes:[this.expr]}prepend(t){return t?new Zs({type:"path",nodes:t.pathNodes().concat(this.pathNodes())}):this}concat(t){return t?t.prepend(this):this}descend(){return zzt(this.expr).map(t=>{const[n,r]=t;return{head:n?new Zs(n):null,tail:r?new Zs(r):null}})}unwrapRecursive(){if(this.expr.type!=="recursive")throw new Error("Attempt to unwrap recursive on type ".concat(this.expr.type));return new Zs(this.expr.term)}toIndicies(t){if(this.expr.type!=="index"&&this.expr.type!=="range")throw new Error("Node cannot be converted to indexes");if(this.expr.type==="index")return[IP(this.expr.value,t)];const n=[],r=this.expandRange(t);let{start:o,end:i}=r;r.step<0&&([o,i]=[i,o]);for(let s=o;s<i;s++)n.push(s);return n}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if(this.expr.type==="attribute")return[this.expr.name];throw new Error("Can't convert ".concat(this.expr.type," to field references"))}toString(){return $Ae(this.expr)}static fromPath(t){const n=PAe(t);if(!n)throw new Error('Failed to parse path "'.concat(t,'"'));return new Zs(n)}static attributeReference(t){return new Zs({type:"attribute",name:t})}static indexReference(t){return new Zs({type:"index",value:t})}}function uee(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n;case"!=":return e!==n;default:throw new Error("Unsupported binary operator ".concat(t))}}function IP(e,t){if(e>=0)return e;if(!t)throw new Error("interpretNegativeIndex() must have a probe when < 0");return e+t.length()}class lv{constructor(t,n){this.head=t,this.tail=n}iterate(t){let n=[this];if(this.head&&this.head.isConstraint()){let r=!0;for(;r;)n=Tn(n.map(o=>o.iterateConstraints(t))),r=n.some(o=>o.head&&o.head.isConstraint())}return n}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return this.head===null&&this.tail===null}extractRecursives(){if(this.head&&this.head.isRecursive()){const t=this.head.unwrapRecursive();return new lv(null,t.concat(this.tail)).descend()}return[]}iterateConstraints(t){const n=this.head;if(n===null||!n.isConstraint())return[this];const r=[];if(t.containerType()==="primitive"&&n.constraintTargetIsSelf())return n.testConstraint(t)&&r.push(...this.descend()),r;if(t.containerType()==="array"){const o=t.length();for(let i=0;i<o;i++){const s=t.getIndex(i);s&&n.testConstraint(s)&&r.push(new lv(new Zs({type:"index",value:i}),this.tail))}return r}return t.containerType()==="object"?n.constraintTargetIsSelf()?[]:n.testConstraint(t)?this.descend():r:r}descend(){return this.tail?this.tail.descend().map(t=>new lv(t.head,t.tail)):[new lv(null,null)]}toString(){const t=["<"];return this.head&&t.push(this.head.toString()),t.push("|"),this.tail&&t.push(this.tail.toString()),t.push(">"),t.join("")}}class wp{constructor(t,n){this.active=t||[],n?(this.recursives=n.recursives,this.payload=n.payload):this.recursives=[],this.extractRecursives()}setPayload(t){return this.payload=t,this}extractRecursives(){this.active=this.active.filter(t=>t.isRecursive()?(this.recursives.push(...t.extractRecursives()),!1):!0)}activeRecursives(t){return this.recursives.filter(n=>{const r=n.head;return r?r.isConstraint()||t.containerType()==="array"&&r.isIndexReference()?!0:t.containerType()==="object"?r.isAttributeReference()&&t.hasAttribute(r.name()):!1:!1})}match(t){return this.iterate(t).extractMatches(t)}iterate(t){const n=[];return this.active.concat(this.activeRecursives(t)).forEach(r=>{n.push(...r.iterate(t))}),new wp(n,this)}isDestination(){return this.active.some(t=>t.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(t){const n=[],r=[];if(this.active.forEach(o=>{if(o.hasArrived()){r.push(new Zs({type:"alias",target:"self"}));return}const i=o.head;if(i&&!(t.containerType()==="array"&&!i.isIndexReference())&&!(t.containerType()==="object"&&!i.isAttributeReference()))if(o.tail){const s=new wp(o.descend(),this);i.toFieldReferences().forEach(()=>{n.push({target:i,matcher:s})})}else r.push(i)}),this.hasRecursives()){const o=new wp([],this);if(t.containerType()==="array"){const i=t.length();for(let s=0;s<i;s++)n.push({target:Zs.indexReference(s),matcher:o})}else t.containerType()==="object"&&t.attributeKeys().forEach(i=>{n.push({target:Zs.attributeReference(i),matcher:o})})}return r.length>0?{leads:n,delivery:{targets:r,payload:this.payload}}:{leads:n}}static fromPath(t){const n=PAe(t);if(!n)throw new Error('Failed to parse path from "'.concat(t,'"'));const r=new lv(null,new Zs(n));return new wp(r.descend())}}function FS(e){return e!==null&&typeof e=="object"}class w5{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new w5(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return FS(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return FS(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!FS(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new w5(this._value[t],this.path.concat(t)):null}get(){return this._value}}function Uzt(e,t){const n=[],r=wp.fromPath(e).setPayload(function(s){n.push(...s)}),o=new w5(t);return MAe(r,o),n}function MAe(e,t){const{leads:n,delivery:r}=e.match(t);n.forEach(o=>{dee(o.target,t).forEach(i=>{MAe(o.matcher,i)})}),r&&r.targets.forEach(o=>{typeof r.payload=="function"&&r.payload(dee(o,t))})}function dee(e,t){const n=[];if(e.isIndexReference())e.toIndicies(t).forEach(r=>{n.push(t.getIndex(r))});else if(e.isAttributeReference())n.push(t.getAttribute(e.name()));else if(e.isSelfReference())n.push(t);else throw new Error("Unable to derive accessor for target ".concat(e.toString()));return tA(n)}function Wzt(e,t){return Uzt(e,t).map(r=>({path:r.path,value:r.get()}))}const Yzt=/^[a-z_$]+/;function FAe(e){let t="";return e.forEach((n,r)=>{t+=qzt(n,r===0)}),t}function qzt(e,t){if(typeof e=="number")return"[".concat(e,"]");if(FS(e)){const n=e;return Object.keys(e).map(r=>Gzt(n[r])?"[".concat(r,'=="').concat(n[r],'"]'):"").join("")}return typeof e=="string"&&Yzt.test(e)?t?e:".".concat(e):"['".concat(e,"']")}function Gzt(e){switch(typeof e){case"number":case"string":case"boolean":return!0;default:return!1}}class LAe{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(o.isSelfReference())r=r.set(this.value);else if(o.isIndexReference())o.toIndicies(n).forEach(i=>{r=r.setIndex(i,this.value)});else if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r=r.setAttribute(o.name(),this.value);else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}function fee(e,t){return typeof e!="number"||!Number.isFinite(e)?e:e+t}class hee{constructor(t,n,r){this.path=n,this.value=r,this.id=t}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get();r=r.setIndex(i,fee(a,this.value))}continue}if(o.isAttributeReference()){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get();r=r.setAttribute(o.name(),fee(s,this.value));continue}throw new Error("Unable to apply to target ".concat(o.toString()))}return r}}function RA(e,t){const n=[];return e.forEach(r=>{r.isIndexReference()&&n.push(...r.toIndicies(t))}),n.sort()}class Kzt{constructor(t,n,r,o){this.id=t,this.location=n,this.path=r,this.items=o}apply(t,n){let r=n;if(n.containerType()!=="array")throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const o=Zzt(t,n);r=r.insertItemsAt(o,this.items);break}case"after":{const o=Xzt(t,n);r=r.insertItemsAt(o+1,this.items);break}case"replace":{const o=RA(t,n);r=r.unsetIndices(o),r=r.insertItemsAt(o[0],this.items);break}default:throw new Error("Unsupported location atm: ".concat(this.location))}return r}}function Zzt(e,t){let n=wzt(RA(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{start:o}=r.expandRange();o<n&&(n=o)}}),n}function Xzt(e,t){let n=Azt(RA(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{end:o}=r.expandRange();o>n&&(n=o)}}),n}class BAe{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(!o.isIndexReference())if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r.hasAttribute(o.name())||(r=n.setAttribute(o.name(),this.value));else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}class Qzt{constructor(t,n){this.id=t,this.path=n}apply(t,n){let r=n;switch(n.containerType()){case"array":r=r.unsetIndices(RA(t,n));break;case"object":t.forEach(o=>{r=r.unsetAttribute(o.name())});break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return r}}function pee(e,t){if(typeof t!="string")return t;const[n]=W5e(e,t,{allowExceedingIndices:!0});return n}class Jzt{constructor(t,n,r){this.id=t,this.path=n,this.dmpPatch=q5e(r)}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get(),c=pee(this.dmpPatch,a);r=r.setIndex(i,c)}continue}if(o.isAttributeReference()&&r.hasAttribute(o.name())){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get(),a=pee(this.dmpPatch,s);r=r.setAttribute(o.name(),a);continue}throw new Error("Unable to apply diffMatchPatch to target ".concat(o.toString()))}return r}}function NAe(e){const t=[];if(Array.isArray(e))return e.reduce((u,d)=>u.concat(NAe(d)),t);const{set:n,setIfMissing:r,unset:o,diffMatchPatch:i,inc:s,dec:a,insert:c}=e;if(r&&Object.keys(r).forEach(u=>{t.push(new BAe(e.id,u,r[u]))}),n&&Object.keys(n).forEach(u=>{t.push(new LAe(e.id,u,n[u]))}),o&&o.forEach(u=>{t.push(new Qzt(e.id,u))}),i&&Object.keys(i).forEach(u=>{t.push(new Jzt(e.id,u,i[u]))}),s&&Object.keys(s).forEach(u=>{t.push(new hee(e.id,u,s[u]))}),a&&Object.keys(a).forEach(u=>{t.push(new hee(e.id,u,-a[u]))}),c){let u,d;const f=c;if("before"in f)u="before",d=f.before;else if("after"in f)u="after",d=f.after;else if("replace"in f)u="replace",d=f.replace;else throw new Error("Invalid insert patch");t.push(new Kzt(e.id,u,d,f.items))}return t}class gc{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new gc(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return ly(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return ly(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!ly(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new gc(this._value[t],this.path.concat(t)):null}set(t){return t===this._value?this:new gc(t,this.path)}setIndex(t,n){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(n,this._value[t]))return this;const r=this._value.slice();return r[t]=n,new gc(r,this.path)}setIndexAccessor(t,n){return this.setIndex(t,n.get())}unsetIndices(t){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const n=this._value.length,r=[];for(let o=0;o<n;o++)t.indexOf(o)===-1&&r.push(this._value[o]);return new gc(r,this.path)}insertItemsAt(t,n){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let r;return this._value.length===0&&t===0?r=n:r=this._value.slice(0,t).concat(n).concat(this._value.slice(t)),new gc(r,this.path)}setAttribute(t,n){if(!ly(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(n,this._value[t]))return this;const r=Object.assign({},this._value,{[t]:n});return new gc(r,this.path)}setAttributeAccessor(t,n){return this.setAttribute(t,n.get())}unsetAttribute(t){if(!ly(this._value))throw new Error("Unable to unset attribute of non-object container");const n=Object.assign({},this._value);return delete n[t],new gc(n,this.path)}}function ly(e){return e!==null&&typeof e=="object"}let eVt=class{constructor(t){this.patches=NAe(t)}apply(t){const n=new gc(t);return this.applyViaAccessor(n).get()}applyViaAccessor(t){let n=t;const r=t.getAttribute("_id");if(!r)throw new Error("Cannot apply patch to document with no _id");const o=r.get();for(const i of this.patches){if(i.id!==o)continue;const s=wp.fromPath(i.path).setPayload(i);n=u4(s,n)}return n}};function u4(e,t){const n=e.payload instanceof LAe||e.payload instanceof BAe;let r=t;const{leads:o,delivery:i}=e.match(t);return o.forEach(s=>{if(s.target.isIndexReference())s.target.toIndicies().forEach(a=>{const c=r.getIndex(a);if(!c)throw new Error("Index out of bounds");r=r.setIndexAccessor(a,u4(s.matcher,c))});else if(s.target.isAttributeReference()){n&&r.containerType()==="primitive"&&(r=r.set({}));let a=r.getAttribute(s.target.name());if(!a&&n&&(r=r.setAttribute(s.target.name(),{}),a=r.getAttribute(s.target.name())),!a)return;const c=u4(s.matcher,a);a!==c&&(r=r.setAttributeAccessor(s.target.name(),c))}else throw new Error("Unable to handle target ".concat(s.target.toString()))}),i&&tVt(i.payload)&&(r=i.payload.apply(i.targets,r)),r}function tVt(e){return!!(e&&typeof e=="object"&&e!==null&&"apply"in e&&typeof e.apply=="function")}const nVt=wd,Nt=Pzt("mutator-document");class $c{constructor(t){this.params=t}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if(typeof this.params.timestamp=="string")return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=nVt(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const t=this.mutations[0];return t?this._appliesToMissingDocument=!!(t.create||t.createIfNotExists||t.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){const t=[];this.mutations.forEach(o=>{if(o.create){const i=o.create||{};t.push(s=>s||Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.createIfNotExists){const i=o.createIfNotExists||{};t.push(s=>s===null?Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}):s);return}if(o.createOrReplace){const i=o.createOrReplace||{};t.push(()=>Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.delete){t.push(()=>null);return}if(o.patch){if("query"in o.patch)return;const i=new eVt(o.patch);t.push(s=>i.apply(s));return}throw new Error("Unsupported mutation ".concat(JSON.stringify(o,null,2)))}),typeof this.params.timestamp=="string"&&t.push(o=>o?Object.assign(o,{_updatedAt:this.params.timestamp}):null);const n=this.previousRev,r=this.resultRev||this.transactionId;this.compiled=o=>{if(n&&o&&n!==o._rev)throw new Error("Previous revision for this mutation was ".concat(n,", but the document revision is ").concat(o._rev));let i=o;for(const s of t)i=s(i);return i&&r&&(i===o&&(i=Object.assign({},o)),i._rev=r),i}}apply(t){Nt("Applying mutation %O to document %O",this.mutations,t),this.compiled||this.compile();const n=this.compiled(t);return Nt("  => %O",n),n}static applyAll(t,n){return n.reduce((r,o)=>o.apply(r),t)}static squash(t,n){const r=n.reduce((o,i)=>o.concat(...i.mutations),[]);return new $c({mutations:r})}}let rVt=class{constructor(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.lastStagedAt=null,this.reset(t),this.HEAD=t,this.EDGE=t}reset(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=t,this.EDGE=t,this.considerIncoming(),this.updateConsistencyFlag()}arrive(t){this.incoming.push(t),this.considerIncoming(),this.updateConsistencyFlag()}stage(t,n){if(!t.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,Nt("Staging mutation %s (pushed to pending)",t.transactionId),this.pending.push(t),this.EDGE=t.apply(this.EDGE),this.onMutation&&!n&&this.onMutation({mutation:t,document:this.EDGE,remote:!1});const r=t.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(r),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(r),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let t=!1,n;const r=[];if(this.HEAD&&this.HEAD._updatedAt){const i=new Date(this.HEAD._updatedAt);this.incoming.find(s=>s.timestamp&&s.timestamp<i)&&(this.incoming=this.incoming.filter(s=>s.timestamp&&s.timestamp<i))}let o=0;do{if(this.HEAD){const i=this.HEAD;n=i._rev?this.incoming.find(s=>s.previousRev===i._rev):void 0}else n=this.incoming.find(i=>i.appliesToMissingDocument());if(n){const i=this.applyIncoming(n);if(t=t||i,t&&r.push(n),o++>10)throw new Error("Mutator stuck flushing incoming mutations. Probably stuck here: ".concat(JSON.stringify(n)))}}while(n);this.incoming.length>0&&Nt.enabled&&Nt("Unable to apply mutations %s",this.incoming.map(i=>i.transactionId).join(", ")),t&&this.rebase(r)}updateConsistencyFlag(){const t=this.isConsistent(),n=this.pending.length===0&&this.submitted.length===0&&this.incoming.length===0;n?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),t!=n&&this.onConsistencyChanged&&(Nt(n?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(n))}applyIncoming(t){if(!t)return!1;if(!t.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(Nt("Applying mutation %s -> %s to rev %s",t.previousRev,t.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=t.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(t),this.incoming=this.incoming.filter(n=>n.transactionId!==t.transactionId),this.hasUnresolvedMutations()){const n=this.consumeUnresolved(t.transactionId);return Nt.enabled&&(Nt("Incoming mutation ".concat(t.transactionId," appeared while there were pending or submitted local mutations")),Nt("Submitted txnIds: ".concat(this.submitted.map(r=>r.transactionId).join(", "))),Nt("Pending txnIds: ".concat(this.pending.map(r=>r.transactionId).join(", "))),Nt("needRebase === %s",n)),n}return Nt("Remote mutation %s arrived w/o any pending or submitted local mutations",t.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:t,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(t){if(this.submitted.length===0&&this.pending.length===0)return!1;if(this.submitted.length!==0){if(this.submitted[0].transactionId===t)return Nt("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",t),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===t)return Nt("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",t),this.pending.shift(),!1;return Nt("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(n=>n.transactionId!==t),this.pending=this.pending.filter(n=>n.transactionId!==t),Nt("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(t){if(this.pending.length===0)return;const n=this.pending[0];if(n.transactionId===t){this.pending.shift(),this.submitted.push(n);return}let r;const o=[];this.pending.forEach(i=>{if(i.transactionId===t){r=i;return}o.push(i)}),r&&this.submitted.push(r),this.pending=o,this.rebase([])}pendingFailed(t){this.pending=this.pending.filter(n=>n.transactionId!==t),this.rebase([])}rebase(t){const n=this.EDGE;this.EDGE=$c.applyAll(this.HEAD,this.submitted.concat(this.pending)),n!==null&&this.EDGE!==null&&(n._rev=this.EDGE._rev),!Ht(this.EDGE,n)&&this.onRebase&&this.onRebase(this.EDGE,t,this.pending)}};class t2{constructor(t){this.out=[],t?Nt("Reset mutation buffer to rev %s",t._rev):Nt("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=t,this.PRESTAGE=t}add(t){t.mutations.forEach(n=>this.addOperation(n))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(t){this.stashStagedOperations();let n=null;return this.out.length>0&&(Nt("Purged mutation buffer"),n=new $c({mutations:this.out,resultRev:t,transactionId:t})),this.out=[],this.documentPresent=!1,n}addOperation(t){var n;if(t.patch&&t.patch.set&&"id"in t.patch&&t.patch.id===((n=this.PRESTAGE)==null?void 0:n._id)&&Object.keys(t.patch).length===2){const r=t.patch.set,o={};for(const i of Object.keys(r))r.hasOwnProperty(i)&&(this.optimiseSetOperation(i,r[i])||(o[i]=r[i]));Object.keys(o).length>0&&(Nt("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:o}}),this.stashStagedOperations());return}if(t.createIfNotExists&&this.PRESTAGE&&t.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(t),this.documentPresent=!0,this.stashStagedOperations());return}Nt("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(t),this.stashStagedOperations()}optimiseSetOperation(t,n){if(typeof n=="object")return!1;const r=Wzt(t,this.PRESTAGE);if(r.length!==1)return!1;const o=r[0];if(typeof o.value=="object"||!this.PRESTAGE)return!1;let i=null;if(o.value===n)i=null;else if(typeof o.value=="string"&&typeof n=="string")try{const a=Y5e(U5e(o.value,n));i={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[t]:a}}}}catch{return!1}else i={patch:{id:this.PRESTAGE._id,set:{[t]:n}}};const s=FAe(o.path);return i?this.setOperations[s]=i:delete this.setOperations[s],!0}stashStagedOperations(){const t=[];Object.keys(this.setOperations).forEach(n=>{const r=this.setOperations[n];r&&t.push(r)}),t.push(...this.staged),t.length>0&&(this.PRESTAGE=new $c({mutations:t}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...t)}rebase(t){return this.stashStagedOperations(),t===null?(this.out=[],this.BASIS=t,this.PRESTAGE=t,this.documentPresent=!1):(this.BASIS=t,this.out?this.PRESTAGE=new $c({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}const oVt=1e3*60;class iVt{constructor(t,n){let{resolve:r,reject:o}=n;this.mutations=t,this.tries=0,this.resolve=r,this.reject=o}apply(t){return $c.applyAll(t,this.mutations)}squash(t){const n=$c.squash(t,this.mutations);return n.assignRandomTransactionId(),n}}const mee=(e,t)=>e.concat(t.mutations);class sVt{constructor(t){this.committerRunning=!1,this.buffer=new t2(t),this.document=new rVt(t),this.document.onMutation=n=>this.handleDocMutation(n),this.document.onRemoteMutation=n=>this.onRemoteMutation&&this.onRemoteMutation(n),this.document.onRebase=(n,r,o)=>this.handleDocRebase(n,r,o),this.document.onConsistencyChanged=n=>this.handleDocConsistencyChanged(n),this.LOCAL=t,this.mutations=[],this.commits=[]}reset(t){t?Nt("Document state reset to revision %s",t._rev):Nt("Document state reset to being deleted"),this.document.reset(t),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(t){this.onConsistencyChanged&&this.onConsistencyChanged(!1),Nt("Staged local mutation"),this.buffer.add(t);const n=this.LOCAL;this.LOCAL=t.apply(this.LOCAL),this.onMutation&&n!==this.LOCAL&&(Nt("onMutation fired"),this.onMutation({mutation:t,document:this.LOCAL,remote:!1}),this.LOCAL===null&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(t){if(Nt("Remote mutation arrived %s -> %s",t.previousRev,t.resultRev),t.previousRev===t.resultRev)throw new Error("Mutation ".concat(t.transactionId," has previousRev === resultRev (").concat(t.previousRev,")"));return this.document.arrive(t)}commit(){return new Promise((t,n)=>{if(!this.buffer.hasChanges()){t();return}Nt("Committing local changes");const r=this.buffer.purge();this.commits.push(new iVt(r?[r]:[],{resolve:t,reject:n})),this.buffer=new t2(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const t=this.commits.shift();if(!t){this.committerRunning=!1;return}this.committerRunning=!0;const n=t.squash(this.LOCAL),r=this.document.stage(n,!0),o={success:()=>{Nt("Commit succeeded"),r.success(),t.resolve(),this._cycleCommitter()},failure:()=>{Nt("Commit failed"),t.tries+=1,this.LOCAL!==null&&this.commits.unshift(t),r.failure(),t.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(t.tries*1e3,oVt))},cancel:i=>{this.commits.forEach(s=>s.reject(i)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new t2(this.LOCAL),this.committerRunning=!1}};Nt("Posting commit"),this.commitHandler&&this.commitHandler({mutation:n,success:o.success,failure:o.failure,cancel:o.cancel})}handleDocRebase(t,n,r){this.rebase(n,r)}handleDocumentDeleted(){Nt("Document deleted"),this.LOCAL!==null&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(t){if(this.commits.length===0&&!this.buffer.hasChanges()){Nt("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new t2(this.LOCAL),this.onMutation&&this.onMutation(t);return}Nt("Document mutated from remote with local changes"),this.document.EDGE===null&&this.handleDocumentDeleted(),this.rebase([t.mutation],[])}rebase(t,n){Nt("Rebasing document"),this.document.EDGE===null&&this.handleDocumentDeleted();const r=this.LOCAL;this.LOCAL=this.commits.reduce((i,s)=>s.apply(i),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),r!==null&&this.LOCAL!==null&&(r._rev=this.LOCAL._rev),!Ht(this.LOCAL,r)&&this.onRebase&&this.onRebase(this.LOCAL,t.reduce(mee,[]),n.reduce(mee,[]))}handleDocConsistencyChanged(t){if(!this.onConsistencyChanged)return;const n=this.commits.length>0||this.buffer.hasChanges();t&&!n&&this.onConsistencyChanged(!0),t||this.onConsistencyChanged(!1)}}var zAe={};(function(e){(function(){(e!==null?e:this).ExifReader=function(){t.prototype._MIN_DATA_BUFFER_LENGTH=2,t.prototype._JPEG_ID_SIZE=2,t.prototype._JPEG_ID=65496,t.prototype._APP_MARKER_SIZE=2,t.prototype._APP0_MARKER=65504,t.prototype._APP1_MARKER=65505,t.prototype._APP15_MARKER=65519,t.prototype._APP_ID_OFFSET=4,t.prototype._BYTES_Exif=1165519206,t.prototype._TIFF_HEADER_OFFSET=10,t.prototype._BYTE_ORDER_BIG_ENDIAN=18761,t.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function t(){var n=this;this._getTagValueAt={1:function(r){return n._getByteAt(r)},2:function(r){return n._getAsciiAt(r)},3:function(r){return n._getShortAt(r)},4:function(r){return n._getLongAt(r)},5:function(r){return n._getRationalAt(r)},7:function(r){return n._getUndefinedAt(r)},9:function(r){return n._getSlongAt(r)},10:function(r){return n._getSrationalAt(r)}},this._tiffHeaderOffset=0}return t.prototype.load=function(n){return this.loadView(new DataView(n))},t.prototype.loadView=function(n){return this._dataView=n,this._tags={},this._checkImageHeader(),this._readTags()},t.prototype._checkImageHeader=function(){var n;if(n=this._dataView,n.byteLength<this._MIN_DATA_BUFFER_LENGTH||n.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(n),!this._hasExifData())throw new Error("No Exif data")},t.prototype._parseAppMarkers=function(n){var r,o,i;for(r=this._JPEG_ID_SIZE,i=[];!(n.byteLength<r+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=r+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1);else break;i.push(r+=this._APP_MARKER_SIZE+o)}return i},t.prototype._isApp1ExifMarker=function(n,r){return n.getUint16(r,!1)===this._APP1_MARKER&&n.getUint32(r+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&n.getUint8(r+this._APP_ID_OFFSET+4,!1)===0},t.prototype._isAppMarker=function(n,r){var o;return o=n.getUint16(r,!1),o>=this._APP0_MARKER&&o<=this._APP15_MARKER},t.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0},t.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},t.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},t.prototype._read0thIfd=function(){var n;return n=this._getIfdOffset(),this._readIfd("0th",n)},t.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},t.prototype._readExifIfd=function(){var n;if(this._tags["Exif IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",n)},t.prototype._readGpsIfd=function(){var n;if(this._tags["GPS Info IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",n)},t.prototype._readInteroperabilityIfd=function(){var n;if(this._tags["Interoperability IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",n)},t.prototype._readIfd=function(n,r){var o,i,s,a;for(o=this._getShortAt(r),r+=2,a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)i=this._readTag(n,r),this._tags[i.name]={value:i.value,description:i.description},a.push(r+=12);return a},t.prototype._readTag=function(n,r){var o,i,s,a,c,u,d;return o=this._getShortAt(r),c=this._getShortAt(r+2),i=this._getLongAt(r+4),this._typeSizes[c]*i<=4?u=this._getTagValue(r+8,c,i):(d=this._getLongAt(r+8),u=this._getTagValue(this._tiffHeaderOffset+d,c,i)),c===this._tagTypes.ASCII&&(u=this._splitNullSeparatedAsciiString(u)),this._tagNames[n][o]!=null?(this._tagNames[n][o].name!=null&&this._tagNames[n][o].description!=null?(a=this._tagNames[n][o].name,s=this._tagNames[n][o].description(u)):(a=this._tagNames[n][o],u instanceof Array?s=u.join(", "):s=u),{name:a,value:u,description:s}):{name:"undefined-"+o,value:u,description:u}},t.prototype._getTagValue=function(n,r,o){var i,s;return s=(function(){var a,c;for(c=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)i=this._getTagValueAt[r](n),n+=this._typeSizes[r],c.push(i);return c}).call(this),s.length===1?s=s[0]:r===this._tagTypes.ASCII&&(s=this._getAsciiValue(s)),s},t.prototype._getAsciiValue=function(n){var r;return function(){var o,i,s;for(s=[],o=0,i=n.length;o<i;o++)r=n[o],s.push(String.fromCharCode(r));return s}()},t.prototype._getByteAt=function(n){return this._dataView.getUint8(n)},t.prototype._getAsciiAt=function(n){return this._dataView.getUint8(n)},t.prototype._getShortAt=function(n){return this._dataView.getUint16(n,this._littleEndian)},t.prototype._getLongAt=function(n){return this._dataView.getUint32(n,this._littleEndian)},t.prototype._getRationalAt=function(n){return this._getLongAt(n)/this._getLongAt(n+4)},t.prototype._getUndefinedAt=function(n){return this._getByteAt(n)},t.prototype._getSlongAt=function(n){return this._dataView.getInt32(n,this._littleEndian)},t.prototype._getSrationalAt=function(n){return this._getSlongAt(n)/this._getSlongAt(n+4)},t.prototype._splitNullSeparatedAsciiString=function(n){var r,o,i,s,a;for(i=[],o=0,s=0,a=n.length;s<a;s++){if(r=n[s],r==="\0"){o++;continue}i[o]==null&&(i[o]=""),i[o]+=r}return i},t.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},t.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},t.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(n){switch(n){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(n){switch(n){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+n}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(n){return n.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(n){switch(n){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(n){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)switch(r=n[i],r){case 49:o+="Y";break;case 50:o+="Cb";break;case 51:o+="Cr";break;case 52:o+="R";break;case 53:o+="G";break;case 54:o+="B"}return o}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(n){switch(n){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(n){switch(n){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700 – 7100K)";case 13:return"Day white fluorescent (N 4600 – 5400K)";case 14:return"Cool white fluorescent (W 3900 – 4500K)";case 15:return"White fluorescent (WW 3200 – 3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(n){switch(n){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(n){switch(n.length){case 2:return"Location; X: "+n[0]+", Y: "+n[1];case 3:return"Circle; X: "+n[0]+", Y: "+n[1]+", diameter: "+n[2];case 4:return"Rectangle; X: "+n[0]+", Y: "+n[1]+", width: "+n[2]+", height: "+n[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(n){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},40961:{name:"ColorSpace",description:function(n){switch(n){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(n){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(n){return"X: "+n[0]+", Y: "+n[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(n){switch(n){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(n){switch(n){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(n){switch(n){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(n){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(n){switch(n){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(n){switch(n){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(n){switch(n){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(n){switch(n){case 0:return"Digital zoom was not used";default:return n}}},41989:{name:"FocalLengthIn35mmFilm",description:function(n){switch(n){case 0:return"Unknown";default:return n}}},41990:{name:"SceneCaptureType",description:function(n){switch(n){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(n){switch(n){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(n){switch(n){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(n){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(n){switch(n){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(n){var r,o;return n[0]===(r=n[1])&&r===2&&n[2]===(o=n[3])&&o===0?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},3:{name:"GPSLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},5:{name:"GPSAltitudeRef",description:function(n){switch(n){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(n){return n+" m"}},7:{name:"GPSTimeStamp",description:function(n){var r;return r=function(o){return function(){var i,s,a;for(a=[],i=0,s=2-(""+Math.floor(o)).length;0<=s?i<s:i>s;0<=s?++i:--i)a.push("0");return a}()+o},n.map(r).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(n){switch(n.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(n){switch(n.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(n){switch(n.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},23:{name:"GPSDestBearingRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(n){switch(n.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(n){switch(n){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},t.prototype.getTagValue=function(n){if(this._tags[n]!=null)return this._tags[n].value},t.prototype.getTagDescription=function(n){if(this._tags[n]!=null)return this._tags[n].description},t.prototype.getAllTags=function(){return this._tags},t}()}).call(Qs)})(zAe);var aVt=zAe.ExifReader,lVt=function(e){var t=new aVt;t.load(e);var n=t.getAllTags(),r={};for(var o in n)r[cVt(o)]=n[o].description;return r};function cVt(e){return e.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(t){return t.length==1?t.toLowerCase():t[0]==t[0].toUpperCase()?" "+t.toLowerCase():t[0]+" "+t[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}const uVt=Ie(lVt);var dVt=gh,fVt=ph,hVt=mh;function pVt(e){return function(t,n,r){var o=Object(t);if(!fVt(t)){var i=dVt(n);t=hVt(t),n=function(a){return i(o[a],a,o)}}var s=e(t,n,r);return s>-1?o[i?t[s]:s]:void 0}}var mVt=pVt,gVt=mVt,vVt=_Te,yVt=gVt(vVt),bVt=yVt;const VAe=Ie(bVt);var xVt=Math.ceil,wVt=Math.max;function CVt(e,t,n,r){for(var o=-1,i=wVt(xVt((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++o]=e,e+=n;return s}var _Vt=CVt,SVt=_Vt,EVt=t9,OP=CTe;function kVt(e){return function(t,n,r){return r&&typeof r!="number"&&EVt(t,n,r)&&(n=r=void 0),t=OP(t),n===void 0?(n=t,t=0):n=OP(n),r=r===void 0?t<n?1:-1:OP(r),SVt(t,n,r,e)}}var jVt=kVt,TVt=jVt,AVt=TVt(),DVt=AVt;const bB=Ie(DVt);var HAe={exports:{}};(function(e){(function(t){var n={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"Ae",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"Oe",Ő:"O",Ø:"O",Ù:"U",Ú:"U",Û:"U",Ü:"Ue",Ű:"U",Ý:"Y",Þ:"TH",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"ae",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"oe",ő:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"ue",ű:"u",ý:"y",þ:"th",ÿ:"y","ẞ":"SS",ا:"a",أ:"a",إ:"i",آ:"aa",ؤ:"u",ئ:"e",ء:"a",ب:"b",ت:"t",ث:"th",ج:"j",ح:"h",خ:"kh",د:"d",ذ:"th",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"dh",ط:"t",ظ:"z",ع:"a",غ:"gh",ف:"f",ق:"q",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"w",ي:"y",ى:"a",ة:"h",ﻻ:"la",ﻷ:"laa",ﻹ:"lai",ﻵ:"laa",گ:"g",چ:"ch",پ:"p",ژ:"zh",ک:"k",ی:"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",က:"k",ခ:"kh",ဂ:"g",ဃ:"ga",င:"ng",စ:"s",ဆ:"sa",ဇ:"z","စျ":"za",ည:"ny",ဋ:"t",ဌ:"ta",ဍ:"d",ဎ:"da",ဏ:"na",တ:"t",ထ:"ta",ဒ:"d",ဓ:"da",န:"n",ပ:"p",ဖ:"pa",ဗ:"b",ဘ:"ba",မ:"m",ယ:"y",ရ:"ya",လ:"l",ဝ:"w",သ:"th",ဟ:"h",ဠ:"la",အ:"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h",ဧ:"e","၏":"-e",ဣ:"i",ဤ:"-i",ဉ:"u",ဦ:"-u",ဩ:"aw","သြော":"aw",ဪ:"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"",č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z",ހ:"h",ށ:"sh",ނ:"n",ރ:"r",ބ:"b",ޅ:"lh",ކ:"k",އ:"a",ވ:"v",މ:"m",ފ:"f",ދ:"dh",ތ:"th",ލ:"l",ގ:"g",ޏ:"gn",ސ:"s",ޑ:"d",ޒ:"z",ޓ:"t",ޔ:"y",ޕ:"p",ޖ:"j",ޗ:"ch",ޘ:"tt",ޙ:"hh",ޚ:"kh",ޛ:"th",ޜ:"z",ޝ:"sh",ޞ:"s",ޟ:"d",ޠ:"t",ޡ:"z",ޢ:"a",ޣ:"gh",ޤ:"q",ޥ:"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"",ა:"a",ბ:"b",გ:"g",დ:"d",ე:"e",ვ:"v",ზ:"z",თ:"t",ი:"i",კ:"k",ლ:"l",მ:"m",ნ:"n",ო:"o",პ:"p",ჟ:"zh",რ:"r",ს:"s",ტ:"t",უ:"u",ფ:"p",ქ:"k",ღ:"gh",ყ:"q",შ:"sh",ჩ:"ch",ც:"ts",ძ:"dz",წ:"ts",ჭ:"ch",ხ:"kh",ჯ:"j",ჰ:"h",α:"a",β:"v",γ:"g",δ:"d",ε:"e",ζ:"z",η:"i",θ:"th",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"ks",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"o",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"i",ώ:"o",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"I",Θ:"TH",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"KS",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"O",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"I",Ώ:"O",Ϊ:"I",Ϋ:"Y",ā:"a",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",ū:"u",Ā:"A",Ē:"E",Ģ:"G",Ī:"I",Ķ:"k",Ļ:"L",Ņ:"N",Ū:"U",Ќ:"Kj",ќ:"kj",Љ:"Lj",љ:"lj",Њ:"Nj",њ:"nj",Тс:"Ts",тс:"ts",ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"E",Ł:"L",Ń:"N",Ś:"S",Ź:"Z",Ż:"Z",Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g",ă:"a",Ă:"A",ș:"s",Ș:"S",ț:"t",Ț:"T",ţ:"t",Ţ:"T",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"I",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"Kh",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",ђ:"dj",ј:"j",ћ:"c",џ:"dz",Ђ:"Dj",Ј:"j",Ћ:"C",Џ:"Dz",ľ:"l",ĺ:"l",ŕ:"r",Ľ:"L",Ĺ:"L",Ŕ:"R",ş:"s",Ş:"S",ı:"i",İ:"I",ğ:"g",Ğ:"G",ả:"a",Ả:"A",ẳ:"a",Ẳ:"A",ẩ:"a",Ẩ:"A",đ:"d",Đ:"D",ẹ:"e",Ẹ:"E",ẽ:"e",Ẽ:"E",ẻ:"e",Ẻ:"E",ế:"e",Ế:"E",ề:"e",Ề:"E",ệ:"e",Ệ:"E",ễ:"e",Ễ:"E",ể:"e",Ể:"E",ỏ:"o",ọ:"o",Ọ:"o",ố:"o",Ố:"O",ồ:"o",Ồ:"O",ổ:"o",Ổ:"O",ộ:"o",Ộ:"O",ỗ:"o",Ỗ:"O",ơ:"o",Ơ:"O",ớ:"o",Ớ:"O",ờ:"o",Ờ:"O",ợ:"o",Ợ:"O",ỡ:"o",Ỡ:"O",Ở:"o",ở:"o",ị:"i",Ị:"I",ĩ:"i",Ĩ:"I",ỉ:"i",Ỉ:"i",ủ:"u",Ủ:"U",ụ:"u",Ụ:"U",ũ:"u",Ũ:"U",ư:"u",Ư:"U",ứ:"u",Ứ:"U",ừ:"u",Ừ:"U",ự:"u",Ự:"U",ữ:"u",Ữ:"U",ử:"u",Ử:"ư",ỷ:"y",Ỷ:"y",ỳ:"y",Ỳ:"Y",ỵ:"y",Ỵ:"Y",ỹ:"y",Ỹ:"Y",ạ:"a",Ạ:"A",ấ:"a",Ấ:"A",ầ:"a",Ầ:"A",ậ:"a",Ậ:"A",ẫ:"a",Ẫ:"A",ắ:"a",Ắ:"A",ằ:"a",Ằ:"A",ặ:"a",Ặ:"A",ẵ:"a",Ẵ:"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d",ƒ:"f","™":"(TM)","©":"(C)",œ:"oe",Œ:"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o",º:"o",ª:"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY",元:"CNY",円:"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN",лв:"BGN","៛":"KHR","₡":"CRC","₸":"KZT",ден:"MKD",zł:"PLN","₽":"RUB","₾":"GEL"},r=["်","ް"],o={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},i={en:{},az:{ç:"c",ə:"e",ğ:"g",ı:"i",ö:"o",ş:"s",ü:"u",Ç:"C",Ə:"E",Ğ:"G",İ:"I",Ö:"O",Ş:"S",Ü:"U"},cs:{č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z"},fi:{ä:"a",Ä:"A",ö:"o",Ö:"O"},hu:{ä:"a",Ä:"A",ö:"o",Ö:"O",ü:"u",Ü:"U",ű:"u",Ű:"U"},lt:{ą:"a",č:"c",ę:"e",ė:"e",į:"i",š:"s",ų:"u",ū:"u",ž:"z",Ą:"A",Č:"C",Ę:"E",Ė:"E",Į:"I",Š:"S",Ų:"U",Ū:"U"},lv:{ā:"a",č:"c",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",š:"s",ū:"u",ž:"z",Ā:"A",Č:"C",Ē:"E",Ģ:"G",Ī:"i",Ķ:"k",Ļ:"L",Ņ:"N",Š:"S",Ū:"u",Ž:"Z"},pl:{ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ó:"o",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"e",Ł:"L",Ń:"N",Ó:"O",Ś:"S",Ź:"Z",Ż:"Z"},sv:{ä:"a",Ä:"A",ö:"o",Ö:"O"},sk:{ä:"a",Ä:"A"},sr:{љ:"lj",њ:"nj",Љ:"Lj",Њ:"Nj",đ:"dj",Đ:"Dj"},tr:{Ü:"U",Ö:"O",ü:"u",ö:"o"}},s={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},a=[";","?",":","@","&","=","+","$",",","/"].join(""),c=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),d=function(g,y){var x="-",b="",w="",C=!0,_={},S,E,j,k,T,A,D,I,O,$,R,V,N,W,q="";if(typeof g!="string")return"";if(typeof y=="string"&&(x=y),D=s.en,I=i.en,typeof y=="object"){S=y.maintainCase||!1,_=y.custom&&typeof y.custom=="object"?y.custom:_,j=+y.truncate>1&&y.truncate||!1,k=y.uric||!1,T=y.uricNoSlash||!1,A=y.mark||!1,C=!(y.symbols===!1||y.lang===!1),x=y.separator||x,k&&(q+=a),T&&(q+=c),A&&(q+=u),D=y.lang&&s[y.lang]&&C?s[y.lang]:C?s.en:{},I=y.lang&&i[y.lang]?i[y.lang]:y.lang===!1||y.lang===!0?{}:i.en,y.titleCase&&typeof y.titleCase.length=="number"&&Array.prototype.toString.call(y.titleCase)?(y.titleCase.forEach(function(H){_[H+""]=H+""}),E=!0):E=!!y.titleCase,y.custom&&typeof y.custom.length=="number"&&Array.prototype.toString.call(y.custom)&&y.custom.forEach(function(H){_[H+""]=H+""}),Object.keys(_).forEach(function(H){var Y;H.length>1?Y=new RegExp("\\b"+p(H)+"\\b","gi"):Y=new RegExp(p(H),"gi"),g=g.replace(Y,_[H])});for(R in _)q+=R}for(q+=x,q=p(q),g=g.replace(/(^\s+|\s+$)/g,""),N=!1,W=!1,$=0,V=g.length;$<V;$++)R=g[$],m(R,_)?N=!1:I[R]?(R=N&&I[R].match(/[A-Za-z0-9]/)?" "+I[R]:I[R],N=!1):R in n?($+1<V&&r.indexOf(g[$+1])>=0?(w+=R,R=""):W===!0?(R=o[w]+n[R],w=""):R=N&&n[R].match(/[A-Za-z0-9]/)?" "+n[R]:n[R],N=!1,W=!1):R in o?(w+=R,R="",$===V-1&&(R=o[w]),W=!0):D[R]&&!(k&&a.indexOf(R)!==-1)&&!(T&&c.indexOf(R)!==-1)?(R=N||b.substr(-1).match(/[A-Za-z0-9]/)?x+D[R]:D[R],R+=g[$+1]!==void 0&&g[$+1].match(/[A-Za-z0-9]/)?x:"",N=!0):(W===!0?(R=o[w]+R,w="",W=!1):N&&(/[A-Za-z0-9]/.test(R)||b.substr(-1).match(/A-Za-z0-9]/))&&(R=" "+R),N=!1),b+=R.replace(new RegExp("[^\\w\\s"+q+"_-]","g"),x);return E&&(b=b.replace(/(\w)(\S*)/g,function(H,Y,X){var B=Y.toUpperCase()+(X!==null?X:"");return Object.keys(_).indexOf(B.toLowerCase())<0?B:B.toLowerCase()})),b=b.replace(/\s+/g,x).replace(new RegExp("\\"+x+"+","g"),x).replace(new RegExp("(^\\"+x+"+|\\"+x+"+$)","g"),""),j&&b.length>j&&(O=b.charAt(j)===x,b=b.slice(0,j),O||(b=b.slice(0,b.lastIndexOf(x)))),!S&&!E&&(b=b.toLowerCase()),b},f=function(g){return function(x){return d(x,g)}},p=function(g){return g.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(v,g){for(var y in g)if(g[y]===v)return!0};if(e.exports)e.exports=d,e.exports.createSlug=f;else try{if(t.getSlug||t.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";t.getSlug=d,t.createSlug=f}catch{}})(Qs)})(HAe);var IVt=HAe.exports,OVt=IVt;const UAe=Ie(OVt);var PVt=Z0,RVt=t9;function $Vt(e){return PVt(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,s&&RVt(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})}var MVt=$Vt,FVt=Q0,LVt=MVt,BVt=mh,NVt=LVt(function(e,t,n,r){FVt(t,BVt(t),e,r)}),zVt=NVt;const VVt=Ie(zVt);var HVt=qc;function UVt(e,t){return HVt(t,function(n){return e[n]})}var WVt=UVt,YVt=WVt,qVt=mh;function GVt(e){return e==null?[]:YVt(e,qVt(e))}var WAe=GVt;const KVt=Ie(WAe);var hm={};Object.defineProperty(hm,"__esModule",{value:!0});hm.SKIP=qAe;var YAe=hm.reduce=GAe;hm.withCustomPathSegment=hm.SKIP_MARKER=void 0;function xB(e,t){return QVt(e)||XVt(e,t)||ZVt()}function ZVt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function XVt(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(c){o=!0,i=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw i}}return n}function QVt(e){if(Array.isArray(e))return e}function LS(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?LS=function(n){return typeof n}:LS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},LS(e)}function $A(e,t,n){return t}function JVt(e){return Array.isArray(e)?"array":e===null?"null":LS(e)}var wB={_:"SKIP_MARKER"};hm.SKIP_MARKER=wB;function qAe(e){return[wB,e]}function CB(e,t,n,r){var o=t(e,n,r);return o===qAe?[!0,e]:Array.isArray(o)&&o[0]===wB?[!0,o[1]]:[!1,o]}function eHt(e,t,n,r){var o=CB(e,t,n,r),i=xB(o,2),s=i[1];return s}function tHt(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:$A,i=CB(e,t,n,r),s=xB(i,2),a=s[0],c=s[1];return a?c:Object.keys(n).reduce(function(u,d){return _B(u,t,n[d],r.concat(o(n[d],d,n)),o)},c)}function nHt(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:$A,i=CB(e,t,n,r),s=xB(i,2),a=s[0],c=s[1];return a?c:n.reduce(function(u,d,f){return _B(u,t,d,r.concat(o(d,f,n)),o)},c)}function _B(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:$A,i=JVt(n);return i==="object"?tHt(e,t,n,r,o):i==="array"?nHt(e,t,n,r,o):eHt(e,t,n,r)}function GAe(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$A;return _B(n,t,e,[],r)}var rHt=function(t){return function(n,r,o){return GAe(n,r,o,t)}};hm.withCustomPathSegment=rHt;function SB(e){return t=>krt(()=>{const n=new $m;return t.pipe(Grt(()=>n,{leading:!0,trailing:!0}),__e((r,o)=>C_e(e(r,o),v_e).pipe($rt(()=>{n.next()}))))})}var oHt=Object.defineProperty,iHt=(e,t,n)=>t in e?oHt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gee=(e,t,n)=>(iHt(e,typeof t!="symbol"?t+"":t,n),n);function sHt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function aHt(e){const t=[];for(const n of e.split("."))n==="*"?t.push("[^.]+"):n==="**"?t.push(".*"):t.push(sHt(n));return new RegExp("^".concat(t.join("."),"$"))}class KAe{constructor(t){gee(this,"pattern"),gee(this,"patternRe"),this.pattern=t,this.patternRe=aHt(t)}matches(t){return this.patternRe.test(t)}toJSON(){return this.pattern}}var lHt=Object.defineProperty,cHt=(e,t,n)=>t in e?lHt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cy=(e,t,n)=>(cHt(e,typeof t!="symbol"?t+"":t,n),n);class hf{constructor(t){cy(this,"type","stream"),cy(this,"generator"),cy(this,"ticker"),cy(this,"isDone"),cy(this,"data"),this.generator=t,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const t=[];for await(const n of this)t.push(await n.get());return t}async*[Symbol.asyncIterator](){let t=0;for(;;){for(;t<this.data.length;t++)yield this.data[t];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let t;const n=()=>{this.ticker=new Promise(i=>{t=i})},r=()=>{t(),n()},o=async()=>{for await(const i of this.generator())this.data.push(i),r();this.isDone=!0,r()};return n(),o(),this.ticker}}const uHt=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function dHt(e){return uHt.test(e)?new Date(e):null}function fHt(e){const t=Lh(e.getUTCFullYear(),4),n=Lh(e.getUTCMonth()+1,2),r=Lh(e.getUTCDate(),2),o=Lh(e.getUTCHours(),2),i=Lh(e.getUTCMinutes(),2),s=Lh(e.getUTCSeconds(),2);let a="";const c=e.getMilliseconds();return c!=0&&(a=".".concat(Lh(c,3))),"".concat(t,"-").concat(n,"-").concat(r,"T").concat(o,":").concat(i,":").concat(s).concat(a,"Z")}function Lh(e,t){let n=e.toString();for(;n.length<t;)n="0".concat(n);return n}var hHt=Object.defineProperty,pHt=(e,t,n)=>t in e?hHt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d4=(e,t,n)=>(pHt(e,typeof t!="symbol"?t+"":t,n),n);class kd{constructor(t,n){d4(this,"data"),d4(this,"type"),this.data=t,this.type=n}isArray(){return this.type==="array"}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(t){for(const n of t)yield nr(n)}(this.data);throw new Error("Cannot iterate over: ".concat(this.type))}}const Me=new kd(null,"null"),Po=new kd(!0,"boolean"),so=new kd(!1,"boolean");class m0{constructor(t){d4(this,"date"),this.date=t}static parseToValue(t){const n=dHt(t);return n?new kd(new m0(n),"datetime"):Me}equals(t){return this.date.getTime()==t.date.getTime()}add(t){const n=new Date(this.date.getTime());return n.setTime(n.getTime()+t*1e3),new m0(n)}difference(t){return(this.date.getTime()-t.date.getTime())/1e3}compareTo(t){return this.date.getTime()-t.date.getTime()}toString(){return fHt(this.date)}toJSON(){return this.toString()}}function za(e){return Number.isFinite(e)?new kd(e,"number"):Me}function Va(e){return new kd(e,"string")}function f4(e){return new kd(e,"datetime")}function mHt(e){return new kd(e,"path")}function gHt(e){return e&&typeof e.next=="function"}function nr(e){return gHt(e)?new hf(async function*(){for await(const t of e)yield nr(t)}):e==null?Me:new kd(e,g0(e))}function g0(e){return e===null||typeof e>"u"?"null":Array.isArray(e)?"array":e instanceof KAe?"path":e instanceof m0?"datetime":typeof e}function PP(e,t){return e.type==="string"&&t.type==="string"||e.type==="boolean"&&t.type==="boolean"||e.type==="null"&&t.type==="null"||e.type==="number"&&t.type==="number"?e.data===t.data:e.type==="datetime"&&t.type==="datetime"?e.data.equals(t.data):!1}const vHt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,yHt=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,ZAe=/(\b\.+|\.+\b)/g,bHt=1024;function xHt(e,t){return e.length===0||t.length===0?!1:t.every(n=>n(e))}function XAe(e){return e.replace(ZAe,"").match(vHt)||[]}function wHt(e){return QAe(e).map(n=>r=>r.some(o=>n.test(o)))}function QAe(e){return(e.replace(ZAe,"").match(yHt)||[]).map(n=>new RegExp("^".concat(n.slice(0,bHt).replace(/\*/g,".*"),"$"),"i"))}async function C5(e,t){if(e.type==="string")return t(e.data),!0;if(e.isArray()){let n=!0;for await(const r of e)r.type==="string"?t(r.data):n=!1;return n}return!1}const vee={datetime:1,number:2,string:3,boolean:4};function Cp(e,t){const n=g0(e),r=g0(t);if(n!==r)return null;switch(n){case"number":case"boolean":return e-t;case"string":return e<t?-1:e>t?1:0;case"datetime":return e.compareTo(t);default:return null}}function CHt(e,t){const n=g0(e),r=g0(t),o=vee[n]||100,i=vee[r]||100;if(o!==i)return o-i;let s=Cp(e,t);return s===null&&(s=0),s}const _Ht={"==":function(t,n){return PP(t,n)?Po:so},"!=":function(t,n){return PP(t,n)?so:Po},">":function(t,n){if(t.type==="stream"||n.type==="stream")return Me;const r=Cp(t.data,n.data);return r===null?Me:r>0?Po:so},">=":function(t,n){if(t.type==="stream"||n.type==="stream")return Me;const r=Cp(t.data,n.data);return r===null?Me:r>=0?Po:so},"<":function(t,n){if(t.type==="stream"||n.type==="stream")return Me;const r=Cp(t.data,n.data);return r===null?Me:r<0?Po:so},"<=":function(t,n){if(t.type==="stream"||n.type==="stream")return Me;const r=Cp(t.data,n.data);return r===null?Me:r<=0?Po:so},in:async function(t,n){if(n.type==="path")return t.type!=="string"?Me:n.data.matches(t.data)?Po:so;if(n.isArray()){for await(const r of n)if(PP(t,r))return Po;return so}return Me},match:async function(t,n){let r=[],o=[];return await C5(t,a=>{r=r.concat(XAe(a))}),await C5(n,a=>{o=o.concat(wHt(a))})&&xHt(r,o)?Po:so},"+":function(t,n){return t.type==="datetime"&&n.type==="number"?f4(t.data.add(n.data)):t.type==="number"&&n.type==="number"?za(t.data+n.data):t.type==="string"&&n.type==="string"?Va(t.data+n.data):t.type==="object"&&n.type==="object"?nr({...t.data,...n.data}):t.type==="array"&&n.type==="array"?nr(t.data.concat(n.data)):t.isArray()&&n.isArray()?new hf(async function*(){for await(const r of t)yield r;for await(const r of n)yield r}):Me},"-":function(t,n){return t.type==="datetime"&&n.type==="number"?f4(t.data.add(-n.data)):t.type==="datetime"&&n.type==="datetime"?za(t.data.difference(n.data)):t.type==="number"&&n.type==="number"?za(t.data-n.data):Me},"*":n2((e,t)=>e*t),"/":n2((e,t)=>e/t),"%":n2((e,t)=>e%t),"**":n2((e,t)=>Math.pow(e,t))};function n2(e){return function(t,n){if(t.type==="number"&&n.type==="number"){const r=e(t.data,n.data);return za(r)}return Me}}var SHt=Object.defineProperty,EHt=(e,t,n)=>t in e?SHt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hg=(e,t,n)=>(EHt(e,typeof t!="symbol"?t+"":t,n),n);class zx{constructor(t,n,r,o,i){hg(this,"params"),hg(this,"source"),hg(this,"value"),hg(this,"parent"),hg(this,"context"),hg(this,"isHidden",!1),this.params=t,this.source=n,this.value=r,this.context=o,this.parent=i}createNested(t){return this.isHidden?new zx(this.params,this.source,t,this.context,this.parent):new zx(this.params,this.source,t,this.context,this)}createHidden(t){const n=this.createNested(t);return n.isHidden=!0,n}}function EB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:EB;const r=kHt[e.type];return r(e,t,n)}function yee(e,t){return"then"in e?e.then(t):t(e)}const kHt={This(e,t){return t.value},Selector(){throw new Error("Selectors can not be evaluated")},Everything(e,t){return t.source},Parameter(e,t){let{name:n}=e;return nr(t.params[n])},Context(e,t){let{key:n}=e;if(n==="before"||n==="after")return t.context[n]||Me;throw new Error("unknown context key: ".concat(n))},Parent(e,t){let{n}=e,r=t;for(let o=0;o<n;o++){if(!r.parent)return Me;r=r.parent}return r.value},OpCall(e,t,n){let{op:r,left:o,right:i}=e;const s=_Ht[r];if(!s)throw new Error("Unknown operator: ".concat(r));const a=n(o,t),c=n(i,t);return"then"in a||"then"in c?(async()=>s(await a,await c))():s(a,c)},async Select(e,t,n){let{alternatives:r,fallback:o}=e;for(const i of r){const s=await n(i.condition,t);if(s.type==="boolean"&&s.data===!0)return n(i.value,t)}return o?n(o,t):Me},async InRange(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t),c=await n(o,t),u=await n(i,t),d=Cp(await a.get(),await c.get());if(d===null)return Me;const f=Cp(await a.get(),await u.get());return f===null?Me:s?d>=0&&f<=0?Po:so:d>=0&&f<0?Po:so},async Filter(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new hf(async function*(){for await(const s of i){const a=t.createNested(s),c=await n(o,a);c.type==="boolean"&&c.data===!0&&(yield s)}}):Me},async Projection(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);if(i.type!=="object")return Me;const s=t.createNested(i);return n(o,s)},FuncCall(e,t,n){let{func:r,args:o}=e;return r(o,t,n)},async PipeFuncCall(e,t,n){let{func:r,base:o,args:i}=e;const s=await n(o,t);return r(s,i,t,n)},async AccessAttribute(e,t,n){let{base:r,name:o}=e,i=t.value;return r&&(i=await n(r,t)),i.type==="object"&&i.data.hasOwnProperty(o)?nr(i.data[o]):Me},async AccessElement(e,t,n){let{base:r,index:o}=e;const i=await n(r,t);if(!i.isArray())return Me;const s=await i.get(),a=o<0?o+s.length:o;return nr(s[a])},async Slice(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t);if(!a.isArray())return Me;const c=await a.get();let u=o,d=i;return u<0&&(u=c.length+u),d<0&&(d=c.length+d),s&&d++,u<0&&(u=0),d<0&&(d=0),nr(c.slice(u,d))},async Deref(e,t,n){let{base:r}=e;const o=await n(r,t);if(!t.source.isArray()||o.type!=="object")return Me;const i=o.data._ref;if(typeof i!="string")return Me;if(t.context.dereference)return nr(await t.context.dereference({_ref:i}));for await(const s of t.source)if(s.type==="object"&&i===s.data._id)return s;return Me},Value(e){let{value:t}=e;return nr(t)},Group(e,t,n){let{base:r}=e;return n(r,t)},async Object(e,t,n){let{attributes:r}=e;const o={};for(const i of r){const s=i.type;switch(i.type){case"ObjectAttributeValue":{const a=await n(i.value,t);o[i.name]=await a.get();break}case"ObjectConditionalSplat":{const a=await n(i.condition,t);if(a.type!=="boolean"||a.data===!1)continue;const c=await n(i.value,t);c.type==="object"&&Object.assign(o,c.data);break}case"ObjectSplat":{const a=await n(i.value,t);a.type==="object"&&Object.assign(o,a.data);break}default:throw new Error("Unknown node type: ".concat(s))}}return nr(o)},Array(e,t,n){let{elements:r}=e;return new hf(async function*(){for(const o of r){const i=await n(o.value,t);if(o.isSplat){if(i.isArray())for await(const s of i)yield s}else yield i}})},Tuple(){throw new Error("tuples can not be evaluated")},async Or(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!0||s.type==="boolean"&&s.data===!0?Po:i.type!=="boolean"||s.type!=="boolean"?Me:so},async And(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!1||s.type==="boolean"&&s.data===!1?so:i.type!=="boolean"||s.type!=="boolean"?Me:Po},async Not(e,t,n){let{base:r}=e;const o=await n(r,t);return o.type!=="boolean"?Me:o.data?so:Po},Neg(e,t,n){let{base:r}=e;return yee(n(r,t),o=>o.type!=="number"?Me:za(-o.data))},Pos(e,t,n){let{base:r}=e;return yee(n(r,t),o=>o.type!=="number"?Me:za(o.data))},Asc(){return Me},Desc(){return Me},async ArrayCoerce(e,t,n){let{base:r}=e;const o=await n(r,t);return o.isArray()?o:Me},async Map(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new hf(async function*(){for await(const s of i){const a=t.createHidden(s);yield await n(o,a)}}):Me},async FlatMap(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new hf(async function*(){for await(const s of i){const a=t.createHidden(s),c=await n(o,a);if(c.isArray())for await(const u of c)yield u;else yield c}}):Me}};function JAe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=nr(t.root),r=nr(t.dataset),o={...t.params},i=new zx(o,r,n,{timestamp:t.timestamp||new Date,identity:t.identity===void 0?"me":t.identity,sanity:t.sanity,after:t.after?nr(t.after):null,before:t.before?nr(t.before):null,dereference:t.dereference},null);return EB(e,i)}function Hy(e){switch(e.type){case"Group":return Hy(e.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return Hy(e.base);case"OpCall":switch(e.op){case"+":case"-":case"*":case"/":case"%":case"**":return Hy(e.left)&&Hy(e.right);default:return!1}default:return!1}}const jHt=new zx({},Me,Me,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function RP(e){return Hy(e)?eDe(e):null}function eDe(e){const t=EB(e,jHt,eDe);if("then"in t)throw new Error("BUG: constant evaluate should never return a promise");return t}async function THt(e){if(e.type==="object")return nDe(e.data);if(e.isArray()){const t=await tDe(e);if(t.length>0)return t.join(`

`)}return null}async function tDe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for await(const n of e)if(n.type==="object"){const r=nDe(n.data);r!==null&&t.push(r)}else n.isArray()&&await tDe(n,t);return t}function nDe(e){if(typeof e._type!="string")return null;const t=e.children;if(!Array.isArray(t))return null;let n="";for(const r of t)r&&typeof r=="object"&&typeof r._type=="string"&&r._type==="span"&&typeof r.text=="string"&&(n+=r.text);return n}const bee=1.2;async function Ig(e,t,n){if(e.type==="OpCall"&&e.op==="match")return AHt(e.left,e.right,t,n);if(e.type==="FuncCall"&&e.name==="boost"){const r=await Ig(e.args[0],t,n),o=await n(e.args[1],t);return o.type==="number"&&r>0?r+o.data:0}switch(e.type){case"Or":{const r=await Ig(e.left,t,n),o=await Ig(e.right,t,n);return r+o}case"And":{const r=await Ig(e.left,t,n),o=await Ig(e.right,t,n);return r===0||o===0?0:r+o}default:{const r=await n(e,t);return r.type==="boolean"&&r.data===!0?1:0}}}async function AHt(e,t,n,r){const o=await r(e,n),i=await r(t,n);let s=[],a=[];if(await C5(o,d=>{s=s.concat(XAe(d))}),!await C5(i,d=>{a=a.concat(QAe(d))})||s.length===0||a.length===0)return 0;let u=0;for(const d of a){const f=s.reduce((p,m)=>p+(d.test(m)?1:0),0);u+=f*(bee+1)/(f+bee)}return u}function h4(e,t){switch(g0(e)){case"array":for(const n of e)if(h4(n,t))return!0;break;case"object":if(e._ref)return t.has(e._ref);for(const n of Object.values(e))if(h4(n,t))return!0;break}return!1}function DHt(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r>=55296&&r<=56319||t++}return t}const Rn={};Rn.anywhere=async function(){throw new Error("not implemented")};Rn.anywhere.arity=1;Rn.coalesce=async function(t,n,r){for(const o of t){const i=await r(o,n);if(i.type!=="null")return i}return Me};Rn.count=async function(t,n,r){const o=await r(t[0],n);if(!o.isArray())return Me;let i=0;for await(const s of o)i++;return za(i)};Rn.count.arity=1;Rn.dateTime=async function(t,n,r){const o=await r(t[0],n);return o.type==="datetime"?o:o.type!=="string"?Me:m0.parseToValue(o.data)};Rn.dateTime.arity=1;Rn.defined=async function(t,n,r){return(await r(t[0],n)).type==="null"?so:Po};Rn.defined.arity=1;Rn.identity=async function(t,n){return Va(n.context.identity)};Rn.identity.arity=0;Rn.length=async function(t,n,r){const o=await r(t[0],n);if(o.type==="string")return za(DHt(o.data));if(o.isArray()){let i=0;for await(const s of o)i++;return za(i)}return Me};Rn.length.arity=1;Rn.path=async function(t,n,r){const o=await r(t[0],n);return o.type!=="string"?Me:mHt(new KAe(o.data))};Rn.path.arity=1;Rn.string=async function(t,n,r){const o=await r(t[0],n);switch(o.type){case"number":case"string":case"boolean":case"datetime":return Va("".concat(o.data));default:return Me}};Rn.string.arity=1;Rn.references=async function(t,n,r){const o=new Set;for(const s of t){const a=await r(s,n);if(a.type==="string")o.add(a.data);else if(a.isArray())for await(const c of a)c.type==="string"&&o.add(c.data)}if(o.size===0)return so;const i=await n.value.get();return h4(i,o)?Po:so};Rn.references.arity=e=>e>=1;Rn.round=async function(t,n,r){const o=await r(t[0],n);if(o.type!=="number")return Me;const i=o.data;let s=0;if(t.length===2){const a=await r(t[1],n);if(a.type!=="number"||a.data<0||!Number.isInteger(a.data))return Me;s=a.data}return s===0?i<0?za(-Math.round(-i)):za(Math.round(i)):za(Number(i.toFixed(s)))};Rn.round.arity=e=>e>=1&&e<=2;Rn.now=async function(t,n){return Va(n.context.timestamp.toISOString())};Rn.now.arity=0;Rn.boost=async function(){throw new Error("unexpected boost call")};Rn.boost.arity=2;const Ql={};Ql.lower=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Me:Va(r.data.toLowerCase())};Ql.lower.arity=1;Ql.upper=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Me:Va(r.data.toUpperCase())};Ql.upper.arity=1;Ql.split=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Me;const o=await n(e[1],t);return o.type!=="string"?Me:r.data.length===0?nr([]):o.data.length===0?nr(Array.from(r.data)):nr(r.data.split(o.data))};Ql.split.arity=2;Rn.lower=Ql.lower;Rn.upper=Ql.upper;Ql.startsWith=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Me;const o=await n(e[1],t);return o.type!=="string"?Me:r.data.startsWith(o.data)?Po:so};Ql.startsWith.arity=2;const Wm={};Wm.join=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Me;const o=await n(e[1],t);if(o.type!=="string")return Me;let i="",s=!1;for await(const a of r){switch(s&&(i+=o.data),a.type){case"number":case"string":case"boolean":case"datetime":i+="".concat(a.data);break;default:return Me}s=!0}return nr(i)};Wm.join.arity=2;Wm.compact=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new hf(async function*(){for await(const o of r)o.type!=="null"&&(yield o)}):Me};Wm.compact.arity=1;Wm.unique=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new hf(async function*(){const o=new Set;for await(const i of r)switch(i.type){case"number":case"string":case"boolean":case"datetime":o.has(i.data)||(o.add(i.data),yield i);break;default:yield i}}):Me};Wm.unique.arity=1;const kB={};kB.text=async function(e,t,n){const r=await n(e[0],t),o=await THt(r);return o===null?Me:Va(o)};kB.text.arity=1;const jB={};jB.projectId=async function(e,t){return t.context.sanity?Va(t.context.sanity.projectId):Me};jB.dataset=async function(e,t){return t.context.sanity?Va(t.context.sanity.dataset):Me};const hC={};hC.order=async function(t,n,r,o){if(await!0,!t.isArray())return Me;const i=[],s=[];let a=0;for(let d of n){let f="asc";d.type==="Desc"?(f="desc",d=d.base):d.type==="Asc"&&(d=d.base),i.push(d),s.push(f),a++}const c=[];let u=0;for await(const d of t){const f=r.createNested(d),p=[await d.get(),u];for(let m=0;m<a;m++){const v=await o(i[m],f);p.push(await v.get())}c.push(p),u++}return c.sort((d,f)=>{for(let p=0;p<a;p++){let m=CHt(d[p+2],f[p+2]);if(s[p]==="desc"&&(m=-m),m!==0)return m}return d[1]-f[1]}),nr(c.map(d=>d[0]))};hC.order.arity=e=>e>=1;hC.score=async function(t,n,r,o){if(!t.isArray())return Me;const i=[],s=[];for await(const a of t){if(a.type!=="object"){i.push(await a.get());continue}const c=r.createNested(a);let u=typeof a.data._score=="number"?a.data._score:0;for(const f of n)u+=await Ig(f,c,o);const d=Object.assign({},a.data,{_score:u});s.push(d)}return s.sort((a,c)=>c._score-a._score),nr(s)};hC.score.arity=e=>e>=1;const wh={};wh.operation=async function(e,t){const n=t.context.before!==null,r=t.context.after!==null;return n&&r?Va("update"):r?Va("create"):n?Va("delete"):Me};wh.changedAny=()=>{throw new Error("not implemented")};wh.changedAny.arity=1;wh.changedAny.mode="delta";wh.changedOnly=()=>{throw new Error("not implemented")};wh.changedOnly.arity=1;wh.changedOnly.mode="delta";const pC={};pC.changedAny=()=>{throw new Error("not implemented")};pC.changedAny.arity=3;pC.changedOnly=()=>{throw new Error("not implemented")};pC.changedOnly.arity=3;const jd={};jd.min=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Me;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Me;(o===void 0||i.data<o)&&(o=i.data)}return nr(o)};jd.min.arity=1;jd.max=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Me;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Me;(o===void 0||i.data>o)&&(o=i.data)}return nr(o)};jd.max.arity=1;jd.sum=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Me;let o=0;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Me;o+=i.data}return nr(o)};jd.sum.arity=1;jd.avg=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Me;let o=0,i=0;for await(const s of r)if(s.type!=="null"){if(s.type!=="number")return Me;o+=s.data,i++}return i===0?Me:nr(o/i)};jd.avg.arity=1;const TB={};TB.now=async function(t,n,r){return f4(new m0(n.context.timestamp))};TB.now.arity=0;const IHt={global:Rn,string:Ql,array:Wm,pt:kB,delta:wh,diff:pC,sanity:jB,math:jd,dateTime:TB};var OHt=Object.defineProperty,PHt=(e,t,n)=>t in e?OHt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uy=(e,t,n)=>(PHt(e,typeof t!="symbol"?t+"":t,n),n);class RHt{constructor(t,n,r){uy(this,"string"),uy(this,"marks"),uy(this,"index"),uy(this,"parseOptions"),uy(this,"allowBoost",!1),this.string=t,this.marks=n,this.index=0,this.parseOptions=r}hasMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.index+t<this.marks.length}getMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.marks[this.index+t]}shift(){this.index+=1}process(t){const n=this.marks[this.index];this.shift();const r=t[n.name];if(!r)throw new Error("Unknown handler: ".concat(n.name));return r.call(t,this,n)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const t=this.marks[this.index-1],n=this.marks[this.index];return this.shift(),this.string.slice(t.position,n.position)}slice(t){const n=this.marks[this.index].position;return this.string.slice(n,n+t)}}const $Ht=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,$P=/^\d+/,_p=/^[a-zA-Z_][a-zA-Z_0-9]*/,r2=1,o2=2,i2=3,to=4,pg=4,s2=6,a2=6,l2=7,c2=7,u2=7,d2=8,MHt=10,FHt=10,LHt=8;function BHt(e){let t=0;t=tt(e,t);let n=En(e,t,0);return n.type==="error"?n:(t=tt(e,n.position),t!==e.length?(n.failPosition&&(t=n.failPosition-1),{type:"error",position:t}):(delete n.position,delete n.failPosition,n))}function En(e,t,n){let r=t,o=e[t],i;switch(o){case"+":{let u=En(e,tt(e,t+1),MHt);if(u.type==="error")return u;i=[{name:"pos",position:r}].concat(u.marks),t=u.position;break}case"-":{let u=En(e,tt(e,t+1),LHt);if(u.type==="error")return u;i=[{name:"neg",position:r}].concat(u.marks),t=u.position;break}case"(":{let u=En(e,tt(e,t+1),0);if(u.type==="error")return u;switch(t=tt(e,u.position),e[t]){case",":{for(i=[{name:"tuple",position:r}].concat(u.marks),t=tt(e,t+1);;){if(u=En(e,t,0),u.type==="error")return u;if(t=tt(e,u.position),e[t]!==",")break;t=tt(e,t+1)}if(e[t]!==")")return{type:"error",position:t};t++,i.push({name:"tuple_end",position:t});break}case")":{t++,i=[{name:"group",position:r}].concat(u.marks);break}default:return{type:"error",position:t}}break}case"!":{let u=En(e,tt(e,t+1),FHt);if(u.type==="error")return u;i=[{name:"not",position:r}].concat(u.marks),t=u.position;break}case"{":{let u=p4(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"[":if(i=[{name:"array",position:t}],t=tt(e,t+1),e[t]!=="]")for(;;){e.slice(t,t+3)==="..."&&(i.push({name:"array_splat",position:t}),t=tt(e,t+3));let u=En(e,t,0);if(u.type==="error")return u;if(i=i.concat(u.marks),t=u.position,t=tt(e,t),e[t]!==","||(t=tt(e,t+1),e[t]==="]"))break}if(e[t]==="]")t++,i.push({name:"array_end",position:t});else return{type:"error",position:t};break;case"'":case'"':{let u=NHt(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"^":{for(t++,i=[];e[t]==="."&&e[t+1]==="^";)i.push({name:"dblparent",position:r}),t+=2;i.push({name:"parent",position:r});break}case"@":i=[{name:"this",position:r}],t++;break;case"*":i=[{name:"everything",position:r}],t++;break;case"$":{let u=xc(e,t+1,_p);u&&(t+=1+u,i=[{name:"param",position:r},{name:"ident",position:r+1},{name:"ident_end",position:t}]);break}default:{let u=xc(e,t,$P);if(u){t+=u;let f="integer";if(e[t]==="."){let p=xc(e,t+1,$P);p&&(f="float",t+=1+p)}if(e[t]==="e"||e[t]==="E"){f="sci",t++,(e[t]==="+"||e[t]==="-")&&t++;let p=xc(e,t,$P);if(!p)return{type:"error",position:t};t+=p}i=[{name:f,position:r},{name:f+"_end",position:t}];break}let d=xc(e,t,_p);if(d){switch(t+=d,e[t]){case":":case"(":{let f=wee(e,r,t);if(f.type==="error")return f;i=f.marks,t=f.position;break}default:i=[{name:"this_attr",position:r},{name:"ident",position:r},{name:"ident_end",position:t}]}break}}}if(!i)return{type:"error",position:t};let s=12,a;e:for(;;){let u=tt(e,t);if(u===e.length){t=u;break}if(a=xee(e,u),a.type==="success"){for(i.unshift({name:"traverse",position:r});a.type==="success";)i=i.concat(a.marks),t=a.position,a=xee(e,tt(e,t));i.push({name:"traversal_end",position:t});continue}switch(e[u]){case"=":{switch(e[u+1]){case">":{if(n>r2||s<=r2)break e;let p=En(e,tt(e,u+2),r2);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pair",position:r}),t=p.position,s=r2;break}case"=":{if(n>to||s<=to)break e;let p=En(e,tt(e,u+2),to+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(p.marks),t=p.position,s=to;break}default:break e}break}case"+":{if(n>s2||s<s2)break e;let f=En(e,tt(e,u+1),s2+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"add",position:r}),t=f.position,s=s2;break}case"-":{if(n>a2||s<a2)break e;let f=En(e,tt(e,u+1),a2+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"sub",position:r}),t=f.position,s=a2;break}case"*":{if(e[u+1]==="*"){if(n>d2||s<=d2)break e;let p=En(e,tt(e,u+2),d2);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pow",position:r}),t=p.position,s=d2;break}if(n>l2||s<l2)break e;let f=En(e,tt(e,u+1),l2+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mul",position:r}),t=f.position,s=l2;break}case"/":{if(n>c2||s<c2)break e;let f=En(e,tt(e,u+1),c2+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"div",position:r}),t=f.position,s=c2;break}case"%":{if(n>u2||s<u2)break e;let f=En(e,tt(e,u+1),u2+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mod",position:r}),t=f.position,s=u2;break}case"<":case">":{if(n>to||s<=to)break e;let f=u+1;e[f]==="="&&f++;let p=En(e,tt(e,f),to+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:f}),i=i.concat(p.marks),t=p.position,s=to;break}case"|":{if(e[u+1]==="|"){if(n>o2||s<o2)break e;let f=En(e,tt(e,u+2),o2+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"or",position:r}),t=f.position,s=o2}else{if(n>11||s<11)break e;let f=tt(e,u+1),p=xc(e,f,_p);if(!p)return{type:"error",position:f};if(t=f+p,e[t]==="("||e[t]===":"){let m=wee(e,f,t);if(m.type==="error")return m;i=i.concat(m.marks),i.unshift({name:"pipecall",position:r}),t=m.position,s=11}}break}case"&":{if(e[u+1]!="&"||n>i2||s<i2)break e;let f=En(e,tt(e,u+2),i2+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"and",position:r}),t=f.position,s=i2;break}case"!":{if(e[u+1]!=="="||n>to||s<=to)break e;let f=En(e,tt(e,u+2),to+1);if(f.type==="error")return f;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(f.marks),t=f.position,s=to;break}case"d":{if(e.slice(u,u+4)!=="desc"||n>pg||s<pg)break e;i.unshift({name:"desc",position:r}),t=u+4,s=pg;break}case"a":{if(e.slice(u,u+3)!=="asc"||n>pg||s<pg)break e;i.unshift({name:"asc",position:r}),t=u+3,s=pg;break}default:switch(zHt(e,u,_p)){case"in":{if(n>to||s<=to)break e;t=tt(e,u+2);let p=!1;e[t]==="("&&(p=!0,t=tt(e,t+1));let m=t,v=En(e,t,to+1);if(v.type==="error")return v;if(t=tt(e,v.position),e[t]==="."&&e[t+1]==="."){let g="inc_range";e[t+2]==="."?(g="exc_range",t=tt(e,t+3)):t=tt(e,t+2);let y=En(e,t,to+1);if(y.type==="error")return y;i.unshift({name:"in_range",position:r}),i=i.concat({name:g,position:m},v.marks,y.marks),t=y.position}else i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(v.marks);if(p){if(t=tt(e,t),e[t]!==")")return{type:"error",position:t};t++}s=to;break}case"match":{if(n>to||s<=to)break e;let p=En(e,tt(e,u+5),to+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+5}),i=i.concat(p.marks),t=p.position,s=4;break}default:break e}}}let c=(a==null?void 0:a.type)==="error"&&a.position;return{type:"success",marks:i,position:t,failPosition:c}}function xee(e,t){let n=t;switch(e[t]){case".":{t=tt(e,t+1);let s=t,a=xc(e,t,_p);return a?(t+=a,{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:s},{name:"ident_end",position:t}],position:t}):{type:"error",position:t}}case"-":if(e[t+1]!==">")return{type:"error",position:t};let r=[{name:"deref",position:n}];t+=2;let o=tt(e,t),i=xc(e,o,_p);return i&&(t=o+i,r.push({name:"deref_attr",position:o},{name:"ident",position:o},{name:"ident_end",position:t})),{type:"success",marks:r,position:t};case"[":{if(t=tt(e,t+1),e[t]==="]")return{type:"success",marks:[{name:"array_postfix",position:n}],position:t+1};let s=t,a=En(e,t,0);if(a.type==="error")return a;if(t=tt(e,a.position),e[t]==="."&&e[t+1]==="."){let c="inc_range";e[t+2]==="."?(c="exc_range",t+=3):t+=2,t=tt(e,t);let u=En(e,t,0);return u.type==="error"?u:(t=tt(e,u.position),e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"slice",position:n},{name:c,position:s}].concat(a.marks,u.marks),position:t+1})}return e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(a.marks),position:t+1}}case"|":{if(t=tt(e,t+1),e[t]==="{"){let s=p4(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}break}case"{":{let s=p4(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}}return{type:"error",position:t}}function wee(e,t,n){let r=[];if(r.push({name:"func_call",position:t}),e[n]===":"&&e[n+1]===":"){r.push({name:"namespace",position:t}),r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=tt(e,n+2);let i=xc(e,n,_p);if(!i)return{type:"error",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+i}),n=tt(e,n+i),e[n]!=="(")return{type:"error",position:n};n++,n=tt(e,n)}else r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=tt(e,n+1);let o=n;if(e[n]!==")")for(;;){let i=En(e,n,0);if(i.type==="error")return i;if(r=r.concat(i.marks),o=i.position,n=tt(e,i.position),e[n]!==","||(n=tt(e,n+1),e[n]===")"))break}return e[n]!==")"?{type:"error",position:n}:(r.push({name:"func_args_end",position:o}),{type:"success",marks:r,position:n+1})}function p4(e,t){let n=[{name:"object",position:t}];for(t=tt(e,t+1);e[t]!=="}";){let r=t;if(e.slice(t,t+3)==="...")if(t=tt(e,t+3),e[t]!=="}"&&e[t]!==","){let o=En(e,t,0);if(o.type==="error")return o;n.push({name:"object_splat",position:r}),n=n.concat(o.marks),t=o.position}else n.push({name:"object_splat_this",position:r});else{let o=En(e,t,0);if(o.type==="error")return o;let i=tt(e,o.position);if(o.marks[0].name==="str"&&e[i]===":"){let s=En(e,tt(e,i+1),0);if(s.type==="error")return s;n.push({name:"object_pair",position:r}),n=n.concat(o.marks,s.marks),t=s.position}else n=n.concat({name:"object_expr",position:t},o.marks),t=o.position}if(t=tt(e,t),e[t]!==",")break;t=tt(e,t+1)}return e[t]!=="}"?{type:"error",position:t}:(t++,n.push({name:"object_end",position:t}),{type:"success",marks:n,position:t})}function NHt(e,t){let n=e[t];t=t+1;const r=[{name:"str",position:t}];e:for(;;t++){if(t>e.length)return{type:"error",position:t};switch(e[t]){case n:{r.push({name:"str_end",position:t}),t++;break e}case"\\":r.push({name:"str_pause",position:t}),e[t+1]==="u"?e[t+2]==="{"?(r.push({name:"unicode_hex",position:t+3}),t=e.indexOf("}",t+3),r.push({name:"unicode_hex_end",position:t})):(r.push({name:"unicode_hex",position:t+2}),r.push({name:"unicode_hex_end",position:t+6}),t+=5):(r.push({name:"single_escape",position:t+1}),t+=1),r.push({name:"str_start",position:t+1})}}return{type:"success",marks:r,position:t}}function tt(e,t){return t+xc(e,t,$Ht)}function xc(e,t,n){let r=n.exec(e.slice(t));return r?r[0].length:0}function zHt(e,t,n){let r=n.exec(e.slice(t));return r?r[0]:null}function Ma(e,t){return n=>t(e(n))}function m4(e){return t=>({type:"Map",base:t,expr:e({type:"This"})})}function VHt(e){return t=>({type:"FlatMap",base:t,expr:e({type:"This"})})}function BS(e,t){if(!t)return{type:"a-a",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Ma(e,t.build)};case"a-b":return{type:"a-b",build:Ma(e,t.build)};case"b-b":return{type:"a-a",build:Ma(e,m4(t.build))};case"b-a":return{type:"a-a",build:Ma(e,VHt(t.build))};default:throw new Error("unknown type: ".concat(t.type))}}function MP(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"b-a",build:Ma(e,t.build)};case"a-b":case"b-b":return{type:"b-b",build:Ma(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function HHt(e,t){if(!t)return{type:"a-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"a-a",build:Ma(e,t.build)};case"a-b":case"b-b":return{type:"a-b",build:Ma(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function UHt(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Ma(m4(e),t.build)};case"a-b":return{type:"a-b",build:Ma(m4(e),t.build)};case"b-a":return{type:"b-a",build:Ma(e,t.build)};case"b-b":return{type:"b-b",build:Ma(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}var WHt=Object.defineProperty,YHt=(e,t,n)=>t in e?WHt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g4=(e,t,n)=>(YHt(e,typeof t!="symbol"?t+"":t,n),n);const qHt={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function GHt(e){const t=parseInt(e,16);return String.fromCharCode(t)}class Yi extends Error{constructor(){super(...arguments),g4(this,"name","GroqQueryError")}}const ut={group(e){return{type:"Group",base:e.process(ut)}},everything(){return{type:"Everything"}},this(){return{type:"This"}},parent(){return{type:"Parent",n:1}},dblparent(e){return{type:"Parent",n:e.process(ut).n+1}},traverse(e){const t=e.process(ut),n=[];for(;e.getMark().name!=="traversal_end";)n.push(e.process(rDe));e.shift();let r=null;for(let o=n.length-1;o>=0;o--)r=n[o](r);if((t.type==="Everything"||t.type==="Array"||t.type==="PipeFuncCall")&&(r=BS(o=>o,r)),r===null)throw new Error("BUG: unexpected empty traversal");return r.build(t)},this_attr(e){const t=e.processString();return t==="null"?{type:"Value",value:null}:t==="true"?{type:"Value",value:!0}:t==="false"?{type:"Value",value:!1}:{type:"AccessAttribute",name:t}},neg(e){return{type:"Neg",base:e.process(ut)}},pos(e){return{type:"Pos",base:e.process(ut)}},add(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"+",left:t,right:n}},sub(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"-",left:t,right:n}},mul(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"*",left:t,right:n}},div(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"/",left:t,right:n}},mod(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"%",left:t,right:n}},pow(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"**",left:t,right:n}},comp(e){const t=e.process(ut),n=e.processString(),r=e.process(ut);return{type:"OpCall",op:n,left:t,right:r}},in_range(e){const t=e.process(ut),n=e.getMark().name==="inc_range";e.shift();const r=e.process(ut),o=e.process(ut);return{type:"InRange",base:t,left:r,right:o,isInclusive:n}},str(e){let t="";e:for(;e.hasMark();){const n=e.getMark();switch(n.name){case"str_end":t+=e.processStringEnd();break e;case"str_pause":t+=e.processStringEnd();break;case"str_start":e.shift();break;case"single_escape":{const r=e.slice(1);e.shift(),t+=qHt[r];break}case"unicode_hex":e.shift(),t+=GHt(e.processStringEnd());break;default:throw new Error("unexpected mark: ".concat(n.name))}}return{type:"Value",value:t}},integer(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},float(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},sci(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},object(e){const t=[];for(;e.getMark().name!=="object_end";)t.push(e.process(KHt));return e.shift(),{type:"Object",attributes:t}},array(e){const t=[];for(;e.getMark().name!=="array_end";){let n=!1;e.getMark().name==="array_splat"&&(n=!0,e.shift());const r=e.process(ut);t.push({type:"ArrayElement",value:r,isSplat:n})}return e.shift(),{type:"Array",elements:t}},tuple(e){const t=[];for(;e.getMark().name!=="tuple_end";)t.push(e.process(ut));return e.shift(),{type:"Tuple",members:t}},func_call(e){let t="global";e.getMark().name==="namespace"&&(e.shift(),t=e.processString());const n=e.processString();if(t==="global"&&n==="select"){const s={type:"Select",alternatives:[]};for(;e.getMark().name!=="func_args_end";)if(e.getMark().name==="pair"){if(s.fallback)throw new Yi("unexpected argument to select()");e.shift();const a=e.process(ut),c=e.process(ut);s.alternatives.push({type:"SelectAlternative",condition:a,value:c})}else{if(s.fallback)throw new Yi("unexpected argument to select()");const a=e.process(ut);s.fallback=a}return e.shift(),s}const r=[];for(;e.getMark().name!=="func_args_end";)ZHt(t,n,r.length)?(e.process(v4),r.push({type:"Selector"})):r.push(e.process(ut));if(e.shift(),t==="global"&&(n==="before"||n==="after")&&e.parseOptions.mode==="delta")return{type:"Context",key:n};if(t==="global"&&n==="boost"&&!e.allowBoost)throw new Yi("unexpected boost");const o=IHt[t];if(!o)throw new Yi("Undefined namespace: ".concat(t));const i=o[n];if(!i)throw new Yi("Undefined function: ".concat(n));if(i.arity!==void 0&&Cee(n,i.arity,r.length),i.mode!==void 0&&i.mode!==e.parseOptions.mode)throw new Yi("Undefined function: ".concat(n));return{type:"FuncCall",func:i,namespace:t,name:n,args:r}},pipecall(e){const t=e.process(ut);e.shift();let n="global";if(e.getMark().name==="namespace"&&(e.shift(),n=e.processString()),n!=="global")throw new Yi("Undefined namespace: ".concat(n));const r=e.processString(),o=[],i=e.allowBoost;for(r==="score"&&(e.allowBoost=!0);;){const a=e.getMark().name;if(a==="func_args_end")break;if(r==="order"){if(a==="asc"){e.shift(),o.push({type:"Asc",base:e.process(ut)});continue}else if(a==="desc"){e.shift(),o.push({type:"Desc",base:e.process(ut)});continue}}o.push(e.process(ut))}e.shift(),e.allowBoost=i;const s=hC[r];if(!s)throw new Yi("Undefined pipe function: ".concat(r));return s.arity&&Cee(r,s.arity,o.length),{type:"PipeFuncCall",func:s,base:t,name:r,args:o}},pair(e){throw new Yi("unexpected =>")},and(e){const t=e.process(ut),n=e.process(ut);return{type:"And",left:t,right:n}},or(e){const t=e.process(ut),n=e.process(ut);return{type:"Or",left:t,right:n}},not(e){return{type:"Not",base:e.process(ut)}},asc(e){throw new Yi("unexpected asc")},desc(e){throw new Yi("unexpected desc")},param(e){const t=e.processString();return e.parseOptions.params&&e.parseOptions.params.hasOwnProperty(t)?{type:"Value",value:e.parseOptions.params[t]}:{type:"Parameter",name:t}}},KHt={object_expr(e){if(e.getMark().name==="pair"){e.shift();const n=e.process(ut),r=e.process(ut);return{type:"ObjectConditionalSplat",condition:n,value:r}}const t=e.process(ut);return{type:"ObjectAttributeValue",name:oDe(t),value:t}},object_pair(e){const t=e.process(ut);if(t.type!=="Value")throw new Error("name must be string");const n=e.process(ut);return{type:"ObjectAttributeValue",name:t.value,value:n}},object_splat(e){return{type:"ObjectSplat",value:e.process(ut)}},object_splat_this(){return{type:"ObjectSplat",value:{type:"This"}}}},rDe={square_bracket(e){const t=e.process(ut),n=RP(t);return n&&n.type==="number"?r=>HHt(o=>({type:"AccessElement",base:o,index:n.data}),r):n&&n.type==="string"?r=>MP(o=>({type:"AccessAttribute",base:o,name:n.data}),r):r=>BS(o=>({type:"Filter",base:o,expr:t}),r)},slice(e){const t=e.getMark().name==="inc_range";e.shift();const n=e.process(ut),r=e.process(ut),o=RP(n),i=RP(r);if(!o||!i||o.type!=="number"||i.type!=="number")throw new Yi("slicing must use constant numbers");return s=>BS(a=>({type:"Slice",base:a,left:o.data,right:i.data,isInclusive:t}),s)},projection(e){const t=e.process(ut);return n=>UHt(r=>({type:"Projection",base:r,expr:t}),n)},attr_access(e){const t=e.processString();return n=>MP(r=>({type:"AccessAttribute",base:r,name:t}),n)},deref(e){let t=null;e.getMark().name==="deref_attr"&&(e.shift(),t=e.processString());const n=r=>t?{type:"AccessAttribute",base:r,name:t}:r;return r=>MP(o=>n({type:"Deref",base:o}),r)},array_postfix(e){return t=>BS(n=>({type:"ArrayCoerce",base:n}),t)}},v4={group(e){return e.process(v4),null},everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(e){throw new Error("Invalid selector syntax")},traverse(e){for(e.process(v4);e.getMark().name!=="traversal_end";)e.process(rDe);return e.shift(),null},this_attr(e){return e.processString(),null},neg(e){throw new Error("Invalid selector syntax")},pos(e){throw new Error("Invalid selector syntax")},add(e){throw new Error("Invalid selector syntax")},sub(e){throw new Error("Invalid selector syntax")},mul(e){throw new Error("Invalid selector syntax")},div(e){throw new Error("Invalid selector syntax")},mod(e){throw new Error("Invalid selector syntax")},pow(e){throw new Error("Invalid selector syntax")},comp(e){throw new Error("Invalid selector syntax")},in_range(e){throw new Error("Invalid selector syntax")},str(e){throw new Error("Invalid selector syntax")},integer(e){throw new Error("Invalid selector syntax")},float(e){throw new Error("Invalid selector syntax")},sci(e){throw new Error("Invalid selector syntax")},object(e){throw new Error("Invalid selector syntax")},array(e){throw new Error("Invalid selector syntax")},tuple(e){throw new Error("Invalid selector syntax")},func_call(e,t){const n=ut.func_call(e,t);if(n.name==="anywhere"&&n.args.length===1)return null;throw new Error("Invalid selector syntax")},pipecall(e){throw new Error("Invalid selector syntax")},pair(e){throw new Error("Invalid selector syntax")},and(e){throw new Error("Invalid selector syntax")},or(e){throw new Error("Invalid selector syntax")},not(e){throw new Error("Invalid selector syntax")},asc(e){throw new Error("Invalid selector syntax")},desc(e){throw new Error("Invalid selector syntax")},param(e){throw new Error("Invalid selector syntax")}};function oDe(e){if(e.type==="AccessAttribute"&&!e.base)return e.name;if(e.type==="Deref"||e.type==="Map"||e.type==="Projection"||e.type==="Slice"||e.type==="Filter"||e.type==="AccessElement"||e.type==="ArrayCoerce")return oDe(e.base);throw new Yi("Cannot determine property key for type: ".concat(e.type))}function Cee(e,t,n){if(typeof t=="number"){if(n!==t)throw new Yi("Incorrect number of arguments to function ".concat(e,"(). Expected ").concat(t,", got ").concat(n,"."))}else if(t&&!t(n))throw new Yi("Incorrect number of arguments to function ".concat(e,"()."))}function ZHt(e,t,n){const r=["changedAny","changedOnly"];return e=="diff"&&n==2&&r.includes(t)}class XHt extends Error{constructor(t){super("Syntax error in GROQ query at position ".concat(t)),g4(this,"position"),g4(this,"name","GroqSyntaxError"),this.position=t}}function iDe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=BHt(e);if(n.type==="error")throw new XHt(n.position);return new RHt(e,n.marks,t).process(ut)}function QHt(e,t=hrt){return n=>{const r=n;let o=null,i=null;const s=new $m,a=s.pipe(Lrt((c,u)=>c+u,0),S_e(c=>c===0?OG(e,t).pipe(W$(()=>{o&&(o.unsubscribe(),o=null),i&&(i.unsubscribe(),i=null)})):!o&&c>0?OG(0,t).pipe(W$(()=>{o||(o=r.connect())})):jrt));return Art(()=>(i||(i=a.subscribe()),s.next(1),{unsubscribe:()=>s.next(-1)}),()=>n)}}var JHt=Object.defineProperty,eUt=(e,t,n)=>t in e?JHt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mg=(e,t,n)=>(eUt(e,typeof t!="symbol"?t+"":t,n),n);const tUt=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class sDe{constructor(t,n,r){mg(this,"model"),mg(this,"root"),mg(this,"patch"),mg(this,"i"),mg(this,"inputStack"),mg(this,"outputStack"),this.model=t,this.root=n,this.patch=r,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let n=this.read(),r=tUt[n];if(!r)throw new Error("Unknown opcode: ".concat(n));let o="process".concat(r);this[o].apply(this)}let t=this.outputStack.pop();return this.finalizeOutput(t)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(t,n){return t.keys||(t.keys=this.model.objectGetKeys(t.value).sort()),t.keys[n]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyArray(t.value)),t.writeValue}outputObject(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyObject(t.value)),t.writeValue}outputString(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyString(t.value)),t.writeValue}finalizeOutput(t){return t.writeValue?this.model.finalize(t.writeValue):t.value}processValue(){let t=this.model.wrap(this.read());this.outputStack.push({value:t})}processCopy(){let t=this.inputEntry();this.outputStack.push({value:t.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let t=this.outputStack.pop(),n=this.finalizeOutput(t),r=this.outputArray();this.model.arrayAppendValue(r,n)}processReturnIntoObject(){let t=this.read(),n=this.outputStack.pop(),r=this.finalizeOutput(n);r=this.model.markChanged(r);let o=this.outputObject();this.model.objectSetField(o,t,r)}processReturnIntoObjectSameKey(){let t=this.inputEntry(),n=this.outputStack.pop(),r=this.finalizeOutput(n),o=this.outputObject();this.model.objectSetField(o,t.key,r)}processPushField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.model.objectGetField(n.value,r);this.inputStack.push({value:o,key:r})}processPushElement(){let t=this.read(),n=this.inputEntry(),r=this.model.arrayGetElement(n.value,t);this.inputStack.push({value:r})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.outputObject();this.model.objectDeleteField(o,r)}processArrayAppendValue(){let t=this.model.wrap(this.read()),n=this.outputArray();this.model.arrayAppendValue(n,t)}processArrayAppendSlice(){let t=this.read(),n=this.read(),r=this.outputArray(),o=this.inputEntry().value;this.model.arrayAppendSlice(r,o,t,n)}processStringAppendString(){let t=this.model.wrap(this.read()),n=this.outputString();this.model.stringAppendValue(n,t)}processStringAppendSlice(){let t=this.read(),n=this.read(),r=this.outputString(),o=this.inputEntry().value;this.model.stringAppendSlice(r,o,t,n)}}function mC(e){return e>>16?4:e>>11?3:e>>7?2:1}function y4(e){let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n),o=mC(r);o==4&&n++,t+=o}return t}function _ee(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=n,o=0;for(o=n;r<t;o++){let i=e.codePointAt(o),s=mC(i);s===4&&o++,r+=s}return o}function nUt(e,t){let n=Math.min(e.length,t.length),r=0;for(let o=0;o<n;){let i=e.codePointAt(o),s=t.codePointAt(o);if(i!==s)return r;let a=mC(i);r+=a,o+=a===4?2:1}return r}function rUt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Math.min(e.length,t.length)-n,o=0;for(let i=0;i<r;){let s=e.codePointAt(e.length-1-i),a=t.codePointAt(t.length-1-i);if(s!==a)return o;let c=mC(s);o+=c,i+=c===4?2:1}return o}var oUt=Object.defineProperty,iUt=(e,t,n)=>t in e?oUt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sUt=(e,t,n)=>(iUt(e,typeof t!="symbol"?t+"":t,n),n);class b4{constructor(t){sUt(this,"meta"),this.meta=t}wrap(t){return this.wrapWithMeta(t,this.meta,this.meta)}wrapWithMeta(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.meta;return{data:t,startMeta:n,endMeta:r}}asObject(t){if(!t.content){let n={};for(let[r,o]of Object.entries(t.data))n[r]=this.wrapWithMeta(o,t.startMeta);t.content={type:"object",fields:n}}return t.content}asArray(t){if(!t.content){let n=t.data.map(o=>this.wrapWithMeta(o,t.startMeta)),r=n.map(()=>this.meta);t.content={type:"array",elements:n,metas:r}}return t.content}asString(t){if(!t.content){let n=t.data,r={value:n,utf8size:y4(n),uses:[],startMeta:t.startMeta,endMeta:t.endMeta};t.content=this.stringFromParts([r])}return t.content}stringFromParts(t){let n={type:"string",parts:t};for(let r of t)r.uses.push(n);return n}objectGetKeys(t){return t.content?Object.keys(t.content.fields):Object.keys(t.data)}objectGetField(t,n){return this.asObject(t).fields[n]}arrayGetElement(t,n){return this.asArray(t).elements[n]}finalize(t){return this.updateEndMeta(t),{content:t,startMeta:this.meta,endMeta:this.meta}}markChanged(t){return this.wrap(_u(t))}updateEndMeta(t){if(t.type=="string")for(let n of t.parts)n.endMeta=this.meta;else if(t.type==="array")for(let n of t.elements)n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta;else for(let n of Object.values(t.fields))n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta}copyString(t){if(t){let n=this.asString(t);return this.stringFromParts(n.parts.slice())}else return{type:"string",parts:[]}}copyObject(t){let n={type:"object",fields:{}};if(t){let r=this.asObject(t);Object.assign(n.fields,r.fields)}return n}copyArray(t){let n=t?this.asArray(t):null,r=n?n.elements:[],o=n?n.metas:[];return{type:"array",elements:r,metas:o}}objectSetField(t,n,r){t.fields[n]=r}objectDeleteField(t,n){delete t.fields[n]}arrayAppendValue(t,n){t.elements.push(n),t.metas.push(this.meta)}arrayAppendSlice(t,n,r,o){let i=this.asArray(n),s=i.elements.length===r;if(t.elements.push(...i.elements.slice(r,o)),s)t.metas.push(...i.metas.slice(r,o));else for(let a=r;a<o;a++)t.metas.push(this.meta)}stringAppendValue(t,n){let r=this.asString(n);for(let o of r.parts)this.stringAppendPart(t,o)}stringAppendPart(t,n){t.parts.push(n),n.uses.push(t)}resolveStringPart(t,n,r){if(r===0)return n;for(let o=n;o<t.parts.length;o++){let i=t.parts[o];if(r===i.utf8size)return o+1;if(r<i.utf8size)return this.splitString(i,r),o+1;r-=i.utf8size}throw new Error("splitting string out of bounds")}splitString(t,n){let r,o,i=n,s=t.utf8size-i;if(t.utf8size!==t.value.length){let c=0;for(n=0;c<i;n++){let u=t.value.codePointAt(n),d=mC(u);d===4&&n++,c+=d}}r=t.value.slice(0,n),o=t.value.slice(n);let a={value:o,utf8size:s,uses:t.uses.slice(),startMeta:t.startMeta,endMeta:t.endMeta};t.value=r,t.utf8size=i;for(let c of t.uses){let u=c.parts.indexOf(t);if(u===-1)throw new Error("bug: mismatch between string parts and use.");c.parts.splice(u+1,0,a)}}stringAppendSlice(t,n,r,o){let i=this.asString(n),s=this.resolveStringPart(i,0,r),a=this.resolveStringPart(i,s,o-r);for(let c=s;c<a;c++){let u=i.parts[c];this.stringAppendPart(t,u)}}}function aUt(e,t){return{data:e,startMeta:t,endMeta:t}}function _u(e){if(typeof e.data<"u")return e.data;let t,n=e.content;switch(n.type){case"string":t=n.parts.map(r=>r.value).join("");break;case"array":t=n.elements.map(r=>_u(r));break;case"object":{t={};for(let[r,o]of Object.entries(n.fields))t[r]=_u(o)}}return e.data=t,t}function x4(e){return e.content?e.content.type:Array.isArray(e.data)?"array":e.data===null?"null":typeof e.data}function w4(e,t){let n=x4(e),r=x4(t);if(n!==r)return t;let o=new b4(e.endMeta),i=new b4(t.endMeta);switch(n){case"object":{let s=o.asObject(e),a=i.asObject(t),c=0,u=Object.keys(s.fields).length,d=Object.keys(a.fields).length;for(let[p,m]of Object.entries(a.fields)){let v=s.fields[p];v&&(a.fields[p]=w4(v,m),a.fields[p]===v&&c++)}return u===d&&u===c?e:t}case"array":{let s=o.asArray(e),a=i.asArray(t);if(s.elements.length!==a.elements.length)break;let c=0;for(let u=0;u<a.elements.length;u++)a.elements[u]=w4(s.elements[u],a.elements[u]),a.elements[u]!==s.elements[u]&&c++;return c===0?e:t}case"null":case"boolean":case"number":{if(_u(e)===_u(t))return e;break}case"string":{let s=_u(e),a=_u(t);if(s===a)return e;let c=i.copyString(null),u=nUt(s,a),d=rUt(s,a,u),f=y4(a),p=y4(s);0<u&&i.stringAppendSlice(c,e,0,u),u<f-d&&i.stringAppendSlice(c,t,u,f-d),p-d<p&&i.stringAppendSlice(c,e,p-d,p);let m=i.finalize(c);if(_u(m)!==a)throw new Error("incorrect string rebase");return m}}return t}function lUt(e,t,n){let r=new b4(n);return new sDe(r,e,t).process()}var pl=Object.freeze({__proto__:null,applyPatch:lUt,getType:x4,rebaseValue:w4,unwrap:_u,wrap:aUt});class cUt{wrap(t){return t}finalize(t){return Array.isArray(t)?t:t.data}markChanged(t){return t}objectGetKeys(t){return Object.keys(t)}objectGetField(t,n){return t[n]}arrayGetElement(t,n){return t[n]}copyObject(t){let n={type:"object",data:{}};if(t!==null)for(let[r,o]of Object.entries(t))n.data[r]=o;return n}copyArray(t){return t===null?[]:t.slice()}copyString(t){return{type:"string",data:t===null?"":t}}objectSetField(t,n,r){t.data[n]=r}objectDeleteField(t,n){delete t.data[n]}arrayAppendValue(t,n){t.push(n)}arrayAppendSlice(t,n,r,o){t.push(...n.slice(r,o))}stringAppendSlice(t,n,r,o){const i=n,s=_ee(i,r),a=_ee(i,o,s);t.data+=i.slice(s,a)}stringAppendValue(t,n){t.data+=n}}function C4(e,t){let n=e;return new sDe(new cUt,n,t).process()}function Ch(e,t,n){return delete e[t],e[t]=n,n}function uUt(e,t){const n=dUt(e,t);return fUt(n,e,t)}function dUt(e,t){const n=e.length,r=t.length;let o=0,i=0;const s=new Array(n+1);for(o=0;o<n+1;o++)for(s[o]=[r+1],i=0;i<r+1;i++)s[o][i]=0;for(o=1;o<n+1;o++)for(i=1;i<r+1;i++)e[o-1]===t[i-1]?s[o][i]=s[o-1][i-1]+1:s[o][i]=Math.max(s[o-1][i],s[o][i-1]);return s}function fUt(e,t,n){let r=t.length,o=n.length;const i={sequence:[],prevIndices:[],nextIndices:[]};for(;r!==0&&o!==0;)if(t[r-1]===n[o-1])i.sequence.unshift(t[r-1]),i.prevIndices.unshift(r-1),i.nextIndices.unshift(o-1),--r,--o;else{const a=e[r][o-1],c=e[r-1][o];a>c?--o:--r}return i}function hUt(e,t,n){if(e===t){const s=e.value,a=t.value;return{type:"array",action:"unchanged",isChanged:!1,fromValue:s,toValue:a,get items(){const c=See(e,t);if(!c)throw new Error("invariant broken: equivalent input, but diff detected");return Ch(this,"items",c)}}}const r=kee(e),o=kee(t);if(r&&o)return mUt(e,r,t,o);const i=See(e,t);return i?AB(e,t,i,!1):pUt(e,t)}function AB(e,t,n,r){const o=e.value,i=t.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:o,toValue:i,items:n,annotation:t.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:o,toValue:i,items:n}}function See(e,t,n){if(e.length!==t.length)return;const r=[];for(let o=0;o<e.length;o++){const i=MA(e.at(o),t.at(o));if(i.isChanged)return;r.push({fromIndex:o,toIndex:o,hasMoved:!1,diff:i,annotation:t.annotationAt(o)})}return r}function pUt(e,t,n){const r=[];for(let o=0;o<t.length;o++){const i=t.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:qm(i,void 0),annotation:i.annotation})}for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:Ym(i,void 0),annotation:i.annotation})}return AB(e,t,r,!0)}function mUt(e,t,n,r,o){const i=[];let s=!1;function a(u,d,f,p){Eee(t.index,u,d),Eee(r.index,u,f);const m=e.at(d),v=n.at(f),g=MA(m,v);i.push({fromIndex:d,toIndex:f,hasMoved:p,diff:g,annotation:n.annotationAt(f)}),(g.isChanged||d!==f)&&(s=!0)}const c=uUt(t.keys,r.keys);for(let u=0;u<t.keys.length;u++){const d=t.keys[u],f=c.prevIndices.indexOf(u);if(f!==-1){a(d,u,c.nextIndices[f],!1);continue}const p=r.index.get(d),m=p&&p.find(g=>!c.nextIndices.includes(g));if(m!==void 0){a(d,u,m,!0);continue}const v=e.at(u);i.push({fromIndex:u,toIndex:void 0,hasMoved:!1,diff:Ym(v,void 0),annotation:e.annotationAt(u)}),s=!0}for(const u of r.index.values()){for(const d of u){const f=n.at(d);i.push({fromIndex:void 0,toIndex:d,hasMoved:!1,diff:qm(f,void 0),annotation:n.annotationAt(d)})}s=!0}return i.sort(gUt),AB(e,n,i,s)}function gUt(e,t){if(e.toIndex!==void 0&&t.toIndex!==void 0)return e.toIndex-t.toIndex;if(e.fromIndex!==void 0&&t.fromIndex!==void 0)return e.fromIndex-t.fromIndex;if(e.fromIndex!==void 0&&t.toIndex!==void 0)return-1;if(e.toIndex!==void 0&&t.fromIndex!==void 0)return 1;throw new Error("invalid item diff comparison")}function Eee(e,t,n){const r=e.get(t);vUt(r,n),r.length===0&&e.delete(t)}function vUt(e,t){const n=e.indexOf(t);if(n===-1)throw new Error("value not found");e.splice(n,1)}function kee(e){const t=new Map,n=[],r=e.length;for(let o=0;o<r;o++){const i=e.at(o);let s=null;switch(i.type){case"string":s="s".concat(i.value);break;case"number":s=i.value;break;case"boolean":s=i.value;break;case"null":s="n";break;case"object":{const c=i.get("_key");if(c&&c.type==="string"&&(s="k".concat(c.value),t.has(s)))return}break}if(s===null)return;n.push(s);let a=t.get(s);a||(a=[],t.set(s,a)),a.push(o)}return{keys:n,index:t}}function yUt(e,t,n){return{type:"array",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:Ym(i,void 0),annotation:e.annotationAt(o)})}return Ch(this,"items",r)}}}function bUt(e,t,n){return{type:"array",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:qm(i,void 0),annotation:e.annotationAt(o)})}return Ch(this,"items",r)}}}function xUt(e,t,n){const r=e.value,o=t.value;return r===o?{type:"string",action:"unchanged",isChanged:!1,fromValue:r,toValue:o,segments:[{type:"stringSegment",action:"unchanged",text:r}]}:{type:"string",action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation,get segments(){const i=wUt(e,t);return Ch(this,"segments",i)}}}function wUt(e,t){const n=[],r=f7(rC(e.value,t.value));let o=0,i=0;for(const[s,a]of r)switch(s){case kt:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case kn:for(const c of e.sliceAnnotation(o,o+a.length))n.push({type:"stringSegment",action:"removed",text:c.text,annotation:c.annotation});o+=a.length;break;case Gn:for(const c of t.sliceAnnotation(i,i+a.length))n.push({type:"stringSegment",action:"added",text:c.text,annotation:c.annotation});i+=a.length;break;default:throw new Error('Unhandled diff-match-patch operation "'.concat(s,'"'))}return n}function CUt(e,t,n){return{type:"string",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"removed",...o}));return Ch(this,"segments",r)}}}function _Ut(e,t,n){return{type:"string",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"added",...o}));return Ch(this,"segments",r)}}}function SUt(e,t,n){return{type:"typeChange",action:"changed",isChanged:!0,fromType:e.type,fromValue:e.value,fromDiff:Ym(e,void 0),toType:t.type,toValue:t.value,toDiff:qm(t,void 0),annotation:t.annotation}}const jee=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function EUt(e,t,n){const r={};let o=!1;for(const a of e.keys){if(jee.has(a))continue;const c=e.get(a),u=t.get(a);if(u){const d=MA(c,u);r[a]=d,d.isChanged&&(o=!0)}else r[a]=Ym(c,void 0),o=!0}for(const a of t.keys){if(jee.has(a)||e.get(a))continue;const c=t.get(a);r[a]=qm(c,void 0),o=!0}const i=e.value,s=t.value;return o?{type:"object",action:"changed",isChanged:!0,fromValue:i,toValue:s,fields:r,annotation:t.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:i,toValue:s,fields:r}}function kUt(e,t,n){return{type:"object",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=Ym(i,void 0)}return Ch(this,"fields",r)}}}function jUt(e,t,n){return{type:"object",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=qm(i,void 0)}return Ch(this,"fields",r)}}}function TUt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function AUt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function MA(e,t){return e.type!==t.type?e.type==="null"?qm(t,null):t.type==="null"?Ym(e,null):SUt(e,t):DUt(e.type,e,t)}function DUt(e,t,n,r){switch(e){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return AUt(t,n);case"number":return TUt(t,n);case"string":return xUt(t,n);case"array":return hUt(t,n);case"object":return EUt(t,n);default:throw new Error('Unhandled diff type "'.concat(e,'"'))}}function Ym(e,t,n){switch(e.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:t,annotation:e.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"string":return CUt(e,t);case"array":return yUt(e,t);case"object":return kUt(e,t);default:throw new Error("Unhandled diff type")}}function qm(e,t,n){switch(e.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:t,toValue:null,annotation:e.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"string":return _Ut(e,t);case"array":return bUt(e,t);case"object":return jUt(e,t);default:throw new Error("Unhandled diff type")}}class IUt{constructor(t,n){this.type="array",this.elements=[],this.annotation=n,this.value=t,this.length=t.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=DB(this.value[t],this.annotation))}annotationAt(){return this.annotation}}class OUt{constructor(t,n){this.type="object",this.fields={},this.value=t,this.annotation=n,this.keys=Object.keys(t)}get(t){const n=this.fields[t];if(n)return n;if(!this.value.hasOwnProperty(t))return;const r=this.value[t];return this.fields[t]=DB(r,this.annotation)}}let PUt=class{constructor(t,n){this.type="string",this.value=t,this.annotation=n}sliceAnnotation(t,n){return[{text:this.value.slice(t,n),annotation:this.annotation}]}};class FP{constructor(t,n,r){this.type=t,this.value=n,this.annotation=r}}function DB(e,t){if(Array.isArray(e))return new IUt(e,t);if(e===null)return new FP("null",e,t);const n=typeof e;switch(n){case"number":return new FP(n,e,t);case"boolean":return new FP(n,e,t);case"object":return new OUt(e,t);case"string":return new PUt(e,t);default:throw new Error("cannot wrap value of type: ".concat(n))}}var aDe={exports:{}},lDe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC=h;function RUt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $Ut=typeof Object.is=="function"?Object.is:RUt,MUt=gC.useSyncExternalStore,FUt=gC.useRef,LUt=gC.useEffect,BUt=gC.useMemo,NUt=gC.useDebugValue;lDe.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=FUt(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=BUt(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),o!==void 0&&s.hasValue){var v=s.value;if(o(v,m))return f=v}return f=m}if(v=f,$Ut(d,m))return v;var g=r(m);return o!==void 0&&o(v,g)?v:(d=m,f=g)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,o]);var a=MUt(e,i[0],i[1]);return LUt(function(){s.hasValue=!0,s.value=a},[a]),NUt(a),a};aDe.exports=lDe;var IB=aDe.exports,zUt=Math.floor,VUt=Math.random;function HUt(e,t){return e+zUt(VUt()*(t-e+1))}var UUt=HUt,WUt=UUt;function YUt(e){var t=e.length;return t?e[WUt(0,t-1)]:void 0}var cDe=YUt,qUt=cDe,GUt=WAe;function KUt(e){return qUt(GUt(e))}var ZUt=KUt,XUt=cDe,QUt=ZUt,JUt=Jr;function eWt(e){var t=JUt(e)?XUt:QUt;return t(e)}var tWt=eWt;const nWt=Ie(tWt);var rWt=function(){function e(n,r){if(typeof n!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+n+"."));this._batchLoadFn=n,this._maxBatchSize=aWt(r),this._batchScheduleFn=lWt(r),this._cacheKeyFn=cWt(r),this._cacheMap=uWt(r),this._batch=null,this.name=dWt(r)}var t=e.prototype;return t.load=function(r){if(r==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(r)+"."));var o=iWt(this),i=this._cacheMap,s=this._cacheKeyFn(r);if(i){var a=i.get(s);if(a){var c=o.cacheHits||(o.cacheHits=[]);return new Promise(function(d){c.push(function(){d(a)})})}}o.keys.push(r);var u=new Promise(function(d,f){o.callbacks.push({resolve:d,reject:f})});return i&&i.set(s,u),u},t.loadMany=function(r){if(!uDe(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+r+"."));for(var o=[],i=0;i<r.length;i++)o.push(this.load(r[i]).catch(function(s){return s}));return Promise.all(o)},t.clear=function(r){var o=this._cacheMap;if(o){var i=this._cacheKeyFn(r);o.delete(i)}return this},t.clearAll=function(){var r=this._cacheMap;return r&&r.clear(),this},t.prime=function(r,o){var i=this._cacheMap;if(i){var s=this._cacheKeyFn(r);if(i.get(s)===void 0){var a;o instanceof Error?(a=Promise.reject(o),a.catch(function(){})):a=Promise.resolve(o),i.set(s,a)}}return this},e}(),oWt=typeof process=="object"&&typeof process.nextTick=="function"?function(e){LP||(LP=Promise.resolve()),LP.then(function(){process.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)},LP;function iWt(e){var t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){sWt(e,n)}),n}function sWt(e,t){if(t.hasDispatched=!0,t.keys.length===0){_4(t);return}var n;try{n=e._batchLoadFn(t.keys)}catch(r){return BP(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(r)+".")))}if(!n||typeof n.then!="function")return BP(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(n)+".")));n.then(function(r){if(!uDe(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(r)+"."));if(r.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(t.keys))+(`

Values:
`+String(r)));_4(t);for(var o=0;o<t.callbacks.length;o++){var i=r[o];i instanceof Error?t.callbacks[o].reject(i):t.callbacks[o].resolve(i)}}).catch(function(r){BP(e,t,r)})}function BP(e,t,n){_4(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function _4(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function aWt(e){var t=!e||e.batch!==!1;if(!t)return 1;var n=e&&e.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}function lWt(e){var t=e&&e.batchScheduleFn;if(t===void 0)return oWt;if(typeof t!="function")throw new TypeError("batchScheduleFn must be a function: "+t);return t}function cWt(e){var t=e&&e.cacheKeyFn;if(t===void 0)return function(n){return n};if(typeof t!="function")throw new TypeError("cacheKeyFn must be a function: "+t);return t}function uWt(e){var t=!e||e.cache!==!1;if(!t)return null;var n=e&&e.cacheMap;if(n===void 0)return new Map;if(n!==null){var r=["get","set","delete","clear"],o=r.filter(function(i){return n&&typeof n[i]!="function"});if(o.length!==0)throw new TypeError("Custom cacheMap missing methods: "+o.join(", "))}return n}function dWt(e){return e&&e.name?e.name:null}function uDe(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var fWt=rWt;const hWt=Ie(fWt);var FA={exports:{}},Uy={exports:{}};(function(){var e,t,n,r,o,i;typeof performance<"u"&&performance!==null&&performance.now?Uy.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Uy.exports=function(){return(e()-o)/1e6},t=process.hrtime,e=function(){var s;return s=t(),s[0]*1e9+s[1]},r=e(),i=process.uptime()*1e9,o=r-i):Date.now?(Uy.exports=function(){return Date.now()-n},n=Date.now()):(Uy.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(Qs);var pWt=Uy.exports,mWt=pWt,Bu=typeof window>"u"?Qs:window,f2=["moz","webkit"],Rv="AnimationFrame",v0=Bu["request"+Rv],Vx=Bu["cancel"+Rv]||Bu["cancelRequest"+Rv];for(var dy=0;!v0&&dy<f2.length;dy++)v0=Bu[f2[dy]+"Request"+Rv],Vx=Bu[f2[dy]+"Cancel"+Rv]||Bu[f2[dy]+"CancelRequest"+Rv];if(!v0||!Vx){var NP=0,Tee=0,Bh=[],gWt=1e3/60;v0=function(e){if(Bh.length===0){var t=mWt(),n=Math.max(0,gWt-(t-NP));NP=n+t,setTimeout(function(){var r=Bh.slice(0);Bh.length=0;for(var o=0;o<r.length;o++)if(!r[o].cancelled)try{r[o].callback(NP)}catch(i){setTimeout(function(){throw i},0)}},Math.round(n))}return Bh.push({handle:++Tee,callback:e,cancelled:!1}),Tee},Vx=function(e){for(var t=0;t<Bh.length;t++)Bh[t].handle===e&&(Bh[t].cancelled=!0)}}FA.exports=function(e){return v0.call(Bu,e)};FA.exports.cancel=function(){Vx.apply(Bu,arguments)};FA.exports.polyfill=function(e){e||(e=Bu),e.requestAnimationFrame=v0,e.cancelAnimationFrame=Vx};var vWt=FA.exports;const yWt=Ie(vWt);function Rb(e,t,n){return Math.min(Math.max(e,n),t)}class bWt extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var Wy=bWt;function dDe(e){if(typeof e!="string")throw new Wy(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=jWt.test(e)?CWt(e):e;const n=_Wt.exec(t);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(Hx(a,2),16)),parseInt(Hx(s[3]||"f",2),16)/255]}const r=SWt.exec(t);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const o=EWt.exec(t);if(o){const s=Array.from(o).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const i=kWt.exec(t);if(i){const[s,a,c,u]=Array.from(i).slice(1).map(parseFloat);if(Rb(0,100,a)!==a)throw new Wy(e);if(Rb(0,100,c)!==c)throw new Wy(e);return[...TWt(s,a,c),Number.isNaN(u)?1:u]}throw new Wy(e)}function xWt(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const Aee=e=>parseInt(e.replace(/_/g,""),36),wWt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=Aee(t.substring(0,3)),r=Aee(t.substring(3)).toString(16);let o="";for(let i=0;i<6-r.length;i++)o+="0";return e[n]=`${o}${r}`,e},{});function CWt(e){const t=e.toLowerCase().trim(),n=wWt[xWt(t)];if(!n)throw new Wy(e);return`#${n}`}const Hx=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),_Wt=new RegExp(`^#${Hx("([a-f0-9])",3)}([a-f0-9])?$`,"i"),SWt=new RegExp(`^#${Hx("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),EWt=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Hx(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),kWt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,jWt=/^[a-z]+$/i,Dee=e=>Math.round(e*255),TWt=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(Dee);const o=(e%360+360)%360/60,i=(1-Math.abs(2*r-1))*(t/100),s=i*(1-Math.abs(o%2-1));let a=0,c=0,u=0;o>=0&&o<1?(a=i,c=s):o>=1&&o<2?(a=s,c=i):o>=2&&o<3?(c=i,u=s):o>=3&&o<4?(c=s,u=i):o>=4&&o<5?(a=s,u=i):o>=5&&o<6&&(a=i,u=s);const d=r-i/2,f=a+d,p=c+d,m=u+d;return[f,p,m].map(Dee)};function AWt(e){const[t,n,r,o]=dDe(e).map((f,p)=>p===3?f:f/255),i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;if(i===s)return[0,0,a,o];const c=i-s,u=a>.5?c/(2-i-s):c/(i+s);return[60*(t===i?(n-r)/c+(n<r?6:0):n===i?(r-t)/c+2:(t-n)/c+4),u,a,o]}function DWt(e,t,n,r){return`hsla(${(e%360).toFixed()}, ${Rb(0,100,t*100).toFixed()}%, ${Rb(0,100,n*100).toFixed()}%, ${parseFloat(Rb(0,1,r).toFixed(3))})`}function fDe(e,t){const[n,r,o,i]=AWt(e);return DWt(n,r,o-t,i)}function S4(e){if(e==="transparent")return 0;function t(i){const s=i/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const[n,r,o]=dDe(e);return .2126*t(n)+.7152*t(r)+.0722*t(o)}function IWt(e,t){const n=S4(e),r=S4(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const OWt={decorative:1.5,readable:3,aa:4.5,aaa:7};function Iee(e,t="aa",n="#fff"){return IWt(e,n)<OWt[t]}function PWt(e,t){return fDe(e,-t)}function RWt(e){return S4(e)>.179}function $Wt(e){return RWt(e)?"#000":"#fff"}var MWt=C2e,FWt=Vw,LWt=wT,BWt=Jr,NWt=ph,zWt=CT,VWt=ST,HWt=Z8,UWt="[object Map]",WWt="[object Set]",YWt=Object.prototype,qWt=YWt.hasOwnProperty;function GWt(e){if(e==null)return!0;if(NWt(e)&&(BWt(e)||typeof e=="string"||typeof e.splice=="function"||zWt(e)||HWt(e)||LWt(e)))return!e.length;var t=FWt(e);if(t==UWt||t==WWt)return!e.size;if(VWt(e))return!MWt(e).length;for(var n in e)if(qWt.call(e,n))return!1;return!0}var KWt=GWt;const ZWt=Ie(KWt);var XWt=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),QWt=()=>{try{return!!(XWt&&import.meta.webpackHot)}catch{return!1}};function JWt(e){if(QWt)return typeof import.meta.webpackHot>"u"?tYt(e):eYt(e)}function eYt(e){h.useEffect(()=>{if(import.meta.webpackHot){const t=n=>n==="idle"?e():void 0;return import.meta.webpackHot.addStatusHandler(t),()=>{var n;return(n=import.meta.webpackHot)==null?void 0:n.removeStatusHandler(t)}}},[e])}function tYt(e){h.useEffect(()=>{},[e])}var nYt=OB;OB.displayName="bash";OB.aliases=["shell"];function OB(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},o={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:o},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:o},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:o.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:o.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],s=o.variable[1].inside,a=0;a<i.length;a++)s[i[a]]=t.languages.bash[i[a]];t.languages.shell=t.languages.bash})(e)}const rYt=Ie(nYt);var oYt=PB;PB.displayName="json";PB.aliases=["webmanifest"];function PB(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}const iYt=Ie(oYt);var sYt=RB;RB.displayName="jsx";RB.aliases=[];function RB(e){(function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,o=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function s(u,d){return u=u.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return o}).replace(/<SPREAD>/g,function(){return i}),RegExp(u,d)}i=s(i).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=s(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:s(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:s(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var a=function(u){return u?typeof u=="string"?u:typeof u.content=="string"?u.content:u.content.map(a).join(""):""},c=function(u){for(var d=[],f=0;f<u.length;f++){var p=u[f],m=!1;if(typeof p!="string"&&(p.type==="tag"&&p.content[0]&&p.content[0].type==="tag"?p.content[0].content[0].content==="</"?d.length>0&&d[d.length-1].tagName===a(p.content[0].content[1])&&d.pop():p.content[p.content.length-1].content==="/>"||d.push({tagName:a(p.content[0].content[1]),openedBraces:0}):d.length>0&&p.type==="punctuation"&&p.content==="{"?d[d.length-1].openedBraces++:d.length>0&&d[d.length-1].openedBraces>0&&p.type==="punctuation"&&p.content==="}"?d[d.length-1].openedBraces--:m=!0),(m||typeof p=="string")&&d.length>0&&d[d.length-1].openedBraces===0){var v=a(p);f<u.length-1&&(typeof u[f+1]=="string"||u[f+1].type==="plain-text")&&(v+=a(u[f+1]),u.splice(f+1,1)),f>0&&(typeof u[f-1]=="string"||u[f-1].type==="plain-text")&&(v=a(u[f-1])+v,u.splice(f-1,1),f--),u[f]=new t.Token("plain-text",v,null,v)}p.content&&typeof p.content!="string"&&c(p.content)}};t.hooks.add("after-tokenize",function(u){u.language!=="jsx"&&u.language!=="tsx"||c(u.tokens)})})(e)}const aYt=Ie(sYt);var lYt=$B;$B.displayName="typescript";$B.aliases=["ts"];function $B(e){(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript})(e)}const cYt=Ie(lYt);var Tc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tc||(Tc={}));var _5=function(e){return e},Oee="beforeunload",uYt="popstate";function dYt(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,o=r.history;function i(){var E=r.location,j=E.pathname,k=E.search,T=E.hash,A=o.state||{};return[A.idx,_5({pathname:j,search:k,hash:T,state:A.usr||null,key:A.key||"default"})]}var s=null;function a(){if(s)m.call(s),s=null;else{var E=Tc.Pop,j=i(),k=j[0],T=j[1];if(m.length){if(k!=null){var A=d-k;A&&(s={action:E,location:T,retry:function(){_(A*-1)}},_(A))}}else b(E)}}r.addEventListener(uYt,a);var c=Tc.Pop,u=i(),d=u[0],f=u[1],p=S5(),m=S5();d==null&&(d=0,o.replaceState(ed({},o.state,{idx:d}),""));function v(E){return typeof E=="string"?E:hDe(E)}function g(E,j){return j===void 0&&(j=null),_5(ed({pathname:f.pathname,hash:"",search:""},typeof E=="string"?k4(E):E,{state:j,key:E4()}))}function y(E,j){return[{usr:E.state,key:E.key,idx:j},v(E)]}function x(E,j,k){return!m.length||(m.call({action:E,location:j,retry:k}),!1)}function b(E){c=E;var j=i();d=j[0],f=j[1],p.call({action:c,location:f})}function w(E,j){var k=Tc.Push,T=g(E,j);function A(){w(E,j)}if(x(k,T,A)){var D=y(T,d+1),I=D[0],O=D[1];try{o.pushState(I,"",O)}catch{r.location.assign(O)}b(k)}}function C(E,j){var k=Tc.Replace,T=g(E,j);function A(){C(E,j)}if(x(k,T,A)){var D=y(T,d),I=D[0],O=D[1];o.replaceState(I,"",O),b(k)}}function _(E){o.go(E)}var S={get action(){return c},get location(){return f},createHref:v,push:w,replace:C,go:_,back:function(){_(-1)},forward:function(){_(1)},listen:function(j){return p.push(j)},block:function(j){var k=m.push(j);return m.length===1&&r.addEventListener(Oee,Ree),function(){k(),m.length||r.removeEventListener(Oee,Ree)}}};return S}function fYt(e){e===void 0&&(e={});var t=e,n=t.initialEntries,r=n===void 0?["/"]:n,o=t.initialIndex,i=r.map(function(w){var C=_5(ed({pathname:"/",search:"",hash:"",state:null,key:E4()},typeof w=="string"?k4(w):w));return C}),s=Pee(o??i.length-1,0,i.length-1),a=Tc.Pop,c=i[s],u=S5(),d=S5();function f(w){return typeof w=="string"?w:hDe(w)}function p(w,C){return C===void 0&&(C=null),_5(ed({pathname:c.pathname,search:"",hash:""},typeof w=="string"?k4(w):w,{state:C,key:E4()}))}function m(w,C,_){return!d.length||(d.call({action:w,location:C,retry:_}),!1)}function v(w,C){a=w,c=C,u.call({action:a,location:c})}function g(w,C){var _=Tc.Push,S=p(w,C);function E(){g(w,C)}m(_,S,E)&&(s+=1,i.splice(s,i.length,S),v(_,S))}function y(w,C){var _=Tc.Replace,S=p(w,C);function E(){y(w,C)}m(_,S,E)&&(i[s]=S,v(_,S))}function x(w){var C=Pee(s+w,0,i.length-1),_=Tc.Pop,S=i[C];function E(){x(w)}m(_,S,E)&&(s=C,v(_,S))}var b={get index(){return s},get action(){return a},get location(){return c},createHref:f,push:g,replace:y,go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(C){return u.push(C)},block:function(C){return d.push(C)}};return b}function Pee(e,t,n){return Math.min(Math.max(e,t),n)}function Ree(e){e.preventDefault(),e.returnValue=""}function S5(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function E4(){return Math.random().toString(36).substr(2,8)}function hDe(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,o=r===void 0?"":r,i=e.hash,s=i===void 0?"":i;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function k4(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var hYt=Gc,pDe=/[\\^$.*+?()[\]{}|]/g,pYt=RegExp(pDe.source);function mYt(e){return e=hYt(e),e&&pYt.test(e)?e.replace(pDe,"\\$&"):e}var gYt=mYt;const MB=Ie(gYt);var mDe,$ee=_c;mDe=$ee.createRoot,$ee.hydrateRoot;h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq-logo",height:"1em",viewBox:"0 0 304 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[l.jsx("path",{d:"M32 0L0 32H32V0Z",fill:pe.magenta[400].hex}),l.jsx("path",{d:"M32 32H0L32 64V32Z",fill:pe.green[300].hex}),l.jsx("path",{d:"M64 32H32V64L64 32Z",fill:pe.purple[300].hex}),l.jsx("path",{d:"M112 0L80 32H112V0Z",fill:pe.green[300].hex}),l.jsx("path",{d:"M112 0H80V32L112 0Z",fill:pe.purple[300].hex}),l.jsx("path",{d:"M112 32H80L112 64V32Z",fill:pe.yellow[200].hex}),l.jsx("path",{d:"M144 64L112 32V64H144Z",fill:pe.blue[300].hex}),l.jsx("path",{d:"M80 32V64H112L80 32Z",fill:pe.orange[400].hex}),l.jsx("path",{d:"M112 0V32H144L112 0Z",fill:pe.magenta[400].hex}),l.jsx("path",{d:"M192 0L160 32H192V0Z",fill:pe.yellow[200].hex}),l.jsx("path",{d:"M192 32H160L192 64V32Z",fill:pe.orange[400].hex}),l.jsx("path",{d:"M224 32H192V64L224 32Z",fill:pe.green[300].hex}),l.jsx("path",{d:"M192 0V32H224L192 0Z",fill:pe.blue[300].hex}),l.jsx("path",{d:"M272 0L240 32H272V0Z",fill:pe.purple[300].hex}),l.jsx("path",{d:"M304 32L272 64H304V32Z",fill:pe.magenta[400].hex}),l.jsx("path",{d:"M272 32H240L272 64V32Z",fill:pe.blue[300].hex}),l.jsx("path",{d:"M304 32H272V64L304 32Z",fill:pe.yellow[200].hex}),l.jsx("path",{d:"M272 0V32H304L272 0Z",fill:pe.green[300].hex})]})});h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[l.jsx("rect",{width:"128",height:"128",rx:"8",fill:pe.green[950].hex}),l.jsx("rect",{y:"32",width:"64",height:"64",fill:pe.green[800].hex}),l.jsx("path",{d:"M64 32L32 64H64V32Z",fill:pe.magenta[400].hex}),l.jsx("path",{d:"M64 64H32L64 96V64Z",fill:pe.green[300].hex}),l.jsx("path",{d:"M96 64H64V96L96 64Z",fill:pe.purple[300].hex})]})});const vYt={light:[pe.red[200].hex,pe.red[300].hex,pe.red[500].hex],dark:[pe.gray[500].hex,pe.gray[300].hex,ka.hex]},yYt=h.forwardRef(function(t,n){const{dark:r,...o}=t,i=vYt[r?"dark":"light"];return l.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 352 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[l.jsx("path",{d:"M311.14 57.234V80.0016H298.499V57.234",fill:i[1]}),l.jsx("path",{d:"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z",fill:i[2]}),l.jsx("path",{d:"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z",fill:i[1]}),l.jsx("path",{d:"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z",fill:i[1]}),l.jsx("path",{d:"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z",fill:i[0]}),l.jsx("path",{d:"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z",fill:i[2]}),l.jsx("path",{d:"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z",fill:i[2]}),l.jsx("path",{d:"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z",fill:i[1]}),l.jsx("path",{d:"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z",fill:i[2]}),l.jsx("path",{d:"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z",fill:i[1]}),l.jsx("path",{d:"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z",fill:i[0]}),l.jsx("path",{d:"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z",fill:i[1]}),l.jsx("path",{d:"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z",fill:i[2]}),l.jsx("path",{d:"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926",fill:i[2]}),l.jsx("path",{d:"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748",fill:i[1]}),l.jsx("path",{d:"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124",fill:i[1]})]})}),bYt={bg1:pe.red[500].hex,bg2:pe.red[200].hex,fg:ka.hex},xYt=h.forwardRef(function(t,n){const{color:r=bYt,...o}=t;return l.jsxs("svg",{"data-sanity-icon":"sanity-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[l.jsx("rect",{width:"128",height:"128",rx:"8",fill:r.bg1}),l.jsx("path",{d:"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163",fill:r.fg}),l.jsx("path",{d:"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995",fill:r.bg2}),l.jsx("path",{d:"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682",fill:r.bg2})]})});var l1={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gDe=h;function Et(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gs=Object.prototype.hasOwnProperty,wYt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mee={},Fee={};function vDe(e){return gs.call(Fee,e)?!0:gs.call(Mee,e)?!1:wYt.test(e)?Fee[e]=!0:(Mee[e]=!0,!1)}function us(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var si={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){si[e]=new us(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];si[t]=new us(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){si[e]=new us(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){si[e]=new us(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){si[e]=new us(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){si[e]=new us(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){si[e]=new us(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){si[e]=new us(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){si[e]=new us(e,5,!1,e.toLowerCase(),null,!1,!1)});var FB=/[\-:]([a-z])/g;function LB(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(FB,LB);si[t]=new us(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(FB,LB);si[t]=new us(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(FB,LB);si[t]=new us(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){si[e]=new us(e,1,!1,e.toLowerCase(),null,!1,!1)});si.xlinkHref=new us("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){si[e]=new us(e,1,!1,e.toLowerCase(),null,!0,!0)});var NS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CYt=["Webkit","ms","Moz","O"];Object.keys(NS).forEach(function(e){CYt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),NS[t]=NS[e]})});var _Yt=/["'&<>]/;function Zi(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=_Yt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var SYt=/([A-Z])/g,EYt=/^ms-/,j4=Array.isArray;function cu(e,t){return{insertionMode:e,selectedValue:t}}function kYt(e,t,n){switch(t){case"select":return cu(1,n.value!=null?n.value:n.defaultValue);case"svg":return cu(2,null);case"math":return cu(3,null);case"foreignObject":return cu(1,null);case"table":return cu(4,null);case"thead":case"tbody":case"tfoot":return cu(5,null);case"colgroup":return cu(7,null);case"tr":return cu(6,null)}return 4<=e.insertionMode||e.insertionMode===0?cu(1,null):e}var Lee=new Map;function yDe(e,t,n){if(typeof n!="object")throw Error(Et(62));t=!0;for(var r in n)if(gs.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Zi(r);o=Zi((""+o).trim())}else{i=r;var s=Lee.get(i);s!==void 0||(s=Zi(i.replace(SYt,"-$1").toLowerCase().replace(EYt,"-ms-")),Lee.set(i,s)),i=s,o=typeof o=="number"?o===0||gs.call(NS,r)?""+o:o+"px":Zi((""+o).trim())}t?(t=!1,e.push(' style="',i,":",o)):e.push(";",i,":",o)}}t||e.push('"')}function Ns(e,t,n,r){switch(n){case"style":yDe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=si.hasOwnProperty(n)?si[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',Zi(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',Zi(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',Zi(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',Zi(r),'"')}}else if(vDe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',Zi(r),'"')}}}function zS(e,t,n){if(t!=null){if(n!=null)throw Error(Et(60));if(typeof t!="object"||!("__html"in t))throw Error(Et(61));t=t.__html,t!=null&&e.push(""+t)}}function jYt(e){var t="";return gDe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function zP(e,t,n,r){e.push(uc(n));var o=n=null,i;for(i in t)if(gs.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Ns(e,r,i,s)}}return e.push(">"),zS(e,o,n),typeof n=="string"?(e.push(Zi(n)),null):n}var TYt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Bee=new Map;function uc(e){var t=Bee.get(e);if(t===void 0){if(!TYt.test(e))throw Error(Et(65,e));t="<"+e,Bee.set(e,t)}return t}function AYt(e,t,n,r,o){switch(t){case"select":e.push(uc("select"));var i=null,s=null;for(d in n)if(gs.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Ns(e,r,d,a)}}return e.push(">"),zS(e,s,i),i;case"option":s=o.selectedValue,e.push(uc("option"));var c=a=null,u=null,d=null;for(i in n)if(gs.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":c=f;default:Ns(e,r,i,f)}}if(s!=null)if(n=c!==null?""+c:jYt(a),j4(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else u&&e.push(' selected=""');return e.push(">"),zS(e,d,a),a;case"textarea":e.push(uc("textarea")),d=s=i=null;for(a in n)if(gs.call(n,a)&&(c=n[a],c!=null))switch(a){case"children":d=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"dangerouslySetInnerHTML":throw Error(Et(91));default:Ns(e,r,a,c)}if(i===null&&s!==null&&(i=s),e.push(">"),d!=null){if(i!=null)throw Error(Et(92));if(j4(d)&&1<d.length)throw Error(Et(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i!==null&&e.push(Zi(""+i)),null;case"input":e.push(uc("input")),c=d=a=i=null;for(s in n)if(gs.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Et(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:Ns(e,r,s,u)}return d!==null?Ns(e,r,"checked",d):c!==null&&Ns(e,r,"checked",c),i!==null?Ns(e,r,"value",i):a!==null&&Ns(e,r,"value",a),e.push("/>"),null;case"menuitem":e.push(uc("menuitem"));for(var p in n)if(gs.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Et(400));default:Ns(e,r,p,i)}return e.push(">"),null;case"title":e.push(uc("title")),i=null;for(f in n)if(gs.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(Et(434));default:Ns(e,r,f,s)}return e.push(">"),i;case"listing":case"pre":e.push(uc(t)),s=i=null;for(c in n)if(gs.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Ns(e,r,c,a)}if(e.push(">"),s!=null){if(i!=null)throw Error(Et(60));if(typeof s!="object"||!("__html"in s))throw Error(Et(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(uc(t));for(var m in n)if(gs.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Et(399,t));default:Ns(e,r,m,i)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return zP(e,n,t,r);case"html":return o.insertionMode===0&&e.push("<!DOCTYPE html>"),zP(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return zP(e,n,t,r);e.push(uc(t)),s=i=null;for(u in n)if(gs.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":yDe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:vDe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",u,'="',Zi(a),'"')}return e.push(">"),zS(e,s,i),i}}function Nee(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(Et(395));return e.push(n),e.push('"></template>')}function DYt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(Et(397))}}function IYt(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(Et(397))}}var OYt=/[<\u2028\u2029]/g;function VP(e){return JSON.stringify(e).replace(OYt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function PYt(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function zee(e,t,n,r){return n.generateStaticMarkup?(e.push(Zi(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(Zi(t)),e=!0),e)}var $b=Object.assign,RYt=Symbol.for("react.element"),bDe=Symbol.for("react.portal"),xDe=Symbol.for("react.fragment"),wDe=Symbol.for("react.strict_mode"),CDe=Symbol.for("react.profiler"),_De=Symbol.for("react.provider"),SDe=Symbol.for("react.context"),EDe=Symbol.for("react.forward_ref"),kDe=Symbol.for("react.suspense"),jDe=Symbol.for("react.suspense_list"),TDe=Symbol.for("react.memo"),BB=Symbol.for("react.lazy"),$Yt=Symbol.for("react.scope"),MYt=Symbol.for("react.debug_trace_mode"),FYt=Symbol.for("react.legacy_hidden"),LYt=Symbol.for("react.default_value"),Vee=Symbol.iterator;function T4(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xDe:return"Fragment";case bDe:return"Portal";case CDe:return"Profiler";case wDe:return"StrictMode";case kDe:return"Suspense";case jDe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case SDe:return(e.displayName||"Context")+".Consumer";case _De:return(e._context.displayName||"Context")+".Provider";case EDe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case TDe:return t=e.displayName||null,t!==null?t:T4(e.type)||"Memo";case BB:t=e._payload,e=e._init;try{return T4(e(t))}catch{}}return null}var ADe={};function Hee(e,t){if(e=e.contextTypes,!e)return ADe;var n={},r;for(r in e)n[r]=t[r];return n}var Sp=null;function LA(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Et(401))}else{if(n===null)throw Error(Et(401));LA(e,n)}t.context._currentValue2=t.value}}function DDe(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&DDe(e)}function IDe(e){var t=e.parent;t!==null&&IDe(t),e.context._currentValue2=e.value}function ODe(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(Et(402));e.depth===t.depth?LA(e,t):ODe(e,t)}function PDe(e,t){var n=t.parent;if(n===null)throw Error(Et(402));e.depth===n.depth?LA(e,n):PDe(e,n),t.context._currentValue2=t.value}function E5(e){var t=Sp;t!==e&&(t===null?IDe(e):e===null?DDe(t):t.depth===e.depth?LA(t,e):t.depth>e.depth?ODe(t,e):PDe(t,e),Sp=e)}var Uee={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Wee(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=Uee,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue2:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:$b({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&Uee.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=$b({},i,a)):$b(i,a))}e.state=i}else i.queue=null}var BYt={id:1,overflow:""};function A4(e,t,n){var r=e.id;e=e.overflow;var o=32-VS(r)-1;r&=~(1<<o),n+=1;var i=32-VS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-VS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var VS=Math.clz32?Math.clz32:VYt,NYt=Math.log,zYt=Math.LN2;function VYt(e){return e>>>=0,e===0?32:31-(NYt(e)/zYt|0)|0}function HYt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var UYt=typeof Object.is=="function"?Object.is:HYt,id=null,NB=null,HS=null,zn=null,Yy=!1,k5=!1,Ux=0,pf=null,BA=0;function cp(){if(id===null)throw Error(Et(321));return id}function Yee(){if(0<BA)throw Error(Et(312));return{memoizedState:null,queue:null,next:null}}function zB(){return zn===null?HS===null?(Yy=!1,HS=zn=Yee()):(Yy=!0,zn=HS):zn.next===null?(Yy=!1,zn=zn.next=Yee()):(Yy=!0,zn=zn.next),zn}function VB(){NB=id=null,k5=!1,HS=null,BA=0,zn=pf=null}function RDe(e,t){return typeof t=="function"?t(e):t}function qee(e,t,n){if(id=cp(),zn=zB(),Yy){var r=zn.queue;if(t=r.dispatch,pf!==null&&(n=pf.get(r),n!==void 0)){pf.delete(r),r=zn.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return zn.memoizedState=r,[r,t]}return[zn.memoizedState,t]}return e=e===RDe?typeof t=="function"?t():t:n!==void 0?n(t):t,zn.memoizedState=e,e=zn.queue={last:null,dispatch:null},e=e.dispatch=WYt.bind(null,id,e),[zn.memoizedState,e]}function Gee(e,t){if(id=cp(),zn=zB(),t=t===void 0?null:t,zn!==null){var n=zn.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!UYt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),zn.memoizedState=[e,t],e}function WYt(e,t,n){if(25<=BA)throw Error(Et(301));if(e===id)if(k5=!0,e={action:n,next:null},pf===null&&(pf=new Map),n=pf.get(t),n===void 0)pf.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function YYt(){throw Error(Et(394))}function h2(){}var Kee={readContext:function(e){return e._currentValue2},useContext:function(e){return cp(),e._currentValue2},useMemo:Gee,useReducer:qee,useRef:function(e){id=cp(),zn=zB();var t=zn.memoizedState;return t===null?(e={current:e},zn.memoizedState=e):t},useState:function(e){return qee(RDe,e)},useInsertionEffect:h2,useLayoutEffect:function(){},useCallback:function(e,t){return Gee(function(){return e},t)},useImperativeHandle:h2,useEffect:h2,useDebugValue:h2,useDeferredValue:function(e){return cp(),e},useTransition:function(){return cp(),[!1,YYt]},useId:function(){var e=NB.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-VS(e)-1)).toString(32)+t;var n=US;if(n===null)throw Error(Et(404));return t=Ux++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return cp(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Et(407));return n()}},US=null,HP=gDe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function qYt(e){return console.error(e),null}function qy(){}function GYt(e,t,n,r,o,i,s,a,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?qYt:o,onAllReady:i===void 0?qy:i,onShellReady:s===void 0?qy:s,onShellError:a===void 0?qy:a,onFatalError:c===void 0?qy:c},n=j5(t,0,null,n,!1,!1),n.parentFlushed=!0,e=HB(t,e,null,n,d,ADe,null,BYt),u.push(e),t}function HB(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&FDe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(c),c}function j5(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function Wx(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function T5(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function Zee(e,t,n,r,o){for(id={},NB=t,Ux=0,e=n(r,o);k5;)k5=!1,Ux=0,BA+=1,zn=null,e=n(r,o);return VB(),e}function Xee(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(Et(108,T4(r)||"Unknown",a));r=$b({},s,n)}t.legacyContext=r,Ws(e,t,o),t.legacyContext=s}else Ws(e,t,o)}function Qee(e,t){if(e&&e.defaultProps){t=$b({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function D4(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=Hee(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue2:o),Wee(i,n,r,o),Xee(e,t,i,n)}else{i=Hee(n,t.legacyContext),o=Zee(e,t,n,r,i);var s=Ux!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)Wee(o,n,r,i),Xee(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=A4(r,1,0);try{Ws(e,t,o)}finally{t.treeContext=r}}else Ws(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=AYt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=kYt(s,n,r),I4(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",n,">")}o.lastPushedText=!1}else{switch(n){case FYt:case MYt:case wDe:case CDe:case xDe:Ws(e,t,r.children);return;case jDe:Ws(e,t,r.children);return;case $Yt:throw Error(Et(343));case kDe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},c=j5(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=j5(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(I4(e,t,r),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,A5(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=Wx(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=HB(e,i,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case EDe:if(r=Zee(e,t,n.render,r,o),Ux!==0){n=t.treeContext,t.treeContext=A4(n,1,0);try{Ws(e,t,r)}finally{t.treeContext=n}}else Ws(e,t,r);return;case TDe:n=n.type,r=Qee(n,r),D4(e,t,n,r,o);return;case _De:if(o=r.children,n=n._context,r=r.value,i=n._currentValue2,n._currentValue2=r,s=Sp,Sp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Ws(e,t,o),e=Sp,e===null)throw Error(Et(403));r=e.parentValue,e.context._currentValue2=r===LYt?e.context._defaultValue:r,e=Sp=e.parent,t.context=e;return;case SDe:r=r.children,r=r(n._currentValue2),Ws(e,t,r);return;case BB:o=n._init,n=o(n._payload),r=Qee(n,r),D4(e,t,n,r,void 0);return}throw Error(Et(130,n==null?n:typeof n,""))}}function Ws(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case RYt:D4(e,t,n.type,n.props,n.ref);return;case bDe:throw Error(Et(257));case BB:var r=n._init;n=r(n._payload),Ws(e,t,n);return}if(j4(n)){Jee(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=Vee&&n[Vee]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);Jee(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(Et(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=zee(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=zee(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function Jee(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=A4(i,r,o);try{I4(e,t,n[o])}finally{t.treeContext=i}}}function I4(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Ws(e,t,n)}catch(c){if(VB(),typeof c=="object"&&c!==null&&typeof c.then=="function"){n=c;var s=t.blockedSegment,a=j5(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=HB(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,E5(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,E5(i),c}}function KYt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,MDe(this,t,e)}function $De(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Et(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return $De(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function A5(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&A5(e,n)}else e.completedSegments.push(t)}function MDe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Et(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=qy,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&A5(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(KYt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(A5(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function FDe(e){if(e.status!==2){var t=Sp,n=HP.current;HP.current=Kee;var r=US;US=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,c=s.blockedSegment;if(c.status===0){E5(s.context);try{Ws(a,s,s.node),a.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("<!-- -->"),s.abortSet.delete(s),c.status=1,MDe(a,s.blockedBoundary,c)}catch(v){if(VB(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),c.status=4;var d=s.blockedBoundary,f=v,p=Wx(a,f);if(d===null?T5(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&UB(e,e.destination)}catch(v){Wx(e,v),T5(e,v)}finally{US=r,HP.current=n,n===Kee&&E5(t)}}}function p2(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)t.push(r[i]);o=NA(e,t,o)}for(;i<r.length-1;i++)t.push(r[i]);return i<r.length&&(o=t.push(r[i])),o;default:throw Error(Et(390))}}function NA(e,t,n){var r=n.boundary;if(r===null)return p2(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=Zi(r),t.push(r),t.push('"')),t.push("></template>")),p2(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;return o=o.boundaryPrefix+i.toString(16),r=r.id=o,Nee(t,e.responseState,r),p2(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),Nee(t,e.responseState,r.id),p2(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(Et(391));return NA(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function ete(e,t,n){return DYt(t,e.responseState,n.formatContext,n.id),NA(e,t,n),IYt(t,n.formatContext)}function tte(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)LDe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(Et(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function LDe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Et(392));return ete(e,t,r)}return ete(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function UB(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){NA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,c=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),c===null)throw Error(Et(395));if(r.push(c),r.push('"'),u||d||f){r.push(",");var p=VP(u||"");r.push(p)}if(d||f){r.push(",");var m=VP(d||"");r.push(m)}if(f){r.push(",");var v=VP(f);r.push(v)}if(!r.push(")<\/script>")){e.destination=null,i++,o.splice(0,i);return}}o.splice(0,i);var g=e.completedBoundaries;for(i=0;i<g.length;i++)if(!tte(e,t,g[i])){e.destination=null,i++,g.splice(0,i);return}g.splice(0,i);var y=e.partialBoundaries;for(i=0;i<y.length;i++){var x=y[i];e:{o=e,s=t;var b=x.completedSegments;for(a=0;a<b.length;a++)if(!LDe(o,s,x,b[a])){a++,b.splice(0,a);var w=!1;break e}b.splice(0,a),w=!0}if(!w){e.destination=null,i++,y.splice(0,i);return}}y.splice(0,i);var C=e.completedBoundaries;for(i=0;i<C.length;i++)if(!tte(e,t,C[i])){e.destination=null,i++,C.splice(0,i);return}C.splice(0,i)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function ZYt(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return $De(r,e,t)}),n.clear(),e.destination!==null&&UB(e,e.destination)}catch(r){Wx(e,r),T5(e,r)}}function XYt(){}function BDe(e,t,n,r){var o=!1,i=null,s="",a={push:function(u){return u!==null&&(s+=u),!0},destroy:function(u){o=!0,i=u}},c=!1;if(e=GYt(e,PYt(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,XYt,void 0,function(){c=!0},void 0,void 0),FDe(e),ZYt(e,r),e.status===1)e.status=2,a.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=a;try{UB(e,a)}catch(u){Wx(e,u),T5(e,u)}}if(o)throw i;if(!c)throw Error(Et(426));return s}l1.renderToNodeStream=function(){throw Error(Et(207))};l1.renderToStaticMarkup=function(e,t){return BDe(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};l1.renderToStaticNodeStream=function(){throw Error(Et(208))};l1.renderToString=function(e,t){return BDe(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};l1.version="18.2.0";var WB={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NDe=h;function Pt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ys=null,qs=0;function Qe(e,t){if(t.length!==0)if(512<t.length)0<qs&&(e.enqueue(new Uint8Array(Ys.buffer,0,qs)),Ys=new Uint8Array(512),qs=0),e.enqueue(t);else{var n=Ys.length-qs;n<t.length&&(n===0?e.enqueue(Ys):(Ys.set(t.subarray(0,n),qs),e.enqueue(Ys),t=t.subarray(n)),Ys=new Uint8Array(512),qs=0),Ys.set(t,qs),qs+=t.length}}function rr(e,t){return Qe(e,t),!0}function nte(e){Ys&&0<qs&&(e.enqueue(new Uint8Array(Ys.buffer,0,qs)),Ys=null,qs=0)}var zDe=new TextEncoder;function Mt(e){return zDe.encode(e)}function Fe(e){return zDe.encode(e)}function VDe(e,t){typeof e.error=="function"?e.error(t):e.close()}var vs=Object.prototype.hasOwnProperty,QYt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rte={},ote={};function HDe(e){return vs.call(ote,e)?!0:vs.call(rte,e)?!1:QYt.test(e)?ote[e]=!0:(rte[e]=!0,!1)}function ds(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ai={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ai[e]=new ds(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ai[t]=new ds(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ai[e]=new ds(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ai[e]=new ds(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ai[e]=new ds(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ai[e]=new ds(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ai[e]=new ds(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ai[e]=new ds(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ai[e]=new ds(e,5,!1,e.toLowerCase(),null,!1,!1)});var YB=/[\-:]([a-z])/g;function qB(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(YB,qB);ai[t]=new ds(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(YB,qB);ai[t]=new ds(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(YB,qB);ai[t]=new ds(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ai[e]=new ds(e,1,!1,e.toLowerCase(),null,!1,!1)});ai.xlinkHref=new ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ai[e]=new ds(e,1,!1,e.toLowerCase(),null,!0,!0)});var WS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JYt=["Webkit","ms","Moz","O"];Object.keys(WS).forEach(function(e){JYt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),WS[t]=WS[e]})});var eqt=/["'&<>]/;function Jo(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=eqt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var tqt=/([A-Z])/g,nqt=/^ms-/,O4=Array.isArray,rqt=Fe("<script>"),oqt=Fe("<\/script>"),iqt=Fe('<script src="'),sqt=Fe('<script type="module" src="'),ite=Fe('" async=""><\/script>'),aqt=/(<\/|<)(s)(cript)/gi;function lqt(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function cqt(e,t,n,r,o){e=e===void 0?"":e,t=t===void 0?rqt:Fe('<script nonce="'+Jo(t)+'">');var i=[];if(n!==void 0&&i.push(t,Mt((""+n).replace(aqt,lqt)),oqt),r!==void 0)for(n=0;n<r.length;n++)i.push(iqt,Mt(Jo(r[n])),ite);if(o!==void 0)for(r=0;r<o.length;r++)i.push(sqt,Mt(Jo(o[r])),ite);return{bootstrapChunks:i,startInlineScript:t,placeholderPrefix:Fe(e+"P:"),segmentPrefix:Fe(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function dc(e,t){return{insertionMode:e,selectedValue:t}}function uqt(e){return dc(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function dqt(e,t,n){switch(t){case"select":return dc(1,n.value!=null?n.value:n.defaultValue);case"svg":return dc(2,null);case"math":return dc(3,null);case"foreignObject":return dc(1,null);case"table":return dc(4,null);case"thead":case"tbody":case"tfoot":return dc(5,null);case"colgroup":return dc(7,null);case"tr":return dc(6,null)}return 4<=e.insertionMode||e.insertionMode===0?dc(1,null):e}var GB=Fe("<!-- -->");function ste(e,t,n,r){return t===""?r:(r&&e.push(GB),e.push(Mt(Jo(t))),!0)}var ate=new Map,fqt=Fe(' style="'),lte=Fe(":"),hqt=Fe(";");function UDe(e,t,n){if(typeof n!="object")throw Error(Pt(62));t=!0;for(var r in n)if(vs.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Mt(Jo(r));o=Mt(Jo((""+o).trim()))}else{i=r;var s=ate.get(i);s!==void 0||(s=Fe(Jo(i.replace(tqt,"-$1").toLowerCase().replace(nqt,"-ms-"))),ate.set(i,s)),i=s,o=typeof o=="number"?o===0||vs.call(WS,r)?Mt(""+o):Mt(o+"px"):Mt(Jo((""+o).trim()))}t?(t=!1,e.push(fqt,i,lte,o)):e.push(hqt,i,lte,o)}}t||e.push(up)}var Ld=Fe(" "),Og=Fe('="'),up=Fe('"'),cte=Fe('=""');function zs(e,t,n,r){switch(n){case"style":UDe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=ai.hasOwnProperty(n)?ai[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=Mt(t.attributeName),t.type){case 3:r&&e.push(Ld,n,cte);break;case 4:r===!0?e.push(Ld,n,cte):r!==!1&&e.push(Ld,n,Og,Mt(Jo(r)),up);break;case 5:isNaN(r)||e.push(Ld,n,Og,Mt(Jo(r)),up);break;case 6:!isNaN(r)&&1<=r&&e.push(Ld,n,Og,Mt(Jo(r)),up);break;default:t.sanitizeURL&&(r=""+r),e.push(Ld,n,Og,Mt(Jo(r)),up)}}else if(HDe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(Ld,Mt(n),Og,Mt(Jo(r)),up)}}}var Bd=Fe(">"),ute=Fe("/>");function YS(e,t,n){if(t!=null){if(n!=null)throw Error(Pt(60));if(typeof t!="object"||!("__html"in t))throw Error(Pt(61));t=t.__html,t!=null&&e.push(Mt(""+t))}}function pqt(e){var t="";return NDe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var UP=Fe(' selected=""');function WP(e,t,n,r){e.push(fc(n));var o=n=null,i;for(i in t)if(vs.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:zs(e,r,i,s)}}return e.push(Bd),YS(e,o,n),typeof n=="string"?(e.push(Mt(Jo(n))),null):n}var YP=Fe(`
`),mqt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,dte=new Map;function fc(e){var t=dte.get(e);if(t===void 0){if(!mqt.test(e))throw Error(Pt(65,e));t=Fe("<"+e),dte.set(e,t)}return t}var gqt=Fe("<!DOCTYPE html>");function vqt(e,t,n,r,o){switch(t){case"select":e.push(fc("select"));var i=null,s=null;for(d in n)if(vs.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:zs(e,r,d,a)}}return e.push(Bd),YS(e,s,i),i;case"option":s=o.selectedValue,e.push(fc("option"));var c=a=null,u=null,d=null;for(i in n)if(vs.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":c=f;default:zs(e,r,i,f)}}if(s!=null)if(n=c!==null?""+c:pqt(a),O4(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(UP);break}}else""+s===n&&e.push(UP);else u&&e.push(UP);return e.push(Bd),YS(e,d,a),a;case"textarea":e.push(fc("textarea")),d=s=i=null;for(a in n)if(vs.call(n,a)&&(c=n[a],c!=null))switch(a){case"children":d=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"dangerouslySetInnerHTML":throw Error(Pt(91));default:zs(e,r,a,c)}if(i===null&&s!==null&&(i=s),e.push(Bd),d!=null){if(i!=null)throw Error(Pt(92));if(O4(d)&&1<d.length)throw Error(Pt(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(YP),i!==null&&e.push(Mt(Jo(""+i))),null;case"input":e.push(fc("input")),c=d=a=i=null;for(s in n)if(vs.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Pt(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:zs(e,r,s,u)}return d!==null?zs(e,r,"checked",d):c!==null&&zs(e,r,"checked",c),i!==null?zs(e,r,"value",i):a!==null&&zs(e,r,"value",a),e.push(ute),null;case"menuitem":e.push(fc("menuitem"));for(var p in n)if(vs.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Pt(400));default:zs(e,r,p,i)}return e.push(Bd),null;case"title":e.push(fc("title")),i=null;for(f in n)if(vs.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(Pt(434));default:zs(e,r,f,s)}return e.push(Bd),i;case"listing":case"pre":e.push(fc(t)),s=i=null;for(c in n)if(vs.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:zs(e,r,c,a)}if(e.push(Bd),s!=null){if(i!=null)throw Error(Pt(60));if(typeof s!="object"||!("__html"in s))throw Error(Pt(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(YP,Mt(n)):e.push(Mt(""+n)))}return typeof i=="string"&&i[0]===`
`&&e.push(YP),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(fc(t));for(var m in n)if(vs.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Pt(399,t));default:zs(e,r,m,i)}return e.push(ute),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return WP(e,n,t,r);case"html":return o.insertionMode===0&&e.push(gqt),WP(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return WP(e,n,t,r);e.push(fc(t)),s=i=null;for(u in n)if(vs.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":UDe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:HDe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(Ld,Mt(u),Og,Mt(Jo(a)),up)}return e.push(Bd),YS(e,s,i),i}}var yqt=Fe("</"),bqt=Fe(">"),xqt=Fe('<template id="'),wqt=Fe('"></template>'),Cqt=Fe("<!--$-->"),_qt=Fe('<!--$?--><template id="'),Sqt=Fe('"></template>'),Eqt=Fe("<!--$!-->"),kqt=Fe("<!--/$-->"),jqt=Fe("<template"),Tqt=Fe('"'),Aqt=Fe(' data-dgst="');Fe(' data-msg="');Fe(' data-stck="');var Dqt=Fe("></template>");function fte(e,t,n){if(Qe(e,_qt),n===null)throw Error(Pt(395));return Qe(e,n),rr(e,Sqt)}var Iqt=Fe('<div hidden id="'),Oqt=Fe('">'),Pqt=Fe("</div>"),Rqt=Fe('<svg aria-hidden="true" style="display:none" id="'),$qt=Fe('">'),Mqt=Fe("</svg>"),Fqt=Fe('<math aria-hidden="true" style="display:none" id="'),Lqt=Fe('">'),Bqt=Fe("</math>"),Nqt=Fe('<table hidden id="'),zqt=Fe('">'),Vqt=Fe("</table>"),Hqt=Fe('<table hidden><tbody id="'),Uqt=Fe('">'),Wqt=Fe("</tbody></table>"),Yqt=Fe('<table hidden><tr id="'),qqt=Fe('">'),Gqt=Fe("</tr></table>"),Kqt=Fe('<table hidden><colgroup id="'),Zqt=Fe('">'),Xqt=Fe("</colgroup></table>");function Qqt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return Qe(e,Iqt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),rr(e,Oqt);case 2:return Qe(e,Rqt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),rr(e,$qt);case 3:return Qe(e,Fqt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),rr(e,Lqt);case 4:return Qe(e,Nqt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),rr(e,zqt);case 5:return Qe(e,Hqt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),rr(e,Uqt);case 6:return Qe(e,Yqt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),rr(e,qqt);case 7:return Qe(e,Kqt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),rr(e,Zqt);default:throw Error(Pt(397))}}function Jqt(e,t){switch(t.insertionMode){case 0:case 1:return rr(e,Pqt);case 2:return rr(e,Mqt);case 3:return rr(e,Bqt);case 4:return rr(e,Vqt);case 5:return rr(e,Wqt);case 6:return rr(e,Gqt);case 7:return rr(e,Xqt);default:throw Error(Pt(397))}}var eGt=Fe('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),tGt=Fe('$RS("'),nGt=Fe('","'),rGt=Fe('")<\/script>'),oGt=Fe('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),iGt=Fe('$RC("'),sGt=Fe('","'),aGt=Fe('")<\/script>'),lGt=Fe('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),cGt=Fe('$RX("'),uGt=Fe('"'),dGt=Fe(")<\/script>"),qP=Fe(","),fGt=/[<\u2028\u2029]/g;function GP(e){return JSON.stringify(e).replace(fGt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Mb=Object.assign,hGt=Symbol.for("react.element"),WDe=Symbol.for("react.portal"),YDe=Symbol.for("react.fragment"),qDe=Symbol.for("react.strict_mode"),GDe=Symbol.for("react.profiler"),KDe=Symbol.for("react.provider"),ZDe=Symbol.for("react.context"),XDe=Symbol.for("react.forward_ref"),QDe=Symbol.for("react.suspense"),JDe=Symbol.for("react.suspense_list"),eIe=Symbol.for("react.memo"),KB=Symbol.for("react.lazy"),pGt=Symbol.for("react.scope"),mGt=Symbol.for("react.debug_trace_mode"),gGt=Symbol.for("react.legacy_hidden"),vGt=Symbol.for("react.default_value"),hte=Symbol.iterator;function P4(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case YDe:return"Fragment";case WDe:return"Portal";case GDe:return"Profiler";case qDe:return"StrictMode";case QDe:return"Suspense";case JDe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ZDe:return(e.displayName||"Context")+".Consumer";case KDe:return(e._context.displayName||"Context")+".Provider";case XDe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eIe:return t=e.displayName||null,t!==null?t:P4(e.type)||"Memo";case KB:t=e._payload,e=e._init;try{return P4(e(t))}catch{}}return null}var tIe={};function pte(e,t){if(e=e.contextTypes,!e)return tIe;var n={},r;for(r in e)n[r]=t[r];return n}var Ep=null;function zA(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Pt(401))}else{if(n===null)throw Error(Pt(401));zA(e,n)}t.context._currentValue=t.value}}function nIe(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&nIe(e)}function rIe(e){var t=e.parent;t!==null&&rIe(t),e.context._currentValue=e.value}function oIe(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Pt(402));e.depth===t.depth?zA(e,t):oIe(e,t)}function iIe(e,t){var n=t.parent;if(n===null)throw Error(Pt(402));e.depth===n.depth?zA(e,n):iIe(e,n),t.context._currentValue=t.value}function D5(e){var t=Ep;t!==e&&(t===null?rIe(e):e===null?nIe(t):t.depth===e.depth?zA(t,e):t.depth>e.depth?oIe(t,e):iIe(t,e),Ep=e)}var mte={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function gte(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=mte,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:Mb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&mte.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=Mb({},i,a)):Mb(i,a))}e.state=i}else i.queue=null}var yGt={id:1,overflow:""};function R4(e,t,n){var r=e.id;e=e.overflow;var o=32-qS(r)-1;r&=~(1<<o),n+=1;var i=32-qS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-qS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var qS=Math.clz32?Math.clz32:wGt,bGt=Math.log,xGt=Math.LN2;function wGt(e){return e>>>=0,e===0?32:31-(bGt(e)/xGt|0)|0}function CGt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _Gt=typeof Object.is=="function"?Object.is:CGt,sd=null,ZB=null,GS=null,Vn=null,Gy=!1,I5=!1,Yx=0,mf=null,VA=0;function dp(){if(sd===null)throw Error(Pt(321));return sd}function vte(){if(0<VA)throw Error(Pt(312));return{memoizedState:null,queue:null,next:null}}function XB(){return Vn===null?GS===null?(Gy=!1,GS=Vn=vte()):(Gy=!0,Vn=GS):Vn.next===null?(Gy=!1,Vn=Vn.next=vte()):(Gy=!0,Vn=Vn.next),Vn}function QB(){ZB=sd=null,I5=!1,GS=null,VA=0,Vn=mf=null}function sIe(e,t){return typeof t=="function"?t(e):t}function yte(e,t,n){if(sd=dp(),Vn=XB(),Gy){var r=Vn.queue;if(t=r.dispatch,mf!==null&&(n=mf.get(r),n!==void 0)){mf.delete(r),r=Vn.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Vn.memoizedState=r,[r,t]}return[Vn.memoizedState,t]}return e=e===sIe?typeof t=="function"?t():t:n!==void 0?n(t):t,Vn.memoizedState=e,e=Vn.queue={last:null,dispatch:null},e=e.dispatch=SGt.bind(null,sd,e),[Vn.memoizedState,e]}function bte(e,t){if(sd=dp(),Vn=XB(),t=t===void 0?null:t,Vn!==null){var n=Vn.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!_Gt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Vn.memoizedState=[e,t],e}function SGt(e,t,n){if(25<=VA)throw Error(Pt(301));if(e===sd)if(I5=!0,e={action:n,next:null},mf===null&&(mf=new Map),n=mf.get(t),n===void 0)mf.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function EGt(){throw Error(Pt(394))}function m2(){}var xte={readContext:function(e){return e._currentValue},useContext:function(e){return dp(),e._currentValue},useMemo:bte,useReducer:yte,useRef:function(e){sd=dp(),Vn=XB();var t=Vn.memoizedState;return t===null?(e={current:e},Vn.memoizedState=e):t},useState:function(e){return yte(sIe,e)},useInsertionEffect:m2,useLayoutEffect:function(){},useCallback:function(e,t){return bte(function(){return e},t)},useImperativeHandle:m2,useEffect:m2,useDebugValue:m2,useDeferredValue:function(e){return dp(),e},useTransition:function(){return dp(),[!1,EGt]},useId:function(){var e=ZB.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-qS(e)-1)).toString(32)+t;var n=KS;if(n===null)throw Error(Pt(404));return t=Yx++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return dp(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Pt(407));return n()}},KS=null,KP=NDe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function kGt(e){return console.error(e),null}function Ky(){}function jGt(e,t,n,r,o,i,s,a,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?kGt:o,onAllReady:i===void 0?Ky:i,onShellReady:s===void 0?Ky:s,onShellError:a===void 0?Ky:a,onFatalError:c===void 0?Ky:c},n=O5(t,0,null,n,!1,!1),n.parentFlushed=!0,e=JB(t,e,null,n,d,tIe,null,yGt),u.push(e),t}function JB(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&cIe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(c),c}function O5(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function qx(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function P5(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,VDe(e.destination,t)):(e.status=1,e.fatalError=t)}function wte(e,t,n,r,o){for(sd={},ZB=t,Yx=0,e=n(r,o);I5;)I5=!1,Yx=0,VA+=1,Vn=null,e=n(r,o);return QB(),e}function Cte(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(Pt(108,P4(r)||"Unknown",a));r=Mb({},s,n)}t.legacyContext=r,Gs(e,t,o),t.legacyContext=s}else Gs(e,t,o)}function _te(e,t){if(e&&e.defaultProps){t=Mb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $4(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=pte(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue:o),gte(i,n,r,o),Cte(e,t,i,n)}else{i=pte(n,t.legacyContext),o=wte(e,t,n,r,i);var s=Yx!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)gte(o,n,r,i),Cte(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=R4(r,1,0);try{Gs(e,t,o)}finally{t.treeContext=r}}else Gs(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=vqt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=dqt(s,n,r),M4(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(yqt,Mt(n),bqt)}o.lastPushedText=!1}else{switch(n){case gGt:case mGt:case qDe:case GDe:case YDe:Gs(e,t,r.children);return;case JDe:Gs(e,t,r.children);return;case pGt:throw Error(Pt(343));case QDe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},c=O5(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=O5(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(M4(e,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(GB),u.status=1,R5(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=qx(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=JB(e,i,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case XDe:if(r=wte(e,t,n.render,r,o),Yx!==0){n=t.treeContext,t.treeContext=R4(n,1,0);try{Gs(e,t,r)}finally{t.treeContext=n}}else Gs(e,t,r);return;case eIe:n=n.type,r=_te(n,r),$4(e,t,n,r,o);return;case KDe:if(o=r.children,n=n._context,r=r.value,i=n._currentValue,n._currentValue=r,s=Ep,Ep=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Gs(e,t,o),e=Ep,e===null)throw Error(Pt(403));r=e.parentValue,e.context._currentValue=r===vGt?e.context._defaultValue:r,e=Ep=e.parent,t.context=e;return;case ZDe:r=r.children,r=r(n._currentValue),Gs(e,t,r);return;case KB:o=n._init,n=o(n._payload),r=_te(n,r),$4(e,t,n,r,void 0);return}throw Error(Pt(130,n==null?n:typeof n,""))}}function Gs(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case hGt:$4(e,t,n.type,n.props,n.ref);return;case WDe:throw Error(Pt(257));case KB:var r=n._init;n=r(n._payload),Gs(e,t,n);return}if(O4(n)){Ste(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=hte&&n[hte]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);Ste(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(Pt(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=ste(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=ste(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function Ste(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=R4(i,r,o);try{M4(e,t,n[o])}finally{t.treeContext=i}}}function M4(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Gs(e,t,n)}catch(c){if(QB(),typeof c=="object"&&c!==null&&typeof c.then=="function"){n=c;var s=t.blockedSegment,a=O5(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=JB(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,D5(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,D5(i),c}}function TGt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,lIe(this,t,e)}function aIe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Pt(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return aIe(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function R5(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&R5(e,n)}else e.completedSegments.push(t)}function lIe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Pt(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Ky,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&R5(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(TGt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(R5(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function cIe(e){if(e.status!==2){var t=Ep,n=KP.current;KP.current=xte;var r=KS;KS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,c=s.blockedSegment;if(c.status===0){D5(s.context);try{Gs(a,s,s.node),c.lastPushedText&&c.textEmbedded&&c.chunks.push(GB),s.abortSet.delete(s),c.status=1,lIe(a,s.blockedBoundary,c)}catch(v){if(QB(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),c.status=4;var d=s.blockedBoundary,f=v,p=qx(a,f);if(d===null?P5(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&eN(e,e.destination)}catch(v){qx(e,v),P5(e,v)}finally{KS=r,KP.current=n,n===xte&&D5(t)}}}function g2(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,Qe(t,xqt),Qe(t,e.placeholderPrefix),e=Mt(r.toString(16)),Qe(t,e),rr(t,wqt);case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)Qe(t,r[i]);o=HA(e,t,o)}for(;i<r.length-1;i++)Qe(t,r[i]);return i<r.length&&(o=rr(t,r[i])),o;default:throw Error(Pt(390))}}function HA(e,t,n){var r=n.boundary;if(r===null)return g2(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,rr(t,Eqt),Qe(t,jqt),r&&(Qe(t,Aqt),Qe(t,Mt(Jo(r))),Qe(t,Tqt)),rr(t,Dqt),g2(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;o=Fe(o.boundaryPrefix+i.toString(16)),r=r.id=o,fte(t,e.responseState,r),g2(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),fte(t,e.responseState,r.id),g2(e,t,n);else{if(rr(t,Cqt),n=r.completedSegments,n.length!==1)throw Error(Pt(391));HA(e,t,n[0])}return rr(t,kqt)}function Ete(e,t,n){return Qqt(t,e.responseState,n.formatContext,n.id),HA(e,t,n),Jqt(t,n.formatContext)}function kte(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)uIe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,Qe(t,e.startInlineScript),e.sentCompleteBoundaryFunction?Qe(t,iGt):(e.sentCompleteBoundaryFunction=!0,Qe(t,oGt)),r===null)throw Error(Pt(395));return n=Mt(n.toString(16)),Qe(t,r),Qe(t,sGt),Qe(t,e.segmentPrefix),Qe(t,n),rr(t,aGt)}function uIe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Pt(392));return Ete(e,t,r)}return Ete(e,t,r),e=e.responseState,Qe(t,e.startInlineScript),e.sentCompleteSegmentFunction?Qe(t,tGt):(e.sentCompleteSegmentFunction=!0,Qe(t,eGt)),Qe(t,e.segmentPrefix),o=Mt(o.toString(16)),Qe(t,o),Qe(t,nGt),Qe(t,e.placeholderPrefix),Qe(t,o),rr(t,rGt)}function eN(e,t){Ys=new Uint8Array(512),qs=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){HA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)Qe(t,r[n]);n<r.length&&rr(t,r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,c=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(Qe(r,a.startInlineScript),a.sentClientRenderFunction?Qe(r,cGt):(a.sentClientRenderFunction=!0,Qe(r,lGt)),c===null)throw Error(Pt(395));Qe(r,c),Qe(r,uGt),(u||d||f)&&(Qe(r,qP),Qe(r,Mt(GP(u||"")))),(d||f)&&(Qe(r,qP),Qe(r,Mt(GP(d||"")))),f&&(Qe(r,qP),Qe(r,Mt(GP(f)))),rr(r,dGt)}o.splice(0,i);var p=e.completedBoundaries;for(i=0;i<p.length;i++)kte(e,t,p[i]);p.splice(0,i),nte(t),Ys=new Uint8Array(512),qs=0;var m=e.partialBoundaries;for(i=0;i<m.length;i++){var v=m[i];e:{o=e,s=t;var g=v.completedSegments;for(a=0;a<g.length;a++)if(!uIe(o,s,v,g[a])){a++,g.splice(0,a);var y=!1;break e}g.splice(0,a),y=!0}if(!y){e.destination=null,i++,m.splice(0,i);return}}m.splice(0,i);var x=e.completedBoundaries;for(i=0;i<x.length;i++)kte(e,t,x[i]);x.splice(0,i)}finally{nte(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function jte(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return aIe(r,e,t)}),n.clear(),e.destination!==null&&eN(e,e.destination)}catch(r){qx(e,r),P5(e,r)}}WB.renderToReadableStream=function(e,t){return new Promise(function(n,r){var o,i,s=new Promise(function(d,f){i=d,o=f}),a=jGt(e,cqt(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),uqt(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,i,function(){var d=new ReadableStream({type:"bytes",pull:function(f){if(a.status===1)a.status=2,VDe(f,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=f;try{eN(a,f)}catch(p){qx(a,p),P5(a,p)}}},cancel:function(){jte(a)}},{highWaterMark:0});d.allReady=s,n(d)},function(d){s.catch(function(){}),r(d)},o);if(t&&t.signal){var c=t.signal,u=function(){jte(a,c.reason),c.removeEventListener("abort",u)};c.addEventListener("abort",u)}cIe(a)})};WB.version="18.2.0";var c1,dIe;c1=l1,dIe=WB;c1.version;var AGt=c1.renderToString;c1.renderToStaticMarkup;c1.renderToNodeStream;c1.renderToStaticNodeStream;dIe.renderToReadableStream;function DGt(e){return typeof e=="function"}function Tte(e){return DGt(e)?e():e}const IGt=()=>{};function OGt(e){return function(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.is;const{add:i,update:s,remove:a}=ie.useContext(e),c=ie.useRef();ie.useLayoutEffect(()=>{if(n===null)return IGt;const u=Tte(r);return i(n,u),c.current=u,()=>{a(n)}},[i,n,a,r]),ie.useLayoutEffect(()=>{const u=Tte(r);typeof c.current<"u"&&!o(c.current,u)&&n!==null&&s(n,u),c.current=u})}}function PGt(){const e=new Map,{publish:t,subscribe:n}=l6(),r=vw(t,10,{trailing:!0}),o=()=>Array.from(e.entries());function i(c,u){e.has(c),e.set(c,u),r(o())}function s(c,u){e.has(c),e.set(c,u),r(o())}function a(c){e.has(c),e.delete(c),r(o())}return{add:i,remove:a,update:s,read:o,subscribe:n}}let y0=!1;const ZP=e=>{y0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReporter('.concat(e,', ...)", is wrapped in a <Tracker> element'))),y0=!0};function RGt(){return y0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),y0=!0,[]}const $Gt=()=>(y0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),y0=!0,()=>{}),MGt={add:ZP,update:ZP,remove:ZP,subscribe:$Gt,read:RGt};let FGt=0;const LGt=()=>++FGt;function fIe(){const e=ie.createContext(MGt);function t(){const o=ie.useContext(e),[i,s]=ie.useState(o.read());return ie.useLayoutEffect(()=>(s(o.read()),o.subscribe(s)),[o]),i}function n(o){const i=ie.useMemo(()=>PGt(),[]);return l.jsx(e.Provider,{value:i,children:o.children})}const r=OGt(e);return{Tracker:n,useReportedValues:t,useReporter:r,useAutoIdReporter:function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.is;return r("element-".concat(ie.useRef(LGt()).current),o,i)}}}const Bs=4,BGt=16,Ate=8,ht=8,Ia=2,v2=4,ki=12,gg=2,NGt=!1,zGt=!1,tN=fIe(),VGt=tN.Tracker,nN=tN.useReportedValues,hIe=tN.useReporter,Gm=h.createContext({isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}}),HGt=e=>{const t=ie.useRef(null),{onSetFocus:n}=ie.useContext(Gm),[r,o]=ie.useState(!1),i=ie.useCallback(()=>{o(!0)},[]),s=ie.useCallback(()=>{o(!1)},[]);hIe("change-".concat(Lr(e.path)),()=>({element:t.current,path:e.path,isChanged:!0,hasFocus:!1,hasHover:r,hasRevertHover:e.hasHover}),a6);const a=h.useCallback(c=>{UGt(c,n,e.path)},[n,e.path]);return l.jsx("div",{ref:t,onClick:a,onMouseLeave:s,onMouseEnter:i,children:e.children})};function UGt(e,t,n){e.stopPropagation(),t(n)}function Fo(e){const t=h.useRef(e);return Ht(t.current,e)||(t.current=e),t.current}function _h(e,t){const n=[t,!0],r={type:"tuple",tuple:n};return function(i){const s=Fo(i),a=vo(()=>be(s).pipe(st(c=>Hr(be({type:"loading"}),e(c).pipe(ue(u=>({type:"value",value:u}))))),qa((c,u)=>{let[d]=c;return u.type==="loading"?[d,!0]:[u.value,!1]},n),_r((c,u)=>{let[d,f]=c,[p,m]=u;return!(d!==p||f!==m)}),ue(c=>({type:"tuple",tuple:c})),In(c=>be({type:"error",error:c}))),[s],r);if(a.type==="error")throw a.error;return a.tuple}}function go(e){return e!=null}const WGt="drafts",rN="".concat(WGt,".");function oN(e){return e.startsWith(rN)}function pIe(e){return{draftId:li(e),publishedId:On(e)}}function li(e){return oN(e)?e:rN+e}function On(e){return oN(e)?e.slice(rN.length):e}function UA(e){const t=e.reduce((n,r)=>{const o=On(r._id);let i=n.get(o);return i||(i={id:o,type:r._type,published:void 0,draft:void 0},n.set(o,i)),i[o===r._id?"published":"draft"]=r,n},new Map);return Array.from(t.values())}function YGt(e){return UA(e).map(t=>t.draft||t.published).filter(go)}const qGt=Object.freeze({}),hn=Object.freeze([]);function GGt(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const KGt=GGt();function Dte(e){return Array.isArray(e)}function yt(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function $v(e){return typeof e=="string"}const ZGt=typeof document=="object"&&typeof window=="object"&&window.ResizeObserver?window.ResizeObserver:R2e,XGt=()=>{const e=l6(),t=new ZGt(n=>e.publish(n));return{observe:(n,r,o)=>{const i=e.subscribe(s=>{const a=s.find(c=>c.target===n);a&&r(a)});return t.observe(n,o),()=>{i(),t.unobserve(n)}}}},QGt=XGt(),JGt=["sanity.imageAsset","sanity.fileAsset"];function eKt(e){return e.type==="document"&&JGt.includes(e.name)}function o6n(e){return e.type==="document"&&!eKt(e)}const tKt=["match","in","asc","desc","true","false","null"],nKt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,mIe=e=>!nKt.test(e)||tKt.includes(e),iN=e=>'["'.concat(e,'"]'),rKt=e=>"@".concat(iN(e)),oKt=e=>Array.isArray(e)&&e.length===0,iKt=e=>{let t="";for(let n=0;n<e.length;n++){const r=e[n];if(oKt(r)){t+="[]";continue}if(typeof r=="number"){t+="[".concat(r,"]");continue}const o=n===0;mIe(r)?t=o?rKt(r):"".concat(t).concat(iN(r)):t=o?r:"".concat(t,".").concat(r)}return t},pm=sKt();function sKt(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const aKt={isLoading:!0,value:void 0,error:null};function gIe(e,t){return vo(()=>e.pipe(lKt()),[e],typeof t>"u"?aKt:{isLoading:!1,value:t,error:null})}function lKt(){return e=>e.pipe(ue(t=>({isLoading:!1,value:t,error:null})),In(t=>be({isLoading:!1,value:void 0,error:t})))}function cKt(e,t,n){return h.useMemo(()=>ET(e,t,n),[e,n,t])}function vIe(e,t){return e!==null&&e.roles.some(n=>n.name===t)}var Ite=Object.freeze,uKt=Object.defineProperty,Du=(e,t)=>Ite(uKt(e,"raw",{value:Ite(t||e.slice())})),Ote,Pte,Rte,$te,Mte,Fte,Lte,Bte,Nte;const dKt=250,fKt=P.div(e=>{let{$changed:t,$disabled:n,$isReviewChangeOpen:r}=e;return n?he(Ote||(Ote=Du([`
        `,` {
          display: none;
        }
      `])),F4):he($te||($te=Du([`
      --change-bar-offset: 2px;

      display: flex;
      position: relative;

      @media (hover: hover) {
        &:hover {
          z-index: 10;
        }
      }

      /* hide when field is not changed */
      `,`

      /* hide hover effect when review changes is open */
      `,`
    `])),!t&&he(Pte||(Pte=Du([`
        `,` {
          opacity: 0;
          pointer-events: none;
        }
      `])),F4),r&&he(Rte||(Rte=Du([`
        `,` {
          opacity: 0;
        }
      `])),yIe))}),hKt=P.div(Mte||(Mte=Du([`
  flex-grow: 1;
  min-width: 0;
`]))),F4=P.div(Fte||(Fte=Du([`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: `,`;
`])),e=>{let{$zIndex:t}=e;return t}),pKt=P.div(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow,r=t.sanity.media[0];return he(Lte||(Lte=Du([`
    position: absolute;
    top: 0;
    left: var(--change-bar-offset);
    width: 2px;
    bottom: 0;
    background-color: `,`;
    border-radius: 1px;

    @media (min-width: `,`px) {
      display: unset;
    }
  `])),n,r)}),yIe=P.button(e=>{let{theme:t,$withHoverEffect:n}=e;const r=t.sanity.color.spot.yellow;return he(Nte||(Nte=Du([`
      appearance: none;
      border: 0;
      outline: 0;
      display: block;
      padding: 0;
      background: transparent;
      opacity: 0;
      position: absolute;
      height: 100%;
      cursor: pointer;
      pointer-events: all;
      left: calc(-0.25rem + var(--change-bar-offset));
      width: 1rem;
      transition: opacity `,`ms;

      &:focus {
        border: 0;
        outline: 0;
      }

      &:after {
        content: '';
        width: 16px;
        height: calc(100% + 14px);
        display: block;
        position: absolute;
        top: -7px;
        left: -3px;
        border-radius: 8px;
        background: `,`;
      }

      &:focus {
        border: 0;
        outline: 0;
      }

      `,`
    `])),dKt,r,n&&he(Bte||(Bte=Du([`
        @media (hover: hover) {
          &:hover {
            opacity: 0.2;
          }
        }
      `]))))});function mKt(e){const{children:t,disabled:n,isChanged:r,withHoverEffect:o=!0}=e,{onOpenReviewChanges:i,isReviewChangesOpen:s}=ie.useContext(Gm),{zIndex:a}=rl(),c=h.useMemo(()=>n||!r?null:l.jsxs(F4,{"data-testid":"change-bar",$zIndex:a,children:[l.jsx(pKt,{"data-testid":"change-bar__marker"}),l.jsx(yIe,{"aria-label":"Review changes","data-testid":"change-bar__button",onClick:s?void 0:i,tabIndex:-1,type:"button",$withHoverEffect:o})]}),[n,r,a,s,i,o]);return l.jsxs(fKt,{"data-testid":"change-bar-wrapper",$changed:r,$disabled:n,$isReviewChangeOpen:s,children:[l.jsx(hKt,{"data-testid":"change-bar__field-wrapper",children:t}),c]})}const gKt=h.memo(function(t){const{children:n,disabled:r,hasFocus:o,isChanged:i,onMouseEnter:s,onMouseLeave:a,path:c=hn,withHoverEffect:u,...d}=t,f=rl(),[p,m]=h.useState(!1),v=h.useCallback(x=>{s==null||s(x),m(!0)},[s]),g=h.useCallback(x=>{a==null||a(x),m(!1)},[a]),y=h.useRef(null);return hIe(r?null:"field-".concat(Lr(c)),()=>({element:y.current,path:c,isChanged:i,hasFocus:o,hasHover:p,zIndex:f.zIndex}),a6),l.jsx("div",{...d,ref:y,onMouseEnter:v,onMouseLeave:g,children:l.jsx(mKt,{isChanged:i,disabled:r,withHoverEffect:u,children:n})})});function ci(e){const{children:t,hasFocus:n,isChanged:r,path:o,withHoverEffect:i,...s}=e;return l.jsx(gKt,{...s,path:o,hasFocus:n,isChanged:r,withHoverEffect:i,children:t})}ie.createContext({path:[],fullPath:[],focusPath:[],isChanged:!1});const L4=ie.createContext(null);function vKt(e){const t=ie.useContext(L4);ie.useEffect(()=>t==null?void 0:t.subscribe(e),[e,t])}const zte=()=>{},WA=ie.forwardRef(function(t,n){const{as:r="div",onScroll:o,...i}=t,s=cr(n),a=h.useContext(L4),c=h.useMemo(()=>l6(),[]);return h.useEffect(()=>o?c.subscribe(o):zte,[c,o]),h.useEffect(()=>a?c.subscribe(a.publish):zte,[a,c]),h.useEffect(()=>{const u=f=>{c.publish(f)},d=s.current;if(d)return d.addEventListener("scroll",u,{passive:!0,capture:!0}),()=>{d.removeEventListener("scroll",u)}},[c,s]),l.jsx(L4.Provider,{value:c,children:ie.createElement(r,{ref:s,"data-testid":"scroll-container",...i})})});function yKt(e){let{onScroll:t,children:n}=e;return vKt(t),l.jsx(l.Fragment,{children:n})}function Vte(e,t,n){const r=t.slice(t.indexOf("-")+1)||"[]",o=Rl(r),i="".concat(e,"-").concat(Lr(o));if(n.has(i))return n.get(i);let s;for(const[a,c]of n){if(!("path"in c)||!a.startsWith(e))continue;const u=JFe(o,c.path),d=c.path[c.path.length-1],f=u===c.path.length-1&&Pl(d);if(u!==0&&!(u!==c.path.length&&!f)&&(s=c,u===o.length))break}return s}function bKt(e){return e[0]!=="changePanel"}function bIe(e){const t=getComputedStyle(e).overflow;return t.includes("auto")||t.includes("scroll")}function xKt(e){return(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)&&bIe(e)}const wKt=-15;function Hte(e){let n=e.element;for(;!xKt(n);)if(n=n.parentElement,!n)return;n.scroll({top:n.scrollTop+e.rect.top-e.bounds.top+wKt,left:0,behavior:"smooth"})}const Ute=(e,t)=>{const n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth},r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth};let o=!1,i=e;for(;i&&i!==t&&t.contains(i);)o&&(n.top+=i.offsetTop,n.left+=i.offsetLeft),bIe(i)&&(n.top=i.offsetTop,n.height=i.offsetHeight,n.left=i.offsetLeft,n.width=i.offsetWidth,o=!0),r.top+=i.offsetTop-i.scrollTop,r.left+=i.offsetLeft-i.scrollLeft,i=i.offsetParent;return{rect:r,bounds:n}};function y2(e,t,n){return["M ".concat(e-v2," ").concat(t-v2*n," "),"L ".concat(e," ").concat(t),"L ".concat(e+v2," ").concat(t-v2*n)].join("")}function XP(e,t){return"M".concat(e," ").concat(t)}function no(e,t){return"L".concat(e," ").concat(t)}function CKt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return e.join(t)}function hs(e,t,n,r){return"Q".concat(e," ").concat(t," ").concat(n," ").concat(r)}function _Kt(e){const{from:t,to:n}=e,{left:r,top:o}=t,{left:i,top:s}=n,a=[],c=Math.min(Bs,Math.abs(o-s)/2);return t.isAbove?a.push(XP(r+ht,o-ki+Ia),no(r+ht,o-Bs),hs(r+ht,o,r+ht+Bs,o)):t.isBelow?a.push(XP(r+ht,o+ki-Ia),no(r+ht,o+Bs),hs(r+ht,o,r+ht+Bs,o)):a.push(XP(r,o)),n.isAbove?o<n.bounds.top?a.push(no(n.bounds.left-8-c,o),hs(n.bounds.left-8,o,n.bounds.left-8,o+c),no(n.bounds.left-8,s-c),hs(n.bounds.left-8,s,n.bounds.left-8+c,s),no(n.bounds.left+ht-Bs,s),hs(n.bounds.left+ht,s,n.bounds.left+ht,s-Bs),no(n.bounds.left+ht,s-ki+Ia)):a.push(no(n.bounds.left+ht-Bs,o),hs(n.bounds.left+ht,o,n.bounds.left+ht,o-Bs),no(n.bounds.left+ht,s-ki+Ia)):n.isBelow?o>n.bounds.top+n.bounds.height?a.push(no(n.bounds.left-ht-c,o),hs(n.bounds.left-ht,o,n.bounds.left-ht,o-c),no(n.bounds.left-ht,s+c),hs(n.bounds.left-ht,s,n.bounds.left-ht+c,s),no(n.bounds.left+ht-Bs,s),hs(n.bounds.left+ht,s,n.bounds.left+ht,s+Bs),no(n.bounds.left+ht,s+ki-Ia)):a.push(no(n.bounds.left+ht-Bs,o),hs(n.bounds.left+ht,o,n.bounds.left+ht,o+Bs),no(n.bounds.left+ht,s+ki-Ia)):o<s?a.push(no(n.bounds.left+ht-c,o),hs(n.bounds.left+ht,o,n.bounds.left+ht,o+c),no(n.bounds.left+ht,s-c),hs(n.bounds.left+ht,s,n.bounds.left+ht+c,s),no(i,s)):a.push(no(n.bounds.left+ht-c,o),hs(n.bounds.left+ht,o,n.bounds.left+ht,o-c),no(n.bounds.left+ht,s+c),hs(n.bounds.left+ht,s,n.bounds.left+ht+c,s),no(i,s)),CKt(a)}function Wte(e,t){const n=e.top+e.height/2,r=e.top+e.height<t.top+Ia,o=e.top>t.top+t.height-Ia;return{bounds:t,left:e.left,top:n,centerY:n,startY:e.top+Ate,endY:e.top+e.height-Ate,isAbove:r,isBelow:o,outOfBounds:r||o}}function SKt(e){const t={top:e.from.bounds.top+ki,bottom:e.from.bounds.top+e.from.bounds.height-ki,left:e.from.bounds.left,right:e.from.bounds.left+e.from.bounds.width,width:e.from.bounds.width,height:e.from.bounds.height-ki*2},n=Wte(e.from.rect,t);n.left=e.from.rect.left+e.from.rect.width+1;const r={top:e.to.bounds.top+ki,bottom:e.to.bounds.top+e.to.bounds.height-ki,left:e.to.bounds.left,right:e.to.bounds.left+e.to.bounds.width,width:e.to.bounds.width,height:e.to.bounds.height-ki*2},o=Wte(e.to.rect,r),i=Math.max(o.startY,n.startY);return n.top=Math.min(i,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),o.top=Math.min(i,o.endY),o.top<t.top?o.top=Math.min(t.top,o.endY):o.top>t.bottom&&(o.top=Math.max(t.bottom,o.startY)),n.top=Math.min(Math.max(n.top,t.top),t.bottom),o.top=Math.min(Math.max(o.top,r.top),r.bottom),{from:n,to:o}}function EKt(e){const{bounds:t,...n}=e,r=Math.max(t.left,e.left),o=Math.max(e.top,t.top),i=Math.max(0,e.height-(o-e.top)),s=Math.max(0,e.width-(r-e.left));return l.jsx("rect",{...n,x:r,y:o,height:i,width:s})}var Yte=Object.freeze,kKt=Object.defineProperty,YA=(e,t)=>Yte(kKt(e,"raw",{value:Yte(t||e.slice())})),qte,Gte,Kte,Zte;P.rect(qte||(qte=YA([`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`])));const fy=P.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return he(Gte||(Gte=YA([`
    fill: none;
    pointer-events: none;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke: `,`;
  `])),n)}),jKt=P.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return he(Kte||(Kte=YA([`
    fill: none;
    pointer-events: stroke;
    stroke: `,`;
    cursor: pointer;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0;

    &:hover {
      opacity: 0.2;
    }
  `])),n)}),TKt=P(EKt)(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return he(Zte||(Zte=YA([`
    stroke: none;
    pointer-events: none;
    fill: `,`;
  `])),n)}),AKt=h.memo(function(t){let{from:n,to:r}=t;const o=SKt({from:n,to:r});if(o.from.outOfBounds&&o.to.outOfBounds)return null;const i=_Kt(o);return l.jsxs(l.Fragment,{children:[l.jsx(jKt,{d:i,strokeWidth:BGt}),l.jsx(fy,{d:i,strokeWidth:gg}),l.jsx(TKt,{top:r.rect.top,left:r.rect.left,height:r.rect.height,width:gg,bounds:r.bounds}),o.from.isAbove&&l.jsx(fy,{d:y2(o.from.left+ht,o.from.bounds.top-ki+Ia,-1),strokeWidth:gg}),o.from.isBelow&&l.jsx(fy,{d:y2(o.from.left+ht,o.from.bounds.top+o.from.bounds.height+ki-Ia,1),strokeWidth:gg}),o.to.isAbove&&l.jsx(fy,{d:y2(o.to.bounds.left+ht,o.to.bounds.top-ki+Ia,-1),strokeWidth:gg}),o.to.isBelow&&l.jsx(fy,{d:y2(o.to.bounds.left+ht,o.to.bounds.top+o.to.bounds.height+ki-Ia,1),strokeWidth:gg}),NGt]})});function DKt(e,t){h.useEffect(()=>QGt.observe(e,t),[e,t])}var Xte=Object.freeze,IKt=Object.defineProperty,OKt=(e,t)=>Xte(IKt(e,"raw",{value:Xte(t||e.slice())})),Qte;const PKt=P.svg(Qte||(Qte=OKt([`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`])));function Jte(e,t,n,r){const o=[],i=[];for(const u of e){if(!bKt(u)||!u[1].isChanged)continue;const[d,f]=u;if(d===t){o.push(u);continue}if(f.hasHover){o.push(u);continue}if(f.hasFocus){i.push(u);continue}}const s=o.length>0;return{connectors:(s?o:i).map(u=>{let[d]=u;const f=Vte("field",d,n),p=Vte("change",d,n);return!f||!p?null:{field:{id:d,...f},change:{id:d,...p}}}).filter(go).map(u=>{let{field:d,change:f}=u;return{hasHover:d.hasHover||f.hasHover,hasFocus:d.hasFocus,hasRevertHover:f.hasRevertHover,field:{...d,...Ute(d.element,r)},change:{...f,...Ute(f.element,r)}}}),isHoverConnector:s}}function RKt(e){const{rootElement:t,onSetFocus:n}=e,[r,o]=ie.useState(null),i=nN(),s=h.useMemo(()=>new Map(i),[i]),[{connectors:a},c]=h.useState(()=>Jte(i,r,s,t)),u=h.useMemo(()=>Bm(a,f=>0-f.field.path.length).slice(0,1),[a]),d=h.useCallback(()=>{c(Jte(i,r,s,t))},[s,i,r,t]);return DKt(t,d),l.jsx(yKt,{onScroll:d,children:l.jsx(PKt,{style:{zIndex:u[0]&&u[0].field.zIndex},children:u.map(f=>{let{field:p,change:m}=f;return m?l.jsx($Kt,{field:p,change:m,onSetFocus:n,setHovered:o},p.id):null})})})}function $Kt(e){const{change:t,field:n,onSetFocus:r,setHovered:o}=e,i=h.useCallback(()=>{Hte(n),Hte(t),r(n.path)},[n,t,r]),s=h.useCallback(()=>o(n.id),[n,o]),a=h.useCallback(()=>o(null),[o]),c=h.useMemo(()=>({rect:{left:n.rect.left+2,top:n.rect.top,height:n.rect.height,width:n.rect.width},bounds:n.bounds}),[n.bounds,n.rect]),u=h.useMemo(()=>({rect:t.rect,bounds:t.bounds}),[t.bounds,t.rect]);return l.jsxs(l.Fragment,{children:[l.jsx("g",{onClick:i,onMouseEnter:s,onMouseLeave:a,children:l.jsx(AKt,{from:c,to:u})}),zGt]})}function MKt(e){let{children:t,className:n,isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i,...s}=e;const[a,c]=ie.useState(),u=h.useMemo(()=>({isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i}),[r,o,i]);return l.jsx(Gm.Provider,{value:u,children:l.jsx(VGt,{children:l.jsxs(WA,{...s,ref:c,className:n,children:[t,a&&l.jsx(RKt,{rootElement:a,onSetFocus:i})]})})})}const FKt=MKt;function LKt(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function sN(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&LKt(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var ene=Object.freeze,BKt=Object.defineProperty,qA=(e,t)=>ene(BKt(e,"raw",{value:ene(t||e.slice())})),tne,nne,rne,one;const NKt="data-active",QP="a,button",zKt=P.div(e=>{let{theme:t,offset:n}=e;return he(tne||(tne=qA([`
    bottom: `,`px;
    border-radius: `,`;
    left: `,`px;
    pointer-events: none;
    position: absolute;
    right: `,`px;
    top: `,`px;
    z-index: 2;

    `,`:focus-visible & {
      box-shadow: `,`;
    }
  `])),-n,ye(t.sanity.radius[1]),-n,-n,-n,xIe,sN({base:t.sanity.color.base,focusRing:t.sanity.focusRing}))}),VKt=P.div(nne||(nne=qA([`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`]))),xIe=P(M)(rne||(rne=qA([`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`]))),HKt=P(M).attrs(e=>{let{$height:t}=e;return{style:{height:"".concat(t,"px")}}})(one||(one=qA([`
  position: relative;
  width: 100%;
`]))),Sh=h.forwardRef(function(t,n){let{activeItemDataAttr:r=NKt,ariaLabel:o,ariaMultiselectable:i=!1,autoFocus:s,canReceiveFocus:a,fixedHeight:c,focusRingOffset:u=0,getItemDisabled:d,getItemKey:f,getItemSelected:p,initialIndex:m,initialScrollAlign:v="start",inputElement:g,itemHeight:y,items:x,onEndReached:b,onEndReachedIndexOffset:w=0,onlyShowSelectionWhenActive:C,overscan:_,renderItem:S,wrapAround:E=!0,...j}=t;const k=h.useRef(!1),T=h.useRef(h.useId()),A=h.useRef(m??0),[D,I]=h.useState(null),[O,$]=h.useState(!1),[R,V]=h.useState(null),[N,W]=h.useState(null),q=h.useCallback(xe=>{if(!b)return;const[We]=[...xe.getVirtualItems()].reverse();if(!We)return;We.index>=x.length-w-1&&k.current&&b()},[b,x.length,w]),H=tSe({count:x.length,getItemKey:f,getScrollElement:()=>N,estimateSize:()=>y,onChange:q,overscan:_}),Y=h.useMemo(()=>{let xe=-1;return x.reduce((We,ze,Ze)=>{var xt,ke;const Ne=(xt=d==null?void 0:d(Ze))!=null?xt:!1,dt=(ke=p==null?void 0:p(Ze))!=null?ke:!1;return Ne||(xe+=1),We[Ze]={activeIndex:Ne?null:xe,disabled:Ne,selected:dt},We},[])},[d,p,x]),X=h.useMemo(()=>Y.filter(xe=>!xe.disabled).length,[Y]),B=h.useCallback(xe=>R==null?void 0:R.setAttribute("data-enabled",(!xe).toString()),[R]),K=h.useCallback(xe=>"".concat(T.current,"-item-").concat(xe),[]),z=h.useCallback(()=>"".concat(T.current,"-children"),[]),Z=h.useCallback(()=>{const xe=[g,N].some(ze=>document.activeElement===ze);if(C&&!xe&&!O)return;const We=Array.from((D==null?void 0:D.children)||[]);We==null||We.forEach(ze=>{var Ze,xt,ke;const Ne=Number((Ze=ze.dataset)==null?void 0:Ze.index),dt=(xt=Y[Ne])==null?void 0:xt.activeIndex;(ke=ze.querySelector(QP))==null||ke.toggleAttribute(r,dt===A.current)})},[r,D==null?void 0:D.children,O,g,Y,C,N]),Q=h.useCallback(()=>{const xe=Array.from((D==null?void 0:D.children)||[]);xe==null||xe.forEach(We=>{var ze;(ze=We.querySelector(QP))==null||ze.toggleAttribute(r,!1)})},[r,D==null?void 0:D.children]),ne=h.useMemo(()=>ET(Z,200),[Z]),G=h.useCallback(()=>{const xe=A==null?void 0:A.current;x.length>0?(g==null||g.setAttribute("aria-activedescendant",K(xe)),N==null||N.setAttribute("aria-activedescendant",K(xe))):(g==null||g.removeAttribute("aria-activedescendant"),N==null||N.removeAttribute("aria-activedescendant"))},[K,g,x.length,N]),J=h.useCallback(()=>{var xe,We;const ze=D==null?void 0:D.parentElement;if(D&&ze){const Ze=ze.getBoundingClientRect().top-D.getBoundingClientRect().top;return(We=(xe=H.getVirtualItemForOffset(Ze))==null?void 0:xe.index)!=null?We:-1}return-1},[D,H]),re=h.useCallback(xe=>{let{index:We,scrollAlign:ze,scrollIntoView:Ze=!0}=xe;if(A.current=We,G(),Z(),Ze){const xt=Y.findIndex(ke=>ke.activeIndex===We);xt>-1&&H.scrollToIndex(xt,ze?{align:ze}:{})}},[G,Y,Z,H]),fe=h.useCallback(xe=>{let We=-1;const ze=X-1;if(xe==="next"){const Ze=E?0:ze;We=A.current<X-1?A.current+1:Ze}if(xe==="previous"){const Ze=E?ze:0;We=A.current>0?A.current-1:Ze}re({index:We,scrollIntoView:!0}),B(!1)},[X,B,re,E]),le=h.useCallback(xe=>{switch(xe){case"input":g==null||g.focus();break;case"list":N==null||N.focus();break}},[g,N]),ge=h.useCallback(()=>{g==null||g.focus()},[g]),we=h.useCallback(()=>{N==null||N.focus()},[N]),ce=h.useCallback(xe=>()=>{re({index:xe,scrollIntoView:!1})},[re]),ve=h.useCallback(()=>{Z()},[Z]),$e=h.useCallback(xe=>We=>{const ze=Array.from((D==null?void 0:D.children)||[]);if(ze.length&&(We.key==="ArrowDown"&&(We.preventDefault(),le(xe),fe("next")),We.key==="ArrowUp"&&(We.preventDefault(),le(xe),fe("previous")),We.key==="Enter")){We.preventDefault(),le(xe);const Ze=ze.find(xt=>Number(xt.dataset.index)===Y.findIndex(ke=>ke.activeIndex===A.current));if(Ze){const xt=Ze==null?void 0:Ze.querySelector(QP);xt==null||xt.click()}}},[D==null?void 0:D.children,le,Y,fe]),Ae=h.useCallback(xe=>$e("input")(xe),[$e]),it=h.useCallback(xe=>$e("list")(xe),[$e]),et=h.useCallback(()=>{C&&(Z(),$(!0))},[C,Z]),lt=h.useCallback(()=>{C&&(Q(),$(!1))},[Q,C]);h.useImperativeHandle(n,()=>({focusInputElement(){ge()},focusListElement(){we()},getTopIndex(){return J()},scrollToIndex(xe){re({index:xe}),B(!0)}}),[B,ge,we,J,re]),h.useEffect(()=>{typeof m<"u"&&!k.current&&re({index:m,scrollAlign:v,scrollIntoView:!0}),k.current=!0},[m,v,C,re]),h.useEffect(()=>{function xe(){B(!0)}return N==null||N.addEventListener("mousemove",xe),N==null||N.addEventListener("wheel",xe,{passive:!0}),()=>{N==null||N.removeEventListener("mousemove",xe),N==null||N.removeEventListener("wheel",xe)}},[B,N]),h.useEffect(()=>(g==null||g.addEventListener("focus",ve),g==null||g.addEventListener("keydown",Ae),N==null||N.addEventListener("focus",ve),N==null||N.addEventListener("keydown",it),()=>{g==null||g.removeEventListener("focus",ve),g==null||g.removeEventListener("keydown",Ae),N==null||N.removeEventListener("focus",ve),N==null||N.removeEventListener("keydown",it)}),[a,ve,$e,Ae,it,Q,g,Z,N]),h.useEffect(()=>{G()},[G,x]),h.useEffect(()=>{const xe=new MutationObserver(ne);return D&&xe.observe(D,{childList:!0,subtree:!0}),()=>{xe.disconnect()}},[D,ne]),h.useEffect(()=>{g==null||g.setAttribute("aria-autocomplete","list"),g==null||g.setAttribute("aria-expanded","true"),g==null||g.setAttribute("aria-controls",z()),g==null||g.setAttribute("role","combobox")},[z,g]),h.useEffect(()=>{s&&le(s)},[s,a,we,ge,le]);const Pe=a?0:-1;return l.jsxs(xIe,{id:z(),onMouseEnter:et,onMouseLeave:lt,ref:W,sizing:"border",tabIndex:Pe,...j,children:[a&&l.jsx(zKt,{offset:u}),l.jsx(VKt,{"aria-hidden":"true","data-enabled":!0,ref:V}),H&&l.jsx(HKt,{forwardedAs:"ul",$height:H.getTotalSize(),"aria-label":o,"aria-multiselectable":i,flex:1,ref:I,role:"listbox",children:H.getVirtualItems().map(xe=>{const We=xe.index,{activeIndex:ze,disabled:Ze,selected:xt}=Y[We],ke=S(x[We],{activeIndex:ze,disabled:Ze,selected:xt,virtualIndex:We}),Ne=h.cloneElement(ke,{tabIndex:-1}),dt=typeof ze=="number"&&!Ze?{"aria-posinset":ze+1,...i?{"aria-selected":xt.toString()}:{},"aria-setsize":X,id:K(ze),role:"option",onMouseEnter:ce(ze)}:{};return l.jsx(oe,{as:"li","data-index":We,ref:c?void 0:H.measureElement,style:{flex:1,...c?{height:"".concat(xe.size,"px")}:{},left:0,position:"absolute",top:0,transform:"translateY(".concat(xe.start,"px)"),width:"100%"},tabIndex:-1,...dt,children:Ne},xe.key)})})]})}),ine=new WeakMap;let UKt=0;function sne(e){const t=ine.get(e);if(t)return t;const n="".concat(e.name||e.displayName||"<anonymous>","-").concat(UKt++);return ine.set(e,n),n}function WKt(e){const t=h.useRef(void 0);return Ju(e,t.current)||(t.current=e),[t.current]}function YKt(e,t){h.useEffect(e,WKt(t))}const qKt=h.memo(function(t){const{hook:n,args:r,id:o,onNext:i,onReset:s,onRequestUpdate:a}=t,c=n({...r,onComplete:()=>{s(o)}});return YKt(()=>(i(o,c),a(),()=>{i(o,null),a()}),c),null},(e,t)=>e.args===t.args),GKt=e=>{const t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-t)}})},1)},KKt=e=>clearTimeout(e),ZKt=typeof requestIdleCallback>"u"?GKt:requestIdleCallback,XKt=typeof cancelIdleCallback>"u"?KKt:cancelIdleCallback,QKt={trailing:!0};function wIe(e){const{hooks:t,args:n,children:r,onReset:o}=e,i=h.useRef({}),[s,a]=h.useState(0),[c,u]=h.useState({}),d=h.useRef(null),f=h.useCallback(()=>{d.current&&XKt(d.current),d.current=ZKt(()=>{d.current=null,a(x=>x+1)})},[]),p=cKt(f,60,QKt),m=h.useCallback((x,b)=>{if(b===null)delete i.current[x];else{const w=i.current[x];i.current[x]={...w,value:b}}},[]),v=h.useCallback(x=>{u(b=>({...b,[x]:(b[x]||0)+1})),o&&o()},[o]),g=h.useMemo(()=>t.map(x=>sne(x)),[t]),y=h.useMemo(()=>g.map(x=>{var b;return(b=i.current[x])==null?void 0:b.value}).filter(go),[g,s]);return l.jsxs(l.Fragment,{children:[t.map(x=>{const b=sne(x),w=c[b]||0;return l.jsx(qKt,{hook:x,id:b,args:n,onNext:m,onRequestUpdate:p,onReset:v},"".concat(b,"-").concat(w))}),r({states:y})]})}function aN(e){let{makePlatformAware:t=!0,keys:n=[],...r}=e;const o=t?n.map(JKt):n;return l.jsx(x8,{...r,keys:o})}const ane=typeof navigator>"u"||typeof navigator.platform!="string"?!1:/Mac|iPod|iPhone|iPad/.test(navigator.platform||"");function JKt(e){const t=e.toLowerCase();return t==="alt"&&ane?lne(e,"option"):t==="option"&&!ane?lne(e,"alt"):e}function lne(e,t){const n=e.length;return t.replace(/./g,(r,o)=>o<n&&e[o]===e[o].toUpperCase()?r.toUpperCase():r)}function Vc(e){const{currentUser:t,title:n="Insufficient permissions",operationLabel:r="access this feature"}=e,o=(t==null?void 0:t.roles)||[],i=o.length!==1;return l.jsxs(M,{padding:2,children:[l.jsxs(qt,{space:2,children:[l.jsx(L,{size:1,children:l.jsx(Bf,{})}),l.jsx(L,{weight:"semibold",children:n})]}),l.jsx(qt,{marginTop:4,children:l.jsx(L,{size:1,children:o.length===0?l.jsxs(l.Fragment,{children:["You have no role that grants you permission to ",r]}):l.jsxs(l.Fragment,{children:["Your role",i&&"s"," ",eZt(o.map(s=>l.jsx("code",{children:s.title},s.name)),l.jsx(l.Fragment,{children:", "}))," ","do",i||"es"," not have permissions to ",r]})})})]})}function eZt(e,t){return e.reduce((n,r)=>n===null?[r]:[...n,t,r],null)}const tZt=P(Qr)(e=>{const{theme:t}=e,{container:n,media:r}=t.sanity;return pt(r,e.$width,o=>({width:o==="auto"?"none":ye(n[o]),maxWidth:"100%"}))}),nZt=ie.forwardRef(function(t,n){const{width:r,...o}=t,i=Ce(r);return l.jsx(tZt,{...o,"data-ui":"PopoverContainer",$width:i,ref:n})});var cne=Object.freeze,rZt=Object.defineProperty,CIe=(e,t)=>cne(rZt(e,"raw",{value:cne(t||e.slice())})),une,dne;const oZt=P(Jt)(()=>he(une||(une=CIe([`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `])))),iZt=P(ss)(e=>{const t=e.theme.sanity.radius[3];return he(dne||(dne=CIe([`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: `,`px;
    border-top-right-radius: `,`px;
  `])),t,t)});function sZt(e){const{children:t,header:n,onClose:r,referenceElement:o,containerRef:i,width:s}=e,a=h.useCallback(()=>{r(),o==null||o.focus()},[r,o]),c=l.jsx(nZt,{width:s,children:l.jsx(vh,{autoFocus:!0,children:l.jsxs(oe,{ref:i,children:[l.jsx(iZt,{children:l.jsx(M,{padding:2,paddingLeft:3,children:l.jsxs(U,{align:"center",gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(L,{textOverflow:"ellipsis",weight:"semibold",children:n})}),l.jsx(se,{icon:Ii,mode:"bleed",onClick:a})]})})}),t]})})});return l.jsx(oZt,{portal:!0,constrainSize:!0,content:c,open:!0,referenceElement:o})}var fne=Object.freeze,aZt=Object.defineProperty,lZt=(e,t)=>fne(aZt(e,"raw",{value:fne(t||e.slice())})),hne;const cZt=P(ee)(()=>he(hne||(hne=lZt([`
    /* this is a hack to avoid layout jumps while previews are loading
    there's probably better ways of solving this */
    min-height: 35px;

    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `])))),_Ie=h.createContext({selected:!1});function uZt(){const e=h.useContext(_Ie);if(!e)throw new Error("PreviewCard: missing context value");return e}const Np=h.forwardRef(function(t,n){const{children:r,selected:o,as:i,...s}=t;return l.jsx(cZt,{"data-ui":"PreviewCard",...s,forwardedAs:i,ref:n,selected:o,children:l.jsx(_Ie.Provider,{value:{selected:o},children:r})})}),ns={block:{width:33,height:33},blockImage:{width:600,height:400},default:{width:35,height:35},detail:{width:75,height:75},inline:{width:15,height:15},media:{width:160,height:160}},dZt={block:31,blockImage:45,default:33,detail:45,inline:15,media:45};var pne=Object.freeze,fZt=Object.defineProperty,hZt=(e,t)=>pne(fZt(e,"raw",{value:pne(t||e.slice())})),mne;const SIe=P.span(e=>{const{$dimensions:t,$layout:n,$radius:r,$responsive:o}=e,i=t.width||0,s=t.width||0,a=dZt[n];return he(mne||(mne=hZt([`
    position: relative;
    width: `,`;
    height: `,`;
    min-width: `,`;
    border-radius: `,`;
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      display: block;
      flex: 1;
      font-size: calc(21 / 16 * 1em);
    }

    & [data-sanity-icon] {
      display: block;
      font-size: calc(`,` / 16 * 1em);
    }

    /*
      NOTE on why we can’t use the ":after" pseudo-element:
      The thing is we only want the shadow when then <MediaWrapper> contains
      something else than <svg> – icons should not have the shadow.
      This is why we use the "*:not(svg) + span" selector to target only that
      situation to render the shadow.
    */
    & *:not(svg) + span {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.2;
      border-radius: inherit;
    }
  `])),o?"100%":ye(i),o?"100%":ye(s),o?void 0:ye(i),c=>{let{theme:u}=c;return ye(u.sanity.radius[r])},a)});SIe.displayName="MediaWrapper";function vC(e){const{border:t=!0,dimensions:n,layout:r,media:o,radius:i=1,responsive:s=!1,styles:a}=e;return l.jsxs(SIe,{$dimensions:n,$layout:r,$radius:i,$responsive:s,className:a==null?void 0:a.media,"data-testid":"Media",children:[pZt({dimensions:n,layout:r,media:o}),t&&l.jsx("span",{})]})}function pZt(e){const{dimensions:t,layout:n,media:r,styles:o}=e;return Kl.isValidElementType(r)?h.createElement(r,{dimensions:t,layout:n}):typeof r=="string"?l.jsx(L,{as:"span",className:o==null?void 0:o.mediaString,children:r}):h.isValidElement(r)?r:null}function mZt(e,t,n){return Kl.isValidElementType(e)?h.createElement(e,{layout:t,dimensions:n}):typeof e=="string"?l.jsx("div",{children:e}):e}function Lo(e,t,n){return typeof e=="string"?e:Kl.isValidElementType(e)?h.createElement(e,{layout:t}):e||n}var gne=Object.freeze,gZt=Object.defineProperty,lN=(e,t)=>gne(gZt(e,"raw",{value:gne(t||e.slice())})),vne,yne,bne;const vZt={...ns.default,aspect:1,fit:"crop",dpr:zm()},xne=P(U)(vne||(vne=lN([`
  height: `,`;
`])),ye(ns.default.height)),yZt=P(Pi).attrs({animated:!0,radius:1})(yne||(yne=lN([`
  max-width: `,`;
  width: 80%;
`])),ye(160)),bZt=P(Pi).attrs({animated:!0,radius:1,size:1})(bne||(bne=lN([`
  max-width: `,`;
  width: 60%;
`])),ye(120));function EIe(e){const{title:t,subtitle:n,media:r,status:o,isPlaceholder:i,children:s,styles:a}=e,c=c0t(a==null?void 0:a.root,!!n&&(a==null?void 0:a.hasSubtitle)),u=o&&l.jsx(M,{className:a==null?void 0:a.status,"data-testid":"default-preview__status",paddingLeft:3,paddingRight:1,children:Lo(o,"default")});return i?l.jsxs(xne,{align:"center",className:a==null?void 0:a.placeholder,"data-testid":"default-preview",children:[r!==!1&&l.jsx(z0,{animated:!0,marginRight:2,radius:2,style:ns.default}),l.jsxs(oe,{"data-testid":"default-preview__heading",flex:1,paddingLeft:r===!1?1:2,paddingRight:o?0:1,space:2,children:[l.jsx(yZt,{}),l.jsx(bZt,{})]}),u]}):l.jsxs(xne,{align:"center",className:c,"data-testid":"default-preview",children:[r!==!1&&r!==void 0&&l.jsx(vC,{dimensions:vZt,layout:"default",media:r,styles:a}),l.jsxs(oe,{className:a==null?void 0:a.heading,"data-testid":"default-preview__header",flex:1,paddingLeft:r?2:1,paddingRight:o?0:1,space:2,children:[l.jsxs(L,{className:a==null?void 0:a.title,style:{color:"inherit"},textOverflow:"ellipsis",children:[t&&Lo(t,"default"),!t&&l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})]}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",className:a==null?void 0:a.subtitle,children:Lo(n,"default")}),s&&l.jsx("div",{className:a==null?void 0:a.children,children:s})]}),u]})}var wne=Object.freeze,xZt=Object.defineProperty,Km=(e,t)=>wne(xZt(e,"raw",{value:wne(t||e.slice())})),Cne,_ne,Sne,Ene,kne,jne,Tne;const Ane=P(U).attrs({align:"center"})(Cne||(Cne=Km([`
  height: `,`;
`])),ye(ns.detail.height)),wZt=P(M)(_ne||(_ne=Km([`
  white-space: nowrap;
`]))),CZt=P(z0).attrs({animated:!0,radius:2})(Sne||(Sne=Km([`
  width: `,`;
  height: `,`;
`])),ye(ns.detail.width),ye(ns.detail.height)),_Zt=P(Pi).attrs({animated:!0,radius:1})(Ene||(Ene=Km([`
  max-width: `,`; /* 80% of 200px */
  width: 80%;
`])),ye(160)),SZt=P(Pi).attrs({animated:!0,radius:1,size:1})(kne||(kne=Km([`
  max-width: `,`; /* 60% of 200px */
  width: 60%;
`])),ye(120)),EZt=P(Pi).attrs({animated:!0,radius:1,size:1})(jne||(jne=Km([`
  max-width: `,`; /* 90% of 200px */
  width: 90%;
`])),ye(180)),kZt=P(L)(e=>{let{theme:t}=e;const{fonts:n}=t.sanity,r=n.text.sizes[1],o=2,i=r.lineHeight*o;return he(Tne||(Tne=Km([`
    & > span {
      max-height: `,`;

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: `,`;
      -webkit-box-orient: vertical;
    }
  `])),ye(i),o)}),jZt={...ns.detail,fit:"crop",aspect:1,dpr:zm()};function TZt(e){const{title:t,subtitle:n,description:r,mediaDimensions:o=jZt,media:i,status:s,children:a,isPlaceholder:c}=e,u=s&&l.jsx(wZt,{marginLeft:3,paddingRight:1,children:Lo(s,"detail")});return c?l.jsxs(Ane,{"data-testid":"detail-preview",children:[i!==!1&&l.jsx(CZt,{"data-testid":"detail-preview__media"}),l.jsxs(M,{flex:1,paddingLeft:i===!1?1:2,children:[l.jsxs(U,{align:"center","data-testid":"detail-preview__header",children:[l.jsxs(oe,{flex:1,space:2,children:[l.jsx(_Zt,{}),l.jsx(SZt,{})]}),u]}),r&&l.jsx(M,{marginTop:3,children:l.jsx(EZt,{})})]})]}):l.jsxs(Ane,{"data-testid":"detail-preview",children:[i!==!1&&l.jsx(vC,{dimensions:o,layout:"detail",media:i}),l.jsxs(M,{flex:1,paddingLeft:i===!1?1:2,children:[l.jsxs(U,{align:"center","data-testid":"detail-preview__header",children:[l.jsxs(oe,{flex:1,space:2,children:[l.jsxs(L,{textOverflow:"ellipsis",style:{color:"inherit"},children:[t&&Lo(t,"detail"),!t&&l.jsx(l.Fragment,{children:"Untitled"})]}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Lo(n,"detail")})]}),u]}),r&&l.jsx(M,{marginTop:3,children:l.jsx(kZt,{muted:!0,size:1,children:Lo(r,"detail")})})]}),a]})}var Dne=Object.freeze,AZt=Object.defineProperty,cN=(e,t)=>Dne(AZt(e,"raw",{value:Dne(t||e.slice())})),Ine,One,Pne;const ml=43,uN=3,DZt=P.svg(Ine||(Ine=cN([`
  width: `,`px;
  height: `,`px;
  transform: rotate(-90deg);
`])),ml,ml),IZt=P.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return he(One||(One=cN([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
  `])),pe.gray[n.dark?900:100].hex,uN)}),OZt=P.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return he(Pne||(Pne=cN([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
    transition: stroke-dashoffset 75ms;
  `])),pe.blue[n.dark?400:500].hex,uN)});function PZt(e){const{value:t}=e,n=Math.min(Math.max(t,0),100),r=ml/2-uN/2,o=2*Math.PI*r,i=(100-n)/100*o,s="".concat(ml/2," ").concat(ml/2," ").concat(ml," ").concat(ml);return l.jsxs(DZt,{viewBox:s,children:[l.jsx(IZt,{cx:ml,cy:ml,r}),l.jsx(OZt,{cx:ml,cy:ml,r,style:{strokeDasharray:o,strokeDashoffset:"".concat(i,"px")}})]})}var Rne=Object.freeze,RZt=Object.defineProperty,kIe=(e,t)=>Rne(RZt(e,"raw",{value:Rne(t||e.slice())})),$ne,Mne;const $Zt=.5,MZt=P(ee)($ne||($ne=kIe([`
  overflow: hidden;
  overflow: clip;
`]))),FZt=P(ee)(e=>{let{theme:t}=e;const{color:n}=t.sanity;return he(Mne||(Mne=kIe([`
    height: `,`rem;
    background: `,`;
    transition: transform 75ms;
  `])),$Zt,pe.blue[n.dark?400:500].hex)});function LZt(e){const{value:t}=e;return l.jsx(MZt,{radius:5,children:l.jsx(FZt,{radius:5,style:{transform:"translate3d(".concat(t-100,"%, 0, 0)")}})})}var Fne=Object.freeze,BZt=Object.defineProperty,yC=(e,t)=>Fne(BZt(e,"raw",{value:Fne(t||e.slice())})),Lne,Bne,Nne,zne,Vne;const NZt=P(M)(Lne||(Lne=yC([`
  position: relative;
`]))),zZt=P(U).attrs({align:"center",justify:"center"})(Bne||(Bne=yC([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`]))),VZt=P(z0).attrs({animated:!0,radius:2})(Nne||(Nne=yC([`
  width: 100%;
  height: 100%;
`]))),HZt=P(U).attrs({align:"center",justify:"center"})(zne||(zne=yC([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`]))),UZt=P(oe).attrs({padding:2,space:2})(Vne||(Vne=yC([`
  max-width: `,`;
`])),ye(200)),WZt={...ns.media,aspect:1,fit:"crop",dpr:zm()};function YZt(e){const{media:t,mediaDimensions:n=WZt,children:r,isPlaceholder:o,progress:i=-1,subtitle:s,title:a,withBorder:c=!0,withRadius:u=!0}=e,d=n.aspect||1,f=h.useMemo(()=>({paddingBottom:"".concat(100/d,"%")}),[d]),p=h.useMemo(()=>!a||!s?null:l.jsxs(UZt,{children:[a&&l.jsx(L,{align:"center",size:1,weight:"semibold",children:Lo(a,"media")}),s&&l.jsx(L,{align:"center",muted:!0,size:1,children:Lo(s,"media")})]}),[s,a]);return l.jsxs(NZt,{"data-testid":"media-preview",overflow:"hidden",flex:1,children:[l.jsx("div",{style:f}),l.jsx(at,{content:p,disabled:!p,placement:"top",portal:!0,children:l.jsxs(zZt,{children:[o?l.jsx(VZt,{}):l.jsx(vC,{border:c,dimensions:n,layout:"media",media:t,radius:u?1:0,responsive:!0}),typeof i=="number"&&i>-1&&l.jsx(HZt,{children:l.jsx(PZt,{value:i})})]})}),r]})}var Hne=Object.freeze,qZt=Object.defineProperty,dN=(e,t)=>Hne(qZt(e,"raw",{value:Hne(t||e.slice())})),Une,Wne,Yne;const GZt=P(U).attrs({align:"center"})(Une||(Une=dN([`
  box-shadow: 0 0 0 1px var(--card-border-color);
  height: `,`;
  white-space: nowrap;
  position: relative;
  z-index: 1;
`])),ye(ns.block.height)),KZt=P(ee)(Wne||(Wne=dN([`
  position: relative;
  padding-bottom: `,`%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`])),e=>{let{$ratio:t}=e;return t}),ZZt=P(M).attrs({overflow:"hidden"})(Yne||(Yne=dN([`
  border-radius: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.radius[1]}),XZt={...ns.blockImage,fit:"fillmax",dpr:zm()},QZt=e=>{const{height:t,width:n}=e;return!t||!n?1:t/n*100};function JZt(e){const{actions:t,title:n,subtitle:r,description:o,fallbackTitle:i="Untitled",mediaDimensions:s=XZt,media:a,children:c,status:u}=e;return l.jsxs(ZZt,{children:[l.jsxs(oe,{children:[l.jsxs(GZt,{paddingLeft:2,paddingRight:1,paddingY:1,children:[l.jsxs(oe,{flex:1,space:2,children:[(n||i)&&l.jsx(L,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Lo(n,"block"):i}),r&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Lo(r,"block")})]}),l.jsxs(U,{gap:1,paddingLeft:1,children:[u&&l.jsx(M,{paddingX:2,paddingY:3,children:Lo(u,"block")}),t]})]}),l.jsx(KZt,{$ratio:QZt(s),__unstable_checkered:!0,display:"flex",sizing:"border",tone:"inherit",children:l.jsx(vC,{border:!1,dimensions:s,layout:"blockImage",media:a,radius:0,responsive:!0})})]}),o&&l.jsx(M,{paddingX:2,paddingY:3,children:l.jsx(L,{muted:!0,size:1,children:Lo(o,"block")})}),c&&l.jsx("div",{children:c})]})}var qne=Object.freeze,eXt=Object.defineProperty,tXt=(e,t)=>qne(eXt(e,"raw",{value:qne(t||e.slice())})),Gne;const nXt={...ns.block,aspect:1,fit:"crop",dpr:zm()},rXt=P(U).attrs({align:"center"})(Gne||(Gne=tXt([`
  min-height: `,`;
`])),ye(ns.block.height));function oXt(e){const{actions:t,title:n,subtitle:r,description:o,mediaDimensions:i=nXt,media:s,status:a,children:c}=e;return l.jsxs(oe,{"data-testid":"block-preview",space:1,children:[l.jsxs(rXt,{"data-testid":"block-preview__header",children:[s&&l.jsx(vC,{dimensions:i,layout:"block",media:s}),l.jsxs(M,{flex:1,paddingLeft:s?2:1,children:[l.jsx(L,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Lo(n,"block"):"Untitled"}),r&&l.jsx(M,{marginTop:2,children:l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Lo(r,"block")})}),o&&l.jsx(M,{marginTop:3,children:l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Lo(o,"block")})})]}),l.jsxs(U,{gap:1,paddingLeft:1,children:[a&&l.jsx(M,{paddingX:2,paddingY:3,children:Lo(a,"block")}),t]})]}),c&&l.jsx("div",{"data-testid":"block-preview__children",children:c})]})}var Kne=Object.freeze,iXt=Object.defineProperty,fN=(e,t)=>Kne(iXt(e,"raw",{value:Kne(t||e.slice())})),Zne,Xne,Qne;const sXt=P.span(Zne||(Zne=fN([`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`]))),aXt=P.span(Xne||(Xne=fN([`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: `,`;
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: `,`;
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[1])},e=>{let{theme:t}=e;return ye(t.sanity.radius[1])}),lXt=P(L).attrs({forwardedAs:"span"})(e=>{let{theme:t}=e;const n=t.sanity.fonts.text,r=n.sizes[1];return he(Qne||(Qne=fN([`
    font-size: calc(`,` / 16 * 1em);
    font-weight: `,`;
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: `,`;
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `])),r.fontSize,n.weights.medium,r.lineHeight/r.fontSize)}),cXt={...ns.inline,fit:"crop",aspect:1,dpr:zm()};function uXt(e){const{title:t,fallbackTitle:n="Untitled",media:r,mediaDimensions:o=cXt}=e;return l.jsxs(sXt,{"data-testid":"inline-preview",children:[r&&l.jsxs(aXt,{"data-testid":"inline-preview-media",children:[mZt(r,"inline",o),l.jsx("span",{})]}),l.jsx(lXt,{"data-testid":"inline-preview-title",size:1,children:Lo(t,"inline",n)})]})}var Jne=Object.freeze,dXt=Object.defineProperty,GA=(e,t)=>Jne(dXt(e,"raw",{value:Jne(t||e.slice())})),ere,tre,nre,rre;({...ns.default,dpr:zm()});P(M)(ere||(ere=GA([`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`])));P(U).attrs({align:"center"})(tre||(tre=GA([`
  height: `,`;
`])),ye(ns.default.height));P(Pi).attrs({animated:!0,radius:1})(nre||(nre=GA([`
  max-width: `,`;
  width: 80%;
`])),ye(160));P(Pi).attrs({animated:!0,radius:1,size:1})(rre||(rre=GA([`
  max-width: `,`;
  width: 60%;
`])),ye(120));const fXt=["aria-hidden","disabled","href"],hXt='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function pXt(e){return[...e.querySelectorAll(hXt)].filter(t=>!t.hasAttribute("disabled")&&t.getAttribute("aria-hidden")!=="true")}function jIe(e){const{direction:t="horizontal",initialFocus:n,loop:r=!0,navigation:o=["arrows"],pause:i=!1,rootElement:s}=e,[a,c]=h.useState(-1),[u,d]=h.useState([]),f=u.length,p=f-1,m=t==="horizontal"?"ArrowRight":"ArrowDown",v=t==="horizontal"?"ArrowLeft":"ArrowUp",g=h.useCallback(()=>{if(s){const b=pXt(s);d(b)}},[s]),y=h.useCallback(b=>{c(b)},[]),x=h.useCallback(b=>{if(i)return;const w=()=>{b.preventDefault(),c(_=>{const S=(_+p)%f;return!r&&S===p?_:S})},C=()=>{b.preventDefault(),c(_=>{const S=(_+1)%f;return!r&&S===0?_:S})};b.key==="Tab"&&o.includes("tab")&&(b.shiftKey?w():C()),o.includes("arrows")&&(b.key===v&&w(),b.key===m&&C())},[i,v,o,m,p,f,r]);h.useEffect(()=>{g()},[g,n,t]),h.useEffect(()=>{const b=new MutationObserver(g);return s&&b.observe(s,{childList:!0,subtree:!0,attributeFilter:fXt}),()=>{b.disconnect()}},[u,g,s]),h.useEffect(()=>{var b;u.forEach((w,C)=>{C===a?(w.setAttribute("tabIndex","0"),w.setAttribute("aria-selected","true"),w.focus(),w.onfocus=()=>y(C),w.onblur=()=>y(-1)):(w.setAttribute("tabIndex","-1"),w.setAttribute("aria-selected","false"),w.onfocus=()=>y(C))}),a===-1&&u&&((b=u[n==="last"?p:0])==null||b.setAttribute("tabIndex","0"))},[u,a,y,n,p]),h.useEffect(()=>(s==null||s.addEventListener("keydown",x),()=>{s==null||s.removeEventListener("keydown",x)}),[x,s])}const mXt=P(M)({position:"relative"}),gXt=P.div({position:"absolute",top:-4,right:-4,width:6,height:6,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),Eh=h.forwardRef(function(t,n){const{disabled:r,fontSize:o,hotkey:i,icon:s,label:a,mode:c="bleed",space:u=3,text:d,tone:f,tooltip:p,...m}=t,v=Rs(),g=f&&v.sanity.color.solid[f],y=h.useMemo(()=>({backgroundColor:g==null?void 0:g.enabled.bg}),[g]),x=!!r,b=typeof r=="object"?l.jsx(L,{size:1,children:r.reason}):l.jsxs(U,{align:"center",gap:2,style:{lineHeight:0},children:[l.jsx(L,{size:1,children:a}),i&&l.jsx(aN,{fontSize:0,keys:i,style:{margin:-4}})]});return l.jsx(at,{padding:2,placement:"bottom",...p,content:b,disabled:!a,portal:!0,children:l.jsx("div",{children:l.jsx(se,{"data-ui":"StatusButton",...m,"aria-label":a,disabled:x,mode:c,ref:n,children:l.jsxs(U,{gap:u,children:[l.jsxs(mXt,{children:[l.jsxs(L,{size:o,children:[h.isValidElement(s)&&s,Kl.isValidElementType(s)&&h.createElement(s)]}),f&&l.jsx(gXt,{style:y})]}),d&&l.jsx(M,{flex:1,children:l.jsx(L,{size:o,children:d})})]})})})})});var ore=Object.freeze,vXt=Object.defineProperty,yXt=(e,t)=>ore(vXt(e,"raw",{value:ore(t||e.slice())})),ire;const bXt=P(L)(e=>{let{$tone:t,theme:n}=e;const r=n.sanity.color.muted[t];return he(ire||(ire=yXt([`
    &:not([data-muted]) {
      --card-fg-color: `,`;
    }

    &[data-dimmed] {
      opacity: 0.3;
    }
  `])),r?r.enabled.fg:void 0)}),sr=ie.forwardRef(function(t,n){const{tone:r,dimmed:o,muted:i,...s}=t;return l.jsx(bXt,{"data-ui":"TextWithTone","data-dimmed":o?"":void 0,"data-muted":i?"":void 0,$tone:r,muted:i,ref:n,...s})}),bC=h.forwardRef(function(t,n){const{children:r,content:o,disabled:i,...s}=t;return l.jsx(at,{...s,content:o,disabled:i||!o,padding:2,ref:n,children:l.jsx("div",{children:r})})}),hN=h.forwardRef((e,t)=>{const{push:n}=Wo();return h.useImperativeHandle(t,()=>({push:n})),null});hN.displayName="ImperativeToast";const xXt={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},wXt=h.createContext(xXt);function TIe(){return h.useContext(wXt)}function ad(e){let{children:t,zOffset:n}=e;const o=TIe()[n];return l.jsx(Qu,{zOffset:o,children:t})}function CXt(){const e=new WeakMap,t=new WeakMap;function n(){return Array.from({length:10}).map(()=>Math.floor(Math.random()*255).toString(16).padStart(2,"0")).join("")}function r(u){const d=t.get(u);if(d)return d;const f=n();return t.set(u,f),f}function o(u){return Array.from(new Set(u)).map(d=>[r(d),d]).sort((d,f)=>{let[p]=d,[m]=f;return p.localeCompare(m,"en")}).map(d=>{let[,f]=d;return f})}function i(u,d){if(!u.length)return;const[f,...p]=u,m=d.get(f);if(m)return p.length?i(p,m.next):m.value}function s(u,d,f){if(!u.length)return;const[p,...m]=u,v=d.get(p)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(d.set(p,v),!m.length){v.value=f;return}s(m,v.next,f)}function a(u){return i(o(u),e)}function c(u,d){s(o(u),e,d)}return{get:a,set:c}}const AIe=h.createContext(null);function _Xt(e){let{children:t}=e;const n=h.useMemo(()=>{const r=new Map,o={};return{get:i=>{let{namespace:s,dependencies:a}=i;const c=a.map(d=>d===null?o:d),u=r.get(s);return u==null?void 0:u.get(c)},set:i=>{let{namespace:s,dependencies:a,value:c}=i;const u=r.get(s)||CXt(),d=a.map(f=>f===null?o:f);r.set(s,u),u.set(d,c)}}},[]);return l.jsx(AIe.Provider,{value:n,children:t})}function Td(){const e=h.useContext(AIe);if(!e)throw new Error("Could not find `cache` context");return e}class pN extends Error{constructor(t){let{projectId:n}=t;super("CorsOriginError"),this.projectId=n}}const mN=(()=>{const e="__tmp_supports_local_storage";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),gN={};function DIe(e,t){mN?localStorage[e]=t:gN[e]=t}function SXt(e){return mN?localStorage[e]:gN[e]}function IIe(e){mN?localStorage.removeItem(e):delete gN[e]}function EXt(e){const t=typeof window>"u"?be():Ps(window,"storage"),n="__studio_local_storage_messaging_".concat(e),r=new uo,o=pn(r,t.pipe(bt(s=>s.key===n),ue(s=>s.newValue),bt(go),ue(s=>JSON.parse(s)))).pipe(Ri(1));function i(s){try{DIe(n,JSON.stringify(s)),IIe(n),r.next(s)}catch{}}return{messages:o,broadcast:i}}const sre=/sid=([^&]{20,})&?/;function kXt(){if(typeof window>"u"||typeof window.location!="object")return null;const e=window.location.hash,[,t]=e.match(sre)||[];if(!t)return null;const n=e.replace(sre,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t}let are=kXt();const jXt=()=>{const e=are;return e&&(are=null),e};var lre=Object.freeze,TXt=Object.defineProperty,OIe=(e,t)=>lre(TXt(e,"raw",{value:lre(t||e.slice())})),cre,ure;const AXt=P.svg(e=>{let{theme:t}=e;const{fg:n}=t.sanity.color.base;return he(cre||(cre=OIe([`
    fill: `,`;
  `])),n)}),DXt=P.img(ure||(ure=OIe([`
  height: 19px;
  width: 19px;
  object-fit: contain;
`]))),IXt=()=>l.jsx(AXt,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:l.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),OXt=()=>l.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[l.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),l.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),l.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),l.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function PXt(e){const{provider:t}=e;return t.logo?l.jsx(DXt,{src:t.logo,alt:"Logo for ".concat(t.name)}):void 0}const RXt={google:OXt,github:IXt};async function $Xt(e){let{client:t,mode:n,providers:r=[]}=e;if(n==="replace"&&Array.isArray(r))return r;const{providers:o}=await t.request({uri:"/auth/providers"});return typeof r=="function"?r(o):r.length===0?o:n==="replace"?r:o.filter(i=>r.some(s=>s.url!==i.url)).concat(r)}function dre(e){let{loginMethod:t="dual",projectId:n,url:r,basePath:o}=e;const i=new URLSearchParams;return i.set("origin","".concat(window.location.origin).concat(o)),i.set("projectId",n),t==="token"?i.set("withSid","true"):i.set("type",t),"".concat(r,"?").concat(i)}function MXt(e){let{getClient:t,loginMethod:n,redirectOnSingle:r,...o}=e;const i=_h(t);function s(a){let{projectId:c,basePath:u}=a;const[d,f]=h.useState(null),[p,m]=h.useState(null);if(p)throw p;const[v]=i();h.useEffect(()=>{v&&$Xt({client:v,...o}).then(f).catch(m)},[v]);const g=r&&(d==null?void 0:d.length)===1&&(d==null?void 0:d[0])&&dre({loginMethod:n,projectId:c,url:d[0].url,basePath:u}),y=!d||g;return h.useEffect(()=>{g&&(window.location.href=g)},[g]),y?l.jsxs(U,{align:"center",direction:"column",gap:4,justify:"center",padding:6,sizing:"border",children:[l.jsx(L,{muted:!0,children:"Loading…"}),l.jsx(ur,{muted:!0})]}):l.jsxs(oe,{space:4,children:[l.jsx(Uo,{align:"center",size:1,children:"Choose login provider"}),l.jsx(oe,{space:2,children:d.map((x,b)=>l.jsx(se,{as:"a",icon:RXt[x.name]||l.jsx(PXt,{provider:x}),href:dre({loginMethod:n,projectId:c,url:x.url,basePath:u}),mode:"ghost",text:x.title},"".concat(x.url,"_").concat(b)))})]})}return s}const vN=e=>{if(!e)throw new Error("Invalid project id");return"__studio_auth_token_".concat(e)},fre=e=>{try{const t=SXt(vN(e));if(t){const{token:n}=JSON.parse(t);if(n&&typeof n=="string")return n}}catch(t){console.error(t)}return null},PIe=e=>{try{IIe(vN(e))}catch(t){console.error(t)}},FXt=e=>{let{token:t,projectId:n}=e;try{DIe(vN(n),JSON.stringify({token:t,time:new Date().toISOString()}))}catch(r){console.error(r)}},hre=async(e,t)=>{var n;try{const r=await e.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return typeof(r==null?void 0:r.id)=="string"?r:null}catch(r){if(r.statusCode===401)return PIe(e.config().projectId||""),t(null),null;if(await e.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new pN({projectId:(n=e.config())==null?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){const i=new URL(r.request.url).host;throw new Error("Unknown network error attempting to reach ".concat(i))}throw r}};function LXt(e){let{clientFactory:t,projectId:n,dataset:r,apiHost:o,loginMethod:i="dual",...s}=e;const{broadcast:a,messages:c}=EXt("dual_mode_auth_".concat(n)),u=t??REe,d=c.pipe(ii(i==="dual"?fre(n):null)),f={};o&&(f.apiHost=o);const p=d.pipe(ue(x=>u({projectId:n,dataset:r,apiVersion:"2021-06-07",useCdn:!1,...x&&{token:x},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...f})),st(x=>No(async()=>{const b=await hre(x,a);return{currentUser:b,client:x,authenticated:!!b}})),_r((x,b)=>Ht(x.currentUser,b.currentUser)),Ri(1));async function m(){const x=jXt();if(!x){a(i==="cookie"?null:fre(n));return}const b=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});let w;if((i==="dual"||i==="cookie")&&(w=await hre(b,a)),w||i==="cookie"){a(null);return}const C=await v(b,x);a(C??null)}async function v(x,b){const{token:w}=await x.request({method:"GET",uri:"/auth/fetch",query:{sid:b},tag:"auth.fetch-token"});return FXt({token:w,projectId:n}),w}async function g(){const x=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});PIe(n),await x.request({uri:"/auth/logout",method:"POST"}),a(null)}const y=MXt({...s,getClient:()=>p.pipe(ue(x=>x.client)),loginMethod:i});return{handleCallbackUrl:m,token:d,state:p,LoginComponent:y,logout:g}}function RIe(e){return typeof e!="object"||e===null?"".concat(e):JSON.stringify(Object.fromEntries(Object.entries(e).sort((t,n)=>{let[r]=t,[o]=n;return r.localeCompare(o,"en")}).map(t=>{let[n,r]=t;return[n,RIe(r)]})))}const BXt=kT(LXt,RIe);function NXt(e){return yt(e)&&"state"in e&&yt(e.state)&&"subscribe"in e.state&&typeof e.state.subscribe=="function"}function $Ie(e){if(e==="google")return"Google";if(e==="github")return"GitHub";if(e==="sanity")return"Sanity";if(e!=null&&e.startsWith("saml-"))return"SAML/SSO"}function zXt(e){return t=>{let n=[];const r=In((o,i)=>(n.push(o),e(o,n.length,i).pipe(r)));return t.pipe(qn(()=>{n=[]}),r)}}const pre=typeof window>"u"?be({}):Ps(window,"online"),VXt=typeof window>"u"?be({}):Ps(window,"offline"),HXt=e=>Math.pow(2,e)*100,UXt={type:"connecting"},MIe=j_e(),WXt=MIe[0];MIe[1];const YXt=e=>{let{error:t,isOffline:n,attemptNo:r,retryAt:o}=e;return{type:"error",error:t,attemptNo:r,isOffline:n,retryAt:o}};function qXt(e){let{bifur:t}=e;return{connectionStatus$:pn(t.heartbeats,VXt.pipe(om(Xf(new Error("The browser went offline"))))).pipe(ue(r=>({type:"connected",lastHeartbeat:r})),zXt((r,o,i)=>{const s=Math.min(24e4,HXt(o)),a=new Date(new Date().getTime()+s),c=as(a),u=!navigator.onLine,d=YXt({error:r,retryAt:a,isOffline:u,attemptNo:o}),f=J_e.pipe(d2e(u?pre:pn(c,pre,WXt)));return Hr(be(d),f.pipe(Ll(1)),i)}),ii(UXt))}}const GXt=y1e(e=>{let{theme:t}=e;const{color:n,fonts:r}=t.sanity;return{html:{backgroundColor:n.base.bg},"#sanity":{fontFamily:r.text.family}}});function mre(e){const t=["projectId"in e&&"`projectId` not allowed in plugin configuration","dataset"in e&&"`dataset` not allowed in plugin configuration"].filter(WT);if(t.length)throw new Error(`Invalid plugin configuration:
`.concat(t.map(n=>"	".concat(n)).join(`
`)))}function yN(e){if(typeof e=="function"){const t=e;return n=>{const r=t(n);return mre(r),r}}return mre(e),()=>e}const KXt=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_fieldActions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_fieldActions` to be an array or a function, but received ".concat(typeof o))},ZXt=[];const Pf=class FIe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.message=t,this.paths=n.paths||[],this.children=n.children,this.operation=n.operation}cloneWithMessage(t){return new FIe(t,{paths:this.paths,children:this.children,operation:this.operation})}};function XXt(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function bN(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Pl(n))return"".concat(t,'[_key=="').concat(n._key,'"]');throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function QXt(e){return e!==null||e!==void 0}function Fb(e,t,n){var r;if(!n)throw new Error("missing context");if(e===!0)return[];if(Array.isArray(e))return e.flatMap(i=>Fb(i,t,n)).filter(QXt);if(typeof e=="string")return Fb(new Pf(e),t,n);if(!(e instanceof Pf)){if(typeof(e==null?void 0:e.message)!="string")throw new Error("".concat(bN(n.path),": Validator must return 'true' if valid or an error message as a string on errors"));return Fb(new Pf(e.message,e),t,n)}const o=[];return(r=e.paths)!=null&&r.length?o.concat(e.paths.map(i=>({path:(n.path||[]).concat(i),level:t||"error",item:e}))):[{level:t||"error",item:e,path:n.path||[]}]}const JXt={}.toString,gre=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function eQt(e){for(let t=0;t<gre.length;t++)if(gre[t]===e)return!0;return!1}function LIe(e){const t=JXt.call(e).slice(8,-1);if(e==null)return t.toLowerCase();const n=e.constructor;return n&&!eQt(n)?n.name:t}function Gx(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!Gx(e[n],t[n]))return!1;return!0}if(Array.isArray(e)!=Array.isArray(t))return!1;if(e&&t&&typeof e=="object"&&typeof t=="object"){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date!=t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()==t.toString();if(e instanceof RegExp!=t instanceof RegExp)return!1;for(let r=0;r<n.length;r++)if(n[r]!=="_key"&&!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<n.length;r++){const o=n[r];if(o!=="_key"&&!Gx(e[o],t[o]))return!1}return!0}return!1}const vre=5e3,yre=e=>{var t;let n;return e.message?n=e.message:e.results.length===1?n=(t=e.results[0])==null?void 0:t.item.message:n="[".concat(e.results.map(r=>r.item.message).join(" - ".concat(e.operation," - ")),"]"),new Pf(n,{children:e.results.length>1?e.results:void 0,operation:e.operation})},Zm={type:(e,t,n)=>{const r=LIe(t);return r!==e&&r!=="undefined"?n||'Expected type "'.concat(e,'", got "').concat(r,'"'):!0},presence:(e,t,n)=>t===void 0&&e==="required"?n||"Value is required":!0,all:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length?yre({message:n,results:i,operation:"AND"}):!0},either:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length<e.length?!0:yre({message:n,results:i,operation:"OR"})},valid:(e,t,n)=>{const r=typeof t;if(r==="undefined")return!0;const o=(r==="number"||r==="string")&&"".concat(t),i=o&&o.length>30?"".concat(o.slice(0,30),"…"):o,s=o?'Value "'.concat(i,'" did not match any allowed values'):"Value did not match any allowed values";return e.some(a=>Gx(a,t))?!0:n||s},custom:async(e,t,n,r)=>{const o=setTimeout(()=>{console.warn("Custom validator at ".concat(bN(r.path)," has taken more than ").concat(vre,"ms to respond"))},vre);let i;try{i=await e(t,r)}finally{clearTimeout(o)}return typeof i=="string"&&n||i}},tQt={...Zm,presence:(e,t,n)=>e==="required"&&typeof t!="boolean"?n||"Required":!0},nQt=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,rQt={...Zm,integer:(e,t,n)=>Number.isInteger(t)?!0:n||"Must be an integer",precision:(e,t,n)=>{if(t===void 0)return!0;const r=t.toString().match(nQt);return Math.max((r[1]?r[1].length:0)-(r[2]?parseInt(r[2],10):0),0)>e?n||"Max precision is ".concat(e):!0},min:(e,t,n)=>t>=e?!0:n||"Must be greater than or equal ".concat(e),max:(e,t,n)=>t<=e?!0:n||"Must be less than or equal ".concat(e),greaterThan:(e,t,n)=>t>e?!0:n||"Must be greater than ".concat(e),lessThan:(e,t,n)=>t<e?!0:n||"Must be less than ".concat(e)},JP="http://sanity",oQt=e=>/^\.*\//.test(e),iQt=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,sQt={...Zm,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must be at least ".concat(e," characters long"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must be at most ".concat(e," characters long"),length:(e,t,n)=>(t||"").length===e?!0:n||"Must be exactly ".concat(e," characters long"),uri:(e,t,n)=>{const r=t||"",{options:o}=e,{allowCredentials:i,relativeOnly:s}=o,a=o.allowRelative||s;let c;try{c=a?new URL(r,JP):new URL(r)}catch{return n||"Not a valid URL"}if(s&&c.origin!==JP)return n||"Only relative URLs are allowed";if(!a&&c.origin===JP&&oQt(r))return n||"Relative URLs are not allowed";if(!i&&(c.username||c.password))return n||"Username/password not allowed";const u=c.protocol.replace(/:$/,"");return o.scheme.some(f=>f.test(u))?!0:n||"Does not match allowed protocols/schemes"},stringCasing:(e,t,n)=>{const r=t||"";return e==="uppercase"&&r!==r.toLocaleUpperCase()?n||"Must be all uppercase letters":e==="lowercase"&&r!==r.toLocaleLowerCase()?n||"Must be all lowercase letters":!0},presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,regex:(e,t,n)=>{const{pattern:r,name:o,invert:i}=e,s=o||'"'.concat(r.toString(),'"'),a=t||"";r.lastIndex=0;const c=r.test(a);if(!i&&!c||i&&c){const u=i?"Should not match ".concat(s,"-pattern"):"Does not match ".concat(s,"-pattern");return n||u}return!0},email:(e,t,n)=>{const r="".concat(t||"").trim();return!r||iQt.test(r)?!0:n||"Must be a valid email address"}},aQt={...Zm,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must have at least ".concat(e," items"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must have at most ".concat(e," items"),length:(e,t,n)=>!t||t.length===e?!0:n||"Must have exactly ".concat(e," items"),presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,valid:(e,t,n)=>{if(typeof t==="undefined")return!0;const o=[];for(let i=0;i<t.length;i++){const s=t[i];if(e.some(c=>Gx(c,s)))continue;const a=s&&s._key?{_key:s._key}:i;o.push([a])}return o.length===0?!0:new Pf(n||"Value did not match any allowed values",{paths:o})},unique:(e,t,n)=>{const r=[];if(!t)return!0;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++){const a=t[i],c=t[s];Gx(a,c)&&(r.indexOf(i)===-1&&r.push(i),r.indexOf(s)===-1&&r.push(s))}const o=r.map(i=>{const s=t[i];return[s&&s._key?{_key:s._key}:i]});return r.length>0?new Pf(n||"Can't be a duplicate",{paths:o}):!0}},lQt=["_key","_type","_weak"],cQt={...Zm,presence:(e,t,n)=>{if(e!=="required")return!0;const r=t&&Object.keys(t).filter(o=>!lQt.includes(o));return t===void 0||r&&r.length===0?n||"Required":!0},reference:async(e,t,n,r)=>{if(!t)return!0;if(!hd(t))return n||"Must be a reference to a document";const{type:o,getDocumentExists:i}=r;if(!o)throw new Error("`type` was not provided in validation context");if("weak"in o&&o.weak)return!0;if(!i)throw new Error("`getDocumentExists` was not provided in validation context");return await i({id:t._ref})?!0:"This reference must be published"},assetRequired:(e,t,n)=>{if(!t||!t.asset||!t.asset._ref){const r=e.assetType||"Asset";return n||"".concat(r," required")}return!0}};function bre(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const uQt=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,xre=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r="yyyy-MM-dd";return n&&n.dateFormat&&(r=n.dateFormat),e==="date"?ei(new Date(t),r):(n&&n.timeFormat?r+=" ".concat(n.timeFormat):r+=" HH:mm",ei(new Date(t),r))};function b2(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!e)return null;if(e==="now")return new Date;const n=new Date(e),r=isNaN(n.getTime());if(r&&t)throw new Error('Unable to parse "'.concat(e,'" to a date'));return r?null:n}const dQt={...Zm,type:(e,t,n)=>!"".concat(t)||uQt.test(t)?!0:n||"Must be a valid ISO-8601 formatted date string",min:(e,t,n,r)=>{const o=b2(t);if(!o||!t||o>=b2(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=bre(r.type.options)?r.type.options:{},s=xre(r.type.name,e,i);return n||"Must be at or after ".concat(s)},max:(e,t,n,r)=>{const o=b2(t);if(!o||!t||o<=b2(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=bre(r.type.options)?r.type.options:{},s=xre(r.type.name,e,i);return n||"Must be at or before ".concat(s)}};var xo;const fQt={Boolean:tQt,Number:rQt,String:sQt,Array:aQt,Object:cQt,Date:dQt},BIe=e=>e&&e.type?BIe(e.type):e,hQt=e=>typeof e!="object"||!e?!1:e.type===B4.FIELD_REF,pQt=[],wre=Symbol("FIELD_REF"),mQt=["Array","Boolean","Date","Number","Object","String"],B4=(xo=class{constructor(e){this._type=void 0,this._level=void 0,this._required=void 0,this._typeDef=void 0,this._message=void 0,this._rules=[],this._fieldRules=void 0,this.valueOfField=xo.valueOfField.bind(xo),this._typeDef=e,this.reset()}_mergeRequired(e){if(this._required==="required"||e._required==="required")return"required";if(this._required==="optional"||e._required==="optional")return"optional"}error(e){const t=this.clone();return t._level="error",t._message=e||void 0,t}warning(e){const t=this.clone();return t._level="warning",t._message=e||void 0,t}info(e){const t=this.clone();return t._level="info",t._message=e||void 0,t}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(e=>e.flag==="type"),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return this._required==="required"}clone(){const e=new xo;return e._type=this._type,e._message=this._message,e._required=this._required,e._rules=Ljt(this._rules),e._level=this._level,e._fieldRules=this._fieldRules,e._typeDef=this._typeDef,e}cloneWithRules(e){const t=this.clone(),n=new Set;return e.forEach(r=>{r.flag==="type"&&(t._type=r.constraint),n.add(r.flag)}),t._rules=t._rules.filter(r=>{const o=["type","uri","email"].includes(r.flag),i=n.has(r.flag);return!(o&&i)}).concat(e),t}merge(e){if(this._type&&e._type&&this._type!==e._type)throw new Error("merge() failed: conflicting types");const t=this.cloneWithRules(e._rules);return t._type=this._type||e._type,t._message=this._message||e._message,t._required=this._mergeRequired(e),t._level=this._level==="error"?e._level:this._level,t}type(e){const t="".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1));if(!mQt.includes(t))throw new Error('Unknown type "'.concat(e,'"'));const n=this.cloneWithRules([{flag:"type",constraint:t}]);return n._type=t,n}all(e){return this.cloneWithRules([{flag:"all",constraint:e}])}either(e){return this.cloneWithRules([{flag:"either",constraint:e}])}optional(){const e=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return e._required="optional",e}required(){const e=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return e._required="required",e}custom(e){return this.cloneWithRules([{flag:"custom",constraint:e}])}min(e){return this.cloneWithRules([{flag:"min",constraint:e}])}max(e){return this.cloneWithRules([{flag:"max",constraint:e}])}length(e){return this.cloneWithRules([{flag:"length",constraint:e}])}valid(e){const t=Array.isArray(e)?e:[e];return this.cloneWithRules([{flag:"valid",constraint:t}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(e){return this.cloneWithRules([{flag:"precision",constraint:e}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(e){return this.cloneWithRules([{flag:"greaterThan",constraint:e}])}lessThan(e){return this.cloneWithRules([{flag:"lessThan",constraint:e}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(e,t,n){var r,o;const i=typeof t=="string"?t:(r=t==null?void 0:t.name)!=null?r:n==null?void 0:n.name,s=typeof t=="string"?!1:(o=t==null?void 0:t.invert)!=null?o:n==null?void 0:n.invert,a={pattern:e,name:i,invert:s||!1};return this.cloneWithRules([{flag:"regex",constraint:a}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(e){const t=(e==null?void 0:e.scheme)||["http","https"],n=Array.isArray(t)?t:[t];if(!n.length)throw new Error("scheme must have at least 1 scheme specified");const r={options:{scheme:n.map(o=>{if(!(o instanceof RegExp)&&typeof o!="string")throw new Error("scheme must be a RegExp or a String");return typeof o=="string"?new RegExp("^".concat(XXt(o),"$")):o}),allowRelative:(e==null?void 0:e.allowRelative)||!1,relativeOnly:(e==null?void 0:e.relativeOnly)||!1,allowCredentials:(e==null?void 0:e.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:r}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(e){if(this._type!=="Object")throw new Error("fields() can only be called on an object type");const t=this.cloneWithRules([]);return t._fieldRules=e,t}assetRequired(){const e=BIe(this._typeDef);let t;return e&&["image","file"].includes(e.name)?t=e.name==="image"?"Image":"File":t="Asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:t}}])}async validate(e,t){if(!t)throw new Error("missing context");const n=e==null;if(n&&this._required==="optional")return pQt;const r=this._required===void 0&&n?this._rules.filter(s=>s.flag==="custom"):this._rules,o=this._type&&fQt[this._type]||Zm;return(await Promise.all(r.map(async s=>{if(s.flag===void 0)throw new Error('Invalid rule, did not contain "flag"-property');const a=o[s.flag];if(!a){const d=this._type?'type "'.concat(this._type,'"'):"rule without declared type";throw new Error('Validator for flag "'.concat(s.flag,'" not found for ').concat(d))}let c="constraint"in s?s.constraint:null;hQt(c)&&(c=Hn(t.parent,c.path));let u;try{u=await a(c,e,this._message,t)}catch(d){const f=new Pf("".concat(bN(t.path),": Exception occurred while validating value: ").concat(d.message));return Fb(f,"error",t)}return Fb(u,this._level,t)}))).flat()}},xo.FIELD_REF=wre,xo.array=e=>new xo(e).type("Array"),xo.object=e=>new xo(e).type("Object"),xo.string=e=>new xo(e).type("String"),xo.number=e=>new xo(e).type("Number"),xo.boolean=e=>new xo(e).type("Boolean"),xo.dateTime=e=>new xo(e).type("Date"),xo.valueOfField=e=>({type:wre,path:e}),xo),gQt=function(t,n){const r=Date.now();return window.setTimeout(()=>{t({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-r)}})},0)},vQt=function(t){return window.clearTimeout(t)},$5=typeof window>"u"?void 0:window,yQt=($5==null?void 0:$5.requestIdleCallback)||gQt,bQt=($5==null?void 0:$5.cancelIdleCallback)||vQt,xQt=kT(CQt);function wQt(e){const t=e.indexOf("drafts.")===0;return{published:t?e.slice(7):e,draft:t?e:"drafts.".concat(e)}}function Cre(e){return e.reduce((t,n,r)=>{const o=typeof n=="number",i=Pl(n),s=r===0?"":".",a=o||i?"[]":"".concat(s).concat(n);return"".concat(t).concat(a)},"")}const _re=(e,t)=>{const{getClient:n,document:r,path:o,type:i}=t,s=i==null?void 0:i.options;if(!r)throw new Error("`document` was not provided in validation context.");if(!o)throw new Error("`path` was not provided in validation context.");const a=(s==null?void 0:s.disableArrayWarning)||!1,{published:c,draft:u}=wQt(r._id),d=r._type,f=Cre(o.concat("current"));!a&&f.includes("[]")&&xQt(Cre(o));const p=["_type == $docType","!(_id in [$draft, $published])","".concat(f," == $slug")].join(" && ");return n({apiVersion:"2022-09-09"}).fetch("!defined(*[".concat(p,"][0]._id)"),{docType:d,draft:u,published:c,slug:e},{tag:"validation.slug-is-unique"})};function CQt(e){console.warn(["Slug field at path ".concat(e," is within an array and cannot be automatically checked for uniqueness"),'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join(`
`))}const _Qt=async(e,t)=>{var n;if(!e)return!0;if(typeof e!="object")return"Slug must be an object";const r=e.current;if(!r)return"Slug must have a value";const o=(n=t==null?void 0:t.type)==null?void 0:n.options,i=(o==null?void 0:o.isUnique)||_re,s={...t,parent:t.parent,type:t.type,defaultIsUnique:_re};return await i(r,s)?!0:"Slug is already in use"},SQt={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},EQt=e=>e in SQt;function NIe(e,t){return e?t.has(e)?[]:(t.add(e),[...e.type?NIe(e.type,t):[],e]):[]}function kQt(e,t){let n=e;EQt(t.jsonType)&&(n=n.type(t.jsonType));const r=(t==null?void 0:t.options)&&typeof t.options=="object"&&"list"in t.options&&t.options.list;return Array.isArray(r)&&(n=n.valid(r.map(o=>jQt(o,t)))),t.name==="datetime"||t.name==="date"?n.type("Date"):t.name==="url"?n.uri():t.name==="slug"?n.custom(_Qt):t.name==="reference"?n.reference():t.name==="email"?n.email():n}function zIe(e){return e?!("fields"in e)&&e.type?zIe(e.type):!("fields"in e)||!Array.isArray(e.fields)?!1:e.fields.some(t=>t.name==="value"):!1}function jQt(e,t){return t.jsonType==="object"&&zIe(t)||e.value===void 0?e:e.value}function Kx(e){if(!e)return[];const t=e.validation;if(Array.isArray(t))return t.flatMap(r=>Kx({...e,validation:r}));if(t instanceof B4)return[t];const n=Object.values(NIe(e,new Set).reduce((r,o)=>(r[o.name]=o,r),{})).reduce(kQt,new B4(e));return t?Kx({...e,validation:t(n)}):[n]}const Sre=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),TQt=e=>e!=null;function AQt(e,t){if(t.length===1)return t[0];const n=QF(e)&&e._type,r=e==null||!n&&LIe(e).toLowerCase();return r&&r!=="object"?t.find(o=>o.jsonType===r):t.find(o=>{var i;return((i=o.type)==null?void 0:i.name)===n})||t.find(o=>o.name===n)||t.find(o=>o.name==="object"&&r==="object")}const DQt=[];function IQt(e,t,n,r){const o=n.get(t._type);if(!o)return console.warn('Schema type for object type "%s" not found, skipping validation',t._type),be(DQt);const i={getClient:e,schema:n,parent:void 0,value:t,path:[],document:t,type:o,getDocumentExists:r==null?void 0:r.getDocumentExists};return N4(i).pipe(In(s=>(console.error(s),be([{type:"validation",level:"error",path:[],item:new Pf(s==null?void 0:s.message)}]))))}function N4(e){let{value:t,type:n,path:r=[],parent:o,...i}=e;const s=Kx(n),a=s.map(p=>No(()=>p.validate(t,{...i,parent:o,path:r,type:n})));let c=[];const u=s.some(p=>p.isRequired());if((n==null?void 0:n.jsonType)==="object"&&(!!t||t==null&&u)){const p=n.fields.reduce((m,v)=>(m[v.name]=v.type,m),{});c=c.concat(s.map(m=>m._fieldRules).filter(TQt).flatMap(m=>Object.entries(m)).flatMap(m=>{let[v,g]=m;const y=p[v];return Kx({...y,validation:g}).map(x=>{const b=Sre(t)?t[v]:void 0;return No(()=>x.validate(b,{...i,parent:t,path:r.concat(v),type:y}))})})),c=c.concat(n.fields.map(m=>N4({...i,parent:t,value:Sre(t)?t[m.name]:void 0,path:r.concat(m.name),type:m.type})))}return(n==null?void 0:n.jsonType)==="array"&&Array.isArray(t)&&(c=c.concat(t.map((p,m)=>N4({...i,parent:t,value:p,path:r.concat(Pl(p)?{_key:p._key}:m),type:AQt(p,n.of)})))),No(()=>pn([...a,...c])).pipe(jt(p=>Hr(OQt(),p),40),hT(),r2e(),ue(Tn),ue(p=>s.some(m=>m._fieldRules)?Qf(p,m=>JSON.stringify(m)):p))}function OQt(e){return new _t(t=>{const n=yQt(()=>{t.complete()},e?{timeout:e}:void 0);return()=>bQt(n)})}function PQt(e){return ZS(e,new Set),e}function ZS(e,t){if(!t.has(e)){if(t.add(e),e.validation=Kx(e),"fields"in e)for(const n of e.fields)ZS(n.type,t);if("of"in e)for(const n of e.of)ZS(n,t);if(e.annotations)for(const n of e.annotations)ZS(n,t)}}function RQt(e){return e.getTypeNames().forEach(n=>{const r=e.get(n);r&&PQt(r)}),e}var $Qt={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string"},{name:"source",title:"Source field",type:"string",hidden:!0}]},MQt={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},FQt={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},LQt={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},BQt={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},NQt={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||typeof e.path=="string"&&e.path.split("/").slice(-1)[0],media:{asset:{_ref:e.id}},subtitle:"".concat(e.mimeType," (").concat((Number(e.size)/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},zQt={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},VQt={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},HQt={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},UQt={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata…",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},WQt={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||e.path.split("/").slice(-1)[0],subtitle:"".concat(e.mimeType," (").concat((e.size/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]};const YQt=e=>e.severity==="error",qQt=[BQt,$Qt,MQt,NQt,WQt,FQt,LQt,UQt,HQt,zQt,VQt];function GQt(e){const t=Ajt(e.types).getTypes(),n=A5t(t),r=n.some(i=>i.problems.some(YQt)),o=H9.compile({name:e.name,types:r?[]:[...e.types,...qQt].filter(Boolean)});return o._validation=n,RQt(o)}function zp(e){return typeof e.title=="string"?e.title:e.type?zp(e.type):e.name||e.jsonType}const sn={apiVersion:"2022-09-09"};var Ere=Object.freeze,KQt=Object.defineProperty,ZQt=(e,t)=>Ere(KQt(e,"raw",{value:Ere(t||e.slice())})),kre;const XQt=P(ss)(kre||(kre=ZQt([`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
`])));function QQt(){return l.jsx(XQt,{children:l.jsx(U,{height:"fill",align:"center",justify:"center",children:l.jsx(ur,{})})})}function JQt(e){const{text:t}=e;return l.jsxs(U,{direction:"row",justify:"center",align:"center",children:[l.jsx(ur,{}),l.jsx(M,{marginLeft:2,children:l.jsx(L,{children:t})})]})}const jre={referringDocuments:[],isLoading:!0};function eJt(e){const t=al();return vo(()=>t.listenQuery("*[references($docId)] [0...101]",{docId:e},{tag:"use-referring-documents"}).pipe(ue(n=>({referringDocuments:n,isLoading:!1})),ii(jre)),[t,e],jre)}const tJt=()=>h.createElement(h.Fragment);function nJt(e,t){return n=>{let r=o=>h.createElement(e,o);for(const o of t){const i=r;r=s=>h.createElement(o,{...s,renderDefault:i})}return r({...n,renderDefault:tJt})}}function Jl(e){const{options:t}=$n().__internal,{defaultComponent:n,pick:r}=e;return h.useMemo(()=>{const o=[...SD(t,[])];o.reverse();const s=o.map(a=>{let{config:c}=a;return r(c)}).filter(Boolean);return nJt(n,s)},[n,t,r])}function Ac(e,t){return t.name===e||!!(t.type&&Ac(e,t.type))}const rJt={default:EIe,media:YZt,detail:TZt,inline:uXt,block:oXt,blockImage:JZt};function oJt(){return l.jsx(Nf,{className:"sanity-studio__preview-fallback-icon"})}function kh(e){const{icon:t,layout:n,media:r,imageUrl:o,title:i,...s}=e,a=fr(sn),c=h.useMemo(()=>eA(a),[a]),u=h.useCallback(v=>{const{dimensions:g}=v;return l.jsx("img",{alt:$v(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:c.image(r).width(g.width||100).height(g.height||100).fit(g.fit).dpr(g.dpr||1).url()||""})},[c,r,i]),d=h.useCallback(()=>h.createElement(t||oJt),[t]),f=h.useMemo(()=>t===!1?!1:Kl.isValidElementType(r)||h.isValidElement(r)?r:kb(r)?u:$v(o)?l.jsx("img",{src:o,alt:$v(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):d,[t,o,r,d,u,i]),p=h.useMemo(()=>({...s,media:f,title:i}),[f,s,i]),m=rJt[n||"default"];return h.createElement(m,p)}const iJt=typeof window>"u"?Vr:Ps(window,"resize").pipe(Ri(1)),sJt=typeof window>"u"?Vr:Ps(window,"scroll",{passive:!0,capture:!0}).pipe(Ri(1)),aJt=typeof window>"u"?Vr:Ps(window,"orientationchange").pipe(Ri(1)),VIe=150;function lJt(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}const cJt=lJt()?uJt():dJt();function uJt(){const e=new uo,t=new IntersectionObserver(n=>{n.forEach(r=>{e.next(r)})},{threshold:0,rootMargin:"".concat(VIe,"px")});return function(r){return new _t(o=>(t.observe(r),o.next(),()=>t.unobserve(r))).pipe(jt(()=>e.asObservable()),bt(o=>o.target===r),ue(o=>({isIntersecting:o.isIntersecting})))}}function dJt(){function e(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function t(r,o,i){return r.left<=o.right+i&&r.right>=o.left-i&&r.top<=o.bottom+i&&r.bottom>=o.top-i}function n(r){return()=>t(r.getBoundingClientRect(),e(),VIe)}return function(o){const i=n(o);return pn(be(i()),iJt,sJt,aJt).pipe(ue(i),ue(s=>({isIntersecting:s})))}}const fJt=typeof window>"u"?Vr:Ps(document,"visibilitychange").pipe(Ri(1));function hJt(e){const{element:t,hideDelay:n=0}=e,[r,o]=h.useState(!1);return h.useEffect(()=>{if(!t)return;const i=Hr(be(!document.hidden),fJt.pipe(ue(u=>{var d;return u.target instanceof Document?!((d=u==null?void 0:u.target)!=null&&d.hidden):!1}))).pipe(_r()),s=cJt(t).pipe(ue(u=>u.isIntersecting)),c=i.pipe(st(u=>u?s:be(!1)),st(u=>u?be(!0):be(!1).pipe(s2e(n))),_r()).subscribe(o);return()=>c.unsubscribe()},[t,n]),r}const pJt={isLoading:!0},mJt={isLoading:!1};function xN(e){const{enabled:t=!0,ordering:n,schemaType:r,value:o}=e||{},{observeForPreview:i}=Vi();return vo(()=>!t||!o||!r?be(mJt):i(o,r,{ordering:n}).pipe(ue(s=>({isLoading:!1,value:s.snapshot||void 0})),In(s=>be({isLoading:!1,error:s}))),[t,i,n,r,o],pJt)}function gJt(e){return vJt(e==null?void 0:e._upload)}function hy(e){return $v(e)?e:void 0}function vJt(e){var t,n;if(!yt(e))return;const r=typeof e.progress=="number"?e.progress:0,o=hy(e.initiated||e.createdAt),i=hy(e.updated||e.updatedAt),s=hy((t=e==null?void 0:e.file)==null?void 0:t.name),a=hy((n=e==null?void 0:e.file)==null?void 0:n.type),c=hy(e.previewImage);if(o&&i&&s&&a)return{progress:r,createdAt:o,updatedAt:i,file:{name:s,type:a},previewImage:c}}const yJt=1e3*2;function HIe(e){const{layout:t,value:n,component:r,style:o,schemaType:i,skipVisibilityCheck:s,...a}=e,[c,u]=h.useState(null),d=hJt({element:s?null:c,hideDelay:yJt}),f=xN({enabled:s||d,schemaType:i,value:n}),p=h.useMemo(()=>({...o,minWidth:(o==null?void 0:o.minWidth)||1,minHeight:(o==null?void 0:o.minHeight)||1}),[o]),m=h.useMemo(()=>gJt(n),[n]),v=h.useMemo(()=>{var g,y;return m!=null&&m.previewImage?l.jsx("img",{alt:"The image currently being uploaded",src:m.previewImage}):(g=f==null?void 0:f.value)!=null&&g.media?(y=f==null?void 0:f.value)==null?void 0:y.media:i.icon},[f,i,m]);return l.jsx("div",{ref:u,style:p,children:h.createElement(r,{...a,...(f==null?void 0:f.value)||{},media:v,error:f==null?void 0:f.error,isPlaceholder:f==null?void 0:f.isLoading,layout:t,schemaType:i})})}function wN(e){const t=e==null?void 0:e.select;if(t)return Object.values(t).map(n=>String(n).split("."))}const bJt=e=>e.liveEdit===!0;function KA(e,t,n,r){const o=bJt(t)?be({snapshot:null}):e.observeForPreview({_type:"reference",_ref:li(n)},t),i=e.observeForPreview({_type:"reference",_ref:On(n)},t);return oi([o,i]).pipe(ue(s=>{let[a,c]=s;return{draft:a.snapshot?{title:r,...a.snapshot||{}}:null,isLoading:!1,published:c.snapshot?{title:r,...c.snapshot||{}}:null}}),ii({draft:null,isLoading:!0,published:null}))}const xJt=e=>({title:l.jsx("em",{children:e.title?String(e.title):"Missing document"}),subtitle:l.jsx("em",{children:e.title?"Missing document ID: ".concat(e._id):"Document ID: ".concat(e._id)}),media:()=>l.jsx(Mr,{})}),CN=e=>{let{value:t,draft:n,published:r}=e;const o=n||r;return o?VVt({},o,t,(i,s)=>typeof s>"u"?i:s):xJt(t)},UIe=["_id","_rev","_type"],wJt=[...UIe,"_key"],Tre={available:!0,reason:"READABLE"},CJt={available:!1,reason:"PERMISSION_DENIED"},_Jt={available:!1,reason:"NOT_FOUND"},SJt={title:"Invalid preview config",subtitle:"Check the error log in the console",media:l.jsx(Mr,{})};function EJt(e){return Array.isArray(e)&&(e.length===0||e.some(oh))}function kJt(e){const t=Array.isArray(e)&&e.find(oh);return!t||!t.children?"":t.children.filter(ta).map(n=>n.text).join("")}function WIe(e){return Object.keys(e)}const jJt=["_id","_type","_upload","_createdAt","_updatedAt"],b0=[],z4=(()=>{let e={};return{add:(t,n,r)=>{e[t.name]||(e[t.name]=[]),e[t.name].push({error:r,type:t,value:n})},getAll(){return e},clear(){e={}}}})(),TJt=vw(()=>{const e=z4.getAll(),n=Tn(Object.keys(e).map(r=>{const o=e[r];return Qf(o,i=>i.error.message)})).length;n!==0&&(console.groupCollapsed("%cHeads up! Got ".concat(n===1?"error":"".concat(n," errors")," while preparing data for preview. Click for details."),"color: #ff7e7c"),Object.keys(e).forEach(r=>{const o=e[r],i=o[0];console.group('Check the preview config for schema type "'.concat(r,'": %o'),i.type.preview),Qf(o,a=>a.error.message).forEach(a=>{var c;if(a.error.type==="returnValueError"){const u=typeof((c=a.type.preview)==null?void 0:c.prepare)=="function",{value:d,error:f}=a;console.log("Encountered an invalid ".concat(u?"return value when calling prepare(%o)":"value targeted by preview.select",":"),d),console.error(f)}if(a.error.type==="prepareError"){const{value:u,error:d}=a;console.log("Encountered an error when calling prepare(%o):",u),console.error(d)}}),console.groupEnd()}),console.groupEnd(),z4.clear())},1e3),py=e=>t=>{const n=typeof t;return t===null||n==="undefined"||n==="string"||n==="number"||n==="boolean"?b0:[SN("returnValueError",new Error('The "'.concat(e,'" field should be a string, number, boolean, undefined or null, instead saw ').concat(_N(t))))]},AJt={media:()=>b0,title:py("title"),subtitle:py("subtitle"),description:py("description"),imageUrl:py("imageUrl"),date:py("date")};function _N(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(yt(e)){const n=Object.keys(e),r=n.length>3?"...":"",o="object with keys ";return"".concat(t?o:"","{").concat(n.slice(0,3).join(", ")).concat(r,"}")}if(Array.isArray(e)){const n=e.length>3?"...":"",r="array with ";return"".concat(t?r:"","[").concat(e.map(o=>_N(o,!1))).concat(n,"]")}return"the ".concat(typeof e," ").concat(e)}function DJt(e,t){if(typeof t>"u")return b0;const n=AJt[e];return n&&n(t)||b0}function SN(e,t){return Object.assign(t,{type:e})}function IJt(e){return!Sr(e)||e===null?[SN("returnValueError",new Error("Invalid return value. Expected a plain object with at least a 'title' field, instead saw ".concat(_N(e))))]:Object.entries(e).reduce((t,n)=>{let[r,o]=n;return[...t,...DJt(r,o)]},b0)}function OJt(e){return{...e,errors:[...e.errors||[],...IJt(e.returnValue)]}}function PJt(e){return WIe(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:EJt(r)?kJt(r):r}},{})}function V4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r;const o=(r=e.preview)==null?void 0:r.prepare;try{return{returnValue:o?o(t,n):PJt(t),errors:b0}}catch(i){return{returnValue:null,errors:[SN("prepareError",i)]}}}function Are(e,t,n){return e.errors.forEach(r=>z4.add(t,n,r)),TJt(),SJt}function RJt(e){const t=e.options&&typeof e.options=="object"?e.options:!1;if(!t||!("list"in t))return!1;const n=t.list;return Array.isArray(n)}function $Jt(e){return RJt(e)?e.options.list.map(n=>t6(n)?n:{title:n,value:n}):void 0}function M5(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r,o;const i=typeof((r=t.preview)==null?void 0:r.prepare)=="function",s=((o=t.preview)==null?void 0:o.select)||{},c=Object.keys(s).reduce((f,p)=>{var m;const v="fields"in t?t:null,g=s[p],y=(m=v==null?void 0:v.fields)==null?void 0:m.find(b=>b.name===g),x=y&&$Jt(y.type);if(!i&&x){const b=x&&x.find(w=>w.value===Hn(e,s[p]));f[p]=b?b.value:Hn(e,s[p])}else f[p]=Hn(e,s[p]);return f},{}),u=V4(t,c,n);if(u.errors.length>0)return Are(u,t,c);const d=OJt(V4(t,c,n));return d.errors.length>0?Are(d,t,c):{...St(e,jJt),...u.returnValue}}function XS(e,t){let n,r={},o=0;return function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return new _t(d=>{clearTimeout(n),n=setTimeout(i,t);const f={args:c,observer:d,completed:!1},p=o++;return r[p]=f,()=>{f.completed=!0}})};function i(){const s=r;r={};const a=Object.keys(s).filter(u=>{const d=s[u];return d&&!d.completed});if(a.length===0)return;const c=a.map(u=>{const d=s[u];return d&&d.args}).filter(go);e(c).subscribe({next(u){u.forEach((d,f)=>{const p=s[a[f]];p&&!p.completed&&p.observer.next(u[f])})},complete(){a.forEach(u=>{const d=s[u];d&&!d.completed&&d.observer.complete()})},error(u){a.forEach(d=>{const f=s[d];f&&!f.completed&&f.observer.error(u)})}})}}const MJt=11164;function FJt(e){let t=[],n=0;const r=[];for(const o of e)n+o.length+1>=MJt&&(r.push(t),t=[],n=0),n+=o.length+1,t.push(o);return r.includes(t)||r.push(t),r}function LJt(e,t){return e.push(...t),e}function YIe(e,t){function n(s){const a=li(s),c=On(s);return oi([r(a),r(c)]).pipe(_r(Ju),ue(u=>{let[d,f]=u;return{draft:d,published:f}}))}function r(s){return t({_ref:s},[["_rev"]]).pipe(ue(a=>yt(a)&&!!("_rev"in a&&(a!=null&&a._rev))),_r(),st(a=>a?be(Tre):o(s)))}const o=XS(function(a){const c=[...new Set(Tn(a))];return Cr(FJt(c)).pipe(jt(i,10),n2e(LJt,[]),ue(u=>a.map(d=>{let[f]=d;return u[c.indexOf(f)]})))},1);function i(s){return No(()=>{const a={uri:e.getDataUrl("doc",s.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return e.observable.request(a).pipe(ue(c=>{const u=a7(c.omitted||[],d=>d.id);return s.map(d=>{const f=u[d];if(!f)return Tre;if(f.reason==="existence")return _Jt;if(f.reason==="permission")return CJt;throw new Error('Unexpected reason for omission: "'.concat(f.reason,'"'))})}))})}return{observeDocumentPairAvailability:n}}function Dre(e,t,n){return{...e,[t]:n}}function BJt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t=>new _t(n=>t.subscribe(n)).pipe(st(n=>{const r=WIe(n).map(o=>{const i=n[o];return Not(i)?Cr(i).pipe(ue(s=>[o,s])):be([o,i])});return e.wait?oi(r).pipe(ue(o=>o.reduce((i,s)=>{let[a,c]=s;return Dre(i,a,c)},{}))):Cr(r).pipe(hT(),qa((o,i)=>{let[s,a]=i;return Dre(o,s,a)},{}))}))}function NJt(e){return e.reduce((t,n)=>(t[n]=void 0,t),{})}function zJt(e,t){return t.filter(n=>!(n[0]in e))}function VJt(e){return hd(e)?e._ref:"_id"in e?e._id:void 0}function H4(e,t,n,r){if(!e||typeof e!="object")return be(e);const o=VJt(e),i=o?{...e,_id:o}:{...e};i._type==="reference"&&(delete i._type,delete i._ref,delete i._weak,delete i._dataset,delete i._projectId,delete i._strengthenOnPublish);const s=zJt(i,t);if(o&&s.length>0){const u=ho(s.map(f=>f[0])),d=M0e(e)?{projectId:e._projectId,dataset:e._dataset}:r;return n(o,u,d).pipe(st(f=>f===null?be(null):H4({...NJt(u),...hd(e)?{...e,...d}:e,...f},t,n,d)))}const a={};t.forEach(u=>{const[d,...f]=u;a[d]||(a[d]=[]),a[d].push(f)});const c=Object.keys(a).reduce((u,d)=>{const f=a[d].filter(p=>p.length>0);return f.length===0?u[d]=yt(e)?e[d]:void 0:u[d]=H4(e[d],f,n,r),u},i);return be(c).pipe(BJt({wait:!0}))}function HJt(e){return e.map(t=>typeof t=="string"?t.split("."):t)}function UJt(e){const{observeFields:t}=e;return{observePaths(n,r,o){return H4(n,HJt(r),t,o)}}}function WJt(e){return Sr(e)}function YJt(e){return Sr(e)}function qJt(e){const{observeDocumentTypeFromId:t,observePaths:n}=e;return function r(o,i,s,a){if(e6(i)){if(!M0e(o))return be({snapshot:void 0});const u={projectId:o._projectId,dataset:o._dataset};return t(o._ref,u).pipe(st(d=>{if(d){const f=i.to.find(p=>p.type===d);return r(o,f,{},u)}return be({snapshot:void 0})}))}if(zu(i))return YJt(o)?t(o._ref).pipe(st(u=>{if(u){const d=i.to.find(f=>f.name===u);return r(o,d)}return be({snapshot:void 0})})):be({snapshot:void 0});const c=wN(i.preview);return c?n(o,c,a).pipe(ue(u=>({type:i,snapshot:u&&M5(u,i,s)}))):be({type:i,snapshot:o&&WJt(o)?V4(i,o,s).returnValue:null})}}function GJt(e,t){const{observeDocumentPairAvailability:n}=YIe(e,t),r=[["_updatedAt"],["_createdAt"],["_type"]];return{observePathsDocumentPair:o};function o(i,s){const{draftId:a,publishedId:c}=pIe(i);return n(a).pipe(st(u=>{if(!u.draft.available&&!u.published.available)return be({id:c,type:null,draft:{availability:u.draft,snapshot:void 0},published:{availability:u.published,snapshot:void 0}});const d=[...s,...r];return oi([t({_type:"reference",_ref:a},d),t({_type:"reference",_ref:c},d)]).pipe(ue(f=>{let[p,m]=f;const v=yt(p)&&"_type"in p&&p._type||yt(m)&&"_type"in m&&m._type||null;return{id:c,type:typeof v=="string"?v:null,draft:{availability:u.draft,snapshot:p},published:{availability:u.published,snapshot:m}}}))}))}}function KJt(e){return KVt(e.reduce((t,n,r)=>{let[o,i]=n;const s=Bm(i.join(","),W2e).join(".");t[s]||(t[s]={fields:i,ids:[],map:[]});const a=t[s].ids.length;return t[s].ids[a]=o,t[s].map[a]=r,t},{}))}function ZJt(e){return JSON.stringify(e)}const XJt=e=>mIe(e)?'"'.concat(e,'": @').concat(iN(e)):e;function QJt(e){let{ids:t,fields:n}=e;const r=[...UIe,...n];return"*[_id in [".concat(t.map(ZJt).join(","),"]][0...").concat(t.length,"]{").concat(r.map(XJt).join(","),"}")}function JJt(e){return"[".concat(e.map(QJt).join(","),"][0...").concat(e.length,"]")}function een(e,t){return e.reduce((n,r,o)=>(t[o].map.forEach((s,a)=>{const c=t[o].ids[a],u=r.find(d=>d._id===c);n[s]=u||null}),n),[])}function ten(e){return(t,n)=>t===n?!0:!t||!n||typeof t!="object"||typeof n!="object"?!1:e.every(r=>t[r]===n[r])}const nen=e=>e;function ren(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nen,n,r;for(let o=0;o<e.length;o++){if(o===0){n=t(e[o]);continue}if(r=t(e[o]),n!==r)return!1;n=r}return!0}function oen(e){const{observePaths:t,versionedClient:n}=e;let r;const o=()=>{if(!r){const w=Cr(n.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation"],includeResult:!1,visibility:"query",tag:"preview.global"})).pipe(Ga()),C=w.pipe(bt(S=>S.type==="welcome"),Ri({refCount:!0,bufferSize:1}));C.subscribe();const _=w.pipe(bt(S=>S.type==="mutation"));r={welcome$:C,mutations$:_}}return r};function i(w){const C=o();return pn(C.welcome$,C.mutations$.pipe(bt(_=>_.documentId===w)))}function s(w){return function(_){const S=KJt(_);return w.observable.fetch(JJt(S),{},{tag:"preview.document-paths"}).pipe(ue(E=>een(E,S)))}}const a=XS(s(n),100),c=XS(s(n),1e3);function u(w,C){return i(w).pipe(st(_=>_.type==="welcome"||_.visibility==="query"?a(w,C).pipe(jt(S=>Hr(be(S),S===void 0?c(w,C):[]))):c(w,C)))}const d={},f=kT(function(C){const _=n.withConfig(C),S=s(_);return XS(S,10)},w=>w.dataset+w.projectId),p=1e4,m=Ps(document,"visibilitychange").pipe(ii(0),ue(()=>document.visibilityState==="visible"),st(w=>w?as(0,p):Vr),Ga());function v(w,C,_){return m.pipe(ii(0)).pipe(st(()=>f(_)(w,C)))}function g(w,C,_){let S=null;const E=pn(No(()=>S===null?Vr:be(S)),_?v(w,C,_):u(w,C)).pipe(qn(j=>S=j),Ri({refCount:!0,bufferSize:1}));return{id:w,fields:C,changes$:E}}function y(w,C,_){const S=_?"".concat(_.projectId,":").concat(_.dataset,":").concat(w):"$current$-".concat(w);S in d||(d[S]=[]);const E=d[S];im(C,Tn(E.map(T=>T.fields))).length>0&&E.push(g(w,C,_));const k=E.filter(T=>T.fields.some(A=>C.includes(A))).map(T=>T.changes$);return oi(k).pipe(ue(T=>T.filter(Boolean)),bt(T=>ren(T,A=>A._rev)),ue(T=>T.length===0?null:x(T,C)),_r(ten(C)))}return{observeFields:y};function x(w,C){return[...wJt,...C].reduce((_,S)=>{const E=b(w,S);return E!==void 0&&(_[S]=E),_},{})}function b(w,C){let _;return w.some(S=>C in S?(_=S[C],!0):!1),_}}function ien(e){let{client:t}=e;const n=t.withConfig({apiVersion:"1"}),r=(d,f,p)=>i(d,f,p),{observeFields:o}=oen({observePaths:r,versionedClient:n}),{observePaths:i}=UJt({observeFields:o});function s(d,f){return i({_type:"reference",_ref:d},["_type"],f).pipe(ue(p=>yt(p)&&typeof p._type=="string"?p._type:void 0),_r())}const a=qJt({observeDocumentTypeFromId:s,observePaths:i}),{observeDocumentPairAvailability:c}=YIe(n,i),{observePathsDocumentPair:u}=GJt(n,i);return{observePaths:i,observeForPreview:a,observeDocumentTypeFromId:s,unstable_observeDocumentPairAvailability:c,unstable_observePathsDocumentPair:u}}const sen=e=>!!(e.type&&e.type.name==="document"),aen=e=>e.name.startsWith("sanity."),len=e=>e.getTypeNames().map(t=>e.get(t)).filter(go).filter(t=>sen(t)).filter(t=>!aen(t)),cen=(e,t)=>{const{phrases:n,words:r}=pen(e),[o,i]=fen(n,t),[s,a]=hen(r,t);return[o+s,[a,i].join(", ")]},uen=e=>typeof e=="string"?e:JSON.stringify(e);function den(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=a7(e,o=>o.typeName);return t.map((o,i)=>{var s;const c=(s=r[o._type].paths||[])==null?void 0:s.map((d,f)=>{const p=uen(o["w".concat(f)]);if(!p)return{path:d.path,score:0,why:"No match"};const[m,v]=cen(n,p);return{path:d.path,score:m*d.weight,why:"".concat(v," (*").concat(d.weight,")")}}),u=c.reduce((d,f)=>d+f.score,0);return{hit:o,resultIndex:t.length-i,score:u,stories:c}})}function fen(e,t){const n=t.toLowerCase().trim();let r=0,o=0;return e.forEach(i=>{n.includes(i)&&(r+=i.length/n.length,o+=i.length)}),r===1?[1,"[Phrase] Exact match"]:[r/2,"[Phrase] Matched ".concat(o," of ").concat(n.length," characters")]}function hen(e,t){const n=ho(tA(ZEe(kv(t)))),r=dk(e,n),o=L5e(n,e),i=r.length/o.length;return i===1?[1,"[Word] Exact match"]:[i/2,"[Word] Matched ".concat(r.length," of ").concat(o.length," terms: [").concat(r.join(", "),"]")]}function pen(e){const t=ho(e.map(kv)),[n,r]=G9(t,o=>/^".*"$/.test(o));return{phrases:ho(n).map(kv).map(men),words:ho(r.map(kv))}}function men(e){return e.replace(/^"(.*)"$/,"$1")}const gen=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,ven=/(^[.]+)|([.]+$)/;function yen(e){return(e.match(gen)||[]).map(t=>t.replace(ven,""))}const ben=4,xen=1e3,wen=pOt([Tn,L5e,tA]);function Ire(e,t){let n=!1;return{specs:e.map(o=>({typeName:o.name,paths:o.__experimental_search.map(i=>{const s=i.path.map(a=>typeof a=="number"&&(n=!0,t)?[]:a);return{weight:i.weight,path:iKt(s),mapWith:i.mapWith}})})),hasIndexedPaths:n}}const qIe=e=>{let{mapWith:t,path:n}=e;return t?"".concat(t,"(").concat(n,")"):n};function Cen(e,t){const n=wen(t.map(o=>(o.paths||[]).map(i=>qIe(i))));return e.map((o,i)=>n.map(s=>"".concat(s," match $t").concat(i))).filter(o=>o.length>0).map(o=>"(".concat(o.join(" || "),")"))}function _en(e){const t=[],n=e.replace(/("[^"]*")/g,i=>ZEe(i).length>1?(t.push(i),""):i),r=t.map(i=>AOt(kv(i))),o=ho(tA(yen(kv(n))));return[...r,...o]}function Sen(e){function t(n){return n.mapWith?"".concat(n.mapWith,"(").concat(n.field,")"):n.field}return(e||[]).map(n=>[t(n),(n.direction||"").toLowerCase()].map(r=>r.trim()).filter(Boolean).join(" ")).join(",")}function GIe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n,r;const{filter:o,params:i,tag:s}=t,{specs:a,hasIndexedPaths:c}=Ire(e.types,!1),u=_en(e.query),d=c?Ire(e.types,!0).specs:a,f=["_type in $__types",t.includeDrafts===!1&&"!(_id in path('drafts.**'))",...Cen(u,d),o?"(".concat(o,")"):"",e.filter?"(".concat(e.filter,")"):""].filter(Boolean),p=a.map(S=>{const E='_type == "'.concat(S.typeName,'" => '),j="{ ".concat(S.paths.map((k,T)=>'"w'.concat(T,'": ').concat(qIe(k)))," }");return"".concat(E).concat(j)}),m=Sen((t==null?void 0:t.sort)||[{field:"_id",direction:"asc"}]),v=["_type","_id"],g=p.length>0?"...select(".concat(p.join(`,
`),")"):"",y=v.join(", ")+(g?", ".concat(g):"");let x="*[".concat(f.join(" && "),"]")+"| order(".concat(m,")")+"[$__offset...$__limit]"+"{".concat(y,"}");if(t!=null&&t.__unstable_extendedProjection){const S=t==null?void 0:t.__unstable_extendedProjection,E=v.concat(S).join(", ");x=["*[".concat(f.join(" && "),"]{").concat(E,"}"),"order(".concat(m,")[$__offset...$__limit]{").concat(y,"}")].join("|")}const b=["findability-mvi:".concat(ben)].concat((t==null?void 0:t.comments)||[]).map(S=>"// ".concat(S)).join(`
`),w=b?"".concat(b,`
`).concat(x):x,C=(n=t==null?void 0:t.offset)!=null?n:0,_=((r=t==null?void 0:t.limit)!=null?r:xen)+C;return{query:w,params:{...Een(u),__types:a.map(S=>S.typeName),__limit:_,__offset:C,...i||{}},options:{tag:s},searchSpec:a,terms:u}}const Een=e=>{const t={};return e.reduce((n,r,o)=>(n["t".concat(o)]="".concat(r,"*"),n),t)};function ken(e,t){return typeof e=="string"?{query:e,types:t}:e.types.length?e:{...e,types:t}}function EN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=ken(o,e),{query:a,params:c,options:u,searchSpec:d,terms:f}=GIe(s,{...n,...i});return t.observable.fetch(a,c,u).pipe(n.unique?ue(YGt):qn(),ue(p=>den(d,p,f)),i!=null&&i.skipSortByScore?qn():ue(p=>Bm(p,m=>-m.score)))}}const jen={available:!0,reason:"READABLE"},Ore={available:!1,reason:"PERMISSION_DENIED"},Pre={available:!1,reason:"NOT_FOUND"};function KIe(e,t,n){const{publishedId:r,draftId:o}=pIe(t);return e.unstable_observeDocumentPairAvailability(t).pipe(st(s=>{if(!s.draft.available&&!s.published.available){const d=s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?Ore:Pre;return be({id:t,type:void 0,availability:d,preview:{draft:void 0,published:void 0}})}const a={_type:"reference",_ref:o},c={_type:"reference",_ref:r};return oi([e.observeDocumentTypeFromId(o),e.observeDocumentTypeFromId(r)]).pipe(ue(d=>{let[f,p]=d;return f||p})).pipe(st(d=>{if(!d)return be({id:t,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const f=n.to.find(y=>y.name===d);if(!f)return be({id:t,type:d,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const p=[...wN(f==null?void 0:f.preview)||[],["_updatedAt"],["_createdAt"]],m=e.observePaths(a,p).pipe(ue(y=>y?{_id:o,...M5(y,f)}:void 0),ii(void 0)),v=e.observePaths(c,p).pipe(ue(y=>y?{_id:r,...M5(y,f)}:void 0),ii(void 0));return oi([m,v]).pipe(ue(y=>{let[x,b]=y;return{draft:x,published:b}})).pipe(ue(y=>{const x=s.draft.available||s.published.available?jen:s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?Ore:Pre;return{type:d,id:r,availability:x,preview:{draft:yt(y.draft)?y.draft:void 0,published:yt(y.published)?y.published:void 0}}}))}))}))}function Ten(e){return e.filter(t=>!t.draft||!t.published).map(t=>t.draft?t.id:li(t.id))}function Aen(e,t){return t.length===0?be([]):e.observable.fetch("*[_id in $ids]._id",{ids:t},{tag:"get-counterpart-ids"})}function ZIe(e,t,n,r){return EN(n.to,e,r)(t,{includeDrafts:!0}).pipe(ue(i=>i.map(s=>s.hit)),ue(UA),ue(i=>i.slice(0,100)),jt(i=>Aen(e,Ten(i)).pipe(ue(s=>i.map(a=>{const c=li(a.id);return{id:a.id,type:a.type,draft:a.draft||s.includes(c)?{_id:c,_type:a.type}:void 0,published:a.published||s.includes(a.id)?{_id:a.id,_type:a.type}:void 0}})))))}function Den(){const e=[];return{publish(t){for(const n of e)n(t)},subscribe(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}}}const mm=Symbol.for("sanity.patch");function es(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:mm,type:"setIfMissing",path:t,value:e}}function gf(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return{patchType:mm,type:"insert",path:n,position:t,items:e}}function vt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:mm,type:"set",path:t,value:e}}function nt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{patchType:mm,type:"unset",path:e}}function Ien(e,t){return{...e,path:[t,...e.path]}}class ft{static from(t){return t instanceof ft?t:new ft(Array.isArray(t)?Tn(t):[t])}constructor(t){this.patches=t}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ft.from([...Tn(n),...this.patches])}append(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ft.from([...this.patches,...Tn(n)])}prefixAll(t){return ft.from(this.patches.map(n=>Ien(n,t)))}}var Rre=Object.freeze,Oen=Object.defineProperty,Pen=(e,t)=>Rre(Oen(e,"raw",{value:Rre(t||e.slice())})),$re;const Ren={warning:"caution",error:"critical"},$en=P(M)($re||($re=Pen([`
  border-top: 1px solid var(--card-border-color);
`])));function Jc(e){const{children:t,status:n="warning",suffix:r,title:o,...i}=e;return l.jsxs(ee,{radius:2,tone:Ren[n],...i,"data-ui":"Alert",children:[l.jsxs(U,{padding:4,children:[l.jsx(M,{children:l.jsxs(L,{size:1,children:[n==="warning"&&l.jsx(Mr,{}),n==="error"&&l.jsx(fa,{})]})}),l.jsxs(M,{flex:1,marginLeft:3,children:[l.jsx(L,{size:1,weight:"semibold",children:o}),t&&l.jsx(M,{marginTop:3,children:t})]})]}),r&&l.jsx($en,{children:r})]})}function kN(e,t){const n=h.useRef(t||null);return h.useEffect(()=>{n.current=e},[e]),n.current}function zi(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ju;const r=kN(e);h.useEffect(()=>{n(r,e)||t(r,e)},[t,e,r,n])}function XIe(e,t){h.useEffect(()=>{const n=r=>{const o=r.target;if(o instanceof HTMLElement){if(e.some(i=>{var s;return(s=i.current)==null?void 0:s.contains(o)}))return;t(r)}};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])}const QIe=h.createContext(null);function ui(){const e=h.useContext(QIe);if(!e)throw new Error("FormBuilder: missing context value");return e}const Men={constrainSize:!0,portal:!0,fallbackPlacements:["top","bottom"]};function jN(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=h.useCallback(u=>{const d=o(u);i(d)},[o,i]),c=ie.useCallback(()=>{a(t.of[0])},[t,a]);return n?l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:"This field is read-only"})}),children:l.jsx(Qt,{children:l.jsx(se,{icon:na,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):l.jsxs(Qt,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?l.jsx(se,{icon:na,mode:"ghost",onClick:c,text:"Add item"}):l.jsx(en,{button:l.jsx(se,{icon:na,mode:"ghost",text:"Add item…"}),id:s||"",menu:l.jsx(Bt,{children:t.of.map((u,d)=>{var f,p;const m=zu(u)&&(u.to||[]).length===1&&u.to[0].icon,v=u.icon||((f=u.type)==null?void 0:f.icon)||m;return l.jsx(Ve,{text:u.title||((p=u.type)==null?void 0:p.name),onClick:()=>a(u),icon:v},d)})}),popover:Men}),r]})}var Mre=Object.freeze,Fen=Object.defineProperty,Len=(e,t)=>Mre(Fen(e,"raw",{value:Mre(t||e.slice())})),Fre;const Ben=e=>e==="error"?l.jsx(fa,{}):e==="warning"?l.jsx(Mr,{}):l.jsx(km,{}),Nen=P(L)(e=>{let{theme:t}=e;return he(Fre||(Fre=Len([`
    &[data-info] {
      color: `,`;
    }

    &[data-warning] {
      color: `,`;
    }

    &[data-error] {
      color: `,`;
    }
  `])),t.sanity.color.muted.primary.enabled.fg,t.sanity.color.muted.caution.enabled.fg,t.sanity.color.muted.critical.enabled.fg)});function JIe(e){const{markers:t,validation:n,renderCustomMarkers:r}=e,{CustomMarkers:o}=ui().__internal.components;return t.length===0&&n.length===0?null:l.jsxs(oe,{space:1,children:[n.length>0&&n.map((i,s)=>{let{message:a,level:c}=i;return l.jsxs(U,{children:[l.jsx(M,{marginRight:2,marginBottom:s+1===n.length?0:2,children:l.jsx(Nen,{size:1,"data-error":c==="error"?"":void 0,"data-warning":c==="warning"?"":void 0,"data-info":c==="info"?"":void 0,children:Ben(c)})}),l.jsx(M,{children:l.jsx(L,{size:1,children:a||"Error"})})]},"validationItem-".concat(s))}),t.length>0&&l.jsxs(M,{marginTop:n.length>0?3:0,children:[r&&r(t),!r&&l.jsx(o,{markers:t})]})]})}function zen(){return l.jsxs(L,{size:1,children:["This is a example custom marker, please implement ",l.jsx("code",{children:"renderCustomMarkers"})," function."]})}const TN=ie.createContext(null),xC=h.memo(function(t){const n=h.useRef(t);n.current=t;const r=h.useCallback(p=>{var m,v,g;return(g=(v=(m=n.current)==null?void 0:m.transformPatches)==null?void 0:v.call(m,p))!=null?g:[]},[n]),o=h.useCallback(p=>{n.current.onChange(p)},[]),i=h.useCallback(p=>{n.current.onPathFocus(p)},[]),s=h.useCallback(p=>{n.current.onPathBlur(p)},[]),a=h.useCallback(p=>{n.current.onPathOpen(p)},[]),c=h.useCallback((p,m)=>{n.current.onSetPathCollapsed(p,m)},[]),u=h.useCallback((p,m)=>{n.current.onSetFieldSetCollapsed(p,m)},[]),d=h.useCallback((p,m)=>{n.current.onFieldGroupSelect(p,m)},[]),f=h.useMemo(()=>({transformPatches:r,onChange:o,onPathFocus:i,onPathBlur:s,onPathOpen:a,onSetPathCollapsed:c,onSetFieldSetCollapsed:u,onFieldGroupSelect:d}),[o,d,s,i,a,u,c,r]);return l.jsx(TN.Provider,{value:f,children:t.children})});function ga(){const e=h.useContext(TN);if(!e)throw new Error("Form context not provided");return e}function AN(e,t){return U4(e,t,new WeakSet)}function U4(e,t,n){if(e===t)return e;if(n.has(t)||e==null||t==null||typeof e!==typeof t)return t;if(Array.isArray(t)){n.add(t);let i=e.length===t.length;const s=[];for(let a=0;a<t.length;a++){const c=U4(e[a],t[a],n);c!==e[a]&&(i=!1),s[a]=c}return i?e:s}if(typeof t=="object"){n.add(t);const i=Object.keys(t);let s=Object.keys(e).length===i.length;const a={};for(const c of i){const u=U4(e[c],t[c],n);u!==e[c]&&(s=!1),a[c]=u}return s?e:a}return t}const eOe=h.createContext([]);function Ven(e){return l.jsx(eOe.Provider,{value:e.presence,children:e.children})}function Hen(){const e=h.useContext(eOe);if(!e)throw new Error("Form context not provided");return e}function u1(e,t){const n=Hen(),r=h.useRef(n),o=AN(r.current,n.filter(i=>Si(e,i.path)&&(t||!vn(e,i.path))));return r.current=o,o}const tOe=h.createContext([]);function Uen(e){return l.jsx(tOe.Provider,{value:e.validation,children:e.children})}function Wen(){const e=h.useContext(tOe);if(!e)throw new Error("Form context not provided");return e}function DN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=Wen();return h.useMemo(()=>n.filter(r=>Si(e,r.path)&&(t||!vn(e,r.path))).map(r=>({message:r.item.message,level:r.level,path:r.path})),[t,e,n])}function Yen(e){const{action:t}=e,n=h.useCallback(()=>{t.onAction()},[t]),r=typeof t.disabled=="object"&&l.jsx(L,{size:1,children:t.disabled.reason});return l.jsx(bC,{content:r,placement:"left",children:l.jsx(Ve,{disabled:!!t.disabled,fontSize:1,icon:t.icon,iconRight:t.iconRight||(t.selected?sa:void 0),onClick:n,padding:3,pressed:t.selected,space:3,text:t.title,tone:t.tone})})}const qen={placement:"right",fallbackPlacements:["top","bottom"]};function Gen(e){const{group:t}=e;return t.expanded?l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:2,paddingBottom:1,children:l.jsx(Vt,{muted:!0,size:0,children:t.title})}),t.children.map((n,r)=>{var o;return l.jsx(W4,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})]}):l.jsx(w8,{fontSize:1,icon:t.icon,padding:3,popover:qen,space:3,text:t.title,tone:t.tone,children:t.children.map((n,r)=>{var o;return l.jsx(W4,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})})}function W4(e){const{action:t,isFirst:n,prevIsGroup:r}=e;return t.type==="divider"?l.jsx(Ir,{}):t.type==="group"?l.jsxs(l.Fragment,{children:[!n&&l.jsx(Ir,{}),l.jsx(Gen,{group:t})]}):l.jsxs(l.Fragment,{children:[r&&l.jsx(Ir,{}),l.jsx(Yen,{action:t})]})}const nOe={placement:"top"};function Lre(e){return"renderAsButton"in e&&e.renderAsButton}const Ken=h.memo(function(t){const{nodes:n,onMenuOpenChange:r}=t,[o,i]=h.useState(!1),s=h.useCallback(()=>{r(!0),i(!0)},[r]),a=h.useCallback(()=>{r(!1),i(!1)},[r]),c=h.useMemo(()=>n.filter(Lre),[n]),u=h.useMemo(()=>n.filter(p=>!Lre(p)),[n]),d=h.useMemo(()=>{const p=u.length;if(p===0||p>1)return u;const m=u[0];return m.type==="group"?[{...m,expanded:!0}]:u},[u]),f=h.useMemo(()=>[...d.length?[{type:"group",children:d,icon:Ao,title:"Field actions"}]:[],...c],[c,d]);return l.jsx(l.Fragment,{children:f.map((p,m)=>l.jsx(Zen,{node:p,onOpen:s,onClose:a,open:o},m))})}),Zen=h.memo(function(t){const{node:n,onOpen:r,onClose:o,open:i}=t;return n.type==="divider"?l.jsx(ee,{borderLeft:!0,flex:"none"}):n.type==="action"?l.jsx(Eh,{fontSize:1,icon:n.icon,label:i?void 0:n.title,mode:"bleed",onClick:n.onAction,padding:2,tooltip:nOe}):l.jsx(Qen,{node:n,onOpen:r,onClose:o,open:i})}),Xen={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function Qen(e){const{node:t,onOpen:n,onClose:r,open:o}=e;return l.jsx(en,{button:l.jsx(Eh,{fontSize:1,icon:t.icon,label:o?void 0:t.title,mode:"bleed",padding:2,tooltip:nOe}),id:h.useId(),menu:l.jsx(Bt,{children:t.children.map((i,s)=>{var a;return l.jsx(W4,{action:i,isFirst:s===0,prevIsGroup:((a=t.children[s-1])==null?void 0:a.type)==="group"},s)})}),onOpen:n,onClose:r,popover:Xen})}function rOe(e){return e.filter(Boolean).filter(t=>"hidden"in t?t.hidden!==!0:!0).map(t=>t.type==="group"?{...t,children:rOe(t.children)}:t)}const wC=h.memo(function(t){const{actions:n,documentId:r,documentType:o,onActions:i,path:s,schemaType:a}=t,c=n.length,u=h.useRef(c),[d,f]=h.useState(()=>Array.from(new Array(c))),p=h.useRef(d),m=h.useCallback((v,g)=>{f(y=>{const x=[...y];return x[v]=g,x})},[]);return h.useEffect(()=>{p.current!==d&&(p.current=d,i(rOe(d)))},[d,i]),h.useEffect(()=>{if(u.current!==c){const v=Array.from(new Array(c));for(let g=0;g<c;g++)v[g]=p.current[g];u.current=c,f(v),p.current=v}},[c]),l.jsx(l.Fragment,{children:n.map((v,g)=>l.jsx(Jen,{action:v,index:g,documentId:r,documentType:o,path:s,schemaType:a,setFieldAction:m},g))})}),Jen=h.memo(function(t){const{action:n,documentId:r,documentType:o,index:i,path:s,schemaType:a,setFieldAction:c}=t,u=Fo(n.useAction({documentId:r,documentType:o,path:s,schemaType:a}));return h.useEffect(()=>{c(i,u)},[i,u,c]),null}),oOe=h.createContext(null);function IN(){const e=h.useContext(oOe);if(!e)throw new Error("UserColorManager: missing context value");return e}function etn(e){const t=IN();return vo(e?t.listen(e):Sot(),[e],t.get(null))}const ttn="purple",ntn=["green","red","gray"],rtn=x1e.filter(e=>!ntn.includes(e)),iOe=e=>{const t=e==="dark";return{background:t?"900":"100",border:t?"700":"300",text:t?"200":"700"}},otn=e=>{const{background:t,border:n,text:r}=iOe(e);return rtn.reduce((o,i)=>(o[i]={name:i,background:pe[i][t].hex,border:pe[i][n].hex,text:pe[i][r].hex,tints:pe[i]},o),{})},itn=e=>{const{background:t,border:n,text:r}=iOe(e);return{name:"gray",background:pe.gray[t].hex,border:pe.gray[n].hex,text:pe.gray[r].hex,tints:pe.gray}};function stn(e){const{anonymousColor:t,colors:n,currentUserColor:r,scheme:o}=e,i=n||otn(o),s=t||itn(o),a=r||ttn;if(!i.hasOwnProperty(a))throw new Error("'colors' must contain 'currentUserColor' (".concat(a,")"));const c=Object.keys(i),u=new Map,d=new Map,f=c.reduce((k,T)=>(k[T]=0,k),{}),p=new Map;let m;return e!=null&&e.userStore&&e.userStore.me.subscribe(k=>E(k?k.id:null)),{get:v,listen:y};function v(k){return k?i[g(k)]:s}function g(k){if(k===m)return a;const T=p.get(k);if(T)return T;const A=d.get(k);if(A&&(f[A]===0||!C()))return x(k,A);const D=j(k);return f[D]===0?x(k,D):x(k,_(A))}function y(k){let T=u.get(k);if(T)return T;const A=g(k);return T=S(k,A),u.set(k,T),T}function x(k,T){return p.set(k,T),d.set(k,T),f[T]++,T}function b(k,T){p.delete(k),f[T]--}function w(){return c.find(k=>f[k]===0)}function C(){return!!w()}function _(k){let T=1/0,A=[];return c.forEach(D=>{const I=f[D];I===T?A.push(D):I<T&&(T=I,A=[D])}),k&&A.includes(k)?k:A[0]}function S(k,T){return new _t(A=>{const D=i[T];return A.next(D),()=>{u.delete(k),b(k,T)}}).pipe(Ri({refCount:!0}))}function E(k){m=k,f[a]+=k?1:-1}function j(k){let T=0;for(let A=0;A<k.length;A++)T=(T<<5)-T+k.charCodeAt(A)|0;return c[Math.abs(T)%c.length]}}function atn(e){let{children:t,manager:n}=e;const{scheme:r}=tu(),o=h.useMemo(()=>n||stn({scheme:r}),[n,r]);return l.jsx(oOe.Provider,{value:o,children:t})}const ltn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ctn=/_key\s*==\s*['"](.*)['"]/;function yn(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Pr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function Ol(e,t){const n=t[0];if(!n)return e;const r=t.slice(1);if(Tl(n))return Ol(Array.isArray(e)?e[n]:void 0,r);if(Pr(n))return Ol(Array.isArray(e)?e.find(o=>o._key===n._key):void 0,r);if(typeof n=="string")return Ol(yt(e)?e[n]:void 0,r);throw new Error("Unknown segment type ".concat(JSON.stringify(n)))}function utn(e,t){return typeof t!="number"&&!Pr(t)?-1:typeof t=="number"?t:e.findIndex(n=>Pl(n)&&n._key===t._key)}function dtn(e){const t=e.match(ltn);if(!t)throw new Error("Invalid path string");return t.map(ftn)}function ftn(e){return Tl(e)?htn(e):Pr(e)?ptn(e):Up(e)?mtn(e):e}function htn(e){return Number(e.replace(/[^\d]/g,""))}function ptn(e){const t=e.match(ctn);if(!t)throw new Error("Invalid key segment");return{_key:t[1]}}function mtn(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}function sOe(e,t){return e.length!==t.length?!1:e.every((n,r)=>{const o=t[r];return Pr(n)&&Pr(o)?n._key===o._key:Tl(n)?Number(n)===Number(o):Up(n)&&Up(o)?n[0]===o[0]&&n[1]===o[1]:n===o})}function aOe(e){return Pl(e)?e._key:void 0}function Y4(e){const t=aOe(e);return t?{_key:t}:void 0}function gtn(e){return typeof e=="object"&&e!==null&&Object.keys(e).length<=0}function lOe(e,t){return e.get((t==null?void 0:t.author)||null)}function CC(e,t){const n=Array.isArray(t)?t:dtn(t);return vtn(e,n)}function vtn(e,t){const n=q4(e,t);if(n&&n.action!=="unchanged")return n.annotation||void 0}function q4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.length===0)return e;const r=t[0],o=t.slice(1);if(Up(r))throw new Error("Index tuples are not supported in diff paths");if(Tl(r)||Pr(r)){const s=Tl(r)?"at index ".concat(r):"with key ".concat(r._key);if(e.type!=="array"){"Failed to get item ".concat(s," at path ").concat(yn(n)," (not an array)");return}const a=e.items.find(Tl(r)?c=>c.toIndex===r:c=>ytn(c,r));if(!a){"Failed to get item ".concat(s," at path ").concat(yn(n)," (item missing)");return}return q4(a.diff,o,n.concat(r))}if(e.type!=="object"){"Failed to get property ".concat(r," at path ").concat(yn(n)," (not an object)");return}const i=e.fields[r];if(typeof i>"u"){"Failed to get property ".concat(r," at path ").concat(yn(n)," (field did not exist)");return}return q4(i,o,n.concat(r))}function ytn(e,t){const n=e.diff;return n.type!=="object"||!n.toValue?!1:n.toValue._key===t}function ZA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t(e,n)){if(e.type==="array"){btn(e,t,n);return}if(e.type==="object"){xtn(e,t,n);return}e.type==="string"&&wtn(e,t,n)}}function btn(e,t,n){e.action!=="unchanged"&&e.items.forEach(r=>{var o;const i=r.diff.type==="object"&&((o=r.diff.toValue)==null?void 0:o._key),s=i?{_key:i}:Ctn(r);ZA(r.diff,t,n.concat(s))})}function xtn(e,t,n){e.action!=="unchanged"&&Object.keys(e.fields).forEach(r=>{const o=e.fields[r];ZA(o,t,n.concat(r))})}function wtn(e,t,n){e.action!=="unchanged"&&e.segments.forEach(r=>{ZA(r,t,n)})}function Ctn(e){return typeof e.toIndex>"u"?e.fromIndex||0:e.toIndex}function cOe(e){const t=IN();return lOe(t,e)}function x0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=IN(),r=h.useMemo(()=>CC(e,t),[e,t]);return h.useMemo(()=>lOe(n,r),[r,n])}function ts(e){if("diff"in e){const{diff:t,path:n=[],...r}=e,o=CC(t,n);return l.jsx(Bre,{...r,annotations:o?[o]:[]})}return l.jsx(Bre,{...e})}function Bre(e){const{annotations:t,children:n,description:r="Changed",...o}=e;if(!t)return n;const i=l.jsxs(oe,{padding:3,space:2,children:[l.jsx(Vt,{size:1,style:{textTransform:"uppercase"},children:r}),l.jsx(oe,{space:2,children:t.map((s,a)=>l.jsx(_tn,{annotation:s},a))})]});return l.jsx(ad,{zOffset:"paneFooter",children:l.jsx(at,{content:i,portal:!0,...o,children:n})})}function _tn(e){let{annotation:t}=e;const{author:n,timestamp:r}=t,[o]=w1(n),i=cOe(t),s=Qo(r,{minimal:!0});return l.jsxs(qt,{space:2,children:[l.jsxs(U,{align:"center",paddingRight:3,style:{backgroundColor:i.background,color:i.text,borderRadius:"calc(23px / 2)"},children:[l.jsx(Za,{user:n}),l.jsx(qt,{paddingLeft:2,children:l.jsx(L,{muted:!0,size:1,style:{color:i.text},children:o?o.displayName:"Loading…"})})]}),l.jsx(L,{as:"time",muted:!0,size:1,dateTime:r,children:s})]})}var Nre=Object.freeze,Stn=Object.defineProperty,Etn=(e,t)=>Nre(Stn(e,"raw",{value:Nre(t||e.slice())})),zre;const ktn=P(ee)(zre||(zre=Etn([`
  --diff-card-radius: `,`;
  --diff-card-bg-color: `,`;

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[2])},e=>{let{theme:t}=e;return t.sanity.color.card.enabled.bg}),jtn=[],Ai=h.forwardRef(function(t,n){const{annotation:r,as:o="div",children:i,className:s,diff:a,disableHoverEffect:c,path:u=jtn,style:d={},tooltip:f,...p}=t,m=h.useMemo(()=>r||CC(a,u),[r,a,u]),v=cOe(m),g=l.jsx(ktn,{...p,as:o,className:s,"data-hover":c||!m?void 0:"",ref:n,radius:1,style:{...d,backgroundColor:v.background,color:v.text},children:i});return f&&m?l.jsx(ts,{annotations:[m],description:f&&typeof f=="object"&&f.description,children:g}):g});var Vre=Object.freeze,Ttn=Object.defineProperty,uOe=(e,t)=>Vre(Ttn(e,"raw",{value:Vre(t||e.slice())})),Hre,Ure;const ON=P.div(Hre||(Hre=uOe([`
  border-radius: `,`;
  padding: `,`;
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[2])},e=>{let{theme:t}=e;return ye(t.sanity.space[1])}),F5=P(L)(Ure||(Ure=uOe([`
  &:not([hidden]) {
    color: inherit;
  }
`])));function Atn(e){const{change:t,segment:n}=e;if(typeof n=="string")return l.jsx(M,{children:l.jsx(L,{title:n,size:1,weight:"semibold",textOverflow:"ellipsis",children:n})});const{hasMoved:r,fromIndex:o,toIndex:i,annotation:s}=n,a=typeof o>"u",c=typeof i>"u";if(a)return l.jsx(Dtn,{annotation:s,change:t,toIndex:i});if(c)return l.jsx(Itn,{annotation:s,fromIndex:o});if(r&&typeof i<"u"&&typeof o<"u")return l.jsx(Otn,{annotation:s,fromIndex:o,toIndex:i});const u=(i||0)+1;return l.jsx(M,{padding:1,children:l.jsxs(L,{size:1,weight:"semibold",children:["#",u]})})}function Dtn(e){const{annotation:t,change:n,toIndex:r=0}=e,o=r+1,i="Added in position ".concat(o),s=l.jsxs(l.Fragment,{children:["#",o]}),c=(n!=null&&n.diff?CC(n.diff,[]):void 0)||t;return c?l.jsx(Ai,{annotation:c,tooltip:{description:i},as:ON,children:l.jsx(F5,{size:1,weight:"semibold",forwardedAs:"ins",style:{textDecoration:"none"},children:s})}):l.jsx(L,{size:1,weight:"semibold",children:s})}function Itn(e){const{annotation:t,fromIndex:n=0}=e,r=n+1,o="Removed from position ".concat(r);return l.jsx(Ai,{annotation:t||null,as:ON,tooltip:{description:o},children:l.jsxs(F5,{size:1,weight:"semibold",forwardedAs:"del",children:["#",r]})})}function Otn(e){const{annotation:t,fromIndex:n,toIndex:r}=e,o=r-n,i=o<0?"↑":"↓",s=Math.abs(o),a="Moved ".concat(s," position").concat(s===1?"":"s"," ").concat(o<0?"up":"down");return l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:1,children:l.jsxs(F5,{size:1,weight:"semibold",children:["#",r+1]})}),l.jsx(Ai,{annotation:t,as:ON,tooltip:{description:a},children:l.jsxs(F5,{size:1,weight:"semibold",children:[i,Math.abs(o)]})})]})}function dOe(e){const{change:t,titlePath:n}=e;return l.jsx(b8,{maxLength:4,separator:l.jsx(L,{muted:!0,size:1,children:l.jsx(Uc,{})}),children:n.map((r,o)=>typeof r=="string"||!t||t.showIndex?l.jsx(Atn,{change:t,segment:r},o):null)})}function Ptn(e){return yt(e)&&typeof(e==null?void 0:e.then)=="function"}function Rtn(e,t,n){const{currentUser:r,document:o,parent:i,value:s}=n,a=h.useRef(!1);return h.useMemo(()=>{let c=!1;if(typeof e=="boolean"||e===void 0)return e||!1;try{c=e({document:o,parent:i,value:s,currentUser:r})}catch(u){return console.error("An error occurred while running the callback from `".concat(t,"`: ").concat(u.message)),!1}return Ptn(c)&&!a.current?(console.warn("The `".concat(t,"` option is either a promise or a promise returning function. Async callbacks for `").concat(t,"` option is not currently supported.")),!1):(typeof c>"u"&&console.warn("The `".concat(t,"` option is or returned `undefined`. `").concat(t,"` should return a boolean.")),c)},[e,o,i,s,r,t])}const G4=e=>{const{checkProperty:t=!1,checkPropertyKey:n,document:r,parent:o,value:i}=e,s=Fo(i),a=Yo();return Rtn(t,n,{currentUser:a,document:r,parent:o,value:s})},ld=h.createContext({path:[]});function K4(e,t){const{jsonType:n}=t,r=Array.isArray(e)?"array":typeof e;if(!(e===null||r==="undefined")){if(r!==n)return{message:"Value is ".concat(r,", expected ").concat(n),value:e};if($tn(t)&&Mtn(e))for(const o of t.fields){const i=K4(e[o.name],o.type);if(i)return i}}}function $tn(e){return e.jsonType==="object"}function Mtn(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function Ftn(e){return QF(e)?e._type:Btn(e)}function Ltn(e,t){return e.action==="added"?{toType:my(t,e.toValue)}:e.action==="changed"?{fromType:my(t,e.fromValue),toType:my(t,e.toValue)}:e.action==="removed"?{fromType:my(t,e.fromValue)}:{toType:my(t,e.toValue)}}function my(e,t){const n=Ftn(t),r=e.of.find(o=>o.name===n);return r||(e.of.length===1?e.of[0]:void 0)}function Btn(e){return Array.isArray(e)?"array":e===null?"null":typeof e}const d1=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],XA="",f1=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],Ntn="↲",L5=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ztn=" ",fOe="⁠";function Vtn(e){return e.of.some(pOe)}const Htn=f1.map(e=>e[0]).concat(d1.map(e=>e[0])),Utn=f1.map(e=>e[1]).concat(d1.map(e=>e[1])),hOe=Htn.concat(Utn).concat(L5).concat(XA).concat(fOe),Wre=new RegExp("".concat(hOe.join("|")),"g"),Wtn=new RegExp("".concat(hOe.join("|"),`|
`),"g");function pOe(e){return e.jsonType==="object"&&e.name==="block"}function Ytn(e){return oh(e)&&!!e.style&&["h1","h2","h3","h4","h5","h6"].includes(e.style)}function Yre(e,t){return e.fields.children.items.filter(r=>r.diff.isChanged&&(r.diff.toValue===t||r.diff.fromValue===t)).map(r=>r.diff).map(r=>r)[0]}function Z4(e,t){const n=e.find(o=>o.name==="children");return n&&n.type&&n.type.jsonType==="array"&&n.type.of.find(o=>o.name===t._type)||void 0}function PN(e){return e.decorators?J0(e.decorators,["value"],["asc"]):[]}function mOe(e,t){return PN(t).some(n=>n.value===e)}function qre(e,t,n,r,o){return t?t.children.map(i=>{var s;let a=ta(i)?(s=i.text)==null?void 0:s.replace(Wre,""):"";if(ta(i)){const c=RN(e,i),u=c==null?void 0:c.fields.text;u&&u.toValue===i.text&&u.type==="string"&&u.action!=="unchanged"&&(a=u.segments.filter(d=>d.action!=="removed").map(d=>d.text.replace(Wre,"")).join(fOe)),i.marks&&i.marks.forEach(d=>{!!n[d]?a="".concat(n[d][0]).concat(a).concat(n[d][1]):r[d]&&(a="".concat(r[d][0]).concat(a).concat(r[d][1]))})}else a=o[i._key];return"".concat(XA).concat(a)}).join(""):""}function qtn(e,t){const n=e.action==="removed"?e.fromValue:e.toValue,r={...e,origin:e,displayValue:n};if(n){const o={},i={},s={},a=Z4(t.fields,{_key:"bogus",_type:"span"});a&&PN(a).forEach((g,y)=>{i[g.value]=f1[y]}),yOe(r.origin).forEach((g,y)=>{o[g._key]=d1[y]}),gOe(r.origin).forEach((g,y)=>{s[g._key]=L5[y]});const d=qre(r.origin,r.fromValue,i,o,s),f=qre(r.origin,r.toValue,i,o,s),p={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:f,marks:[]}]},m={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:d,marks:[]}]};return{origin:e,action:"changed",type:"object",displayValue:p,fromValue:m,toValue:p,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:d,toValue:f,segments:Gtn(d,f).map(g=>({...g,...r.action!=="unchanged"&&r.annotation?{annotation:r.annotation}:{}}))}},fromValue:m.children[0],toValue:p.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:m.children,toValue:p.children}}}}throw new Error("Can not display this diff")}function Gtn(e,t){const n=[],r=h7(rC(e,t));let o=0,i=0;for(const[s,a]of r)switch(s){case kt:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case kn:n.push({type:"stringSegment",action:"removed",text:e.substring(o,o+a.length),annotation:null}),o+=a.length;break;case Gn:n.push({type:"stringSegment",action:"added",text:t.substring(i,i+a.length),annotation:null}),i+=a.length;break}return Tn(n.map(s=>{const a=[];if(s.text.length>1){const c=[...s.text.matchAll(Wtn)];let u=-1;c.forEach(d=>{const f=d.index||0;f>u&&(a.push({...s,text:s.text.substring(u+1,f)}),a.push({...s,text:d[0]})),d===c[c.length-1]&&a.push({...s,text:s.text.substring(f+1)}),u=f}),c.length===0&&a.push(s)}else a.push(s);return a}))}function gOe(e){const t=[...e.toValue?e.toValue.children.filter(r=>r._type!=="span"):[]];return(e.fromValue?e.fromValue.children.filter(r=>r._type!=="span"):[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),J0(t,["_key"],["asc"])}function RN(e,t){const n=e.fields.children&&e.fields.children.action!=="unchanged"&&e.fields.children.type==="array"&&e.fields.children.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.action==="removed"?r.diff.fromValue&&r.diff.fromValue._key===t._key:(r.diff.toValue&&r.diff.toValue._key)===t._key));if(n)return n.diff}function Ktn(e,t){var n;return e.fields.markDefs&&e.fields.markDefs.isChanged&&e.fields.markDefs.type==="array"&&((n=e.fields.markDefs.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.toValue&&r.diff.toValue._key&&r.diff.toValue._key===t||r.diff.fromValue&&r.diff.fromValue._key&&r.diff.fromValue._key===t)))==null?void 0:n.diff)||void 0}function vOe(e){return e&&Ht(Object.keys(e),["_key","_type"])||!1}function Ztn(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function yOe(e){const t=[...e.toValue&&e.toValue.markDefs?e.toValue.markDefs:[]];return(e.fromValue&&e.fromValue.markDefs?e.fromValue.markDefs:[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),J0(t,["_key"],["asc"])}const Xtn=[];function Qtn(e){let{checked:t,color:n}=e;return l.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:n==null?void 0:n.background,children:[l.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof t>"u"&&l.jsx("path",{d:"M4.07996 8.5H12.92",stroke:n==null?void 0:n.text,strokeWidth:"2"}),t&&l.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:n==null?void 0:n.text,strokeWidth:"2"})]})}function Jtn(e){let{checked:t,color:n}=e;return l.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{width:"38",height:"22",rx:"11",fill:t?n==null?void 0:n.border:n==null?void 0:n.background}),typeof t>"u"&&l.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),t&&l.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),typeof t=="boolean"&&!t&&l.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const enn=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o}=t,{title:i,options:s}=n,a=(s==null?void 0:s.layout)==="checkbox"?Qtn:Jtn,c=x0(t,[]),u=o!=null;return l.jsxs(U,{align:"center",children:[l.jsx(ts,{diff:t,children:l.jsxs(U,{align:"center",children:[l.jsx(a,{checked:r,color:c}),u&&l.jsxs(l.Fragment,{children:[l.jsx(M,{marginX:2,children:l.jsx(zN,{})}),l.jsx(a,{checked:o,color:c})]})]})}),u&&i&&l.jsx(M,{marginLeft:2,children:l.jsx(L,{size:1,weight:"semibold",children:i})})]})};var Gre=Object.freeze,tnn=Object.defineProperty,nnn=(e,t)=>Gre(tnn(e,"raw",{value:Gre(t||e.slice())})),Kre;const rnn="YYYY-MM-DD",onn="HH:mm",inn=P.div(Kre||(Kre=nnn([`
  display: inline-block;
  word-wrap: break-word;
`]))),snn=function(t){let{value:n,schemaType:r}=t;return l.jsx(M,{as:inn,paddingX:2,paddingY:1,children:ann(n,r)})};function ann(e,t){const{options:n,name:r}=t,o=(n==null?void 0:n.dateFormat)||rnn,i=(n==null?void 0:n.timeFormat)||onn;return gA(new Date(e),r==="date"?o:"".concat(o," ").concat(i))}const Zre=e=>{let{diff:t,schemaType:n}=e;return l.jsx(_C,{align:"center",diff:t,layout:"grid",previewComponent:snn,schemaType:n})},bOe=h.createContext(null);function QA(){const e=h.useContext(bOe);if(!e)throw new Error("DocumentChange: missing context value");return e}function Xre(e){const[t,n]=h.useState(void 0),r=fr(sn);return h.useEffect(()=>{if(!e)return;const o=r.observable.getDocument(e).subscribe(n);return()=>{o.unsubscribe()}},[r,e]),e?t:void 0}function lnn(e,t){if(!e||!t)return 0;const n=t-e;return Math.round(n/e*100)}var Qre=Object.freeze,cnn=Object.defineProperty,unn=(e,t)=>Qre(cnn(e,"raw",{value:Qre(t||e.slice())})),Jre;const dnn=P.div(Jre||(Jre=unn([`
  `,`
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`])),e=>{let{theme:t}=e;return`
    --size-diff-positive: `.concat(t.sanity.color.solid.positive.enabled.bg,`;
    --size-diff-negative: `).concat(t.sanity.color.solid.critical.enabled.bg,`;
  `)}),fnn=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o,fields:i}=t,s=r==null?void 0:r.asset,a=o==null?void 0:o.asset,c=Xre(s==null?void 0:s._ref),u=Xre(a==null?void 0:a._ref),d=Object.entries(i).filter(S=>{let[E,j]=S;return j.isChanged&&E!=="_type"}).map(S=>{let[E]=S;return E}),f=d.includes("asset"),p=n.fields.filter(S=>S.name!=="asset"&&d.includes(S.name)).map(S=>S.name),m=(c==null?void 0:c.size)&&c.size/1e3/1e3,v=(u==null?void 0:u.size)&&u.size/1e3/1e3,g=lnn(m,v),y=m?m.toFixed(2):void 0,x=v?v.toFixed(2):void 0,b=h.useMemo(()=>({display:"block",flex:1}),[]),w=c&&l.jsx(Ai,{as:"del",diff:t,path:"asset._ref",style:b,children:l.jsx(tF,{title:c.originalFilename||"Untitled",icon:Nf,children:l.jsx(L,{size:0,style:{color:"inherit"},children:"".concat(y,"MB")})})}),C=u&&l.jsx(Ai,{as:"ins",diff:t,path:"asset._ref",style:b,children:l.jsx(tF,{title:u.originalFilename||"Untitled",icon:Nf,children:l.jsxs(U,{align:"center",children:[l.jsx(L,{size:0,style:{color:"inherit"},children:"".concat(x,"MB")}),g!==0&&l.jsx(ee,{radius:2,padding:1,as:dnn,marginLeft:2,children:l.jsxs(L,{size:0,"data-number":g>0?"positive":"negative",children:[g>0&&"+",g,"%"]})})]})})}),_=l.jsxs(l.Fragment,{children:[w&&!C&&l.jsx(ts,{diff:t,path:"asset._ref",description:"Removed",children:w}),w&&C&&l.jsx(ts,{diff:t,path:"asset._ref",children:l.jsx(VN,{from:w,layout:"grid",to:C})}),!w&&C&&l.jsx(ts,{diff:t,path:"asset._ref",description:"Added",children:C})]});return l.jsxs(l.Fragment,{children:[f&&_,p.length>0&&l.jsx(M,{marginTop:f?4:3,children:l.jsx(SC,{diff:t,schemaType:n,fields:p})})]})};function eoe(e,t){const n=(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||[]).slice(1).map(r=>parseInt(r,16)).concat(t);return"rgba(".concat(n.join(", "),")")}function hnn(e){let t=0;if(e.length==0)return t.toString();for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t.toString()}function pnn(){const e=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,e))}function mnn(e){const{crop:t,diff:n,hash:r,hotspot:o,width:i=100,height:s=100,...a}=e,c=x0(n,"crop"),u=x0(n,"hotspot");return l.jsxs("svg",{...a,fill:"none",width:i,height:s,viewBox:"0 0 ".concat(i," ").concat(s),children:[l.jsx("defs",{children:t&&o&&l.jsxs("mask",{id:"mask-hotspot-".concat(r),children:[l.jsx("rect",{x:0,y:0,width:i,height:s,fill:"#fff"}),l.jsx(toe,{hotspot:o,fill:"#000",offset:1,width:i,height:s,stroke:"#000",strokeWidth:3})]})}),t&&l.jsx(ts,{diff:n,path:"crop",description:"Crop changed",children:l.jsx("g",{children:l.jsx(gnn,{crop:t,fill:eoe(c.border,.25),mask:o?"url(#mask-hotspot-".concat(r,")"):void 0,stroke:c.border,strokeWidth:1,width:i,height:s})})}),o&&l.jsx(ts,{diff:n,path:"hotspot",description:"Hotspot changed",children:l.jsx("g",{children:l.jsx(toe,{hotspot:o,fill:eoe(u.border,.25),stroke:u.border,strokeWidth:1,width:i,height:s})})})]})}function gnn(e){let{crop:t,width:n,height:r,...o}=e;const i={x:t.left*n,y:t.top*r,width:(1-t.right-t.left)*n,height:(1-t.bottom-t.top)*r};return l.jsx("rect",{...o,...i,style:{vectorEffect:"non-scaling-stroke"}})}function toe(e){let{hotspot:t,offset:n=0,width:r,height:o,...i}=e;const s={cx:t.x*r,cy:t.y*o,rx:t.width/2*r+n,ry:t.height/2*o+n};return l.jsx("ellipse",{...i,...s,style:{vectorEffect:"non-scaling-stroke"}})}var noe=Object.freeze,vnn=Object.defineProperty,$N=(e,t)=>noe(vnn(e,"raw",{value:noe(t||e.slice())})),roe,ooe,ioe;const ynn=["originalFilename"],soe=()=>l.jsx(ee,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:l.jsx(U,{align:"center",justify:"center",height:"fill",children:l.jsx(L,{size:1,muted:!0,children:"(no image)"})})}),bnn=P.div(roe||(roe=$N([`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: `,`;
  background-image: linear-gradient(45deg, `,` 25%, transparent 25%),
    linear-gradient(-45deg, `,` 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, `,` 75%),
    linear-gradient(-45deg, transparent 75%, `,` 75%);
  background-size: 16px 16px;
  background-position:
    0 0,
    0 8px,
    8px -8px,
    -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`])),pe.gray[100].hex,pe.gray[50].hex,pe.gray[50].hex,pe.gray[50].hex,pe.gray[50].hex),xnn=P.img(ooe||(ooe=$N([`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`]))),wnn=P.div(ioe||(ioe=$N([`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`])));function e3(e){var t,n,r,o;const{id:i,action:s,diff:a,hotspot:c,crop:u,is:d}=e,f=fr(sn),[p,m]=ie.useState(),{value:v}=g2n(i,ynn),g=nIt(i),y=h.useMemo(()=>eA(f),[f]),x=v===null,b=v&&v.originalFilename||"Untitled",w=y.image(i).height(190).dpr(pnn()).fit("max"),C=((n=(t=a.fromValue)==null?void 0:t.asset)==null?void 0:n._ref)!==((o=(r=a.toValue)==null?void 0:r.asset)==null?void 0:o._ref),_=s==="changed"?void 0:s;return l.jsxs(U,{direction:"column",height:"fill",flex:1,children:[l.jsx(M,{flex:1,padding:2,paddingBottom:0,children:l.jsxs(U,{as:bnn,direction:"column","data-changed":d==="from"&&C?"":void 0,"data-error":p?"":void 0,children:[!x&&!p&&l.jsx(xnn,{src:w.toString()||"",alt:b,"data-action":_,onError:m,width:g.width,height:g.height}),(x||p)&&l.jsx(M,{paddingY:5,children:l.jsx(L,{size:1,muted:!0,align:"center",children:x?"Image is deleted":"Error loading image"})}),l.jsx(wnn,{children:l.jsx(mnn,{crop:u&&!VDt(u)?u:void 0,diff:a,hash:hnn("".concat(w.toString()||"","-").concat(d)),hotspot:c&&!HDt(c)?c:void 0,width:g.width,height:g.height})})]})}),l.jsx(tF,{title:b,icon:$l,markRemoved:C&&d==="from",children:_?l.jsx("div",{children:_}):l.jsxs("div",{children:[g.width," × ",g.height]})})]})}const Cnn=["crop","hotspot"],_nn=["asset",...Cnn],t3={flex:1},Snn=e=>{let{diff:t,schemaType:n}=e;var r,o;const{fromValue:i,toValue:s,fields:a,isChanged:c}=t,u=(r=i==null?void 0:i.asset)==null?void 0:r._ref,d=(o=s==null?void 0:s.asset)==null?void 0:o._ref,f=CC(t,["asset","_ref"]),p=Object.keys(a).filter(j=>a[j].isChanged&&j!=="_type"),m=n.fields.filter(j=>!_nn.includes(j.name)&&p.includes(j.name)).map(j=>j.name);let v="changed";!u&&d?v="added":!d&&u&&(v="removed");const g=p.includes("asset"),y=p.includes("crop"),x=p.includes("hotspot"),b=y||x,w=g||b,C=b&&!g,_=i&&u?l.jsx(Ai,{annotation:f,style:t3,children:l.jsx(e3,{is:"from",id:u,diff:t,action:v,hotspot:C&&x?i.hotspot:void 0,crop:C&&y?i.crop:void 0})}):l.jsx(soe,{}),S=s&&d?l.jsx(Ai,{annotation:f,style:t3,children:l.jsx(e3,{is:"to",id:d,diff:t,hotspot:C&&x?s.hotspot:void 0,crop:C&&y?s.crop:void 0})}):l.jsx(soe,{});if(!_&&!S)return l.jsx(ee,{padding:4,radius:2,tone:"transparent",children:l.jsx(L,{muted:!0,size:1,align:"center",children:"Image not set"})});if(!c)return d?l.jsx(Ai,{annotation:f,style:t3,children:l.jsx(e3,{id:d,is:"to",diff:t})}):null;const E=l.jsx(VN,{align:"center",from:_,layout:"grid",to:S});return l.jsxs(l.Fragment,{children:[w&&(g?l.jsx(ts,{annotations:f?[f]:[],description:"".concat(v[0].toUpperCase()).concat(v.slice(1)),children:E}):E),m.length>0&&l.jsx(M,{marginTop:w?4:3,children:l.jsx(SC,{diff:t,schemaType:n,fields:m})})]})};var aoe=Object.freeze,Enn=Object.defineProperty,knn=(e,t)=>aoe(Enn(e,"raw",{value:aoe(t||e.slice())})),loe;const jnn=P.div(loe||(loe=knn([`
  display: inline-block;
  word-break: break-all;
`]))),Tnn=e=>{const{value:t}=e;return l.jsx(M,{as:jnn,paddingX:2,paddingY:1,children:t})},Ann=e=>{let{diff:t,schemaType:n}=e;return l.jsx(_C,{diff:t,schemaType:n,previewComponent:Tnn,layout:"inline"})};var coe=Object.freeze,Dnn=Object.defineProperty,Inn=(e,t)=>coe(Dnn(e,"raw",{value:coe(t||e.slice())})),uoe;const Onn=P.blockquote(uoe||(uoe=Inn([`
  margin: 0;
`])));function Pnn(e){let{children:t}=e;return l.jsx("div",{children:l.jsx(Onn,{children:t})})}var doe=Object.freeze,Rnn=Object.defineProperty,$nn=(e,t)=>doe(Rnn(e,"raw",{value:doe(t||e.slice())})),foe;const Mnn={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},Fnn=P(Uo)(foe||(foe=$nn([`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`])));function Lnn(e){let{style:t,children:n}=e;return l.jsx(Fnn,{size:Mnn[t],children:n})}var hoe=Object.freeze,Bnn=Object.defineProperty,Nnn=(e,t)=>hoe(Bnn(e,"raw",{value:hoe(t||e.slice())})),poe;const znn=P.div(poe||(poe=Nnn([`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`])));function Vnn(e){let{children:t}=e;return l.jsx(znn,{children:t})}const Hnn=[];function Unn(e){var t,n,r;const{diff:o,block:i,children:s}=e,a=x0(o,Hnn),{path:c}=h.useContext(ld),{onSetFocus:u}=h.useContext(Gm),d=o.action==="removed";let f=s;const p=h.useCallback(v=>{v.stopPropagation(),d||u(c)},[c,d,u]);i.style==="blockquote"?f=l.jsx(Pnn,{children:f}):i.style&&Ytn(i)?f=l.jsx(Lnn,{style:i.style,children:f}):f=l.jsx(Vnn,{children:f});let m;if(o.origin.action==="changed"&&o.origin.fields.style&&o.origin.fields.style.action==="changed"&&o.origin.fields.style.annotation){m=(n=(t=o==null?void 0:o.origin)==null?void 0:t.fromValue)==null?void 0:n.style;const v=a?{background:a.background,color:a.text}:{};f=l.jsx(ee,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:l.jsxs(oe,{space:2,children:[l.jsx(ts,{annotations:[(r=o.origin.fields.style)==null?void 0:r.annotation],diff:o.origin.fields.style,children:l.jsxs(L,{size:0,children:["Changed block style from '",m,"' to '",i.style,"'"]})}),l.jsx(M,{style:v,children:f})]})})}return l.jsx("div",{onClick:p,"data-diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:f})}var moe=Object.freeze,Wnn=Object.defineProperty,JA=(e,t)=>moe(Wnn(e,"raw",{value:moe(t||e.slice())})),goe,voe,yoe,boe;const h1=P(M)(goe||(goe=JA([`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`]))),xOe=P(L)(voe||(voe=JA([`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`]))),MN=P(M)(yoe||(yoe=JA([`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    `,` [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`])),h1),wOe=P(M)(boe||(boe=JA([`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`])));var xoe=Object.freeze,Ynn=Object.defineProperty,qnn=(e,t)=>xoe(Ynn(e,"raw",{value:xoe(t||e.slice())})),woe;const X4=P.div(woe||(woe=qnn([`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover `,` {
    opacity: 1;
  }
`])),MN);function Gnn(e){let{children:t,diff:n,object:r,schemaType:o,path:i,...s}=e;return o?n&&n.action!=="unchanged"?l.jsx(Knn,{...s,diff:n,object:r,schemaType:o,path:i,children:t}):l.jsx(X4,{children:t}):l.jsx(X4,{...s,children:"Unknown schema type"})}function Knn(e){let{diff:t,children:n,object:r,schemaType:o,path:i,...s}=e;const{onSetFocus:a}=h.useContext(Gm),{path:c}=h.useContext(ld),[u,d]=h.useState(null),f=x0(t,[]),p=h.useMemo(()=>f?{background:f.background,color:f.text}:{},[f]),m=t.action==="removed",[v,g]=h.useState(!1),y=r&&vOe(r),x=h.useMemo(()=>[i[0]].concat(["markDefs",{_key:r._key}]),[r._key,i]),b=h.useMemo(()=>c.slice(0,c.findIndex(I=>Pr(I)&&I._key===r._key)),[c,r._key]),w=h.useMemo(()=>b.concat(i),[i,b]),C=h.useMemo(()=>b.concat(x),[x,b]),_="field-".concat(Lr(C)),S=nN(),E=h.useMemo(()=>S.filter(I=>{let[O]=I;return O.startsWith(_)}).length>0,[_,S]);h.useEffect(()=>{!v&&E&&(g(!0),a(C))},[E,C,a,v]);const j=h.useCallback(I=>{I.stopPropagation(),g(!0),m||(I.preventDefault(),a(w),setTimeout(()=>a(C),10))},[w,m,C,a]),k=h.useCallback(()=>{E||g(!1)},[E]);lr(k,[u]);const T=t.action!=="unchanged"&&t.annotation||null,A=h.useMemo(()=>T?[T]:[],[T]),D=l.jsx(ld.Provider,{value:{path:C},children:l.jsx(wOe,{padding:3,children:l.jsxs("div",{children:[y&&l.jsxs(Vt,{size:1,muted:!0,children:["Empty ",o.title]}),!y&&l.jsx(SC,{diff:t,schemaType:o})]})})});return l.jsx(X4,{...s,onClick:j,style:p,"data-changed":"","data-removed":t.action==="removed"?"":void 0,children:l.jsx(Jt,{content:D,open:v,ref:d,portal:!0,children:l.jsx(MN,{paddingLeft:1,children:l.jsx(ts,{annotations:A,description:"".concat(t.action," annotation"),children:l.jsxs(h1,{style:{display:"inline-flex"},children:[l.jsx("span",{children:n}),l.jsx(U,{align:"center",paddingX:1,children:l.jsx(xOe,{size:0,children:l.jsx(tl,{})})})]})})})})})}var Coe=Object.freeze,Znn=Object.defineProperty,Xnn=(e,t)=>Coe(Znn(e,"raw",{value:Coe(t||e.slice())})),_oe;const Qnn=P.span(_oe||(_oe=Xnn([`
  display: inline;
  `,`
`])),e=>{let{theme:t,decoration:n}=e;switch(n){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`
          font-family: `.concat(t.sanity.fonts.code.family,`;
          background: `).concat(t.sanity.color.muted.default.enabled.bg,`;
        `);default:return""}});function Jnn(e){let{mark:t,children:n}=e;return l.jsx(Qnn,{decoration:t,children:n})}var Soe=Object.freeze,ern=Object.defineProperty,trn=(e,t)=>Soe(ern(e,"raw",{value:Soe(t||e.slice())})),Eoe;const Q4=P(ee)(Eoe||(Eoe=trn([`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    `,` {
      display: inline-flex;
    }
  }
`])),h1);function nrn(e){let{diff:t,object:n,schemaType:r,...o}=e;return r?t?l.jsx(rrn,{...o,diff:t,object:n,schemaType:r}):l.jsx(Q4,{children:l.jsx(DC,{schemaType:r,value:n,layout:"inline"})}):l.jsxs(Q4,{...o,border:!0,radius:1,children:["Unknown schema type: ",n._type]})}function rrn(e){let{diff:t,object:n,path:r,schemaType:o,...i}=e;const{path:s}=h.useContext(ld),{onSetFocus:a}=h.useContext(Gm),c=x0(t,[]),u=h.useMemo(()=>c?{background:c.background,color:c.text}:{},[c]),[d,f]=h.useState(!1),p=n&&vOe(n),m=t.action==="removed",g=s.slice(0,s.findIndex(k=>Pr(k)&&k._key===n._key)).concat(r),y="field-".concat(Lr(g)),b=nN().filter(k=>{let[T]=k;return T.startsWith(y)}).length>0,w=s.slice(0,-1).concat(r).concat([X0e]);h.useEffect(()=>{b&&(f(!0),a(w))},[w,b,a]);const C=h.useCallback(k=>{if(k.stopPropagation(),f(!0),!m){a(w);return}k.preventDefault()},[w,m,a]),_=h.useCallback(()=>{f(!1)},[]),S=l.jsx(ld.Provider,{value:{path:g},children:l.jsx(orn,{diff:t,emptyObject:p,onClose:_,schemaType:o})}),E=t.action!=="unchanged"&&t.annotation||null,j=E?[E]:[];return l.jsx(Q4,{...i,onClick:C,style:u,"data-removed":t.action==="removed"?"":void 0,border:!0,radius:2,children:l.jsx(Jt,{content:S,open:d,portal:!0,children:l.jsx(MN,{children:l.jsx(ts,{annotations:j,description:"".concat(t.action," inline object"),children:l.jsxs(h1,{children:[l.jsx(DC,{schemaType:o,value:n,layout:"inline"}),l.jsx(U,{align:"center",paddingX:1,children:l.jsx(xOe,{size:0,children:l.jsx(tl,{})})})]})})})})})}function orn(e){let{diff:t,emptyObject:n,onClose:r,schemaType:o}=e;const[i,s]=h.useState(null),a=h.useCallback(()=>{r()},[r]);return lr(a,[i]),l.jsxs(wOe,{ref:s,padding:3,children:[n&&l.jsxs(Vt,{size:1,muted:!0,children:["Empty ",o.title]}),!n&&l.jsx(SC,{diff:t,schemaType:o})]})}function irn(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const a=t||n;return a&&a.action!=="unchanged"&&i.action!=="unchanged"?l.jsx(srn,{...s,childDiff:n,diff:t,segment:i,path:o,children:r}):l.jsx(h1,{children:r})}function srn(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const{onSetFocus:a}=ie.useContext(Gm),{path:c}=ie.useContext(ld),u=h.useMemo(()=>o.slice(-2,1)[0],[o]),d=t&&t.action==="removed",p=c.slice(0,c.findIndex(b=>Pr(b)&&Pr(u)&&b._key===u._key)).concat(o),m=h.useCallback(b=>{b.stopPropagation(),d||(b.preventDefault(),a(p))},[p,d,a]),g=t&&t.segments.find(b=>b.text===i.text)||t||n,y=g&&g.action!=="unchanged"&&g.annotation||null,x=y&&i.action!=="unchanged"?l.jsx(Ai,{annotation:y,as:i.action==="removed"?"del":"ins",tooltip:{description:"".concat(cn(i.action)," text")},children:r}):null;return l.jsx(h1,{...s,onClick:m,"data-changed":"",children:l.jsx("span",{children:l.jsx(l.Fragment,{children:x||r})})})}const FN=f1.map(e=>e[0]),LN=f1.map(e=>e[1]),QS=d1.map(e=>e[0]),J4=d1.map(e=>e[1]),arn=FN.concat(QS),COe=LN.concat(J4),lrn=FN.concat(LN),crn=new RegExp("".concat(lrn.concat(COe).join("|")),"g");function urn(e){const{diff:t,schemaType:n}=e,r=t.origin.toValue||t.origin.fromValue,o=h.useMemo(()=>t.origin.toValue?gOe(t.origin):[],[t.origin]),i=h.useCallback(s=>{const a=Z4(n.fields,s);let c=[];if(a){c=PN(a);const u=t.fields.children,d=u.items[0].diff&&u.items[0].diff.type==="object"&&u.items[0].diff.fields.text.type==="string"&&u.items[0].diff.fields.text.segments||[],f=[],p={};if(hrn(r,t)&&(t.origin.action==="added"||t.origin.action==="removed")){const b=Yre(t.origin,r.children[0])||t.origin;if(b&&b.action!=="unchanged")return l.jsx(Ai,{annotation:b.annotation,as:b.action==="removed"?"del":"ins",tooltip:{description:"".concat(cn(b.action)," empty text")},children:l.jsx("span",{children:Ntn})},"empty-block-".concat(r._key))}let m=-1,v=-1;const g=[];let y;const x=yOe(t.origin);return d.forEach(b=>{var w,C,_;v++;const S=L5.includes(b.text),E=arn.includes(b.text),j=COe.includes(b.text),k=b.text===XA,T=b.action==="removed";if(k)T||m++;else if(E||j){if(E&&QS.includes(b.text)){const A=x[QS.indexOf(b.text)];A&&g.push({mark:A._key,symbols:[b.text,J4[QS.indexOf(b.text)]],object:A})}j&&J4.includes(b.text)&&(y=g.pop())}else if(S){const A=L5.findIndex(O=>O===b.text),D=(w=o[A])==null?void 0:w._key,I=o[A];if(D){const O=Z4(n.fields,I),$=Yre(t.origin,I);f.push(l.jsx(nrn,{object:I,path:[{_key:r._key},"children",{_key:I._key}],diff:$,schemaType:O},"inline-object-".concat(I._key)))}}else if(b.text){const A=()=>{var R;return(R=t.origin.fromValue)==null?void 0:R.children.find(V=>V.text&&V.text.match(Ztn(b.text)))},D=r.children[m]||A(),I=D&&RN(t.origin,D);if(!D)throw new Error("Could not find child");const O=(C=I==null?void 0:I.fields)!=null&&C.text?(_=I==null?void 0:I.fields)==null?void 0:_.text:void 0,$=l.jsx(irn,{diff:O,path:[{_key:r._key},"children",{_key:D._key}],childDiff:I,segment:b,children:drn({diff:t,child:D,decoratorTypes:c,seg:b,segIndex:v,spanSchemaType:a})},"text-".concat(D._key,"-").concat(v));if(g.length>0&&g.forEach(R=>{p[R.mark]=p[R.mark]||[],p[R.mark].push($)}),y){const R="annotation-".concat(y.object._key),V=f[f.length-1];if(V&&V.key!==R){const N=Ktn(t.origin,y.mark),W=y&&a.annotations&&a.annotations.find(q=>y&&y.object&&q.name===y.object._type);f.push(l.jsx(Gnn,{object:y.object,diff:N,path:[{_key:r._key},"children",{_key:D._key}],schemaType:W,children:l.jsx(l.Fragment,{children:p[y.mark]})},R))}y=void 0}g.length===0&&f.push($)}}),ie.createElement("div",{key:r._key},...f)}throw new Error("'span' schemaType not found")},[r,t,o,n]);return l.jsx(Unn,{block:t.displayValue,diff:t,children:l.jsx(l.Fragment,{children:(t.displayValue.children||[]).map(s=>i(s))})})}function drn(e){let{diff:t,child:n,decoratorTypes:r,seg:o,segIndex:i,spanSchemaType:s}=e;if(o.text===`
`)return l.jsx("br",{});let a=l.jsx("span",{children:o.text.replace(/ /g,ztn)},"text-".concat(i));const c=n&&RN(t.origin,n),u=ta(n)?n.marks||[]:[];return c&&(a=frn({activeMarks:u,decoratorTypes:r,diff:t,children:a,seg:o,segIndex:i,spanDiff:c,spanSchemaType:s})),u&&u.length>0&&u.forEach(d=>{mOe(d,s)&&(a=l.jsx(Jnn,{mark:d,children:a},"decorator-".concat(d,"-").concat(n._key,"-").concat(i)))}),a}function frn(e){let{activeMarks:t,decoratorTypes:n,diff:r,children:o,seg:i,segIndex:s,spanDiff:a,spanSchemaType:c}=e;var u;let d=l.jsx("span",{children:o},"text-segment-".concat(s));const f=r.origin.fromValue&&r.fromValue&&r.fromValue.children[0].text||"",p=a&&a.action!=="unchanged"&&a.annotation||void 0,m=(u=a==null?void 0:a.fields)==null?void 0:u.marks,v=m&&m.action!=="unchanged"&&m.annotation||p;let g=[];const x=f.split(XA).filter(S=>!!S).join(""),b=x.substring(0,x.indexOf(i.text)+i.text.length),w=b.substring(0,b.indexOf(i.text)),C=[];return[...w.matchAll(crn)].forEach(S=>{var E;const j=S[0],k=f1.concat(d1).find(T=>T.indexOf(j)>-1);if(k){const T=j===k[0],A=((E=n[T?FN.indexOf(j):LN.indexOf(j)])==null?void 0:E.value)||j;w.lastIndexOf(j)>w.lastIndexOf(k[1])&&C.push(A)}}),g=J7t(t,ho(C)),v&&g.length>0&&g.some(S=>mOe(S,c))&&(d=l.jsx(Ai,{annotation:v,as:"ins",tooltip:{description:"Changed formatting"},children:d},"diffcard-annotation-".concat(s,"-").concat(g.join("-")))),d}function hrn(e,t){return e.children.length===1&&e.children[0]._type==="span"&&typeof e.children[0].text=="string"&&e.children[0].text===""&&t.origin.action!=="unchanged"}const prn=e=>{const{diff:t,schemaType:n}=e,r=h.useMemo(()=>qtn(t,n),[t,n]);return l.jsx("div",{"data-diff-action":t.action,children:l.jsx(urn,{diff:r,schemaType:n})})};var koe=Object.freeze,mrn=Object.defineProperty,grn=(e,t)=>koe(mrn(e,"raw",{value:koe(t||e.slice())})),joe;const vrn=P.div(joe||(joe=grn([`
  word-wrap: break-word;
`]))),yrn=e=>{let{value:t,schemaType:n}=e;return l.jsx(M,{as:vrn,padding:2,children:l.jsx(DC,{schemaType:n,value:t,layout:"default"})})},brn=e=>{let{diff:t,schemaType:n}=e;return l.jsx(_C,{align:"center",diff:t,layout:"grid",path:"_ref",previewComponent:yrn,schemaType:n})};var Toe=Object.freeze,xrn=Object.defineProperty,wrn=(e,t)=>Toe(xrn(e,"raw",{value:Toe(t||e.slice())})),Aoe;const Crn=P.div(Aoe||(Aoe=wrn([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`]))),_rn=e=>{const{value:t}=e;return l.jsx(M,{as:Crn,paddingX:2,paddingY:1,children:t})};var Doe=Object.freeze,Srn=Object.defineProperty,Ern=(e,t)=>Doe(Srn(e,"raw",{value:Doe(t||e.slice())})),Ioe;const krn=P.div(Ioe||(Ioe=Ern([`
  white-space: pre-wrap;
  word-wrap: break-word;
`]))),jrn=e=>{let{diff:t,schemaType:n}=e;const{options:r}=n;return r!=null&&r.list?l.jsx(_C,{diff:t,previewComponent:_rn,schemaType:n}):l.jsx(krn,{children:l.jsx(bon,{diff:t})})},Ooe={block:prn,boolean:{component:enn,showHeader:!1},date:Zre,datetime:Zre,file:fnn,image:Snn,number:Ann,reference:brn,string:jrn};function _Oe(e,t){var n;let r=e;for(;r;){const s=((n=r==null?void 0:r.components)==null?void 0:n.diff)||Trn(r,t)||Ooe[r.name];if(s)return s;r=r.type}const i=["date","datetime"].includes(e.name)?e.name:e.jsonType;return Ooe[i]}function Trn(e,t){const n=Xtn;let r;for(const o of n){if(typeof o!="function"){console.error("Diff component resolver is not a function: ",o);continue}if(r=o({schemaType:e,parentSchemaType:t}),r)return r}}function Arn(e){const t=Poe(e.fromValue),n=Poe(e.toValue);return!t&&n?"Added":!n&&t?"Removed":"Changed"}function SOe(e){return e.type==="field"}function Poe(e){return e!==null&&typeof e<"u"&&e!==""}function BN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!_Oe(e,o.parentSchema)){if(e.jsonType==="object"&&t.type==="object")return EOe(e,t,n,r,o);if(e.jsonType==="array"&&t.type==="array")return Orn(e,t,n,r)}return kOe(e,t,n,r,o)}function EOe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=[],s={...o,parentSchema:e},a=e.fieldsets||e.fields.map(c=>({single:!0,field:c}));for(const c of a)c.single?i.push(...Drn(c.field,t,n,r,s)):i.push(...Irn(c,t,n,r,s));return i.length<2?i:[{type:"group",key:yn(n)||"root",path:n,titlePath:r,changes:NN(i,r.length),schemaType:e}]}function Drn(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fieldFilter:i,...s}=o,a=t.fields[e.name];if(!a||!a.isChanged||i&&!i.includes(e.name))return[];const c=n.concat([e.name]),u=r.concat([e.type.title||e.name]);return BN(e.type,a,c,u,s)}function Irn(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fields:i,name:s,title:a,readOnly:c,hidden:u}=e,{fieldFilter:d,...f}=o,p=u,m=c,v=r.concat([a||s]),g=[];for(const y of i){const x=t.fields[y.name];if(!x||!x.isChanged||d&&!d.includes(y.name))continue;const b=n.concat([y.name]),w=v.concat([y.type.title||y.name]);g.push(...BN({readOnly:m,hidden:p,...y.type},x,b,w,f))}return g.length<2?g:[{type:"group",key:yn(n)||"root",fieldsetName:s,path:n,titlePath:v,changes:NN(g,v.length),readOnly:m,hidden:p}]}function Orn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];const o=t.items.filter(c=>c.hasMoved&&c.fromIndex!==c.toIndex||c.diff.action!=="unchanged");if(o.length===0)return[];const i=Vtn(e),s=[],a=o.reduce((c,u)=>{const d=Ltn(u.diff,e),f=d.toType||d.fromType;if(!f)return console.warn("Could not determine schema type for item at %s",yn(n)),c;const p=Y4(u.diff.fromValue)||Y4(u.diff.toValue)||t.items.indexOf(u),m=n.concat(p),v={itemDiff:u,parentDiff:t,parentSchema:e},g=r.concat({hasMoved:u.hasMoved,toIndex:u.toIndex,fromIndex:u.fromIndex,annotation:u.diff.action==="unchanged"?u.annotation:u.diff.annotation}),y=b=>(b.type==="field"&&sOe(m,b.path)&&(b.itemDiff=u),b),x=BN(f,u.diff,m,g,v).map(y);return i&&x.filter(SOe).forEach((b,w,C)=>{b.showHeader=C.length===1,b.showIndex=u.fromIndex!==u.toIndex&&u.hasMoved}),x.length===0?c.push(...kOe(f,u.diff,m,g,v)):c.push(...x),c},s);return a.length>1?[{type:"group",key:yn(n)||"root",path:n,titlePath:r,changes:NN(a,r.length),schemaType:e}]:a}function kOe(e,t,n,r){let{itemDiff:o,parentDiff:i,parentSchema:s}=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fromValue:a,toValue:c,type:u}=t;if(u==="array"&&Roe(a)&&Roe(c))return[];let d;typeof a<"u"&&(d=K4(a,e)),!d&&typeof c<"u"&&(d=K4(c,e));let f=!0,p;const m=_Oe(e,s);return m&&typeof m=="function"?p=m:m&&(p=m.component,f=typeof m.showHeader>"u"?f:m.showHeader),[{type:"field",diff:t,path:n,error:d,itemDiff:o,parentDiff:i,titlePath:r,schemaType:e,showHeader:f,showIndex:!0,key:yn(n)||"root",diffComponent:d?void 0:p,parentSchema:s}]}function NN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return e.map(n=>(n.titlePath=n.titlePath.slice(t),n))}function Roe(e){return Array.isArray(e)&&e.length===0||e===null||typeof e>"u"}const $oe=e=>e.type==="field"&&e.diff.action==="added",jOe=e=>{if(e.type!=="group")return[e];const t=[];return e.changes.forEach(n=>{t.push(...jOe(n))}),t},TOe=(e,t)=>{if(t.length>=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},Prn=(e,t)=>{const n=e[t],r=aOe(n);return r?{_key:r}:Array.isArray(e)?parseInt(t,10):t},Rrn={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function eD(e,t,n){if(!t)return;const r=[];if(e.type==="group"){const o=jOe(e),i=o.filter($oe);o.filter(s=>!$oe(s)).forEach(s=>eD(s,t,n)),r.push(...Moe(t,i.map(s=>s.path).reverse()))}else e.diff.action==="added"?r.push(...Moe(t,[e.path])):e.type==="field"&&e.itemDiff&&e.parentDiff&&e.parentDiff.type==="array"&&e.itemDiff.hasMoved?r.push(...Mrn(e.itemDiff,e.parentDiff,e.path)):r.push(...Frn(e.diff,t,e.path));n.patch.execute(r)}function $rn(e,t,n){const r=e.toValue;return AOe(r,t,n)}function Moe(e,t){const n=[];for(let r=0;r<t.length;r++)n.some(i=>TOe(t[r],i))||n.push($rn(e,t[r],t));return[{unset:[...new Set(n.map(yn))]}]}function AOe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;if(t.length<=0){if(!r)throw new Error("Root has no ancestor");return r}const o=t.slice(0,-1),i=Ol(e,o),s=[o,...n.filter(a=>!TOe(a,o))];return DOe(i,o,n)?AOe(e,o,s,r):t}function Mrn(e,t,n){const r=n.slice(0,-1),{parentValue:o,fromIndex:i,fromValue:s}=Nrn(t,e);let a;if(i===0)a={before:yn([...r,0])};else{const c=i-1,d=Y4(o[c])||c;a={after:yn([...r,d])}}return[{unset:[yn(n)]},{insert:{...a,items:[s]}}]}function Frn(e,t,n){const r=AA(e.toValue,e.fromValue,Rrn,n),o=r.filter(d=>d.op==="insert").map(d=>{let{after:f,items:p}=d;return{insert:{after:yn(f),items:p}}}),i=r.filter(d=>d.op==="unset").reduce((d,f)=>d.concat(yn(f.path)),[]),s=new Set,a=[];let c=!1;const u=r.filter(d=>d.op==="set").reduce((d,f)=>(c=!0,a.push(...Lrn(f.path,t,s)),d[yn(f.path)]=f.value,d),{});return[...a,...o,...i.length>0?[{unset:i}]:[],...c?[{set:u}]:[]]}function Lrn(e,t,n){const r=t.fromValue,o=t.toValue,i=[];for(let s=1;s<=e.length;s++){const a=e.slice(0,s),c=yn(a);if(n.has(c))continue;const u=e[s],d=Pr(u)||Tl(u),f=Ol(r,a),p=Foe(f);if(d&&Array.isArray(f)&&!Ol(o,e.slice(0,s+1))){const m=utn(f,u),v=f[m-1],g=Ol(r,a.concat(u)),y=Pl(v)?{_key:v._key}:m-1,x=yn(a.concat(m<1?0:y));i.push({setIfMissing:{[c]:[]}}),i.push({insert:{after:x,items:[Foe(g)]}}),s++;continue}typeof p>"u"||(n.add(c),i.push({setIfMissing:{[c]:p}}))}return i}function Brn(e,t,n){if(!yt(e)||!Array.isArray(e))return!1;for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r)||r==="_type"||r==="_key")continue;const o=[...t,Prn(e,r)];if(!DOe(e[r],o,n))return!1}return!0}function DOe(e,t,n){const r=n==null?void 0:n.some(i=>yn(i)===yn(t)),o=Array.isArray(e)&&e.length<=0;return r||e===void 0||e===null||o||gtn(e)||Brn(e,t,n)}function Foe(e){if(Array.isArray(e))return[];if(typeof e!="object"||e===null)return;const t={};return Pl(e)&&(t._key=e._key),QF(e)&&(t._type=e._type),t}function Nrn(e,t){if(e.fromValue&&typeof t.fromIndex=="number"){const n=e.fromValue[t.fromIndex];return{parentValue:e.fromValue,fromIndex:t.fromIndex,fromValue:n}}throw new Error("Failed to find item at index ".concat(t.fromIndex))}const eu=!1;class zrn extends ie.Component{constructor(){super(...arguments),this.state={}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t){console.error("Error rendering diff component: "),console.error(t)}render(){const{error:t}=this.state;return t?l.jsx(ee,{padding:3,radius:2,tone:"critical",children:l.jsxs(U,{children:[l.jsx(L,{size:1,children:l.jsx(fa,{})}),l.jsxs(M,{paddingLeft:3,children:[l.jsx(L,{as:"h3",size:1,weight:"medium",children:"Rendering the changes to this field caused an error"}),eu]})]})}):this.props.children}}const Vrn={down:w1e,right:C1e};function zN(e){const{direction:t="right",...n}=e,r=Vrn[t];return l.jsx(L,{muted:!0,size:1,...n,children:h.createElement(r)})}var Loe=Object.freeze,Hrn=Object.defineProperty,IOe=(e,t)=>Loe(Hrn(e,"raw",{value:Loe(t||e.slice())})),Boe,Noe;const n3=P.pre(Boe||(Boe=IOe([`
  overflow-x: auto;
  position: relative;
`]))),Urn=P.div(Noe||(Noe=IOe([`
  position: absolute;
  top: 0;
  right: 0;
`])));function Wrn(e){const{children:t,as:n,change:r,...o}=e,i=h.useRef(!1),[s,a]=h.useState(!1),c=h.useCallback(()=>a(f=>!f),[a]),u=h.useCallback(()=>i.current=!0,[]),d=h.useCallback(()=>i.current=!1,[i]);return h.useEffect(()=>{function f(p){const{metaKey:m,key:v}=p;m&&v==="i"&&i.current&&c()}return window.addEventListener("keydown",f,!1),()=>window.removeEventListener("keydown",f,!1)},[c]),l.jsx(M,{as:n,onMouseEnter:u,onMouseLeave:d,...o,children:s?l.jsx(Yrn,{change:r}):t})}const r3=e=>{let{title:t}=e;return l.jsx(M,{padding:3,display:"inline-block",as:Urn,children:l.jsx(Vt,{size:1,muted:!0,children:t})})};function Yrn(e){let{change:t}=e;var n,r,o;return l.jsxs(oe,{space:3,children:[l.jsxs(ee,{padding:3,tone:"transparent",as:n3,radius:1,children:[l.jsx(r3,{title:"meta"}),l.jsx(ir,{language:"json",size:1,children:qrn({path:yn(t.path),fromIndex:(n=t.itemDiff)==null?void 0:n.fromIndex,toIndex:(r=t.itemDiff)==null?void 0:r.toIndex,hasMoved:(o=t.itemDiff)==null?void 0:o.hasMoved,action:t.diff.action,isChanged:t.diff.isChanged})})]}),l.jsxs(ee,{as:n3,tone:"critical",padding:3,radius:1,children:[l.jsx(r3,{title:"from"}),l.jsx(ir,{language:"json",size:1,children:zoe(t.diff.fromValue)})]}),l.jsx(ee,{children:l.jsx(zN,{direction:"down",align:"center"})}),l.jsxs(ee,{as:n3,tone:"positive",padding:3,radius:1,children:[l.jsx(r3,{title:"to"}),l.jsx(ir,{language:"json",size:1,children:zoe(t.diff.toValue)})]})]})}function zoe(e){return typeof e>"u"?"undefined":JSON.stringify(e,null,2)}function qrn(e){const t=[];return Object.entries(e).forEach(n=>{let[r,o]=n;typeof o<"u"&&o!==null&&t.push("".concat(r,": ").concat(o))}),t.join(`
`)}const Grn={flexShrink:0},Krn={alignItems:"stretch"},Voe={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},VN=h.forwardRef(function(t,n){const{align:r="top",layout:o="inline",from:i,to:s,style:a,...c}=t,u=Rs(),d=o==="inline"?U:Qt,f=h.useMemo(()=>({...a,...o==="inline"?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:"minmax(0, 1fr) ".concat(ye(u.sanity.space[5])," minmax(0, 1fr)")}}),[o,a,u]),p=o==="inline"?Grn:Krn;return l.jsxs(d,{...c,ref:n,style:f,"data-from-to-layout":!0,children:[i&&l.jsxs(l.Fragment,{children:[l.jsx(U,{align:Voe[r],style:p,children:i}),l.jsx(U,{align:"center",justify:"center",padding:2,children:l.jsx(zN,{})})]}),l.jsx(U,{align:Voe[r],style:p,children:s})]})}),o3={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function _C(e){const{align:t,cardClassName:n,diff:r,layout:o,path:i,previewComponent:s,schemaType:a}=e,{action:c}=r,u=Arn(r);if(c==="unchanged")return l.jsx(Ai,{className:n,style:o3,children:h.createElement(s,{schemaType:a,value:r.toValue})});const d=r.fromValue!==void 0&&r.fromValue!==null&&l.jsx(Ai,{as:"del",className:n,diff:r,path:i,style:o3,children:h.createElement(s,{schemaType:a,value:r.fromValue})}),f=r.toValue!==void 0&&r.toValue!==null&&l.jsx(Ai,{as:"ins",className:n,diff:r,path:i,style:o3,children:h.createElement(s,{schemaType:a,value:r.toValue})});return d&&!f?l.jsx(ts,{description:u,diff:r,path:i,children:d}):!d&&f?l.jsx(ts,{description:u,diff:r,path:i,children:f}):l.jsx(ts,{description:u,diff:r,path:i,children:l.jsx(VN,{align:t,from:d,layout:o,to:f})})}const Zrn=e=>{let{value:t,schemaType:n}=e;return l.jsx(M,{padding:2,children:l.jsx(DC,{schemaType:n,value:t,layout:"default"})})},Xrn=e=>{const{diff:t,schemaType:n}=e;return l.jsx(_C,{diff:t,schemaType:n,previewComponent:Zrn,layout:"grid"})};var Hoe=Object.freeze,Qrn=Object.defineProperty,Jrn=(e,t)=>Hoe(Qrn(e,"raw",{value:Hoe(t||e.slice())})),Uoe;const eon=P(se)(Uoe||(Uoe=Jrn([`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: `,`;
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),OOe=h.forwardRef(function(t,n){const{selected:r,...o}=t;return l.jsx(eon,{icon:E6,selected:r,text:"Revert changes",mode:"bleed",padding:1,fontSize:1,space:2,ref:n,...o})});function ton(e){let{error:t}=e;return l.jsx(ee,{tone:"critical",padding:3,children:l.jsxs(U,{align:"flex-start",children:[l.jsx(M,{children:l.jsx(L,{children:l.jsx(fa,{})})}),l.jsx(M,{flex:1,paddingLeft:3,children:l.jsxs(L,{size:1,as:"p",children:["Value error: ",t.message]})})]})})}var Woe=Object.freeze,non=Object.defineProperty,HN=(e,t)=>Woe(non(e,"raw",{value:Woe(t||e.slice())})),Yoe,qoe,Goe;const ron=P.div(Yoe||(Yoe=HN([`
  --field-change-error: `,`;
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),oon=P.div(qoe||(qoe=HN([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ye(t.sanity.space[1])},e=>{let{theme:t}=e;return ye(t.sanity.space[2])}),ion=P(Jt)(Goe||(Goe=HN([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function son(e){var t;const{change:n,hidden:r,readOnly:o}=e,i=n.diffComponent||Xrn,{documentId:s,schemaType:a,rootDiff:c,isComparingCurrent:u,FieldWrapper:d=ie.Fragment}=QA(),f=nc(s,a.name),[p,m]=h.useState(!1),[v,g]=h.useState(!1),[y,x]=h.useState(null),[b,w]=Ah({id:s,type:a.name,permission:"update"}),C=h.useCallback(()=>{eD(n,c,f)},[n,c,f]),_=h.useCallback(()=>{m(!0)},[]),S=ie.useCallback(()=>{m(!1)},[]),E=h.useCallback(()=>{g(!0)},[]),j=h.useCallback(()=>{g(!1)},[]),k=h.useCallback(()=>m(!1),[]);lr(k,[y]);const A=((t=n.parentSchema)==null?void 0:t.jsonType)==="array"?n.path.slice(0,-1):n.path;return h.useMemo(()=>r?null:l.jsxs(oe,{space:1,as:ron,children:[n.showHeader&&l.jsx(dOe,{change:n,titlePath:n.titlePath}),l.jsx(d,{path:A,hasHover:v,children:l.jsxs(Wrn,{change:n,as:oon,"data-revert-field-hover":v?"":void 0,"data-error":n.error?"":void 0,"data-revert-all-hover":!0,children:[n.error?l.jsx(ton,{error:n.error}):l.jsx(zrn,{children:l.jsx(ld.Provider,{value:{path:n.path},children:l.jsx(i,{diff:n.diff,schemaType:n.schemaType})})}),u&&!w&&(b==null?void 0:b.granted)&&l.jsx(ion,{content:l.jsxs(M,{padding:3,sizing:"border",children:["Are you sure you want to revert the changes?",l.jsxs(Qt,{columns:2,gap:2,marginTop:2,children:[l.jsx(se,{mode:"ghost",onClick:S,children:l.jsx(L,{align:"center",children:"Cancel"})}),l.jsx(se,{tone:"critical",onClick:C,children:l.jsx(L,{align:"center",children:"Revert change"})})]})]}),open:p,portal:!0,placement:"left",ref:x,children:l.jsx(M,{flex:1,children:l.jsx(OOe,{onClick:_,onMouseEnter:E,onMouseLeave:j,selected:p,disabled:o,"data-testid":"single-change-revert-button-".concat(n==null?void 0:n.key)})})})]})})]}),[n,S,o,p,i,d,r,E,j,C,_,u,w,b,v,A])}function aon(){const e=h.useRef(null),[t,n]=h.useState(!1);return h.useEffect(()=>{const r=e.current;if(!r)return()=>{};const o=()=>n(!0),i=()=>n(!1);return r.addEventListener("mouseover",o),r.addEventListener("mouseout",i),()=>{r.removeEventListener("mouseover",o),r.removeEventListener("mouseout",i)}},[]),[e,t]}var Koe=Object.freeze,lon=Object.defineProperty,UN=(e,t)=>Koe(lon(e,"raw",{value:Koe(t||e.slice())})),Zoe,Xoe,Qoe;const con=P.div(Zoe||(Zoe=UN([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),uon=P.div(Xoe||(Xoe=UN([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ye(t.sanity.space[1])},e=>{let{theme:t}=e;return ye(t.sanity.space[2])}),don=P(Jt)(Qoe||(Qoe=UN([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function fon(e){const{change:t,readOnly:n,hidden:r,...o}=e,{titlePath:i,changes:s,path:a}=t,{path:c}=h.useContext(ld),{documentId:u,schemaType:d,FieldWrapper:f,rootDiff:p,isComparingCurrent:m}=QA(),v=s.every(I=>SOe(I)&&pOe(I.schemaType)),g=sOe(c,a),[y,x]=aon(),b=nc(u,d.name),[w,C]=h.useState(!1),[_,S]=h.useState(null),[E,j]=Ah({id:u,type:d.name,permission:"update"}),k=h.useCallback(()=>eD(t,p,b),[t,p,b]),T=h.useCallback(()=>{C(!0)},[]),A=h.useCallback(()=>{C(!1)},[]);lr(()=>C(!1),[_]);const D=h.useMemo(()=>r?null:l.jsxs(oe,{space:1,as:uon,"data-revert-group-hover":x?"":void 0,"data-portable-text":v?"":void 0,children:[l.jsx(oe,{as:con,space:5,children:s.map(I=>l.jsx(POe,{change:I,readOnly:n,hidden:r},I.key))}),m&&!j&&(E==null?void 0:E.granted)&&l.jsx(don,{content:l.jsxs(M,{children:["Are you sure you want to revert the changes?",l.jsxs(Qt,{columns:2,gap:2,marginTop:2,children:[l.jsx(se,{mode:"ghost",onClick:A,children:l.jsx(L,{align:"center",children:"Cancel"})}),l.jsx(se,{tone:"critical",onClick:k,children:l.jsx(L,{align:"center",children:"Revert change"})})]})]}),portal:!0,padding:4,placement:"left",open:w,ref:S,children:l.jsx(M,{children:l.jsx(OOe,{onClick:T,ref:y,selected:w,disabled:n,"data-testid":"group-change-revert-button-".concat(t.fieldsetName)})})})]}),[s,A,w,n,t.fieldsetName,k,T,r,m,x,j,v,E,y]);return r?null:l.jsxs(oe,{space:1,...o,children:[l.jsx(dOe,{titlePath:i}),g||!f?D:l.jsx(f,{hasHover:x,path:t.path,children:D})]})}function POe(e){var t,n;const{change:r,hidden:o,readOnly:i}=e,{value:s}=QA(),a=G4({document:s,checkProperty:o||((t=r.schemaType)==null?void 0:t.hidden),checkPropertyKey:"hidden",value:r.type==="field"?r.diff.toValue:void 0}),c=G4({document:s,checkProperty:i||((n=r.schemaType)==null?void 0:n.readOnly),checkPropertyKey:"readOnly",value:r.type==="field"?r.diff.toValue:void 0});return a?null:r.type==="field"?l.jsx(son,{change:r,readOnly:c}):r.type==="group"?l.jsx(fon,{change:r,"data-testid":"group-change-".concat(r.fieldsetName),readOnly:c}):l.jsxs(L,{children:["Unknown change type: ",l.jsx("code",{children:r.type||"undefined"})]})}function eF(){return l.jsxs(oe,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",as:"h3",children:"There are no changes"}),l.jsx(L,{as:"p",size:1,muted:!0,children:"Edit the document or select an older version in the timeline to see a list of changes appear in this panel."})]})}var Joe=Object.freeze,hon=Object.defineProperty,ROe=(e,t)=>Joe(hon(e,"raw",{value:Joe(t||e.slice())})),eie,tie;const pon=P.div(eie||(eie=ROe([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),mon=P(Jt)(tie||(tie=ROe([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function SC(e){let{diff:t,fields:n,schemaType:r}=e;const{documentId:o,isComparingCurrent:i,value:s}=QA(),a=nc(o,r.name),{path:c}=h.useContext(ld),u=c.length===0,[d,f]=h.useState(!1),[p,m]=h.useState(!1),v=G4({document:s,value:void 0,checkProperty:r.readOnly,checkPropertyKey:"readOnly"});if(r.jsonType!=="object")throw new Error("Only object schema types are allowed in ChangeList");const[g,y]=Ah({id:o,type:r.name,permission:"update"}),x=h.useMemo(()=>EOe(r,t,c,[],{fieldFilter:n}),[r,n,c,t]),b=h.useMemo(()=>n&&n.length===0?[]:gon(x),[x,n]),w=x[0],C=h.useCallback(()=>{eD(w,t,a),f(!1)},[w,t,a]),_=h.useCallback(()=>{f(!0)},[]),S=h.useCallback(()=>{m(!0)},[]),E=h.useCallback(()=>{m(!1)},[]),j=h.useCallback(()=>{f(!1)},[]),[k,T]=h.useState(null),A=h.useCallback(()=>f(!1),[]);if(lr(A,[k]),b.length===0)return u?l.jsx(eF,{}):null;const D=u&&b.length>1;return l.jsx(ee,{children:l.jsxs(oe,{space:5,children:[l.jsx(oe,{as:pon,space:5,children:b.map(I=>l.jsx("div",{children:l.jsx(POe,{change:I,"data-revert-all-changes-hover":p?"":void 0,readOnly:v||(I==null?void 0:I.readOnly),hidden:I==null?void 0:I.hidden},I.key)},I.key))}),D&&i&&!y&&(g==null?void 0:g.granted)&&l.jsx(mon,{content:l.jsxs(M,{children:["Are you sure you want to revert all ",b.length," changes?",l.jsxs(Qt,{columns:2,gap:2,marginTop:2,children:[l.jsx(se,{mode:"ghost",text:"Cancel",onClick:j}),l.jsx(se,{tone:"critical",text:"Revert all",onClick:C})]})]}),open:d,padding:4,placement:"left",portal:!0,ref:T,children:l.jsx(oe,{children:l.jsx(se,{tone:"critical",mode:"ghost",text:"Revert all changes",icon:E6,onClick:_,onMouseEnter:S,onMouseLeave:E,disabled:v})})})]})})}function gon(e){return e.length===1&&e[0].type==="group"&&e[0].path.length===0?e[0].changes:e}var nie=Object.freeze,von=Object.defineProperty,$Oe=(e,t)=>nie(von(e,"raw",{value:nie(t||e.slice())})),rie,oie;const iie=P.span(rie||(rie=$Oe([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[1])}),sie=P(L)(oie||(oie=$Oe([`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`])));function yon(e){const{segment:t}=e,{text:n}=t;return t.action==="added"?l.jsx(Ai,{annotation:t.annotation,disableHoverEffect:!0,tooltip:{description:"Added"},as:iie,children:l.jsx(sie,{as:"ins",style:{textDecoration:"none"},children:n})}):t.action==="removed"?l.jsx(Ai,{annotation:t.annotation,as:iie,disableHoverEffect:!0,tooltip:{description:"Removed"},children:l.jsx(sie,{as:"del",children:n})}):l.jsx(ee,{as:"span",radius:2,style:{display:"inline"},children:n})}function bon(e){const{diff:t}=e;return l.jsx(l.Fragment,{children:(t.segments||[]).map((n,r)=>l.jsx(yon,{segment:n},r))})}var aie=Object.freeze,xon=Object.defineProperty,won=(e,t)=>aie(xon(e,"raw",{value:aie(t||e.slice())})),lie;const i3=P(L)(lie||(lie=won([`
  color: inherit;
`])));function tF(e){const{title:t,action:n,icon:r,children:o,markRemoved:i}=e;return l.jsxs(U,{padding:2,align:"center",children:[r&&l.jsx(M,{padding:2,children:l.jsx(i3,{size:4,forwardedAs:i?"del":"div",children:h.createElement(r)})}),l.jsxs(oe,{space:2,paddingLeft:2,children:[l.jsx(i3,{size:1,weight:"semibold",forwardedAs:i?"del":"h3",textOverflow:"ellipsis",children:t}),n&&l.jsx("div",{children:n}),l.jsx(i3,{size:0,textOverflow:"ellipsis",children:o})]})]})}var cie=Object.freeze,Con=Object.defineProperty,_on=(e,t)=>cie(Con(e,"raw",{value:cie(t||e.slice())})),uie;P.div(uie||(uie=_on([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`])));const MOe=h.createContext({hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}});function die(){return h.useContext(MOe)}const FOe=h.createContext({actions:[],focused:!1,hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}});function EC(e){const{actions:t,children:n,path:r,focused:o}=e,{onMouseEnter:i,onMouseLeave:s}=die(),a=die().hoveredStack[0],c=pm||(a?yn(r)===a:!1),u=h.useCallback(()=>{i(r)},[i,r]),d=h.useCallback(()=>{s(r)},[s,r]),f=h.useMemo(()=>({actions:t,focused:o,hovered:c,onMouseEnter:u,onMouseLeave:d}),[t,o,u,d,c]);return l.jsx(FOe.Provider,{value:f,children:n})}function WN(){return h.useContext(FOe)}function Son(e){const{children:t}=e,[n,r]=h.useState([]),o=h.useCallback(a=>{const c=yn(a);r(u=>u.includes(c)?u:[c,...u])},[]),i=h.useCallback(a=>{const c=yn(a);r(u=>u.includes(c)?u.filter(d=>d!==c):u)},[]),s=h.useMemo(()=>({hoveredStack:n,onMouseEnter:o,onMouseLeave:i}),[o,i,n]);return l.jsx(MOe.Provider,{value:s,children:t})}const Eon={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function kon(e){const{__internal_fieldActions:t=hn,__internal_patchChannel:n=Eon,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,file:c,filterField:u,focusPath:d,focused:f,groups:p,id:m,image:v,members:g,onChange:y,onFieldGroupSelect:x,onPathBlur:b,onPathFocus:w,onPathOpen:C,onSetFieldSetCollapsed:_,onSetPathCollapsed:S,presence:E,readOnly:j,renderAnnotation:k,renderBlock:T,renderField:A,renderInlineBlock:D,renderInput:I,renderItem:O,renderPreview:$,schemaType:R,unstable:V,validation:N,value:W}=e,q=h.useRef(W);h.useEffect(()=>{q.current=W},[W]);const H=h.useMemo(()=>({patchChannel:n,components:{ArrayFunctions:jN,CustomMarkers:(V==null?void 0:V.CustomMarkers)||zen,Markers:(V==null?void 0:V.Markers)||JIe},field:{actions:t},file:{assetSources:c.assetSources,directUploads:(c==null?void 0:c.directUploads)!==!1},filterField:u||(()=>!0),image:{assetSources:v.assetSources,directUploads:(v==null?void 0:v.directUploads)!==!1},getDocument:()=>q.current,onChange:y}),[t,c.assetSources,c==null?void 0:c.directUploads,u,v.assetSources,v==null?void 0:v.directUploads,y,n,V==null?void 0:V.CustomMarkers,V==null?void 0:V.Markers]),Y=h.useMemo(()=>({__internal:H,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,focusPath:d,focused:f,groups:p,id:m,members:g,readOnly:j,renderAnnotation:k,renderBlock:T,renderField:A,renderInlineBlock:D,renderInput:I,renderItem:O,renderPreview:$,schemaType:R,value:W}),[H,r,o,s,a,W,d,f,p,m,g,j,k,T,A,D,I,O,$,R]);return l.jsx(QIe.Provider,{value:Y,children:l.jsx(xC,{onChange:y,onFieldGroupSelect:x,onPathBlur:b,onPathFocus:w,onPathOpen:C,onSetPathCollapsed:S,onSetFieldSetCollapsed:_,children:l.jsx(Ven,{presence:E,children:l.jsx(Uen,{validation:N,children:l.jsx(Son,{children:i})})})})})}function jon(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,focusPath:c,focused:u,groups:d,id:f,members:p,onChange:m,onPathBlur:v,onPathFocus:g,onPathOpen:y,onFieldGroupSelect:x,onSetPathCollapsed:b,onSetFieldSetCollapsed:w,presence:C,readOnly:_,schemaType:S,validation:E,value:j}=e,{file:k,image:T}=$n().form,A=hvn(),D=pvn(),I=B3e(),O=mvn(),$=gvn(),R=vvn(),V=yvn(),N=h.useCallback(K=>l.jsx(A,{...K}),[A]),W=h.useCallback(K=>l.jsx(D,{...K}),[D]),q=h.useCallback(K=>l.jsx(O,{...K}),[O]),H=h.useCallback(K=>l.jsx(HIe,{component:I,...K}),[I]),Y=h.useCallback(K=>l.jsx($,{...K}),[$]),X=h.useCallback(K=>l.jsx(R,{...K}),[R]),B=h.useCallback(K=>l.jsx(V,{...K}),[V]);return l.jsx(kon,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,file:k,focusPath:c,focused:u,groups:d,id:f,image:T,members:p,onChange:m,onPathBlur:v,onPathFocus:g,onPathOpen:y,onFieldGroupSelect:x,onSetPathCollapsed:b,onSetFieldSetCollapsed:w,presence:C,readOnly:_,renderAnnotation:B,renderBlock:Y,renderField:W,renderInlineBlock:X,renderInput:N,renderItem:q,renderPreview:H,schemaType:S,validation:E,value:j,children:i})}function Ton(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:c,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetFieldSetCollapsed:x,onSetPathCollapsed:b,presence:w,readOnly:C,schemaType:_,validation:S,value:E}=e;return l.jsx(jon,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:c,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetPathCollapsed:b,onSetFieldSetCollapsed:x,presence:w,validation:S,readOnly:C,schemaType:_,value:E,children:l.jsx(Aon,{})})}function Aon(){const{focusPath:e,focused:t,groups:n,id:r,members:o,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:c,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,value:v}=ui(),{onChange:g,onFieldGroupSelect:y,onPathBlur:x,onPathFocus:b,onPathOpen:w,onSetFieldSetCollapsed:C,onSetPathCollapsed:_}=ga(),S=h.useCallback(N=>_([N],!0),[_]),E=h.useCallback(N=>_([N],!1),[_]),j=h.useCallback(()=>x(hn),[x]),k=h.useCallback(()=>b(hn),[b]),T=h.useCallback(N=>g(ft.from(N)),[g]),A=h.useRef(null),D=h.useCallback(N=>y(hn,N),[y]),I=h.useCallback(N=>w([N]),[w]),O=h.useCallback(()=>w([]),[w]),$=h.useCallback(N=>C([N],!0),[C]),R=h.useCallback(N=>C([N],!1),[C]),V={focusPath:e,elementProps:{ref:A,id:r,onBlur:j,onFocus:k,"aria-describedby":void 0},changed:o.some(N=>N.kind==="field"&&N.field.changed),focused:t,groups:n,id:r,level:0,members:o,onChange:T,onFieldClose:O,onFieldCollapse:S,onFieldSetCollapse:$,onFieldExpand:E,onFieldSetExpand:R,onPathFocus:b,onFieldOpen:I,onFieldGroupSelect:D,path:hn,presence:hn,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:c,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,validation:hn,value:v};return l.jsx(l.Fragment,{children:d(V)})}const LOe=h.createContext({});function BOe(){return h.useContext(LOe)}function Don(e){const{children:t,activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}=e,s=h.useMemo(()=>({activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}),[n,r,o,i]);return l.jsx(LOe.Provider,{value:s,children:t})}h.createContext(null);function tD(e,t){return zi(t,h.useCallback((n,r)=>{e.current&&!n&&r&&u0(e.current,{scrollMode:"always"})},[e]))}function Ion(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return F7(t),t}const Oon=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function Zx(e){const t=Oon();return Ion(e).reduce((n,r)=>n+t[r],"").slice(0,e)}var fie=Object.freeze,Pon=Object.defineProperty,NOe=(e,t)=>fie(Pon(e,"raw",{value:fie(t||e.slice())})),hie,pie;const Ron={portal:!0},$on=P(ee)(e=>{let{theme:t,$selected:n}=e;var r;const{color:o}=t.sanity;return he(hie||(hie=NOe([`
    --card-bg-color: inherit;
    --card-fg-color: inherit;
    --card-hairline-hard-color: `,`;
  `])),n?(r=o.selectable)==null?void 0:r.default.pressed.border:void 0)}),Mon=P(M)(pie||(pie=NOe([`
  max-width: 150px;
`]))),mie=e=>{if(e.length===1)return"".concat(e[0].user.displayName," is editing this document");if(e.length>1)return"".concat(e.length," people are editing this document right now")};function YN(e){const{presence:t}=e,{color:n}=b1e().sanity,r=n.dark?"light":"dark",{selected:o}=uZt(),i=h.useMemo(()=>Array.from(new Set(t.map(a=>a.user.id))).map(a=>t.find(c=>c.user.id===a)).filter(go),[t]),s=h.useMemo(()=>l.jsx(Mon,{padding:2,children:l.jsx(L,{align:"center",size:1,children:mie(i)})}),[i]);return l.jsx(at,{content:s,...Ron,children:l.jsx($on,{scheme:o?r:void 0,$selected:o,children:l.jsx(nT,{maxLength:2,"aria-label":mie(i),children:i.map(a=>l.jsx(Za,{user:a.user},a.user.id))})})})}const Fon=3,zOe=3,B5=-4,Xx=23,gie=4,Lon=[0,.25,.75,1],x2=23,Bon=8,Non=8,VOe=20,HOe=20,s3=!1,zon=(e,t)=>{const n=e.length>t?t-1:t,r=Math.max(0,e.length-n);return[e.slice(0,r),e.slice(r)]};function Von(e){return-B5+(Xx+B5)*e}var vie=Object.freeze,Hon=Object.defineProperty,UOe=(e,t)=>vie(Hon(e,"raw",{value:vie(t||e.slice())})),yie,bie;const WOe=P(U)(yie||(yie=UOe([`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`]))),Uon=P(U)(bie||(bie=UOe([`
  height: 23px;
  min-width: 23px;
  vertical-align: top;
`]))),Won=ie.createContext([]);function Yon(e){const{children:t,items:n}=e,r=h.useMemo(()=>l.jsx(oe,{padding:1,sizing:"border",children:n.map(o=>l.jsxs(U,{align:"center",gap:2,padding:1,children:[l.jsx("div",{children:l.jsx(Za,{user:o.user,status:"online"})}),l.jsx(L,{size:1,children:o.user.displayName})]},o.user.id))}),[n]);return l.jsx(at,{content:r,placement:"top",portal:"documentScrollElement",children:t})}const{Tracker:qon,useReporter:Gon,useReportedValues:Kon}=fIe(),YOe=h.memo(function(t){let{presence:n,position:r="inside",animateArrowFrom:o="inside",maxAvatars:i=zOe,stack:s=!0}=t;const a=Qf(n||[],p=>p.user.id),c=Bm(a,p=>p.lastActiveAt),[u,d]=s?zon(c,i):[[],c],f=[...d.reverse().map(p=>({key:p.user.id,element:l.jsx(Za,{animateArrowFrom:o,position:r,status:"online",user:p.user})})),u.length>=2?{key:"counter",element:l.jsx(E$,{count:u.length})}:null].filter(Boolean);return l.jsxs(WOe,{children:[l.jsx("div",{}),l.jsx(Uon,{direction:"row-reverse",children:f.map((p,m)=>p&&l.jsx("div",{style:{position:"absolute",transform:"translate3d(".concat(-m*(Xx+B5),"px, 0px, 0px)"),transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-m},children:p.element},p.key))})]})});function Zon(e){const t=h.useContext(Won),{presence:n=t,maxAvatars:r=zOe}=e,o=h.useRef(null);Gon(h.useId(),()=>({presence:n,element:o.current,maxAvatars:r}));const i=h.useMemo(()=>Qf(n||[],s=>s.user.id),[n]);return l.jsx(Yon,{items:i,children:l.jsx(WOe,{ref:o,style:{minHeight:Xx,minWidth:Xx}})})}const kC=Zon,Xon=e=>{const t=new uo,n=new IntersectionObserver(r=>{r.forEach(o=>{t.next(o)})},e);return{observe:r=>new _t(o=>{const i=t.pipe(bt(s=>s.target===r)).subscribe(o);return n.observe(r),()=>{i.unsubscribe(),n.unobserve(r)}})}},qN=e=>{const{onIntersection:t,io:n,id:r,...o}=e,i=ie.useRef(null);return ie.useEffect(()=>{const s=i.current;if(!s)return;const a=n.observe(s).pipe(qn(c=>t(r,c))).subscribe();return()=>a.unsubscribe()},[n,r,t]),l.jsx("div",{ref:i,...o})};var xie=Object.freeze,Qon=Object.defineProperty,gm=(e,t)=>xie(Qon(e,"raw",{value:xie(t||e.slice())})),wie,Cie,_ie,Sie,Eie,kie,jie;const Jon=P.div(wie||(wie=gm([`
  position: relative;
`]))),ein=P.div(Cie||(Cie=gm([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`]))),GN=he(_ie||(_ie=gm([`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`]))),tin=P(qN)(e=>{let{$debug:t,margins:n}=e;return he(Sie||(Sie=gm([`
    `,`

    z-index: 100;
    position: sticky;
    height: 1px;
    top: `,`;
    background-color: `,`;
  `])),GN,n?"".concat(n[0]-1,"px"):void 0,t?"red":"none")}),nin=P(qN)(e=>{let{$debug:t}=e;return he(kie||(kie=gm([`
    `,`

    visibility: none;

    `,`
  `])),GN,t&&he(Eie||(Eie=gm([`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `]))))}),rin=P(qN)(e=>{let{$debug:t}=e;return he(jie||(jie=gm([`
    `,`

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: `,`;
  `])),GN,t?"blue":"transparent")}),oin=e=>"".concat(e,"px"),iin=e=>0-e,sin=h.forwardRef(function(t,n){const{regions:r,render:o,children:i,margins:s}=t,a=h.useRef(null),c=h.useMemo(()=>s,[JSON.stringify(s)]),u=h.useMemo(()=>Xon({rootMargin:c.map(iin).map(oin).join(" "),threshold:Lon}),[c]),[d,f]=h.useState({}),p=h.useCallback((y,x)=>{f(b=>({...b,[y]:x}))},[]),m=d["::top"],v=d["::bottom"],g=h.useMemo(()=>m&&v?r.filter(y=>{var x;return((x=y.presence)==null?void 0:x.length)>0}).map(y=>{const x=d[y.id];if(!x)return null;const{bottom:b,top:w}=x.boundingClientRect,C=x.boundingClientRect.top<m.boundingClientRect.bottom,_=x.boundingClientRect.top<v.boundingClientRect.top,S=x.isIntersecting?w-(x.intersectionRect.top-x2):C?-m.boundingClientRect.bottom:v.boundingClientRect.top,E=x.isIntersecting?-(b-(x.intersectionRect.bottom+x2)):_?v.boundingClientRect.top:-m.boundingClientRect.bottom,j=S<=Bon?"top":E<=Non?"bottom":"inside";return{distanceTop:S,distanceBottom:E,region:y,position:j}}).filter(Boolean):[],[v,d,r,m]);return l.jsxs(Jon,{ref:n,children:[l.jsx(tin,{$debug:s3,io:u,id:"::top",onIntersection:p,margins:c}),l.jsx("div",{children:i}),l.jsx(ein,{ref:a,children:a.current&&o(g,a.current.offsetWidth)}),r.map(y=>{const x=y.rect.width===0;return l.jsx(nin,{$debug:s3,io:u,onIntersection:p,id:y.id,style:{width:x?1:y.rect.width,left:y.rect.left-(x?1:0),top:y.rect.top-x2,height:y.rect.height+x2*2}},y.id)}),l.jsx(rin,{$debug:s3,id:"::bottom",io:u,onIntersection:p})]})}),qOe={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},ain=e=>e.top+e.height;function lin(e){return e.map((t,n,r)=>{var o;const i=(o=r[n-1])==null?void 0:o.region.rect,s=i?ain(i):0;return{...t,spacerHeight:t.region.rect.top-s}})}const w2=e=>J0(e,t=>t.region.rect.top),cin=(e,t)=>e+t,Tie=e=>e.reduce(cin,0);function uin(e){const t=lin(w2(e)),n={top:[],inside:[],bottom:[],...uB(t,r=>r.position)};return{top:w2(n.top).map((r,o,i)=>({...r,indent:i.slice(o+1).reduce((s,a)=>s+a.region.rect.width,0)})),inside:w2(n.inside).map(r=>({...r,indent:0})),bottom:w2(n.bottom).map((r,o,i)=>({...r,indent:i.slice(0,o).reduce((s,a)=>s+a.region.rect.width,0)}))}}const Aie=e=>{let{height:t,...n}=e;return l.jsx("div",{style:{height:Math.max(0,t),...n==null?void 0:n.style}})},din=[0,0,0,0],fin=(e,t)=>{let n=e,r=-n.scrollTop,o=0;for(;n&&n!==t;)r+=n.offsetTop-n.scrollTop,o+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:o}};function hin(e,t){return{...fin(e,t),width:e.offsetWidth,height:e.offsetHeight}}function pin(e,t){return e.map(n=>{let[r,o]=n;return{...o,id:r,rect:hin(o.element,t)}})}function min(e){const{children:t,margins:n=din}=e,r=Kon(),o=ie.useRef(null),i=ie.useMemo(()=>o.current?pin(r,o.current):nF,[r]),s=ie.useCallback((a,c)=>{const u=uin(a.filter(m=>m.region.presence.length>0)),d=Tie(u.top.map(m=>m.region.rect.height+m.spacerHeight)),f=Tie([...u.inside,...u.bottom].map(m=>m.region.rect.height+m.spacerHeight)),p=u.inside.reduce((m,v)=>{const{distanceTop:g,distanceBottom:y}=v,x=g<=VOe,b=y<=HOe;return{nearTop:m.nearTop+(x?v.region.presence.length:0),nearBottom:m.nearBottom+(b?v.region.presence.length:0)}},{nearTop:0,nearBottom:0});return l.jsxs(l.Fragment,{children:[l.jsx(Die,{closeCount:p.nearTop,margins:n,position:"top",regionsWithIntersectionDetails:u.top}),l.jsx(Aie,{height:d}),l.jsx(gin,{containerWidth:c,regionsWithIntersectionDetails:u.inside}),l.jsx(Aie,{height:f}),l.jsx(Die,{closeCount:p.nearBottom,margins:n,position:"bottom",regionsWithIntersectionDetails:u.bottom})]})},[n]);return l.jsx(sin,{ref:o,margins:n,regions:i,render:s,children:t})}const nF=[],Die=h.memo(function(t){const{closeCount:n,margins:r,position:o,regionsWithIntersectionDetails:i}=t,s=o==="top"?1:-1,a=h.useMemo(()=>i.length?Tn(Bm(i,g=>g.region.rect.top*s).map(g=>g.region.presence||nF)):nF,[s,i]),[c,u,d,f]=r,p=(f||0)+(a.length>0?-n*(Xx+B5):0)-u,m=o==="top"?c:d,v=h.useMemo(()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...qOe,transform:"translate3d(".concat(p,"px, 0px, 0px)"),top:gie+1+m,bottom:gie+1+m}),[p,m]);return l.jsx("div",{"data-dock":o,style:v,children:l.jsx(YOe,{position:o,maxAvatars:Fon,presence:a})},"sticky-".concat(o))});function gin(e){const{regionsWithIntersectionDetails:t,containerWidth:n}=e;return l.jsx(l.Fragment,{children:t.map(r=>{const o=r.region.rect.left,{distanceTop:i,distanceBottom:s}=r,a=i<=VOe,c=s<=HOe,u=n-o-r.region.rect.width,{presence:d,maxAvatars:f}=r.region;return l.jsx(ie.Fragment,{children:l.jsx("div",{style:{zIndex:2,position:"absolute",...qOe,left:o,transform:"translate3d(".concat(a||c?u:0,"px, 0px, 0px)"),height:r.region.rect.height,top:r.region.rect.top},children:l.jsx(yin,{value:()=>"⤒".concat(i," | ").concat(s,"⤓"),children:l.jsx(YOe,{stack:!a&&!c,position:a?"top":c?"bottom":"inside",maxAvatars:f,presence:d})})})},r.region.id)})})}const vin=e=>e.children,yin=vin,bin=[0,0,0,0];function xin(e){let{children:t,margins:n}=e;return l.jsx(qon,{children:l.jsx(min,{margins:n||bin,children:t})})}const jC=xin;var Iie=Object.freeze,win=Object.defineProperty,p1=(e,t)=>Iie(win(e,"raw",{value:Iie(t||e.slice())})),Oie,Pie,Rie,$ie,Mie,Fie;const Cin={open:500},_in=P(U)(Oie||(Oie=p1([`
  /* Prevent buttons from taking up extra vertical space */
  line-height: 1;
  /* For floating actions menu */
  position: relative;
`]))),Sin=P(M)(e=>{let{theme:t,$right:n}=e;const{space:r}=t.sanity;return he(Pie||(Pie=p1([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),n+r[1])}),Ein=P(M)(e=>{let{theme:t,$presenceMaxWidth:n}=e;const{space:r}=t.sanity;return he(Rie||(Rie=p1([`
    max-width: calc(100% - `,`px);
    min-width: 75%;
  `])),n+r[1])}),kin=P(M)(e=>{let{theme:t,$right:n,$fieldActionsVisible:r}=e;const{space:o}=t.sanity,i=r?n+o[1]:n;return he($ie||($ie=p1([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),i)}),jin=P(ee)(e=>{let{theme:t}=e;const n=t.sanity.space[1]/2;return he(Mie||(Mie=p1([`
    align-items: center;
    bottom: 0;
    gap: `,`px;
    padding: `,`px;
    position: absolute;
    right: 0;

    @media (hover: hover) {
      // If hover is supported, we hide the floating card by default
      // and only show it when it has focus within or when the field is hovered or focused.
      opacity: 0;
      pointer-events: none;

      [data-ui='FieldActionsFlex'] {
        opacity: 0;
        width: 0;
      }

      &[data-actions-visible='false']:not(:focus-within) {
        // Remove the shadow when the field actions are not visible
        box-shadow: none;

        // Since the field actions always will be present in the DOM (to make them focusable) –
        // they will always affect the width of the floating card, even when they are not visible.
        // Therefore, we remove the background of the floating card when the field actions are not visible.
        background: transparent;
      }

      // Remove the shadow when the field has comments but no actions
      &[data-has-comments='true']:not([data-has-actions='true']) {
        box-shadow: none;
      }

      // Show the floating card when it has focus within (ie when field actions are focused).
      &:focus-within {
        opacity: 1;
        pointer-events: auto;
        width: max-content;

        [data-ui='FieldActionsFlex'] {
          opacity: 1;
          pointer-events: auto;
          width: max-content;
        }
      }
    }

    &[data-visible='true'] {
      opacity: 1;
      pointer-events: auto;
      width: max-content;
    }

    &[data-actions-visible='true'] {
      [data-ui='FieldActionsFlex'] {
        opacity: 1;
        pointer-events: auto;
        width: max-content;
      }
    }
  `])),n,n)}),Tin=P(U)(Fie||(Fie=p1([`
  gap: inherit;
`]))),Lie=4;function GOe(e){const{__internal_comments:t,__internal_slot:n,actions:r,content:o,fieldFocused:i,fieldHovered:s,presence:a}=e,[c,u]=h.useState(!1),[d,f]=h.useState(null),[p,m]=h.useState(0),[v,g]=h.useState(null),[y,x]=h.useState(0),{hasComments:b=!1,button:w=null,isAddingComment:C=!1}=t||{},_=r&&r.length>0,S=i||s||c||C,E=(t==null?void 0:t.button)||_,j=S||b,k=h.useCallback(()=>{if(d){const{width:I}=d.getBoundingClientRect();m(I||0)}},[d]),T=h.useCallback(k,[k]),A=h.useCallback(k,[k]);h.useEffect(()=>{k()},[k,S]),h.useEffect(()=>{if(v){const{width:I}=v.getBoundingClientRect();x(I||0)}},[v]);const D=h.useMemo(()=>n?l.jsx(kin,{$fieldActionsVisible:!!S,$right:p,ref:g,children:n}):null,[p,S,n]);return l.jsxs(_in,{align:"flex-end",children:[l.jsx(Ein,{flex:1,paddingY:2,$presenceMaxWidth:Von(Lie),children:o}),a&&a.length>0&&l.jsx(Sin,{flex:"none",paddingBottom:1,$right:p+y,children:l.jsx(kC,{maxAvatars:Lie,presence:a})}),D,(E||b)&&l.jsx(XCe,{delay:Cin,children:l.jsxs(jin,{"data-actions-visible":S?"true":"false","data-has-actions":_?"true":"false","data-has-comments":b?"true":"false","data-visible":j?"true":"false",display:"flex",onBlurCapture:A,onFocusCapture:T,radius:2,ref:f,shadow:2,sizing:"border",children:[_&&l.jsx(Tin,{align:"center","data-ui":"FieldActionsFlex",children:l.jsx(Ken,{nodes:r,onMenuOpenChange:u})}),w]})})]})}function jh(e,t){if(!(!t||!e))return"desc_".concat(e)}var Bie=Object.freeze,Ain=Object.defineProperty,Din=(e,t)=>Bie(Ain(e,"raw",{value:Bie(t||e.slice())})),Nie;const Iin=[],Mv={error:pe.red[500].hex,warning:pe.yellow[500].hex,info:pe.blue[500].hex},Fv={error:l.jsx(fa,{"data-testid":"input-validation-icon-error","aria-label":"Has error","aria-hidden":!0,role:"presentation"}),warning:l.jsx(Mr,{"data-testid":"input-validation-icon-warning","aria-label":"Has warning","aria-hidden":!0,role:"presentation"}),info:l.jsx(km,{"data-testid":"input-validation-icon-info","aria-label":"Has information","aria-hidden":!0,role:"presentation"})},Oin=P(oe)(Nie||(Nie=Din([`
  max-width: 200px;
`])));function m1(e){const{validation:t=Iin,__unstable_showSummary:n,fontSize:r,placement:o="top"}=e,i=t.filter(m=>m.level==="error"),s=t.filter(m=>m.level==="warning"),a=t.filter(m=>m.level==="info"),c=i.length>0,u=s.length>0,d=a.length>0,f=h.useMemo(()=>{if(c)return Fv.error;if(u)return Fv.warning;if(d)return Fv.info},[c,d,u]),p=h.useMemo(()=>{if(c)return Mv.error;if(u)return Mv.warning;if(d)return Mv.info},[c,d,u]);return l.jsx(at,{content:l.jsxs(Oin,{padding:3,space:3,children:[n&&l.jsx(Rin,{validation:t}),!n&&l.jsx(l.Fragment,{children:t.map((m,v)=>l.jsx(Pin,{validation:m},v))})]}),portal:!0,placement:o,fallbackPlacements:["bottom","right","left"],children:l.jsx("div",{children:l.jsx(L,{muted:!0,size:r,weight:"semibold",style:{color:p},children:f})})})}function Pin(e){const{validation:t}=e,n=h.useMemo(()=>{if(t.level==="error")return Fv.error;if(t.level==="warning")return Fv.warning;if(t.level==="info")return Fv.info},[t]),r=h.useMemo(()=>{if(t.level==="error")return Mv.error;if(t.level==="warning")return Mv.warning;if(t.level==="info")return Mv.info},[t]);return l.jsxs(U,{children:[l.jsx(M,{marginRight:2,children:l.jsx(L,{size:1,style:{color:r},children:n})}),l.jsx(M,{flex:1,children:l.jsx(L,{size:1,children:t.message})})]})}function Rin(e){let{validation:t}=e;const n=t.filter(m=>m.level==="error"),r=t.filter(m=>m.level==="warning"),o=n.length,i=r.length,s="error".concat(o===1?"":"s"),a="warning".concat(i===1?"":"s"),c=o&&"".concat(o," ").concat(s),u=i&&"".concat(i," ").concat(a),d=o>0,f=i>0,p=d&&f;return l.jsxs(L,{size:1,children:[c||"",p&&l.jsx(l.Fragment,{children:" and "}),u||""]})}const $in=[],KOe=h.memo(function(t){const{description:n,inputId:r,title:o,validation:i=$in}=t,s=i.length>0;return l.jsxs(oe,{space:2,children:[l.jsxs(U,{children:[l.jsx(L,{as:"label",htmlFor:r,weight:"semibold",size:1,children:o||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}),s&&l.jsx(M,{marginLeft:2,children:l.jsx(m1,{fontSize:1,validation:i})})]}),n&&l.jsx(L,{muted:!0,size:1,id:jh(r,n),children:n})]})}),zie=[],g1=h.memo(function(t){const{__unstable_headerActions:n=zie,__unstable_presence:r=zie,__internal_slot:o=null,__internal_comments:i,children:s,description:a,inputId:c,level:u,title:d,validation:f,...p}=t,{focused:m,hovered:v,onMouseEnter:g,onMouseLeave:y}=WN();return l.jsxs(oe,{...p,"data-level":u,onMouseEnter:g,onMouseLeave:y,space:1,children:[d&&l.jsx(GOe,{__internal_comments:i,__internal_slot:o,actions:n,fieldFocused:!!m,fieldHovered:v,presence:r,content:l.jsx(KOe,{description:a,inputId:c,title:d,validation:f})}),l.jsx("div",{children:s})]})});var Vie=Object.freeze,Min=Object.defineProperty,KN=(e,t)=>Vie(Min(e,"raw",{value:Vie(t||e.slice())})),Hie,Uie,Wie;const Yie=P.legend(Hie||(Hie=KN([`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`]))),Fin=P(U).attrs({forwardedAs:"button"})(e=>{const{theme:t}=e,{focusRing:n,radius:r}=t.sanity,{base:o}=t.sanity.color;return he(Uie||(Uie=KN([`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: `,`;
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `])),ye(r[1]),sN({base:o,focusRing:n}))}),Lin=P(M)(Wie||(Wie=KN([`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`]))),Bin=h.memo(function(t){const{collapsed:n,collapsible:r,onClick:o,title:i}=t,s=l.jsx(L,{weight:"semibold",size:1,children:i||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})});return r?l.jsx(Yie,{children:l.jsxs(Fin,{type:"button",onClick:o,children:[l.jsx(Lin,{children:l.jsx(L,{muted:!0,size:1,children:l.jsx(Sj,{style:{transform:"rotate(".concat(n?"0":"90deg",") translate3d(0, 0, 0)")}})})}),s]})}):l.jsx(Yie,{children:s})});var qie=Object.freeze,Nin=Object.defineProperty,ZOe=(e,t)=>qie(Nin(e,"raw",{value:qie(t||e.slice())})),Gie,Kie;function zin(e){return typeof e=="function"?e():e}const Vin=P(M).attrs({forwardedAs:"fieldset"})(Gie||(Gie=ZOe([`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`]))),Hin=P(M)(e=>{const{$borderLeft:t,theme:n}=e,{focusRing:r,radius:o}=n.sanity,{base:i}=n.sanity.color;return he(Kie||(Kie=ZOe([`
    outline: none;
    border-left: `,`;
    border-radius: `,`;

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `])),t?"1px solid var(--card-border-color)":void 0,ye(o[1]),sN({base:i,focusRing:{...r,offset:2}}))}),a3=[],nD=h.forwardRef(function(t,n){const{__internal_comments:r,__internal_slot:o=null,__unstable_headerActions:i=a3,__unstable_presence:s=a3,children:a,collapsed:c,collapsible:u,columns:d,description:f,level:p=0,onCollapse:m,onExpand:v,onFocus:g,tabIndex:y,title:x,validation:b=a3,inputId:w,...C}=t,{focused:_,hovered:S,onMouseEnter:E,onMouseLeave:j}=WN(),k=b.length>0,T=cr(n),A=h.useCallback(O=>{T.current===O.target&&g&&g(O)},[T,g]),D=h.useCallback(()=>c?v==null?void 0:v():m==null?void 0:m(),[c,m,v]),I=h.useMemo(()=>c?null:l.jsx(Qt,{columns:d,gapX:4,gapY:5,children:zin(a)}),[a,c,d]);return l.jsxs(Vin,{"data-level":p,...C,onMouseEnter:E,onMouseLeave:j,children:[l.jsx(GOe,{__internal_comments:r,__internal_slot:o,actions:i,fieldFocused:!!_,fieldHovered:S,presence:s,content:l.jsxs(oe,{space:2,children:[l.jsxs(U,{children:[l.jsx(Bin,{collapsed:!!c,collapsible:u,onClick:u?D:void 0,title:x}),k&&l.jsx(M,{marginLeft:2,children:l.jsx(m1,{fontSize:1,validation:b})})]}),f&&l.jsx(L,{muted:!0,size:1,id:jh(w,f),children:f})]})}),l.jsx(Hin,{$borderLeft:p>0,hidden:c,marginTop:1,paddingLeft:p===0?0:3,onFocus:typeof y=="number"&&y>-1?A:void 0,ref:T,tabIndex:y,children:!c&&I})]})});var Zie=Object.freeze,Uin=Object.defineProperty,Win=(e,t)=>Zie(Uin(e,"raw",{value:Zie(t||e.slice())})),Xie;const Yin=P.div(Xie||(Xie=Win([`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`])));function qin(e){let{children:t,maxAvatars:n,position:r="bottom"}=e;return l.jsx(Yin,{"data-max-avatars":n,"data-position":r,children:t})}var Qie=Object.freeze,Gin=Object.defineProperty,Kin=(e,t)=>Qie(Gin(e,"raw",{value:Qie(t||e.slice())})),Jie;const Zin=P(se)(Jie||(Jie=Kin([`
  cursor: `,`;
`])),e=>e.grid?"move":"ns-resize"),XOe=ie.createContext(null),QOe=function(t){const n=h.useContext(XOe),{listeners:r,attributes:o}=AAe({id:n});return l.jsx(Zin,{icon:P1e,mode:"bleed","data-ui":"DragHandleButton",...o,...t,...r})};function Xin(e,t,n,r){const o={...e},i=r.y||0,s=r.x||0;return t.top+o.y<=n.top+i?o.y=n.top-t.top+i:t.bottom+o.y>=n.top+n.height-i&&(o.y=n.top+n.height-t.bottom-i),t.left+o.x<=n.left-s?o.x=n.left-t.left+s:t.right+o.x>=n.left+n.width+s&&(o.x=n.left+n.width-t.right+s),o}const Qin=e=>t=>{let{containerNodeRect:n,draggingNodeRect:r,transform:o}=t;return!r||!n?o:Xin(o,r,n,e)};var ese=Object.freeze,Jin=Object.defineProperty,tse=(e,t)=>ese(Jin(e,"raw",{value:ese(t||e.slice())})),nse,rse;const ZN="moving",JOe=P(M)(rse||(rse=tse([`
  `,`
`])),e=>e.$moving&&he(nse||(nse=tse([`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `])))),esn={threshold:{x:0,y:.02}},tsn={coordinateGetter:lzt},nsn={duration:200,easing:"ease"};function rsn(e){return e==="x"?uzt:dzt}function osn(e){return e==="x"?KNt:XNt}const isn=h.memo(function(t){const{items:n,axis:r,onItemMove:o,onItemMoveStart:i,onItemMoveEnd:s,children:a,...c}=t,u=MBt(QJ(yB),QJ(gB,tsn)),d=h.useCallback(p=>{var m,v,g,y;const{active:x,over:b}=p;x.id!==(b==null?void 0:b.id)&&(o==null||o({fromIndex:(v=(m=x.data.current)==null?void 0:m.sortable)==null?void 0:v.index,toIndex:(y=(g=b==null?void 0:b.data.current)==null?void 0:g.sortable)==null?void 0:y.index})),s==null||s()},[o,s]),f=h.useMemo(()=>[Qin({y:4}),...r?[rsn(r)]:[]],[r]);return l.jsx(LNt,{sensors:u,autoScroll:esn,modifiers:f,collisionDetection:LBt,onDragEnd:d,onDragStart:i,children:l.jsx(JNt,{items:n,strategy:r?osn(r):void 0,children:l.jsx(Qt,{...c,children:a})})})}),ssn=h.forwardRef(function(t,n){const{id:r,children:o,disableTransition:i}=t,{setNodeRef:s,transform:a,transition:c,active:u}=AAe({id:r,transition:i?null:nsn}),d=r===(u==null?void 0:u.id),f=h.useMemo(()=>({transform:Bx.Translate.toString(a),transition:c,pointerEvents:u?"none":void 0}),[a,c,u]),p=h.useCallback(m=>{s(m),typeof n=="function"?n(m):n&&(n.current=m)},[n,s]);return l.jsx(JOe,{ref:p,style:f,$moving:d,className:d?ZN:"","data-index":t["data-index"],children:o})});function XN(e){const{onItemMove:t,onItemMoveEnd:n,onItemMoveStart:r,sortable:o,...i}=e,s=h.useCallback(a=>{t==null||t(a)},[t]);return o?l.jsx(isn,{onItemMove:s,onItemMoveStart:r,onItemMoveEnd:n,...i}):l.jsx(Qt,{...i})}const QN=h.forwardRef(function(t,n){const{sortable:r,...o}=t;return l.jsx(XOe.Provider,{value:t.id,children:r?l.jsx(ssn,{ref:n,...o}):l.jsx(JOe,{ref:n,...o})})});var ose=Object.freeze,asn=Object.defineProperty,lsn=(e,t)=>ose(asn(e,"raw",{value:ose(t||e.slice())})),ise;const csn=P(ee)(ise||(ise=lsn([`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .`,` & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`])),ZN);function rD(e){const{validation:t,selected:n,tone:r,presence:o,focused:i,children:s,dragHandle:a,menu:c,footer:u}=e,d=h.useRef(null);return zi(i,(f,p)=>{var m;!f&&p&&((m=d.current)==null||m.focus())}),l.jsx(csn,{ref:d,selected:n,"aria-selected":n,radius:2,padding:1,tone:r,children:l.jsxs(oe,{space:1,children:[l.jsxs(U,{align:"center",children:[a&&l.jsx(M,{marginRight:1,paddingY:1,children:l.jsx(QOe,{paddingX:1,paddingY:3})}),l.jsx(M,{flex:1,children:s}),(o||t||c)&&l.jsxs(U,{align:"center",marginLeft:1,children:[o&&l.jsx(M,{marginLeft:1,children:o}),t&&l.jsx(M,{marginLeft:1,children:t}),c]})]}),u]})})}var sse=Object.freeze,usn=Object.defineProperty,oD=(e,t)=>sse(usn(e,"raw",{value:sse(t||e.slice())})),ase,lse,cse,use;const dsn=P.button(ase||(ase=oD([`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`]))),fsn=P(Sj)(lse||(lse=oD([`
  transform: `,`;
`])),e=>e.open?"rotate(90deg)":""),hsn=P(U)(cse||(cse=oD([`
  cursor: default;
`]))),psn=P(M)(use||(use=oD([`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`])));function Xm(e){const{children:t,open:n,icon:r,title:o="Details",...i}=e,[s,a]=h.useState(n||!1),c=h.useCallback(()=>a(u=>!u),[]);return h.useEffect(()=>a(n||!1),[n]),l.jsxs(M,{...i,children:[l.jsx(dsn,{type:"button",onClick:c,children:l.jsx(hsn,{align:"center",children:l.jsxs(qt,{children:[l.jsx(psn,{"data-open":s?"":void 0,children:l.jsx(L,{size:1,children:l.jsx(fsn,{open:s})})}),r&&l.jsx(M,{marginLeft:1,children:r}),l.jsx(M,{flex:1,marginLeft:1,children:l.jsx(L,{size:1,weight:"medium",children:o})})]})})}),l.jsx(M,{hidden:!s,marginTop:3,children:t})]})}const msn={warning:"caution",error:"critical",info:"positive"},gsn={warning:l.jsx(Mr,{}),error:l.jsx(fa,{}),info:l.jsx(km,{})};function Rf(e){const{children:t,status:n="warning",title:r,...o}=e;return l.jsx(ee,{radius:2,tone:msn[n],...o,"data-ui":"Alert",children:l.jsx(U,{padding:1,children:t&&l.jsx(M,{flex:1,children:l.jsx(Xm,{icon:gsn[n],title:r,children:l.jsx(M,{marginLeft:3,marginTop:3,children:t})})})})})}function JN(e){if(Qa(e))return e.name==="object"?{}:{_type:e.name};if(Wl(e))return[];if(e.jsonType==="string")return"";if(e.jsonType==="number")return 0;if(e.jsonType==="boolean")return!1}function v1(e){if(!Qa(e))throw new Error('Invalid item type: "'.concat(e.type,'". Default array input can only contain objects (for now)'));return{...JN(e),_key:lC(12)}}const vsn={portal:!0,tone:"default",placement:"left",constrainSize:!0},iD=h.memo(function(t){const{types:n,onInsert:r}=t;return l.jsxs(l.Fragment,{children:[l.jsx(dse,{pos:"before",types:n,onInsert:r,text:"Add item before",icon:L1e}),l.jsx(dse,{pos:"after",types:n,onInsert:r,text:"Add item after",icon:B1e})]})});function dse(e){const{types:t,onInsert:n,pos:r,text:o,icon:i}=e;return(t==null?void 0:t.length)===1?l.jsx(Ve,{text:o,icon:i,onClick:()=>n(r,t[0])},r):l.jsx(w8,{text:o,popover:vsn,children:t==null?void 0:t.map(s=>l.jsx(Ve,{icon:s.icon,text:s.title,onClick:()=>n(r,s)},s.name))},r)}const ePe=()=>{},l3={isLoading:!0,result:void 0,error:void 0,retry:ePe},ysn={isLoading:!1,result:void 0,error:void 0,retry:ePe};function sD(e,t){const n=h.useMemo(()=>new uo,[]),r=h.useMemo(()=>n.asObservable(),[n]),o=h.useCallback(()=>{n.next({type:"retry"})},[n]),i=vo(()=>Hr(be(null),r).pipe(ue(()=>e),Z$(a=>a?t(a).pipe(ue(c=>({isLoading:!1,result:c,error:void 0,retry:o})),ii(l3),In(c=>(console.error(c),be({isLoading:!1,result:void 0,error:c,retry:o})))):be(ysn))),[t,e,r,o],l3),s=kN(e,e);return e&&s!==e?l3:i}function tPe(e){var t,n,r,o,i,s;const{id:a,layout:c,preview:u,refType:d,renderPreview:f,showTypeLabel:p}=e,m=F0(),v=$C(a),g=((t=u.draft)==null?void 0:t._id)||((n=u.published)==null?void 0:n._id)||a,y=h.useMemo(()=>({_id:g,_type:d.name}),[g,d.name]),x=h.useMemo(()=>({layout:c,schemaType:d,value:y}),[c,y,d]),b=Qo(((r=u.published)==null?void 0:r._updatedAt)||"",{minimal:!0,agoSuffix:!0}),w=Qo(((o=u.draft)==null?void 0:o._updatedAt)||"",{minimal:!0,agoSuffix:!0});return l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,children:f(x)}),l.jsx(M,{paddingLeft:3,children:l.jsxs(qt,{space:3,children:[p&&l.jsx(Vt,{size:1,muted:!0,children:d.title}),v&&v.length>0&&l.jsx(YN,{presence:v}),l.jsxs(qt,{space:4,children:[l.jsx(M,{children:l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:(i=u.published)!=null&&i._updatedAt?"Published ".concat(b):"Not published"})}),children:l.jsx(sr,{tone:m.tone==="default"?"positive":"default",size:1,dimmed:!u.published,muted:!u.published,children:l.jsx(D0,{"aria-label":u.published?"Published":"Not published"})})})}),l.jsx(M,{children:l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:(s=u.draft)!=null&&s._updatedAt?"Edited ".concat(w):"No unpublished edits"})}),children:l.jsx(sr,{tone:m.tone==="default"?"caution":"default",size:1,dimmed:!u.draft,muted:!u.draft,children:l.jsx(Hu,{"aria-label":u.draft?"Edited":"No unpublished edits"})})})})]})]})})]})}function nPe(e){var t,n,r,o,i,s;const{referenceInfo:a,renderPreview:c,type:u,value:d,showTypeLabel:f}=e;if(a.isLoading||a.error)return l.jsx(kh,{isPlaceholder:!0});if(((t=a.result)==null?void 0:t.availability.reason)==="NOT_FOUND"&&d._strengthenOnPublish){const x=u.to.find(w=>{var C;return w.name===((C=d==null?void 0:d._strengthenOnPublish)==null?void 0:C.type)});if(!x)return l.jsx(hse,{documentId:d._ref,actualType:(n=d._strengthenOnPublish)==null?void 0:n.type,declaredTypes:u.to.map(w=>w.name)});const b=(r=d._strengthenOnPublish)!=null&&r.type?{_id:d._ref,_type:(o=d._strengthenOnPublish)==null?void 0:o.type}:d;return l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,children:c({layout:"default",schemaType:x,value:b,skipVisibilityCheck:!0})}),l.jsx(M,{children:l.jsx(qt,{space:4,children:f&&l.jsx(Vt,{size:1,muted:!0,children:x.title})})})]})}const p=a.result.availability,m=p.reason==="NOT_FOUND",v=p.reason==="PERMISSION_DENIED";if(v||m)return l.jsxs(qt,{space:2,children:[l.jsx(M,{padding:1,children:l.jsx(U,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document unavailable"})})})}),v||m?l.jsx(M,{children:l.jsx(at,{portal:!0,content:m?l.jsxs(fse,{title:"Not found",icon:qv,children:["The referenced document does not exist",l.jsx("br",{}),"(id: ",l.jsx("code",{children:d._ref}),")"]}):l.jsx(fse,{title:"Insufficient permissions",icon:Bf,children:"The referenced document could not be accessed due to insufficient permissions"}),children:l.jsx(sr,{tone:"default",children:l.jsx(qv,{})})})}):null]});const g=(i=a.result)==null?void 0:i.type,y=u.to.find(x=>x.name===g);return y?l.jsx(tPe,{id:d._ref,layout:"default",preview:(s=a.result)==null?void 0:s.preview,refType:y,renderPreview:c,showTypeLabel:f}):l.jsx(hse,{documentId:d._ref,actualType:g||"<unknown>",declaredTypes:u.to.map(x=>x.name)})}function fse(e){const t=e.icon;return l.jsxs(U,{padding:3,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(t,{})})}),l.jsxs(M,{flex:1,marginLeft:3,children:[l.jsx(L,{size:1,weight:"semibold",children:e.title}),l.jsx(M,{marginTop:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:e.children})})]})]})}function hse(e){return l.jsxs(U,{align:"center",justify:"flex-start",children:[l.jsx(M,{padding:1,children:l.jsx(U,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document of invalid type"})})})}),l.jsx(M,{children:l.jsx(at,{portal:!0,content:l.jsxs(oe,{space:3,padding:3,children:[l.jsxs(L,{size:1,children:["Referenced document (",l.jsx("code",{children:e.documentId}),") is of type"," ",l.jsx("code",{children:e.actualType}),"."]}),l.jsxs(L,{size:1,children:["According to the schema, referenced documents can only be of type"," ",bsn(e.declaredTypes.map(t=>l.jsx("code",{children:t},t)),"or"),"."]})]}),children:l.jsx(M,{padding:2,children:l.jsx(sr,{tone:"default",children:l.jsx(qv,{})})})})})]})}const bsn=(e,t)=>e.length===1?e[0]:e.length===2?[e[0],l.jsxs(h.Fragment,{children:[" ",t," "]},"comma"),e[1]]:[...e.slice(0,-1).map((r,o)=>l.jsxs(h.Fragment,{children:[r,", "]},o)),l.jsxs(h.Fragment,{children:[t," ",e[e.length-1]]},"last")];var pse=Object.freeze,xsn=Object.defineProperty,wsn=(e,t)=>pse(xsn(e,"raw",{value:pse(t||e.slice())})),mse;const Csn=P(ee)(mse||(mse=wsn([`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 35px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`]))),rPe=h.forwardRef(function(t,n){const{as:r,documentId:o,documentType:i,...s}=t,a=o&&i&&{"data-as":"a",forwardedAs:r,documentId:o,documentType:i};return l.jsx(Csn,{...s,...a,ref:n})}),oPe=h.createContext(null);function _sn(){const e=h.useContext(oPe);return e||{menuRef:{current:null},containerRef:{current:null}}}function Ssn(e){const{menuRef:t,containerRef:n}=e;return l.jsx(oPe.Provider,{value:{menuRef:t,containerRef:n},children:e.children})}function Esn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const ksn={portal:!0,tone:"default"},jsn={position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.6};function Tsn(e){var t,n,r,o,i,s,a,c,u,d,f;const{schemaType:p,parentSchemaType:m,path:v,readOnly:g,onRemove:y,value:x,open:b,onInsert:w,presence:C,validation:_,inputId:S,changed:E,focused:j,children:k,inputProps:{onChange:T,focusPath:A,onPathFocus:D,renderPreview:I,elementProps:O}}=e,$=!g&&((t=m.options)==null?void 0:t.sortable)!==!1,R=m.of,V=h.useRef(null),N=h.useRef(null),W=h.useRef(null),{EditReferenceLink:q,getReferenceInfo:H,selectedState:Y,isCurrentDocumentLiveEdit:X}=gz({path:v,schemaType:p,value:x});tD(V,b),zi(j,(ke,Ne)=>{var dt;!ke&&Ne&&V.current&&((dt=V.current)==null||dt.focus())});const B=e.validation.some(ke=>ke.level==="error"),K=e.validation.some(ke=>ke.level==="warning"),z=x._resolvingInitialValue,Z=h.useCallback(()=>{w({items:[{...x,_key:Zx()}],position:"after"})},[w,x]),Q=h.useCallback((ke,Ne)=>{w({items:[{...v1(Ne),_key:Zx()}],position:ke})},[w]),ne=sD(x==null?void 0:x._ref,H),G=x._ref,J=((n=ne.result)==null?void 0:n.type)||((r=x==null?void 0:x._strengthenOnPublish)==null?void 0:r.type),re=G&&((s=(i=(o=ne.result)==null?void 0:o.preview)==null?void 0:i.published)==null?void 0:s._id),fe=h.useCallback(()=>{T([p.weak===!0?vt(!0,["_weak"]):nt(["_weak"]),nt(["_strengthenOnPublish"])])},[T,p.weak]),le=J?p.to.find(ke=>ke.name===J):void 0,ge=Y==="pressed",we=Y==="selected",ce=Esn({readOnly:g,hasErrors:B,hasWarnings:K}),ve=!G||A[0]==="_ref",$e=h.useMemo(()=>h.forwardRef(function(Ne,dt){return l.jsx(Nm,{...Ne,intent:"edit",params:{id:x==null?void 0:x._ref,type:le==null?void 0:le.name},target:"_blank",rel:"noopener noreferrer",ref:dt})}),[le==null?void 0:le.name,x==null?void 0:x._ref]),Ae=h.useCallback(()=>{D(G&&ve?[]:["_ref"])},[G,ve,D]),it=h.useMemo(()=>g?null:l.jsx(M,{marginLeft:1,children:l.jsx(en,{button:l.jsx(se,{paddingY:3,paddingX:2,mode:"bleed",icon:Ao}),id:"".concat(S,"-menuButton"),menu:l.jsxs(Bt,{ref:N,children:[!g&&l.jsxs(l.Fragment,{children:[l.jsx(Ve,{text:"Remove",tone:"critical",icon:po,onClick:y}),l.jsx(Ve,{text:G&&ve?"Cancel replace":"Replace",icon:G&&ve?Ii:I0,onClick:Ae}),l.jsx(Ve,{text:"Duplicate",icon:Vu,onClick:Z}),l.jsx(iD,{onInsert:Q,types:R})]}),!g&&!ve&&G&&l.jsx(Ir,{}),!ve&&G&&l.jsx(Ve,{as:$e,"data-as":"a",text:"Open in new tab",icon:sh})]}),popover:ksn})}),[g,S,y,G,ve,Ae,Z,Q,R,$e]),et=h.useCallback(()=>{T(p.weak===!0?vt(!0,["_weak"]):nt(["_weak"]))},[T,p]),lt=x!=null&&x._weak?"weak":"strong",Pe=p.weak===!0?"weak":"strong",xe=G&&!ne.isLoading&&(x==null?void 0:x._strengthenOnPublish),We=!ne.isLoading&&((a=ne.result)==null?void 0:a.availability.available)&&G&&lt!==Pe&&!xe,ze=((c=ne.result)==null?void 0:c.preview.draft)||((u=ne.result)==null?void 0:u.preview.published),Ze=l.jsxs(l.Fragment,{children:[X&&re&&x._strengthenOnPublish&&l.jsx(Rf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:[l.jsx("strong",{children:(f=(d=ne.result)==null?void 0:d.preview.published)==null?void 0:f.title})," is published and this reference should now be"," ",p.weak?l.jsx(l.Fragment,{children:"finalized"}):l.jsx(l.Fragment,{children:"converted to a strong reference"}),"."]}),l.jsx(se,{onClick:fe,text:l.jsx(l.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),We&&l.jsx(Rf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:lt}),", but according to the current schema it should be"," ",l.jsxs("em",{children:[Pe,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:p.weak?l.jsxs(l.Fragment,{children:["It will not be possible to delete the"," ",ze!=null&&ze.title?l.jsxs(l.Fragment,{children:['"',ze==null?void 0:ze.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):l.jsxs(l.Fragment,{children:["This makes it possible to delete the"," ",ze!=null&&ze.title?l.jsxs(l.Fragment,{children:['"',ze==null?void 0:ze.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),l.jsx(se,{onClick:et,text:l.jsxs(l.Fragment,{children:["Convert to ",Pe," reference"]}),tone:"caution"})]})}),ne.error&&l.jsx(Rf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",ne.error.message]}),l.jsx(se,{onClick:ne.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),xt=l.jsx(Ssn,{menuRef:N,containerRef:W,children:l.jsx(rD,{dragHandle:$,presence:!ve&&C.length>0&&l.jsx(kC,{presence:C,maxAvatars:1}),validation:!ve&&_.length>0&&l.jsx(m1,{validation:_}),menu:it,footer:ve?void 0:Ze,tone:ve?void 0:ce,focused:j,children:ve?l.jsx(M,{padding:1,ref:W,children:l.jsx(nD,{title:p.title,description:p.description,__unstable_presence:C,validation:_,inputId:S,children:k})}):l.jsxs(rPe,{as:q,tone:"inherit",radius:2,documentId:x==null?void 0:x._ref,documentType:le==null?void 0:le.name,disabled:z,paddingX:2,paddingY:1,__unstable_focusRing:!0,selected:we,pressed:ge,"data-selected":we?!0:void 0,"data-pressed":ge?!0:void 0,...O,children:[l.jsx(nPe,{value:x,referenceInfo:ne,renderPreview:I,type:p}),z&&l.jsx(ee,{style:jsn,tone:"transparent",radius:2,as:U,justify:"center",children:l.jsxs(U,{align:"center",justify:"center",padding:3,children:[l.jsx(M,{marginX:3,children:l.jsx(ur,{muted:!0})}),l.jsx(L,{children:"Resolving initial value…"})]})})]})})});return l.jsx(ci,{path:v,isChanged:E,hasFocus:!!j,children:l.jsx(M,{paddingX:1,children:xt})})}function gse(e){return Qa(e.schemaType)}function vse(e){return Wl(e.schemaType)}function Asn(e){return e._key!==void 0}function JS(e){return Asn(e)?e:{...e,_key:Zx(12)}}const iPe=4;function yse(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}function Dsn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iPe;const n=Isn(t);return function(){return Cr(n(e(...arguments)))}}function Isn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:iPe;const t=[],n=[],r=new uo;return o;function o(a){return new _t(c=>{if(t.length>=e)return i(a).pipe(jt(o)).subscribe(c);const u=a.subscribe(c);return t.push(u),()=>{yse(t,u),yse(n,a),u.unsubscribe(),s()}})}function i(a){return n.push(a),r.asObservable().pipe(l2e(c=>c===a))}function s(){for(;n.length>0&&t.length<e;)r.next(n.shift())}}const Osn=4;function Psn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=r.metadata,i=r.storeOriginalFilename,{label:s,title:a,description:c,creditLine:u,source:d}=r;return Lsn(n).pipe(In(()=>be(null)),jt(f=>f?Msn(e,"sanity.".concat(t,"Asset"),f):be(null)),jt(f=>f?be({type:"complete",id:f._id,asset:f}):e.observable.assets.upload(t,n,{tag:"asset.upload",extract:o,preserveFilename:i,label:s,title:a,description:c,creditLine:u,source:d}).pipe(ue(p=>p.type==="response"?{type:"complete",id:p.body.document._id,asset:p.body.document}:p))))}const sPe=Dsn(Psn,Osn),Rsn=(e,t,n)=>sPe(e,"image",t,n),$sn=(e,t,n)=>sPe(e,"file",t,n);function aPe(e,t){return e.observePaths({_type:"reference",_ref:t},["originalFilename","url","metadata","label","title","description","creditLine","source","size"])}function lPe(e,t){return aPe(e,t)}function cPe(e,t){return aPe(e,t)}function Msn(e,t,n){return e.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:t,hash:n},{tag:"asset.find-duplicate"})}function Fsn(e){return new _t(t=>{const n=new FileReader;return n.onload=()=>{t.next(n.result),t.complete()},n.onerror=r=>{t.error(r)},n.readAsArrayBuffer(e),()=>{n.abort()}})}function Lsn(e){return!window.crypto||!window.crypto.subtle||!window.FileReader?be(null):Fsn(e).pipe(jt(t=>crypto.subtle.digest("SHA-1",t)),ue(Bsn))}function Bsn(e){return Array.prototype.map.call(new Uint8Array(e),t=>"00".concat(t.toString(16)).slice(-2)).join("")}function Nsn(e,t){return new _t(n=>{const r=new window.FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsArrayBuffer(t===void 0?e:e.slice(0,t)),()=>r.abort()})}const zsn=/(invalid image format)|(No exif data)/i,Vsn=128e3;function Hsn(e){return Cr(Nsn(e,Vsn)).pipe(ue(t=>uVt(t)),In(t=>(zsn.test(t.message)||console.warn("Exif read failed, continuing anyway: ".concat(t.message)),be({}))))}function bse(e){return[5,6,7,8].indexOf(e)>-1}function Usn(e,t){const n=t.x,r=t.y,o=(t.degrees||0)*(Math.PI/180);e==null||e.translate(n,r),e==null||e.rotate(o),e==null||e.translate(-n,-r)}function xse(e,t,n){const r=e.getContext("2d");r==null||r.translate(t?e.width:0,n?e.height:0),r==null||r.scale(t?-1:1,n?-1:1)}const Wsn=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],Ysn=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],qsn="top-left",Gsn=120;function Ksn(e,t){const n=Wsn[t-1],r=e.height/e.width;e.width=Gsn/r,e.height=e.width*r;const o=document.createElement("canvas"),i=o.getContext("2d");if(bse(t)?(o.height=e.width,o.width=e.height):(o.width=e.width,o.height=e.height),n.op==="flip-x"&&xse(o,!0,!1),n.op==="flip-y"&&xse(o,!1,!0),n.degrees&&(Usn(i,{degrees:n.degrees,x:o.width/2,y:o.height/2}),bse(t))){const s=o.width-o.height;i==null||i.translate(s/2,-s/2)}return i==null||i.drawImage(e,0,0,e.width,e.height),o}function Zsn(e,t){return new _t(n=>{const r=Ysn.indexOf(t)+1,o=Ksn(e,r);n.next(o.toDataURL("image/jpeg",.1)),n.complete()})}function Xsn(e){return new _t(t=>{const n=new window.Image;return n.onerror=()=>{t.error(new Error('Could not load image from url "'.concat(e,'". Image may be of an unsupported format')))},n.onload=()=>{t.next(n),t.complete()},n.src=e,()=>{}})}function Qsn(e,t){return Xsn(window.URL.createObjectURL(e)).pipe(jt(n=>Zsn(n,t)))}const wl="_upload",Jsn=nt([wl]);function Vp(){return{type:"uploadProgress",patches:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const uPe=Vp([Jsn]);function dPe(e){const t=new Date().toISOString(),n={progress:2,createdAt:t,updatedAt:t,file:{name:e.name,type:e.type}};return Vp([vt(n,[wl])])}function ean(e,t,n){const r=Rsn(e,t,n).pipe(bt(i=>i.stage!=="download"),ue(i=>({...i,progress:2+i.percent/100*98})),ue(i=>i.type==="complete"?Vp([vt({_type:"reference",_ref:i.asset._id},["asset"]),vt(100,[wl,"progress"]),vt(new Date().toISOString(),[wl,"updatedAt"])]):Vp([vt(i.percent,[wl,"progress"]),vt(new Date().toISOString(),[wl,"updatedAt"])]))),o=Hsn(t).pipe(jt(i=>Qsn(t,i.orientation||qsn)),In(i=>(console.warn('Image preprocessing failed for "%s" with the error: %s',t.name,i.message),be(null))),bt(Boolean),ue(i=>Vp([vt(i,[wl,"previewImage"])])));return Hr(be(dPe(t)),pn(r,o),be(uPe))}function fPe(e,t,n){const r=$sn(e,t,n).pipe(ue(o=>o.type==="complete"?Vp([vt({_type:"reference",_ref:o.asset._id},["asset"]),vt(100,[wl,"progress"]),vt(new Date().toISOString(),[wl,"updated"])]):Vp([vt(o.percent,[wl,"progress"]),vt(new Date().toISOString(),[wl,"updated"])])));return Hr(be(dPe(t)),r,be(uPe))}const tan={type:"image",accepts:"image/*",upload:(e,t,n,r)=>ean(e,t,r)},nan={type:"file",accepts:"",upload:(e,t,n,r)=>fPe(e,t,r)},ran={type:"string",accepts:"text/*",upload:(e,t,n,r)=>fPe(e,t,r).pipe(ue(o=>({type:"uploadProgress",patches:[vt(o)]})))},oan=[tan,ran,nan].map((e,t)=>({...e,priority:t}));function rF(e,t){if(!e||!t)return!0;const n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(s=>{const a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?i===a.replace(/\/.*$/,""):o===a})}function ez(e,t){return oan.find(n=>{var r;return Ac(n.type,e)&&rF(t,n.accepts)&&rF(t,((r=e.options)==null?void 0:r.accept)||"")})||null}const ian=["_key","_type","_weak"];function hPe(e){return Object.keys(e).every(t=>ian.includes(t))}const san=(e,t)=>{const n=Is(t);return e.of.find(r=>r.name===n)};function aan(e,t){return Object.entries(e).map(n=>{let[r,o]=n;return vt(o,[...t,r])})}function pPe(e,t,n){return Cr(e).pipe(jt(r=>{const o={_key:r._key};return be(san(t,r)).pipe(jt(i=>i?be(i):Vr),jt(i=>!hPe(r)||!n?Vr:Hr(be({type:"patch",patches:[vt(!0,[o,"_resolvingInitialValue"])]}),No(()=>n(i,r)).pipe(bt(go),ue(s=>({type:"patch",patches:aan(s,[o])})),In(s=>be({type:"error",error:s,item:r,schemaType:i}))),be({type:"patch",patches:[nt([o,"_resolvingInitialValue"])]}))))}))}const wse="before",Cse="after";function lan(e,t,n){if(t!==wse&&t!==Cse)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(wse," or ").concat(Cse));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=_se(...o);if(e.length===0)return s;const a=e.length,c=Math.abs((a+n)%a)%a,u=t==="after"?c+1:c,d=e.slice();return d.splice(u,0,..._se(s)),d}function _se(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const Sse=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function can(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function uan(e,t){if(typeof t=="number")return t;const n=J7(e,t);return n===-1?!1:n}function dan(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!Sse(t.value,"from")||!Sse(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return can(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=uan(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return lan(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=nz(n[i],{...t,path:o}),n}function fan(e,t){const n=STe(e);if(t.path.length===0){if(t.type==="set"){if(!gw(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?Mi(n,r):(n[r]=nz(n[r],{...t,path:o}),n)}const mPe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},han=Object.keys(mPe);function pan(e,t){if(!han.includes(t.type))throw new Error('Received patch of unsupported type "'.concat(t.type,'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return mPe[t.type](e,t.value)}const gPe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=W5e(q5e(t),e,{allowExceedingIndices:!0});return n}},man=Object.keys(gPe);function gan(e,t){if(!man.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return gPe[t.type](e,t.value)}function tz(e,t){return t.reduce(nz,e)}function van(e,t){return Array.isArray(e)?dan(e,t):WT(e)?gan(e,t):gw(e)?fan(e,t):pan(e,t)}function nz(e,t){return van(e,t)}function yan(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onSetPathCollapsed:o,onSetFieldSetCollapsed:i,onPathOpen:s,onFieldGroupSelect:a}=ga(),{member:c,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,{field:{actions:y}}=ui().__internal,x=h.useRef(),b=h.useRef({});zi(c.field.focused,(J,re)=>{var fe;!J&&re&&((fe=x.current)==null||fe.focus())});const w=h.useCallback(J=>{J.currentTarget===J.target&&J.currentTarget===x.current&&n(c.field.path)},[c.field.path,n]),C=h.useCallback(J=>{J.currentTarget===J.target&&J.currentTarget===x.current&&t(c.field.path)},[c.field.path,t]),_=h.useRef(c.field.value);h.useEffect(()=>{_.current=c.field.value},[c.field.value]);const S=h.useCallback(J=>{const re=ft.from(J).patches;if(re.some(le=>le.type==="unset"&&le.path.length===1)&&(_.current=tz(_.current||[],re),Array.isArray(_.current)&&!_.current.length)){r(ft.from(nt([c.name])));return}r(ft.from(J).prepend(es([])).prefixAll(c.name))},[r,c.name,_]),E=Uz(),j=Wo(),k=h.useCallback(()=>{o(c.field.path,!0)},[o,c.field.path]),T=h.useCallback(()=>{o(c.field.path,!1)},[o,c.field.path]),A=h.useCallback(J=>{o(c.field.path.concat({_key:J}),!0)},[o,c.field.path]),D=h.useCallback(J=>{o(c.field.path.concat({_key:J}),!1)},[o,c.field.path]),I=h.useCallback(J=>{s(J),o(J,!1)},[s,o]),O=h.useCallback(()=>{s(c.field.path),o(c.field.path,!0)},[s,c.field.path,o]),$=h.useCallback(J=>{if(J.items.length===0)throw new Error("Insert event should include at least one item");const re=J.items.map(we=>JS(we));S(ft.from([gf(re,J.position,[J.referenceItem])]));const fe=re[0]._key,le=[...c.field.path,{_key:fe}];n(le);const ge=J.open!==!1;J.skipInitialValue?ge&&I(le):pPe(re,c.field.schemaType,E).pipe(qn(we=>{we.type==="patch"?S(we.patches):j.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(we.schemaType.title,": ").concat(we.error.message,"."),status:"error"})})).subscribe({complete:()=>{ge&&I(le)}})},[S,I,c.field.path,c.field.schemaType,n,E,j]),R=h.useCallback(J=>{const re=c.field.value,fe=re==null?void 0:re[J.fromIndex],le=re==null?void 0:re[J.toIndex];if(J.fromIndex!==J.toIndex){if(!(fe!=null&&fe._key)||!(le!=null&&le._key)){console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");return}S([nt([{_key:fe._key}]),gf([fe],J.fromIndex>J.toIndex?"before":"after",[{_key:le._key}])])}},[S,c.field.value]),V=h.useCallback(J=>{S([es([]),gf([JS(J)],"before",[0])])},[S]),N=h.useCallback(J=>{S([es([]),gf([JS(J)],"after",[-1])])},[S]),W=h.useCallback(J=>{b.current[J]&&(b.current[J].unsubscribe(),delete b.current[J]),S([nt([{_key:J}])])},[S]),q=h.useCallback(J=>{n(c.field.path.concat(J))},[c.field.path,n]),H=h.useMemo(()=>({onBlur:C,onFocus:w,id:c.field.id,ref:x,"aria-describedby":jh(c.field.id,c.field.schemaType.description)}),[C,w,c.field.id,c.field.schemaType.description]),Y=fr(sn),X=ui(),B=X.__internal.image.directUploads,K=X.__internal.file.directUploads,z=h.useCallback((J,re)=>Ac("image",J)&&!B||Ac("file",J)&&!K?null:ez(J,re),[K,B]),Z=h.useCallback(J=>{let{file:re,schemaType:fe,uploader:le}=J;const ge=v1(fe),we=ge._key;$({items:[ge],position:"after",referenceItem:-1,open:!1});const ce=le.upload(Y,re,fe).pipe(ue(ve=>ft.from(ve.patches||[]).prefixAll({_key:we})),qn(ve=>S(ve.patches)));b.current={...b.current,[we]:ce.subscribe()}},[Y,S,$]),Q=h.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,onItemExpand:D,onItemCollapse:A,onItemClose:O,onItemOpen:I,focusPath:c.field.focusPath,focused:c.field.focused,path:c.field.path,onChange:S,onInsert:$,onItemMove:R,onItemRemove:W,onItemAppend:N,onItemPrepend:V,onPathFocus:q,resolveInitialValue:E,onUpload:Z,resolveUploader:z,validation:c.field.validation,presence:c.field.presence,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderField:f,renderItem:v,renderPreview:g,elementProps:H}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.focusPath,c.field.focused,c.field.path,c.field.validation,c.field.presence,D,A,O,I,S,$,R,W,N,V,q,E,Z,z,u,d,p,m,f,v,g,H]),ne=h.useMemo(()=>m(Q),[Q,m]),G=h.useMemo(()=>({actions:y,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,changed:c.field.changed,onCollapse:k,onExpand:T,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:ne,inputProps:Q}),[y,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,k,T,ne,Q]);return l.jsx(xC,{onFieldGroupSelect:a,onChange:S,onSetFieldSetCollapsed:i,onSetPathCollapsed:o,onPathOpen:s,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(G),[G,f])})}function vPe(e,t,n){return Wp(e)&&typeof n=="string"&&Number(n)===t?n:String(t??"")}function ban(e){const{member:t,renderInput:n,renderField:r}=e,{field:{actions:o}}=ui().__internal,i=h.useRef(),[s,a]=h.useState(),{onPathBlur:c,onPathFocus:u,onChange:d}=ga();h.useEffect(()=>{var C;t.field.focused&&((C=i.current)==null||C.focus())},[t.field.focused]);const f=h.useCallback(()=>{c(t.field.path)},[t.field.path,c]),p=h.useCallback(()=>{u(t.field.path)},[t.field.path,u]),m=h.useCallback(C=>{d(ft.from(C).prefixAll(t.name))},[d,t.name]),v=h.useCallback(C=>{let _=C.currentTarget.value;if(Wp(t.field.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else pw(t.field.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);Wp(t.field.schemaType)&&a(S?void 0:C.currentTarget.value),d(ft.from(S?nt():vt(_)).prefixAll(t.name))},[t.name,t.field.schemaType,d]),g=h.useMemo(()=>t.field.validation.filter(C=>C.level==="error").map(C=>C.message).join(`
`),[t.field.validation])||void 0,y=h.useMemo(()=>({onBlur:f,onFocus:p,id:t.field.id,ref:i,onChange:v,value:vPe(t.field.schemaType,t.field.value,s),readOnly:!!t.field.readOnly,placeholder:t.field.schemaType.placeholder,"aria-describedby":jh(t.field.id,t.field.schemaType.description)}),[f,p,v,t.field.id,t.field.readOnly,t.field.schemaType,t.field.value,s]),x=h.useMemo(()=>({value:t.field.value,readOnly:t.field.readOnly,schemaType:t.field.schemaType,changed:t.field.changed,id:t.field.id,path:t.field.path,focused:t.field.focused,level:t.field.level,onChange:m,validation:t.field.validation,presence:t.field.presence,validationError:g,elementProps:y}),[t.field.value,t.field.readOnly,t.field.schemaType,t.field.changed,t.field.id,t.field.path,t.field.focused,t.field.level,t.field.validation,t.field.presence,m,g,y]),b=h.useMemo(()=>n(x),[x,n]),w=h.useMemo(()=>({actions:o,changed:t.field.changed,children:b,description:t.field.schemaType.description,index:t.index,inputId:t.field.id,inputProps:x,level:t.field.level,name:t.name,path:t.field.path,presence:t.field.presence,schemaType:t.field.schemaType,title:t.field.schemaType.title,validation:t.field.validation,value:t.field.value}),[o,t.field.level,t.field.value,t.field.schemaType,t.field.id,t.field.path,t.field.validation,t.field.presence,t.field.changed,t.name,t.index,b,x]);return l.jsx(l.Fragment,{children:r(w)})}const xan=function(t){const{onPathBlur:n,onPathFocus:r,onChange:o,onPathOpen:i,onSetPathCollapsed:s,onSetFieldSetCollapsed:a,onFieldGroupSelect:c}=ga(),{member:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:y}=t,{field:{actions:x}}=ui().__internal,b=h.useRef(),w=h.useRef(u.field.value);h.useEffect(()=>{w.current=u.field.value},[u.field.value]),zi(u.field.focused,(X,B)=>{var K;!X&&B&&((K=b.current)==null||K.focus())});const C=h.useCallback(()=>{n(u.field.path)},[u.field.path,n]),_=h.useCallback(()=>{r(u.field.path)},[u.field.path,r]),S=h.useCallback(X=>{r(u.field.path.concat(X))},[u.field.path,r]),E=h.useCallback(X=>{if(!(u.field.path.length===0)){const K=ft.from(X).patches;if(w.current=tz(w.current||{},K),w.current&&fMt(w.current)){o(ft.from(nt([u.name])));return}}o(ft.from(X).prepend(es(JN(u.field.schemaType))).prefixAll(u.name))},[o,u,w]),j=h.useCallback(()=>{s(u.field.path,!0)},[s,u.field.path]),k=h.useCallback(()=>{s(u.field.path,!1)},[s,u.field.path]),T=h.useCallback(X=>{s(u.field.path.concat(X),!0)},[s,u.field.path]),A=h.useCallback(X=>{s(u.field.path.concat(X),!1)},[s,u.field.path]),D=h.useCallback(X=>{i(u.field.path.concat(X))},[i,u.field.path]),I=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),O=h.useCallback(X=>{a(u.field.path.concat(X),!1)},[a,u.field.path]),$=h.useCallback(X=>{a(u.field.path.concat(X),!0)},[a,u.field.path]),R=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),V=h.useCallback(()=>{i(u.field.path.slice(0,-1))},[i,u.field.path]),N=h.useCallback(X=>{c(u.field.path,X)},[c,u.field.path]),W=h.useMemo(()=>({onBlur:C,onFocus:_,id:u.field.id,ref:b,"aria-describedby":jh(u.field.id,u.field.schemaType.description)}),[C,_,u.field.id,u.field.schemaType.description]),q=h.useMemo(()=>({elementProps:W,level:u.field.level,members:u.field.members,value:u.field.value,readOnly:u.field.readOnly,validation:u.field.validation,presence:u.field.presence,schemaType:u.field.schemaType,changed:u.field.changed,id:u.field.id,onFieldGroupSelect:N,onFieldOpen:D,onFieldClose:I,onFieldCollapse:T,onFieldExpand:A,onFieldSetExpand:O,onFieldSetCollapse:$,onPathFocus:S,path:u.field.path,focusPath:u.field.focusPath,focused:u.field.focused,groups:u.field.groups,onChange:E,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:y}),[W,u.field.level,u.field.members,u.field.value,u.field.readOnly,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.field.focusPath,u.field.focused,u.field.groups,N,D,I,T,A,O,$,S,E,d,f,p,m,v,g,y]),H=h.useMemo(()=>v(q),[q,v]),Y=h.useMemo(()=>({actions:x,name:u.name,index:u.index,level:u.field.level,value:u.field.value,validation:u.field.validation,presence:u.field.presence,title:u.field.schemaType.title,description:u.field.schemaType.description,collapsible:u.collapsible,collapsed:u.collapsed,onCollapse:j,onExpand:k,open:u.open,changed:u.field.changed,onOpen:R,onClose:V,schemaType:u.field.schemaType,inputId:u.field.id,path:u.field.path,children:H,inputProps:q}),[x,u.name,u.index,u.field.level,u.field.value,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.collapsible,u.collapsed,u.open,j,k,R,V,H,q]);return l.jsx(xC,{onFieldGroupSelect:c,onChange:E,onSetFieldSetCollapsed:a,onPathOpen:i,onSetPathCollapsed:s,onPathBlur:n,onPathFocus:r,children:h.useMemo(()=>p(Y),[Y,p])})};function wan(e,t){return new _t(n=>{const r=new FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsText(e,t),()=>{r.abort()}})}function Can(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function _an(e,t,n){const r=t.slice();return r.splice(e+1,0,...n),r}function San(e){return/^\d+$/.test(e)}function Ean(e,t){let n=!1,r=!1,o=!1;return t.forEach(i=>{pw(i)&&(n=!0),F0e(i)&&(o=!0),Wp(i)&&(r=!0)}),n&&(e==="true"||e==="false")?e==="true":r&&San(e)?Number(e):o?e:void 0}function kan(e){return{priority:0,accepts:"text/*",type:"string",upload(t,n){return wan(n,"utf-8").pipe(ue(r=>r==null?void 0:r.split(/[\n\r]/).map(o=>Ean(o,e)).filter(o=>o!==void 0)),bt(r=>Array.isArray(r)),ue(r=>({type:"uploadProgress",patches:[gf(r,"after",[-1])]})))}}}function jan(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:o,onSetPathCollapsed:i,onSetFieldSetCollapsed:s,onFieldGroupSelect:a}=ga(),{member:c,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,{field:{actions:y}}=ui().__internal,x=h.useRef(),b=h.useRef(),w=fr(sn);zi(c.field.focused,(B,K)=>{var z;!B&&K&&((z=x.current)==null||z.focus())});const C=h.useCallback(B=>{B.currentTarget===B.target&&B.currentTarget===x.current&&n(c.field.path)},[c.field.path,n]),_=h.useCallback(B=>{B.currentTarget===B.target&&B.currentTarget===x.current&&t(c.field.path)},[c.field.path,t]),S=h.useCallback(B=>{const K=ft.from(B).patches;if(K.some(Z=>Z.type==="unset"&&Z.path.length===1)){const Z=tz(c.field.value||[],K);if(Array.isArray(Z)&&!Z.length){r(ft.from(nt([c.name])));return}}r(ft.from(B).prepend(es([])).prefixAll(c.name))},[r,c.name,c.field.value]),E=h.useCallback(B=>{i(c.field.path,B)},[i,c.field.path]),j=h.useCallback(()=>{i(c.field.path,!0)},[i,c.field.path]),k=h.useCallback(()=>{i(c.field.path,!1)},[i,c.field.path]),T=h.useCallback(B=>{S(B.length===0?nt():vt(B))},[S]),A=h.useCallback(B=>{const{value:K=[]}=c.field;B.fromIndex!==B.toIndex&&T(Can(K,B.fromIndex,B.toIndex))},[c.field,T]),D=h.useCallback(B=>{const{value:K=[]}=c.field;T(K.concat(B))},[c.field,T]),I=h.useCallback(B=>{const{value:K=[]}=c.field;T([B].concat(K||[]))},[c.field,T]),O=h.useCallback(B=>{const{value:K=[]}=c.field,z=B.referenceIndex+(B.position==="before"?-1:0);T(_an(z,K,B.items))},[c.field,T]),$=h.useCallback(B=>{S(nt([B]))},[S]),R=h.useCallback(B=>{n(c.field.path.concat([B]))},[c.field.path,n]),V=h.useMemo(()=>({onBlur:_,onFocus:C,id:c.field.id,ref:x,"aria-describedby":jh(c.field.id,c.field.schemaType.description)}),[_,C,c.field.id,c.field.schemaType.description]),N=h.useMemo(()=>kan(c.field.schemaType.of),[c.field.schemaType.of]),W=h.useCallback((B,K)=>rF(K,"text/*")?N:null,[N]),q=h.useCallback(B=>{let{file:K,schemaType:z,uploader:Z}=B;const Q=Z.upload(w,K,z).pipe(ue(ne=>ft.from(ne.patches||[])),qn(ne=>S(ne.patches)));b.current&&b.current.unsubscribe(),b.current=Q.subscribe()},[w,S]),H=h.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,onSetCollapsed:E,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,elementProps:V,path:c.field.path,focusPath:c.field.focusPath,focused:c.field.focused,onChange:S,onInsert:O,onMoveItem:A,onItemRemove:$,onItemAppend:D,onItemPrepend:I,validation:c.field.validation,presence:c.field.presence,resolveUploader:W,onUpload:q,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderItem:v,onIndexFocus:R,renderPreview:g}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.focusPath,c.field.focused,c.field.validation,c.field.presence,E,V,S,O,A,$,D,I,W,q,u,d,p,m,v,R,g]),Y=h.useMemo(()=>m(H),[H,m]),X=h.useMemo(()=>({actions:y,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,onExpand:k,changed:c.field.changed,onCollapse:j,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:Y,inputProps:H}),[y,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,k,j,Y,H]);return l.jsx(xC,{onFieldGroupSelect:a,onChange:S,onPathOpen:o,onSetFieldSetCollapsed:s,onSetPathCollapsed:i,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(X),[X,f])})}function yPe(e){return Qa(e.field.schemaType)}function Tan(e){return Wl(e.field.schemaType)&&e.field.schemaType.of.every(t=>L0e(t))}function rz(e){return Wl(e.field.schemaType)&&e.field.schemaType.of.every(t=>Qa(t))}const TC=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=t;return yPe(n)?l.jsx(xan,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}):Tan(n)?l.jsx(jan,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInput:a,renderInlineBlock:s,renderItem:c,renderPreview:u}):rz(n)?l.jsx(yan,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}):l.jsx(ban,{member:n,renderField:i,renderInput:a})}),bPe=["yes","true","1"],xPe=["false","no","false","0","null"],Aan=bPe.concat(xPe),C2=()=>!0,Dan=e=>t=>t&&t[e],Ian=e=>t=>(t&&t._type)===e;function Oan(e){const t=new Date(e.getTime()+e.getTimezoneOffset()*60*1e3),n=e.getTimezoneOffset()/60,r=e.getHours();return t.setHours(r-n),t}function Pan(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const c3={string:{number:{test:Number,convert:Number},boolean:{test:e=>Aan.includes(e.toLowerCase()),convert:e=>bPe.includes(e.toLowerCase())||!xPe.includes(e.toLowerCase())},richDate:{test:e=>td(e),convert:e=>({_type:"richDate",local:Oan(new Date(e)).toJSON(),utc:new Date(e).toJSON(),timezone:Pan(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:Ian("date"),convert:e=>Object.assign({},e,{_type:"richDate"})}},richDate:{datetime:{test:Dan("utc"),convert:e=>e.utc}},number:{string:{test:C2,convert:String},boolean:{test:C2,convert:Number}},boolean:{string:{test:C2,convert:e=>e?"Yes":"No"},number:{test:C2,convert:Number}}};function Ran(e){let{value:t,targetType:n,onChange:r}=e;const o=h.useMemo(()=>({...t,_type:n}),[n,t]),i=h.useCallback(()=>r(ft.from(es(n,["_type"])),o),[o,r,n]);return l.jsx(se,{onClick:i,text:l.jsxs(l.Fragment,{children:["Convert to ",l.jsx("code",{children:n})]})})}function $an(e){let{value:t,onChange:n,validTypes:r}=e;const o=h.useMemo(()=>({...t,_type:r[0]}),[r,t]),i=h.useCallback(()=>n(ft.from(nt()),o),[o,n]);return l.jsx(se,{onClick:i,tone:"critical",text:"Unset value"})}function Man(e){let{validTypes:t,value:n,onChange:r}=e;const o=_n(),i=t.length===1,s=o.has(t[0]);return l.jsx(Jc,{status:"warning",title:l.jsxs(l.Fragment,{children:["Property value missing ",l.jsx("code",{children:"_type"})]}),children:l.jsx(Xm,{open:eu,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Encountered an object value without a ",l.jsx("code",{children:"_type"})," property."]}),i&&!s&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["Either remove the ",l.jsx("code",{children:"name"})," property of the object declaration, or set"," ",l.jsx("code",{children:"_type"})," property on items."]}),!i&&l.jsx(L,{as:"p",muted:!0,size:1,children:"The following types are valid here according to schema:"}),!i&&l.jsx(oe,{as:"ul",space:2,children:t.map(a=>l.jsx(L,{as:"li",muted:!0,size:1,children:l.jsx("code",{children:a})},a))}),l.jsxs(oe,{space:2,children:[l.jsxs(L,{as:"h4",weight:"semibold",size:1,children:["Current value (",l.jsx("code",{children:"object"}),"):"]}),l.jsx(ee,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:l.jsx(ir,{language:"json",children:JSON.stringify(n,null,2)})})]}),l.jsxs(Qt,{columns:[1,2,2],gap:1,children:[i&&l.jsx(Ran,{onChange:r,targetType:t[0],value:n}),l.jsx($an,{onChange:r,validTypes:t,value:n})]})]})})})}function Fan(e,t,n){return t in c3?Object.keys(c3[t]).filter(r=>n.includes(r)).map(r=>({from:t,to:r,...c3[t][r]})).filter(r=>r.test(e)):[]}const wPe=h.forwardRef((e,t)=>{const{value:n,actualType:r,validTypes:o,onChange:i}=e;h.useImperativeHandle(t,()=>({focus:()=>{}}));const s=h.useCallback(()=>{i(ft.from(nt()))},[i]),a=h.useCallback(d=>{i(ft.from(vt(d)))},[i]),c=h.useMemo(()=>Fan(n,r,o),[n,r,o]);if(Sr(n)&&!("_type"in n))return l.jsx(Man,{value:n,validTypes:o,onChange:i});const u=l.jsx(oe,{padding:2,children:l.jsx(se,{onClick:s,tone:"critical",text:"Reset value"})});return l.jsxs(Jc,{status:"error",suffix:u,title:l.jsx(l.Fragment,{children:"Invalid property value"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"The property value is stored as a value type that does not match the expected type."}),l.jsx(Xm,{marginTop:4,open:eu,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(oe,{space:3,children:[o.length===1&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of this property must be of type ",l.jsx("code",{children:o[0]})," according to the schema."]}),o.length===1&&l.jsx(L,{as:"p",muted:!0,size:1,children:"Mismatching value types typically occur when the schema has recently been changed."}),o.length!==1&&l.jsx(L,{as:"p",muted:!0,size:1,children:"Only the following types are valid here according to schema:"}),o.length!==1&&l.jsx(oe,{as:"ul",space:2,children:o.map(d=>l.jsx(L,{as:"li",children:l.jsx("code",{children:d})},d))}),l.jsxs(oe,{marginTop:2,space:2,children:[l.jsxs(L,{size:1,weight:"semibold",children:["The current value (",l.jsx("code",{children:r}),")"]}),l.jsx(ee,{border:!0,padding:2,radius:2,tone:"inherit",children:l.jsx(ir,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),c.length>0&&l.jsx(oe,{space:1,children:c.map(d=>l.jsx(Lan,{converter:d,onConvert:a,value:n},"".concat(d.from,"-").concat(d.to)))})]})})]})});wPe.displayName="InvalidValueInput";function Lan(e){let{converter:t,onConvert:n,value:r}=e;const o=h.useCallback(()=>n(t.convert(r)),[t,n,r]);return l.jsx(se,{onClick:o,text:l.jsxs(l.Fragment,{children:["Convert to ",l.jsx("code",{children:t.to})]})})}function Ban(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(ft.from((t.value||[]).map((o,i)=>es(lC(),[i,"_key"]))))},[t.value,n]);return l.jsx(g1,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Jc,{status:"warning",suffix:l.jsx(oe,{padding:2,children:l.jsx(se,{onClick:r,text:"Add missing keys",tone:"caution"})}),title:l.jsx(l.Fragment,{children:"Missing keys"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Some items in the list are missing their keys. This must be fixed in order to edit the list."}),l.jsx(Xm,{marginTop:4,open:eu,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",l.jsx("code",{children:"_key"})," property has not been included."]}),l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of the ",l.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function Nan(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(ft.from((t.duplicates||[]).map(o=>{let[i,s]=o;return vt("".concat(s,"_deduped_").concat(i),[i,"_key"])})))},[t.duplicates,n]);return l.jsx(g1,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Jc,{status:"warning",suffix:l.jsx(oe,{padding:2,children:l.jsx(se,{onClick:r,text:"Generate unique keys",tone:"caution"})}),title:l.jsx(l.Fragment,{children:"Non-unique keys"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Several items in this list share the same identifier (key). Every item must have an unique identifier."}),l.jsx(Xm,{marginTop:4,open:eu,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",l.jsx("code",{children:"_key"})," property of each elements has been generated non-uniquely."]}),l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of the ",l.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function zan(e){const{error:t,onChange:n}=e,r=()=>{const i=(t.value||[]).flatMap((s,a)=>Sr(s)?[]:[a]).reverse().map(s=>nt([s]));n(ft.from(i))};return l.jsx(g1,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Jc,{status:"error",suffix:l.jsx(oe,{padding:2,children:l.jsx(se,{onClick:r,text:"Remove non-object values",tone:"critical"})}),title:l.jsx(l.Fragment,{children:"Invalid list values"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Some items in this list are not objects. This must be fixed in order to edit the list."}),l.jsx(Xm,{marginTop:4,open:eu,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsx(oe,{space:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list."})})})]})})}function aD(e){const{member:t}=e,{onChange:n}=ga(),r=h.useCallback(o=>{n(ft.from(o).prefixAll(t.fieldName))},[n,t.fieldName]);return t.error.type==="INCOMPATIBLE_TYPE"?l.jsx(wPe,{value:t.error.value,onChange:r,actualType:t.error.resolvedValueType,validTypes:[t.error.expectedSchemaType.name]}):t.error.type==="MISSING_KEYS"?l.jsx(Ban,{error:t.error,onChange:r}):t.error.type==="DUPLICATE_KEYS"?l.jsx(Nan,{error:t.error,onChange:r}):t.error.type==="MIXED_ARRAY"?l.jsx(zan,{onChange:r,error:t.error}):l.jsxs(M,{children:["Unexpected error: ",e.member.error.type]})}const oz=h.memo(function(t){var n;const{member:r,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:c,renderItem:u,renderPreview:d}=t,{onSetFieldSetCollapsed:f}=ga(),p=h.useCallback(()=>{f(r.fieldSet.path,!0)},[r.fieldSet.path,f]),m=h.useCallback(()=>{f(r.fieldSet.path,!1)},[r.fieldSet.path,f]);return l.jsx(nD,{title:r.fieldSet.title||Vm(r.fieldSet.name),description:r.fieldSet.description,level:r.fieldSet.level,collapsible:r.fieldSet.collapsible,collapsed:r.fieldSet.collapsed,onCollapse:p,onExpand:m,columns:(n=r==null?void 0:r.fieldSet)==null?void 0:n.columns,"data-testid":"fieldset-".concat(r.fieldSet.name),inputId:r.fieldSet.name,children:r.fieldSet.members.map(v=>v.kind==="error"?l.jsx(aD,{member:v},r.key):l.jsx(TC,{member:v,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:c,renderItem:u,renderPreview:d},v.key))})});function iz(e){const t=h.useRef(),{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=e,{onPathBlur:d,onPathFocus:f,onChange:p,onPathOpen:m,onSetPathCollapsed:v,onSetFieldSetCollapsed:g,onFieldGroupSelect:y}=ga(),x=Uz();zi(n.item.focused,(z,Z)=>{var Q;!z&&Z&&((Q=t.current)==null||Q.focus())});const b=h.useCallback(()=>{p(ft.from([nt([{_key:n.key}])]))},[n.key,p]),w=h.useCallback(z=>{m(z),v(z,!1)},[m,v]),C=Wo(),_=h.useCallback(z=>{if(z.items.length===0)throw new Error("Insert event should include at least one item");const Z=z.items.map(re=>JS(re));p(ft.from([gf(Z,z.position,[{_key:n.key}])]));const Q=Z[0]._key,G=[...n.item.path.slice(0,-1),{_key:Q}];f(G);const J=z.open!==!1;z.skipInitialValue?J&&w(G):pPe(Z,n.parentSchemaType,x).pipe(qn(re=>{re.type==="patch"?p(ft.from(re.patches)):C.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(re.schemaType.title,": ").concat(re.error.message,"."),status:"error"})})).subscribe({complete:()=>{J&&w(G)}})},[w,n.item.path,n.key,n.parentSchemaType,p,f,x,C]),S=h.useCallback(()=>{d(n.item.path)},[n.item.path,d]),E=h.useCallback(()=>{f(n.item.path)},[n.item.path,f]),j=h.useCallback(z=>{f(n.item.path.concat(z))},[n.item.path,f]),k=h.useCallback(z=>{p(ft.from(z).prepend(es(JN(n.item.schemaType))).prefixAll({_key:n.key}))},[p,n.item.schemaType,n.key]),T=h.useCallback(()=>{v(n.item.path,!0)},[v,n.item.path]),A=h.useCallback(()=>{v(n.item.path,!1)},[v,n.item.path]),D=h.useCallback(z=>{v(n.item.path.concat(z),!0)},[v,n.item.path]),I=h.useCallback(z=>{v(n.item.path.concat(z),!1)},[v,n.item.path]),O=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),$=h.useCallback(z=>{m(n.item.path.concat(z))},[m,n.item.path]),R=h.useCallback(z=>{g(n.item.path.concat(z),!1)},[g,n.item.path]),V=h.useCallback(z=>{g(n.item.path.concat(z),!0)},[g,n.item.path]),N=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),W=!n.item.value||hPe(n.item.value),q=h.useCallback(()=>{W&&b();const z=n.item.path.slice(0,-1);m(z),f(z)},[W,m,n.item.path,f,b]),H=h.useCallback(z=>{y(n.item.path,z)},[y,n.item.path]),Y=h.useMemo(()=>({onBlur:S,onFocus:E,id:n.item.id,ref:t,"aria-describedby":jh(n.item.id,n.item.schemaType.description)}),[S,E,n.item.id,n.item.schemaType.description]),X=h.useMemo(()=>({changed:n.item.changed,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:k,onFieldClose:O,onFieldCollapse:D,onFieldSetCollapse:V,onFieldExpand:I,onFieldSetExpand:R,onFieldGroupSelect:H,onPathFocus:j,onFieldOpen:$,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:Y}),[Y,k,O,D,V,I,R,j,$,H,n.item.changed,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,o,i,s,a,c,u]),B=h.useMemo(()=>a(X),[X,a]),K=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:_,onRemove:b,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:N,onClose:q,onExpand:A,onCollapse:T,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:E,onBlur:S,inputId:n.item.id,path:n.item.path,children:B,changed:n.item.changed,inputProps:X}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.parentSchemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.open,_,b,N,q,A,T,E,S,B,X]);return l.jsx(xC,{onFieldGroupSelect:y,onChange:k,onPathOpen:m,onSetFieldSetCollapsed:g,onSetPathCollapsed:v,onPathBlur:d,onPathFocus:f,children:h.useMemo(()=>c(K),[K,c])})}function sz(e){switch(e.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error('Unable to create value from type "'.concat(e.jsonType,'"'))}}function Van(e){const t=h.useRef(),{member:n,renderItem:r,renderInput:o}=e,[i,s]=h.useState(),{onPathBlur:a,onPathFocus:c,onChange:u}=ga();zi(n.item.focused,(C,_)=>{var S;!C&&_&&((S=t.current)==null||S.focus())});const d=h.useCallback(C=>{a(n.item.path)},[n.item.path,a]),f=h.useCallback(C=>{c(n.item.path)},[n.item.path,c]),p=h.useCallback(C=>{u(ft.from(C).prefixAll(n.index))},[u,n.index]),m=h.useCallback(C=>{let _=C.currentTarget.value;if(Wp(n.item.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else pw(n.item.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);Wp(n.item.schemaType)&&s(S?void 0:C.currentTarget.value),p(vt(S?sz(n.item.schemaType):_))},[p,n.item.schemaType]),v=h.useMemo(()=>({onBlur:d,onFocus:f,id:n.item.id,ref:t,onChange:m,value:Han(n.item.schemaType,n.item.value,i),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder,"aria-describedby":jh(n.item.id,n.item.schemaType.description)}),[d,f,m,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,i]),g=h.useMemo(()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:p,validation:n.item.validation,presence:n.item.presence,elementProps:v}),[n.item.changed,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,p,v]),y=h.useMemo(()=>o(g),[g,o]),x=h.useCallback(()=>{u(ft.from([nt([n.index])]))},[n.index,u]),b=h.useCallback(C=>{u(ft.from([gf(C.items,C.position,[n.index])]))},[n.index,u]),w=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:b,onRemove:x,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:f,onBlur:d,inputId:n.item.id,path:n.item.path,children:y}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,b,x,f,d,y]);return l.jsx(l.Fragment,{children:h.useMemo(()=>r(w),[w,r])})}function Han(e,t,n){return Object.is(t,-0)?"":vPe(e,t,n)}var Ese=Object.freeze,Uan=Object.defineProperty,Wan=(e,t)=>Ese(Uan(e,"raw",{value:Ese(t||e.slice())})),kse;const Yan=P(ee)(kse||(kse=Wan([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function CPe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ie.useState(!1),[a,c]=ie.useState(null);lr(()=>s(!1),[a]);const u=ie.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Is(t);return l.jsx(Jt,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(Yan,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(oe,{space:4,children:[l.jsxs(L,{weight:"semibold",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]}),l.jsx(L,{size:1,weight:"semibold",children:"Why is this happening?"}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(bj,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(oe,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(ee,{padding:2,overflow:"auto",border:!0,children:l.jsx(ir,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(ee,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:3,children:l.jsx(L,{children:l.jsx(Al,{})})}),l.jsx(M,{flex:1,children:l.jsxs(L,{size:1,textOverflow:"ellipsis",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]})})]})})})}function qan(e){const{member:t}=e;return t.error.type==="INVALID_ITEM_TYPE"?l.jsx(CPe,{value:t.error.value}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})}const Gan=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderInput:i,renderInlineBlock:s,renderField:a,renderItem:c,renderPreview:u}=t;return n.kind==="field"?l.jsx(TC,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:c,renderPreview:u},n.key):n.kind==="error"?l.jsx(aD,{member:n},n.key):n.kind==="fieldSet"?l.jsx(oz,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:c,renderPreview:u},n.key):(console.warn(new Error("Unhandled member kind ".concat(n.kind))),null)});function Kan(e){const{members:t,renderAnnotation:n,renderBlock:r,renderInput:o,renderInlineBlock:i,renderField:s,renderItem:a,renderPreview:c}=e,u=h.useMemo(()=>t.map(d=>l.jsx(Gan,{member:d,renderAnnotation:n,renderBlock:r,renderField:s,renderInlineBlock:i,renderInput:o,renderItem:a,renderPreview:c},d.key)),[t,n,r,s,i,o,a,c]);return l.jsx(l.Fragment,{children:u})}const gy=e=>{let{children:t}=e;return t};function Zan(e){return"absolutePath"in e}const _Pe=h.memo(function(t){const n=h.useMemo(()=>Zan(t)?t.absolutePath:t.path.concat(t.relativePath),[t]),r=h.useCallback(()=>l.jsx(l.Fragment,{children:"Missing destination render function"}),[]);return l.jsx(Xan,{...t,absolutePath:n,destinationRenderAnnotation:t.renderAnnotation||r,destinationRenderBlock:t.renderBlock||r,destinationRenderField:t.renderField,destinationRenderInlineBlock:t.renderInlineBlock||r,destinationRenderInput:t.renderInput,destinationRenderItem:t.renderItem,destinationRenderPreview:t.renderPreview})}),Xan=h.memo(function e(t){const{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderInput:a,destinationRenderItem:c,destinationRenderPreview:u}=t,d=h.useCallback(y=>{if(vn(y.path,n)||Si(n,y.path))return a(y);if(!gse(y)&&!vse(y))throw new Error("Expected either object input props or array input props for: ".concat(JSON.stringify(y.path)));return l.jsx(e,{...y,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderInput:a,destinationRenderItem:c,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderPreview:u})},[n,r,o,i,s,a,c,u]),f=h.useCallback(y=>Si(n,y.path)&&(t.includeField||!vn(n,y.path))?i(y):gy(y),[n,i,t.includeField]),p=h.useCallback(y=>Si(n,y.path)&&(t.includeItem||!vn(n,y.path))?c(y):gy(y),[n,c,t.includeItem]),m=h.useCallback(y=>Si(n,y.path)&&(t.includeItem||!vn(n,y.path))?o(y):gy(y),[n,o,t.includeItem]),v=h.useCallback(y=>Si(n,y.path)&&(t.includeItem||!vn(n,y.path))?s(y):gy(y),[n,s,t.includeItem]),g=h.useCallback(y=>Si(n,y.path)&&(t.includeItem||!vn(n,y.path))?r(y):gy(y),[n,r,t.includeItem]);if(vse(t)){const y=eb(t.path,n),x=t.members.find(b=>b.kind=="item"&&Pr(y[0])&&b.key===y[0]._key);if(!x){const w=eb(t.path,n)[0]._key;return l.jsxs("div",{children:["No array item with _key ",l.jsxs("code",{children:['"',w,'"']})," found at path ",JSON.stringify(t.path)]})}return x.kind==="error"?l.jsx(qan,{member:x}):l.jsx(iz,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderField:f,renderInlineBlock:v,renderItem:p,renderPreview:u})}if(gse(t)){const y=eb(t.path,n),x=t.members.find(b=>b.kind=="field"&&y[0]===b.name);if(!x){const b=y[0];return l.jsxs("div",{children:["Field ",JSON.stringify(b)," not found among members – please verify that it's both defined in the schema and that it has not been conditionally hidden."]})}return l.jsx(TC,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderInlineBlock:v,renderField:f,renderItem:p,renderPreview:u})}throw new Error("FormInput can only be used with arrays or objects")}),SPe=h.createContext(null);function Qan(){const e=h.useContext(SPe);if(!e)throw new Error("VirtualizerScrollInstance: missing context value");return e}function Qx(e){const{scrollElement:t,containerElement:n}=e;return l.jsx(SPe.Provider,{value:{scrollElement:t,containerElement:n},children:e.children})}const Jan=[0,0,1,0];function EPe(e){const{children:t,header:n,id:r,legacy_referenceElement:o,onClose:i,type:s,width:a,autofocus:c}=e,[u,d]=h.useState(null),f=h.useRef(null),p=l.jsx(jC,{margins:Jan,children:l.jsx(M,{ref:f,padding:4,children:t})});return s==="dialog"?l.jsx(Qx,{scrollElement:u,containerElement:f,children:l.jsx(Li,{header:n,id:r||"",onClickOutside:i,onClose:i,width:a,contentRef:d,__unstable_autoFocus:c,children:p})}):l.jsx(sZt,{header:n,onClose:i,referenceElement:o,width:a,containerRef:d,children:l.jsx(Qx,{scrollElement:u,containerElement:f,children:p})})}function eln(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const tln={portal:!0,tone:"default"},nln={position:"absolute",top:0,left:0,bottom:0,right:0,opacity:.6},rln={position:"relative"};function oln(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:c,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:y,onClose:x,changed:b,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=c.options)==null?void 0:t.sortable)!==!1,E=c.of,j=h.useRef(null);tD(j,m),zi(w,(Y,X)=>{var B;!Y&&X&&j.current&&((B=j.current)==null||B.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Zx()}],position:"after"})},[v,p]),A=h.useCallback((Y,X)=>{v({items:[v1(X)],position:Y})},[v]),D=u1(u,!0),I=h.useMemo(()=>D.length===0?null:l.jsx(kC,{presence:D,maxAvatars:1}),[D]),O=DN(u,!0),$=h.useMemo(()=>O.length===0?null:l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(m1,{validation:O,__unstable_showSummary:!0})}),[O]),R=O.some(Y=>Y.level==="error"),V=O.some(Y=>Y.level==="warning"),N=h.useMemo(()=>d?null:l.jsx(en,{button:l.jsx(se,{padding:2,mode:"bleed",icon:Ao}),id:"".concat(e.inputId,"-menuButton"),menu:l.jsxs(Bt,{children:[l.jsx(Ve,{text:"Remove",tone:"critical",icon:po,onClick:f}),l.jsx(Ve,{text:"Duplicate",icon:Vu,onClick:T}),l.jsx(iD,{types:E,onInsert:A})]}),popover:tln}),[T,A,f,E,e.inputId,d]),W=eln({readOnly:d,hasErrors:R,hasWarnings:V}),q=l.jsx(rD,{menu:N,presence:I,validation:$,tone:W,focused:w,dragHandle:S,selected:m,children:l.jsxs(ee,{as:"button",type:"button",tone:"inherit",radius:2,disabled:k,padding:1,onClick:y,ref:j,onFocus:g,__unstable_focusRing:!0,style:rln,children:[_({schemaType:e.schemaType,value:e.value,layout:"default",skipVisibilityCheck:!0}),k&&l.jsx(ee,{style:nln,tone:"transparent",radius:2,as:U,justify:"center",children:l.jsxs(U,{align:"center",justify:"center",padding:3,children:[l.jsx(M,{marginX:3,children:l.jsx(ur,{muted:!0})}),l.jsx(L,{size:1,muted:!0,children:"Resolving initial value…"})]})})]})}),H=zp(a);return l.jsxs(l.Fragment,{children:[l.jsx(ci,{path:u,isChanged:b,hasFocus:!!w,children:l.jsx(M,{paddingX:1,children:q})}),m&&l.jsx(EPe,{header:d?"View ".concat(H):"Edit ".concat(H),type:((r=(n=c==null?void 0:c.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}function iln(e){var t;return(t=e.components)!=null&&t.item?e.components.item:zu(e)?Tsn:oln}function lD(e){const t=Fo(e),{value:n}=ui();return Ol(n,t)}function cD(){const e=lD(["_id"]);if(typeof e=="string")return On(e)}function sln(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const aln={portal:!0,tone:"default"};function lln(e){var t,n,r,o,i,s,a,c,u,d;const f=h.useRef(null),{schemaType:p,path:m,open:v,inputId:g,children:y,inputProps:x}=e,{readOnly:b,focused:w,renderPreview:C,onChange:_}=e.inputProps,[S,E]=h.useState([]),j=cD(),k=h.useCallback(()=>x.onChange(nt()),[x]),T=e.value,{EditReferenceLink:A,getReferenceInfo:D,selectedState:I,isCurrentDocumentLiveEdit:O}=gz({path:m,schemaType:p,value:T});tD(f,v),zi(w,(ce,ve)=>{!ce&&ve&&f.current&&f.current.focus()});const $=e.validation.some(ce=>ce.level==="error"),R=e.validation.some(ce=>ce.level==="warning"),V=sD(T==null?void 0:T._ref,D),N=((t=V.result)==null?void 0:t.type)||((n=T==null?void 0:T._strengthenOnPublish)==null?void 0:n.type),W=N?p.to.find(ce=>ce.name===N):void 0,q=I==="pressed",H=I==="selected",Y=T==null?void 0:T._ref,X=Y&&((i=(o=(r=V.result)==null?void 0:r.preview)==null?void 0:o.published)==null?void 0:i._id),B=h.useCallback(()=>{_([p.weak===!0?vt(!0,["_weak"]):nt(["_weak"]),nt(["_strengthenOnPublish"])])},[_,p.weak]),K=h.useCallback(()=>{_(p.weak===!0?vt(!0,["_weak"]):nt(["_weak"]))},[_,p]),z=h.useCallback(()=>{x.onPathFocus(["_ref"])},[x]),Z=T!=null&&T._weak?"weak":"strong",Q=p.weak===!0?"weak":"strong",ne=Y&&!V.isLoading&&(T==null?void 0:T._strengthenOnPublish),G=!V.isLoading&&((s=V.result)==null?void 0:s.availability.available)&&Y&&Z!==Q&&!ne,J=sln({readOnly:b,hasErrors:$,hasWarnings:R}),re=!(T!=null&&T._ref)||x.focusPath[0]==="_ref",fe=((a=V.result)==null?void 0:a.preview.draft)||((c=V.result)==null?void 0:c.preview.published),le=l.jsxs(l.Fragment,{children:[O&&X&&T._strengthenOnPublish&&l.jsx(Rf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:[l.jsx("strong",{children:(d=(u=V.result)==null?void 0:u.preview.published)==null?void 0:d.title})," is published and this reference should now be"," ",p.weak?l.jsx(l.Fragment,{children:"finalized"}):l.jsx(l.Fragment,{children:"converted to a strong reference"}),"."]}),l.jsx(se,{onClick:B,text:l.jsx(l.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),G&&l.jsx(Rf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:Z}),", but according to the current schema it should be"," ",l.jsxs("em",{children:[Q,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:p.weak?l.jsxs(l.Fragment,{children:["It will not be possible to delete the"," ",fe!=null&&fe.title?l.jsxs(l.Fragment,{children:['"',fe==null?void 0:fe.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):l.jsxs(l.Fragment,{children:["This makes it possible to delete the"," ",fe!=null&&fe.title?l.jsxs(l.Fragment,{children:['"',fe==null?void 0:fe.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),l.jsx(se,{onClick:K,text:l.jsxs(l.Fragment,{children:["Convert to ",Q," reference"]}),tone:"caution"})]})}),V.error&&l.jsx(Rf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",V.error.message]}),l.jsx(se,{onClick:V.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),ge=h.useMemo(()=>h.forwardRef(function(ve,$e){return l.jsx(Nm,{...ve,intent:"edit",params:{id:T==null?void 0:T._ref,type:W==null?void 0:W.name},target:"_blank",rel:"noopener noreferrer",ref:$e})}),[W==null?void 0:W.name,T==null?void 0:T._ref]),we=h.useMemo(()=>b?null:l.jsx(M,{marginLeft:1,children:l.jsx(en,{button:l.jsx(se,{paddingY:3,paddingX:2,mode:"bleed",icon:Ao}),id:"".concat(g,"-menuButton"),menu:l.jsxs(Bt,{children:[!b&&l.jsxs(l.Fragment,{children:[l.jsx(Ve,{text:"Clear",tone:"critical",icon:po,onClick:k}),l.jsx(Ve,{text:"Replace",icon:I0,onClick:z})]}),!b&&(T==null?void 0:T._ref)&&l.jsx(Ir,{}),(T==null?void 0:T._ref)&&l.jsx(Ve,{as:ge,"data-as":"a",text:"Open in new tab",icon:sh})]}),popover:aln})}),[k,z,g,ge,b,T==null?void 0:T._ref]);return l.jsxs(l.Fragment,{children:[j&&e.actions&&e.actions.length>0&&l.jsx(wC,{actions:e.actions,documentId:j,documentType:p.name,onActions:E,path:m,schemaType:p}),l.jsx(EC,{actions:S,focused:!!e.inputProps.focused,path:m,children:l.jsx(g1,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:S,__unstable_presence:e.presence,description:e.description,level:e.level,title:e.title,validation:e.validation,children:re?l.jsx(M,{children:y}):l.jsx(ee,{shadow:1,radius:1,padding:1,tone:J,children:l.jsxs(oe,{space:1,children:[l.jsxs(U,{gap:1,align:"center",children:[l.jsx(rPe,{__unstable_focusRing:!0,as:A,"data-pressed":q?!0:void 0,"data-selected":H?!0:void 0,documentId:T==null?void 0:T._ref,documentType:W==null?void 0:W.name,flex:1,paddingX:2,paddingY:1,pressed:q,radius:2,ref:f,selected:H,tone:"inherit",children:l.jsx(nPe,{value:T,referenceInfo:V,renderPreview:C,type:p})}),l.jsx(M,{children:we})]}),le]})})})})]})}function kPe(e,t){return Hn(e.options,t)}const jse=["array","file","image","reference","slug"],cln=["asset","crop","hotspot","_ref","_weak"],uln=["tags"],dln=["slug"];function az(e,t){if(!e)return[];if(t.has(e))return[];t.add(e);const n=e.type?az(e.type,t):[];return[e,...n]}function fln(e,t){return Wl(e)?pln(e,t):hln(e,t)}function hln(e,t){var n,r,o;const{type:i,options:s}=e,a=jPe(i,jse),c=(e==null?void 0:e.jsonType)==="object"?e.fields:void 0,u=(a==null?void 0:a.name)||"";if(dln.includes(u))return 0;const d=jse.includes(u),f=((n=c==null?void 0:c.filter(m=>!cln.includes(m.name)).length)!=null?n:0)>0,p=((o=(r=s==null?void 0:s.list)==null?void 0:r.length)!=null?o:0)>0;return f||p||!d?t:0}function pln(e,t){var n;const{options:r}=e,o=((n=(r==null?void 0:r.list)||[])==null?void 0:n.length)>0,i=uln.includes((r==null?void 0:r.layout)||"");return o&&!i?t:0}function jPe(e,t){if(e!=null&&e.name&&t.includes(e==null?void 0:e.name))return e;if(e)return jPe(e.type,t)}const N5=[];function mln(e){return l.jsx(ci,{hasFocus:!!e.inputProps.focused,isChanged:e.inputProps.changed,path:e.path,children:e.children})}function u3(e){const[t,n]=h.useState(N5),r=cD(),o=!!e.inputProps.focused;return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(wC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(EC,{actions:t,focused:o,path:e.path,children:l.jsx(g1,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,__unstable_headerActions:t,__unstable_presence:e.presence,"data-testid":"field-".concat(e.inputId),description:e.description,inputId:e.inputId,level:e.level,title:e.title,validation:e.validation,children:l.jsx(ci,{hasFocus:o,isChanged:e.inputProps.changed,path:e.path,children:e.children})})})]})}function gln(e){const[t,n]=h.useState(N5),r=cD(),o=!!e.inputProps.focused;return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(wC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(EC,{actions:t,focused:o,path:e.path,children:l.jsx(nD,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:e.presence,collapsed:e.collapsed,collapsible:e.collapsible,"data-testid":"field-".concat(e.inputId),description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function vln(e){const[t,n]=h.useState(N5),r=cD(),o=!!e.inputProps.focused,i=e.inputProps.members.find(a=>a.kind==="field"&&a.name==="hotspot"),s=i!=null&&i.open?e.presence:e.presence.concat((i==null?void 0:i.field.presence)||N5);return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(wC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(EC,{actions:t,focused:o,path:e.path,children:l.jsx(nD,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:s,collapsed:e.collapsed,collapsible:e.collapsible,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function yln(e){var t;if((t=e.components)!=null&&t.field)return e.components.field;if(pw(e))return mln;const n=az(e,new Set);return n.some(r=>r.name==="image"||r.name==="file")?vln:n.some(r=>e6(r))||n.some(r=>r.name==="slug")?u3:n.some(r=>zu(r))?lln:e.jsonType!=="object"&&e.jsonType!=="array"?u3:gln}function bln(e){const{allowedDecorators:t,block:n,onChange:r}=e;let o;return i=>{o=Array.isArray(i)?i:[i],o=o.map(a=>Rx(a,{allowedDecorators:t}));const s=[gf(o,"after",[{_key:n._key}])];return r(ft.from(s))}}function xln(e){const{allowedDecorators:t,block:n,onChange:r}=e;return o=>{const i=[vt(Rx(o,{allowedDecorators:t}),[{_key:n._key}])];return r(ft.from(i))}}function wln(e){const{block:t,onChange:n}=e;return()=>{const r=[nt([{_key:t._key}])];return n(ft.from(r))}}var Tse=Object.freeze,Cln=Object.defineProperty,_ln=(e,t)=>Tse(Cln(e,"raw",{value:Tse(t||e.slice())})),Ase;const Sln=P.div(Ase||(Ase=_ln([`
  display: flex;
  pointer-events: all;
`])));function TPe(e){const t=bo(),{block:n,onChange:r,renderBlockActions:o}=e,i=h.useMemo(()=>t.schemaTypes.decorators.map(a=>a.value),[t]),s=h.useMemo(()=>{if(o){const a={block:n,value:Se.getValue(t),set:xln({allowedDecorators:i,block:n,onChange:r}),unset:wln({block:n,onChange:r}),insert:bln({allowedDecorators:i,block:n,onChange:r})};return o(a)}},[o,n,t,r,i]);return s?l.jsx(Sln,{contentEditable:!1,children:s}):null}var Dse=Object.freeze,Eln=Object.defineProperty,kln=(e,t)=>Dse(Eln(e,"raw",{value:Dse(t||e.slice())})),Ise;const APe=P.div(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=Dt(o.spot.yellow,.2);return he(Ise||(Ise=kln([`
    position: absolute;
    border-radius: `,`px;
    top: -`,`px;
    bottom: -`,`px;
    left: `,`px;
    right: 0;
    background-color: `,`;
  `])),n[3],r[2],r[1]+r[1],r[4]+r[1],i)});var Ose=Object.freeze,jln=Object.defineProperty,Tln=(e,t)=>Ose(jln(e,"raw",{value:Ose(t||e.slice())})),Pse;const DPe=P(ci)(()=>he(Pse||(Pse=Tln([`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `]))));function uD(e){return e.type?uD(e.type):e.name==="block"}function Aln(e){return e.kind==="field"&&e.field.schemaType.jsonType==="array"}const Dln=["@@_NONEXISTENT_PATH_@@"];function dD(e){const t=h.useRef(null),n=e!=null&&e.validation&&e.validation.length>0?e.validation:hn,r=DN((e==null?void 0:e.path)||Dln),o=h.useMemo(()=>e!=null&&e.schemaType&&uD(e==null?void 0:e.schemaType)?n:n.concat(r),[r,e,n]),[i,s,a]=h.useMemo(()=>[o.filter(u=>u.level==="error").length>0,o.filter(u=>u.level==="warning").length>0,o.filter(u=>u.level==="info").length>0],[o]),c=AN(t.current,o);return t.current=c,h.useMemo(()=>({validation:c,hasError:i,hasWarning:s,hasInfo:a}),[c,i,s,a])}const IPe=h.createContext([]);function Iln(e){return l.jsx(IPe.Provider,{value:e.markers,children:e.children})}function fD(e){const t=h.useContext(IPe);if(!t)throw new Error("Form context not provided");return h.useMemo(()=>t.filter(r=>vn(r.path,e)),[t,e])}const lz=h.createContext([]);function Oln(e){return l.jsx(lz.Provider,{value:e.memberItems,children:e.children})}function hD(e){const t=h.useContext(lz);if(!t)throw new Error("Form context not provided");return t.find(n=>n.key===e)}function Pln(){const e=h.useContext(lz);if(!e)throw new Error("Form context not provided");return e}var Rse=Object.freeze,Rln=Object.defineProperty,cd=(e,t)=>Rse(Rln(e,"raw",{value:Rse(t||e.slice())})),$se,Mse,Fse,Lse,Bse,Nse,zse,Vse,Hse;const $ln=P(ee)(e=>{var t;const{color:n,radius:r,space:o}=e.theme.sanity,i=he($se||($se=cd([`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -`,`px;
    bottom: -`,`px;
    left: -`,`px;
    right: -`,`px;
    border-radius: `,`px;
    mix-blend-mode: `,`;
  `])),o[1],o[1],o[1],o[1],r[2],n.dark?"screen":"multiply");return he(Mse||(Mse=cd([`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: `,`px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      box-shadow: 0 0 0 1px `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      &:after {
        `,`
        background-color: `,`;
      }
    }

    &[data-warning] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),r[1],(t=n.selectable)==null?void 0:t.primary.selected.border,n.input.default.hovered.border,i,n.dark?pe.purple[950].hex:pe.purple[50].hex,i,n.muted.caution.hovered.bg,n.muted.caution.hovered.border,i,n.input.invalid.enabled.bg,n.input.invalid.hovered.border)}),Mln=P(M)(Fse||(Fse=cd([`
  display: block;
  width: 100%;
  user-select: none;
  pointer-events: all;
`]))),Fln=P.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return he(Bse||(Bse=cd([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`

      [data-dragged] & {
        visibility: hidden;
      }
    `])),r[2],r[1],!n&&he(Lse||(Lse=cd([`
        display: none;
      `]))))}),Lln=P(U)(Nse||(Nse=cd([`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`]))),Bln=P(M)(zse||(zse=cd([`
  width: 25px;
  position: relative;

  [data-dragged] & {
    visibility: hidden;
  }
`]))),Nln=P(U)(Vse||(Vse=cd([`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`]))),zln=P(M)(Hse||(Hse=cd([`
  max-width: 250px;
`]))),Vln={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function Hln(e){const{children:t,focused:n,isOpen:r,onOpen:o,onRemove:i,readOnly:s,value:a}=e,c=h.useId(),u=h.useRef(null),d=h.useRef(!1),f=h.useMemo(()=>hd(a)?h.forwardRef(function(v,g){return l.jsx(Nm,{...v,intent:"edit",params:{id:a._ref},ref:g})}):void 0,[a]);h.useEffect(()=>{r&&(d.current=!1)},[r]),is(h.useCallback(m=>{n&&m.key==="Tab"&&u.current&&!d.current&&!r&&(m.preventDefault(),m.stopPropagation(),u.current.focus(),d.current=!0)},[n,r]));const p=h.useCallback(m=>{m.preventDefault(),m.stopPropagation(),i()},[i]);return l.jsxs(U,{children:[l.jsx(M,{flex:1,children:t}),l.jsx(M,{children:l.jsx(en,{button:l.jsx(se,{"aria-label":"Open menu",fontSize:1,iconRight:Ao,mode:"bleed",paddingX:2,tabIndex:n?0:1}),ref:u,id:c,menu:l.jsx(Bt,{children:l.jsxs(l.Fragment,{children:["_ref"in a&&a._ref&&l.jsx(Ve,{as:f,"data-as":"a",icon:zf,text:"Open reference"}),s&&l.jsx(Ve,{icon:x6,onClick:o,text:"View"}),!s&&l.jsx(Ve,{icon:Hu,onClick:o,text:"Edit"}),!s&&l.jsx(Ve,{icon:po,onClick:p,text:"Delete",tone:"critical"})]})}),popover:Vln})})]})}const OPe=e=>Array.isArray(e)?e.flatMap(OPe):typeof e=="number"?[e]:e==="auto"?["auto"]:[],Uln=e=>e==="dialog"||e==="popover"?e:void 0;function Wln(e){var t;const n=(t=e.options)==null?void 0:t.modal;return typeof n=="object"&&n!==null?{type:Uln(n.type),width:OPe(n.width)}:void 0}function Yln(e){const{onClose:t,children:n,title:r,width:o=1,autoFocus:i}=e,s=h.useId(),[a,c]=h.useState(null),u=h.useRef(null);return l.jsx(Li,{header:r,id:s,onClickOutside:t,onClose:t,portal:"default",width:o,contentRef:c,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:i,children:l.jsx(jC,{margins:[0,0,1,0],children:l.jsx(Qx,{scrollElement:a,containerElement:u,children:l.jsx(M,{padding:4,ref:u,children:n})})})})}var Use=Object.freeze,qln=Object.defineProperty,cz=(e,t)=>Use(qln(e,"raw",{value:Use(t||e.slice())})),Wse,Yse,qse;const Gln=P(Jt)(Wse||(Wse=cz([`
  &[data-popper-reference-hidden='true'] {
    visibility: hidden;
    pointer-events: none;
  }

  & > div {
    overflow: hidden;
    overflow: clip;
  }
`]))),Kln=P(M)(Yse||(Yse=cz([`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`]))),Zln=P(M)(qse||(qse=cz([`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`]))),Xln=["top","bottom"];function Qln(e){const{floatingBoundary:t,referenceBoundary:n,referenceElement:r,width:o=0}=e,[i,s]=h.useState(!1);return h.useEffect(()=>{s(!0)},[]),l.jsx(Gln,{content:l.jsx(Jln,{...e}),constrainSize:!0,"data-ui":"PopoverEditDialog",fallbackPlacements:Xln,floatingBoundary:t,open:i,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:n,referenceElement:r,width:o})}function Jln(e){const{onClose:t,referenceBoundary:n,referenceElement:r,title:o,autoFocus:i}=e;is(h.useCallback(u=>{u.key==="Escape"&&t()},[t])),lr(t,r?[r]:[],n);const[s,a]=h.useState(null),c=h.useRef(null);return l.jsx(Qx,{scrollElement:s,containerElement:c,children:l.jsxs(U,{ref:c,direction:"column",height:"fill",children:[l.jsx(Zln,{flex:"none",padding:1,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,padding:2,children:l.jsx(L,{weight:"semibold",children:o})}),l.jsx(se,{autoFocus:!!i,icon:Ii,mode:"bleed",onClick:t,padding:2})]})}),l.jsx(Kln,{flex:1,children:l.jsx(jC,{margins:[0,0,1,0],children:l.jsx(M,{padding:3,ref:a,children:e.children})})})]})})}function uz(e){const{autoFocus:t,defaultType:n,floatingBoundary:r,onClose:o,referenceBoundary:i,referenceElement:s,schemaType:a}=e,c=h.useMemo(()=>Wln(a),[a]),u=(c==null?void 0:c.type)||n,d=l.jsxs(l.Fragment,{children:["Edit ",a.title]}),f=h.useCallback(()=>{o()},[o]),p=c==null?void 0:c.width;return u==="popover"?l.jsx(Qln,{autoFocus:t,floatingBoundary:r,onClose:f,referenceBoundary:i,referenceElement:s,title:d,width:p,children:e.children}):l.jsx(Yln,{onClose:f,title:d,width:p,autoFocus:t,children:e.children})}function ecn(e){var t;const{floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:c,readOnly:u,referenceBoundary:d,relativePath:f,renderAnnotation:p,renderBlock:m,renderBlockActions:v,renderCustomMarkers:g,renderField:y,renderInlineBlock:x,renderInput:b,renderItem:w,renderPreview:C,schemaType:_,selected:S,value:E}=e,{onChange:j}=ga(),{Markers:k}=ui().__internal.components,[T,A]=h.useState(!1),D=fD(c),I=bo(),O=hD(yn(c)),$=h.useRef(!1),R=h.useMemo(()=>({anchor:{path:f,offset:0},focus:{path:f,offset:0}}),[f]),V=h.useCallback(()=>A(!0),[]),N=h.useCallback(()=>A(!1),[]),W=h.useCallback(()=>{O&&(Se.blur(I),s(O.node.path))},[I,O,s]),q=h.useCallback(()=>{i(),Se.select(I,R),Se.focus(I)},[i,I,R]),H=h.useCallback(()=>{if(!$.current)try{Se.delete(I,R,{mode:"blocks"})}catch(ve){console.error(ve)}finally{$.current=!0}},[I,R]);h.useEffect(()=>()=>{$.current&&Se.focus(I)},[I]);const Y=h.useMemo(()=>o&&!v?{paddingX:5}:o&&v?{paddingLeft:5,paddingRight:2}:v?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,v]),{validation:X,hasError:B,hasWarning:K,hasInfo:z}=dD(O==null?void 0:O.node),Z=I.schemaTypes.portableText,Q=D.length>0,ne=u1(c,!0),G=h.useMemo(()=>ne.filter(ve=>vn(ve.path,c)),[c,ne]),J=B||K||z||Q,re=h.useMemo(()=>J&&l.jsx(zln,{padding:2,children:l.jsx(k,{markers:D,validation:X,renderCustomMarkers:g})})||null,[k,D,g,J,X]),fe=!!(O!=null&&O.member.open),le=O==null?void 0:O.input,ge=(O==null?void 0:O.node.path)||hn,we=(t=O==null?void 0:O.elementRef)==null?void 0:t.current,ce=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:we||null,children:le,focused:r,markers:D,onClose:q,onOpen:W,onPathFocus:a,onRemove:H,open:fe,parentSchemaType:Z,path:ge,presence:G,readOnly:!!u,renderAnnotation:p,renderBlock:m,renderDefault:PPe,renderField:y,renderInlineBlock:x,renderInput:b,renderItem:w,renderPreview:C,schemaType:_,selected:S,validation:X,value:E}),[n,we,le,r,D,q,W,a,H,fe,Z,ge,G,u,d,p,m,y,x,b,w,C,_,S,X,E]);return h.useMemo(()=>l.jsx(M,{ref:O==null?void 0:O.elementRef,contentEditable:!1,children:l.jsx(U,{paddingBottom:1,marginY:3,style:void 0,children:l.jsxs(Lln,{flex:1,children:[l.jsx(at,{placement:"top",portal:"editor",disabled:!J,content:re,children:l.jsx(Mln,{...Y,children:m&&m(ce)})}),l.jsx(Bln,{marginRight:1,children:l.jsx(Nln,{children:v&&E&&r&&!u&&l.jsx(TPe,{block:E,onChange:j,renderBlockActions:v})})}),o&&O&&l.jsx(Fln,{$hasChanges:O.member.item.changed,onMouseOut:N,onMouseOver:V,children:l.jsx(DPe,{hasFocus:r,isChanged:O.member.item.changed,path:O.member.item.path,withHoverEffect:!1})}),T&&l.jsx(APe,{})]})})}),[ce,r,N,V,Y,o,O,j,u,m,v,T,re,J,E])}const PPe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,value:g,validation:y}=e,x=bFe(g),b=y.filter(E=>E.level==="error").length>0,w=y.filter(E=>E.level==="warning").length>0,C=s.length>0,_=v||i?"primary":"default",S=h.useCallback(E=>{E.preventDefault(),E.stopPropagation(),c()},[c]);return l.jsxs(l.Fragment,{children:[l.jsx($ln,{"data-focused":i?"":void 0,"data-image-preview":x?"":void 0,"data-invalid":b?"":void 0,"data-markers":C?"":void 0,"data-read-only":f?"":void 0,"data-selected":v?"":void 0,"data-testid":"pte-block-object","data-warning":w?"":void 0,flex:1,onDoubleClick:S,padding:x?0:1,tone:_,children:p({actions:l.jsx(Hln,{isOpen:d,focused:i,onOpen:c,onRemove:u,readOnly:f,value:g}),layout:x?"blockImage":"block",schemaType:m,skipVisibilityCheck:!0,value:g})}),d&&l.jsx(uz,{floatingBoundary:t,defaultType:"dialog",onClose:a,autoFocus:i,schemaType:m,referenceBoundary:n,referenceElement:r,children:o})]})},vy=[1,2,3,4,5,6,7,8,9],Gse=["●","○","■"],Kse=["number","lower-alpha","lower-roman"],tcn={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},ncn={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}};function fp(e){return"list-level-".concat(e)}var Zse=Object.freeze,rcn=Object.defineProperty,Hc=(e,t)=>Zse(rcn(e,"raw",{value:Zse(t||e.slice())})),Xse,Qse,Jse,eae,tae,nae,rae,oae,iae,sae;function ocn(e){var t;const{$level:n,theme:r}=e,{color:o,fonts:i,radius:s,space:a}=r.sanity,c=Kse[(n-1)%Kse.length],u=Gse[(n-1)%Gse.length];return he(Xse||(Xse=Hc([`
    --marker-bg-color: transparent;

    mix-blend-mode: `,`;
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -`,`px;
      bottom: -`,`px;
      left: -`,`px;
      right: -`,`px;
      border-radius: `,`px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
    }

    &[data-markers] {
      --marker-bg-color: `,`;
    }

    &[data-warning] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    &[data-error] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(`,`) '.';
        content: counter(`,", ",`) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '`,`';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: `,`;
      flex: 1;

      *::selection {
        background-color: `,`;
      }
    }
  `])),o.dark?"screen":"multiply",a[1],a[1],a[1],a[1],s[2],o.dark?pe.purple[950].hex:pe.purple[50].hex,o.muted.caution.enabled.border,o.muted.caution.hovered.bg,o.muted.critical.enabled.border,o.muted.critical.hovered.bg,fp(n),fp(n),c,u,i.text.family,(t=o.selectable)==null?void 0:t.primary.pressed.bg)}const icn=P.div(ocn),scn=P(M)(Qse||(Qse=Hc([`
  position: relative;
  display: flex;
`]))),acn=P.div(Jse||(Jse=Hc([`
  user-select: none;
  white-space: nowrap;
`]))),lcn=P(M)(eae||(eae=Hc([`
  user-select: none;
`]))),ccn=P(M)(tae||(tae=Hc([`
  line-height: 0;
  width: 25px;
  position: relative;
`]))),ucn=P(U)(e=>{let{theme:t}=e;const{fonts:n,space:r}=t.sanity,o=n.text.sizes[1],i=n.text.sizes[2],s=o.lineHeight-o.ascenderHeight-o.descenderHeight,a=i.lineHeight-i.ascenderHeight-i.descenderHeight,u=0-(s+r[2]+r[2]-a)/2;return he(nae||(nae=Hc([`
    user-select: none;
    position: absolute;
    right: 0;
    top: `,`px;
  `])),u)}),dcn=P(M)(rae||(rae=Hc([`
  max-width: 250px;
`]))),fcn=P(U)(oae||(oae=Hc([`
  position: relative;
  padding-left: `,`px;
`])),e=>{let{$level:t}=e;return t?t*32:0}),hcn=P.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return he(sae||(sae=Hc([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`
    `])),r[2],r[1],!n&&he(iae||(iae=Hc([`
        display: none;
      `]))))});var aae=Object.freeze,pcn=Object.defineProperty,RPe=(e,t)=>aae(pcn(e,"raw",{value:aae(t||e.slice())})),lae,cae;const Ad=P.div(lae||(lae=RPe([`
  display: block;
`]))),dz=e=>{let{children:t,...n}=e;return l.jsx(L,{"data-testid":"text-style--normal",...n,children:l.jsx(Ad,{children:t})})},$Pe=e=>{let{children:t,...n}=e;return l.jsx(Uo,{as:"h1","data-testid":"text-style--h1",size:5,...n,children:l.jsx(Ad,{children:t})})},MPe=e=>{let{children:t,...n}=e;return l.jsx(Uo,{as:"h2","data-testid":"text-style--h2",size:4,...n,children:l.jsx(Ad,{children:t})})},FPe=e=>{let{children:t,...n}=e;return l.jsx(Uo,{as:"h3","data-testid":"text-style--h3",size:3,...n,children:l.jsx(Ad,{children:t})})},LPe=e=>{let{children:t,...n}=e;return l.jsx(Uo,{as:"h4","data-testid":"text-style--h4",size:2,...n,children:l.jsx(Ad,{children:t})})},BPe=e=>{let{children:t,...n}=e;return l.jsx(Uo,{as:"h5","data-testid":"text-style--h5",size:1,...n,children:l.jsx(Ad,{children:t})})},NPe=e=>{let{children:t,...n}=e;return l.jsx(Uo,{as:"h6","data-testid":"text-style--h6",size:0,...n,children:l.jsx(Ad,{children:t})})},mcn=P.blockquote(cae||(cae=RPe([`
  position: relative;
  display: block;
  margin: 0;
  padding-left: `,`px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`])),e=>{let{theme:t}=e;return t.sanity.space[3]}),zPe=e=>{let{children:t,...n}=e;return l.jsx(mcn,{"data-testid":"text-style--blockquote",...n,children:l.jsx(L,{as:"p",children:t})})},d3={normal:dz,h1:$Pe,h2:MPe,h3:FPe,h4:LPe,h5:BPe,h6:NPe,blockquote:zPe};function gcn(e){const{children:t,floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:c,readOnly:u,referenceBoundary:d,renderBlock:f,renderAnnotation:p,renderBlockActions:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:y,renderInput:x,renderItem:b,renderPreview:w,schemaType:C,selected:_,spellCheck:S,value:E}=e,{Markers:j}=ui().__internal.components,[k,T]=h.useState(!1),A=fD(c),D=hD(yn(c)),I=bo(),{onChange:O}=ga(),$=u1(c,!0),R=h.useMemo(()=>$.filter(le=>vn(le.path,c)||le.path.slice(-3)[1]==="children"&&le.path.length-c.length===2),[c,$]),V=h.useCallback(()=>T(!0),[]),N=h.useCallback(()=>T(!1),[]),{validation:W,hasError:q,hasWarning:H,hasInfo:Y}=dD(D==null?void 0:D.node),X=!!v&&A.length>0,B=q||H||X||Y,K=h.useCallback(()=>{D&&s(D.node.path)},[s,D]),z=h.useCallback(()=>{const le={path:c.slice(-1),offset:0},ge={focus:le,anchor:le};Se.delete(I,ge,{mode:"blocks"}),Se.focus(I)},[c,I]),Z=h.useMemo(()=>l.jsxs(fcn,{align:"flex-start",$level:E==null?void 0:E.level,children:[E.listItem&&l.jsx(acn,{contentEditable:!1,children:l.jsx(L,{"data-list-prefix":"",children:l.jsx(Ad,{})})}),l.jsx("div",{"data-text":"",style:void 0,children:t})]}),[E.listItem,E.level,t]),Q=h.useMemo(()=>o&&!m?{paddingX:5}:o&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,m]),ne=h.useMemo(()=>E.listItem?{paddingY:2}:ncn[E.style||"normal"]||{paddingY:2},[E]),G=!!(D!=null&&D.member.open),J=I.schemaTypes.portableText,re=h.useMemo(()=>{var le;return{__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:((le=D==null?void 0:D.elementRef)==null?void 0:le.current)||null,children:Z,focused:r,markers:A,onClose:i,onOpen:K,onPathFocus:a,onRemove:z,open:G,parentSchemaType:J,path:(D==null?void 0:D.node.path)||hn,presence:R,readOnly:!!u,renderAnnotation:p,renderBlock:f,renderDefault:VPe,renderField:g,renderInput:x,renderInlineBlock:y,renderItem:b,renderPreview:w,schemaType:C,selected:_,validation:W,value:E}},[n,r,G,A,D==null?void 0:D.elementRef,D==null?void 0:D.node.path,i,K,a,z,J,u,d,p,f,g,y,x,b,w,C,_,Z,R,W,E]),fe=h.useMemo(()=>B&&l.jsx(dcn,{padding:2,children:l.jsx(j,{markers:A,renderCustomMarkers:v,validation:W})})||null,[j,A,v,B,W]);return h.useMemo(()=>l.jsx(M,{"data-testid":"text-block",...ne,style:void 0,ref:D==null?void 0:D.elementRef,children:l.jsx(scn,{"data-testid":"text-block__wrapper",children:l.jsxs(U,{flex:1,...Q,children:[l.jsx(M,{flex:1,children:l.jsx(at,{content:fe,disabled:!B,placement:"top",portal:"editor",children:l.jsx(icn,{$level:E.level||1,"data-error":q?"":void 0,"data-list-item":E.listItem,"data-markers":X?"":void 0,"data-read-only":u,"data-testid":"text-block__text","data-warning":H?"":void 0,spellCheck:S,children:f&&f(re)})})}),l.jsxs(lcn,{contentEditable:!1,children:[l.jsx(ccn,{marginRight:1,children:l.jsx(ucn,{children:m&&r&&!u&&l.jsx(TPe,{onChange:O,block:E,renderBlockActions:m})})}),o&&D&&l.jsx(hcn,{$hasChanges:D.member.item.changed,onMouseEnter:V,onMouseLeave:N,children:l.jsx(DPe,{hasFocus:r,isChanged:D.member.item.changed,path:D.member.item.path,withHoverEffect:!1})})]}),k&&l.jsx(APe,{})]})})}),[re,r,V,N,q,X,H,Q,o,D,O,ne,u,f,m,k,S,fe,B,E])}const VPe=e=>l.jsx(l.Fragment,{children:e.children});var uae=Object.freeze,vcn=Object.defineProperty,ycn=(e,t)=>uae(vcn(e,"raw",{value:uae(t||e.slice())})),dae;const bcn=P(Jt)(dae||(dae=ycn([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),xcn=["top","bottom"];function wcn(e){const{floatingBoundary:t,onClosePopover:n,onEdit:r,onDelete:o,referenceBoundary:i,referenceElement:s,title:a,open:c}=e,{sanity:u}=Rs(),d=h.useRef(null),f=h.useRef(null),p=u.color.dark?"light":"dark";is(h.useCallback(g=>{g.key==="Escape"&&(g.preventDefault(),g.stopPropagation(),n())},[n]));const m=h.useCallback(g=>{var y;if(!((y=f.current)!=null&&y.disabled)){g.preventDefault(),g.stopPropagation();try{o(g)}catch(x){console.error(x)}finally{f.current&&(f.current.disabled=!0)}}},[o]),v=h.useMemo(()=>l.jsx(M,{padding:1,children:l.jsxs(qt,{space:1,children:[l.jsx(M,{padding:2,children:l.jsx(L,{weight:"semibold",size:1,children:a})}),l.jsx(se,{icon:Hu,mode:"bleed",onClick:r,padding:2,ref:d,alt:"Edit object"}),l.jsx(se,{ref:f,icon:po,mode:"bleed",padding:2,onClick:m,tone:"critical",alt:"Remove object"})]})}),[m,r,a]);return l.jsx(bcn,{constrainSize:!0,content:v,fallbackPlacements:xcn,floatingBoundary:t,open:c,placement:"top",portal:!0,referenceBoundary:i,referenceElement:s,scheme:p})}var fae=Object.freeze,Ccn=Object.defineProperty,fz=(e,t)=>fae(Ccn(e,"raw",{value:fae(t||e.slice())})),hae,pae,mae;const _cn=P(ee)(kcn),Scn=P.span(hae||(hae=fz([`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`]))),Ecn=P(M)(pae||(pae=fz([`
  max-width: 250px;
`])));function kcn(e){let{theme:t}=e;var n,r,o;const{color:i,radius:s}=t.sanity;return he(mae||(mae=fz([`
    line-height: 0;
    border-radius: `,`px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px `,`;
      color: `,`;
    }

    &[data-selected] {
      background-color: `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      --card-bg-color: `,`;
    }

    &[data-warning] {
      --card-bg-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: `,`;
      --card-border-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),s[2],(n=i.selectable)==null?void 0:n.primary.selected.border,(r=i.selectable)==null?void 0:r.primary.pressed.fg,(o=i.selectable)==null?void 0:o.primary.pressed.bg,i.input.default.hovered.border,i.dark?pe.purple[950].hex:pe.purple[50].hex,i.muted.caution.hovered.bg,i.muted.caution.hovered.border,i.input.invalid.enabled.bg,i.input.invalid.enabled.border,i.input.invalid.hovered.border)}const jcn=e=>{var t;const{floatingBoundary:n,focused:r,onItemClose:o,onItemOpen:i,onPathFocus:s,path:a,readOnly:c,referenceBoundary:u,relativePath:d,renderAnnotation:f,renderBlock:p,renderCustomMarkers:m,renderField:v,renderItem:g,renderInlineBlock:y,renderInput:x,renderPreview:b,schemaType:w,selected:C,value:_}=e,{Markers:S}=ui().__internal.components,E=bo(),j=fD(a),k=hD(yn(a)),{validation:T,hasError:A,hasInfo:D,hasWarning:I}=dD(k==null?void 0:k.node),O=E.schemaTypes.block,$=j.length>0,R=h.useMemo(()=>({anchor:{path:d,offset:0},focus:{path:d,offset:0}}),[d]),V=h.useCallback(()=>{Se.delete(E,R,{mode:"children"}),Se.focus(E)},[R,E]),N=h.useCallback(()=>{k&&(Se.blur(E),i(k.node.path))},[E,i,k]),W=h.useCallback(()=>{o(),Se.select(E,R),Se.focus(E)},[o,E,R]),q=!!(k!=null&&k.member.open),H=k==null?void 0:k.input,Y=(k==null?void 0:k.node.path)||hn,X=(t=k==null?void 0:k.elementRef)==null?void 0:t.current,B=u1(a,!0),K=h.useMemo(()=>B.filter(ne=>vn(ne.path,a)),[a,B]),z=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:u,__unstable_referenceElement:X,children:H,focused:r,onClose:W,onOpen:N,onPathFocus:s,onRemove:V,open:q,markers:j,member:k==null?void 0:k.member,parentSchemaType:O,path:Y,presence:K,readOnly:!!c,renderAnnotation:f,renderBlock:p,renderDefault:HPe,renderField:v,renderInlineBlock:y,renderInput:x,renderItem:g,renderPreview:b,schemaType:w,selected:C,value:_,validation:T}),[n,r,H,q,j,k==null?void 0:k.member,Y,W,N,s,V,O,c,u,X,f,p,v,y,x,g,b,K,w,C,T,_]),Z=A||I||D||$,Q=h.useMemo(()=>Z&&l.jsx(Ecn,{padding:2,children:l.jsx(S,{markers:j,validation:T,renderCustomMarkers:m})})||null,[S,j,m,Z,T]);return h.useMemo(()=>l.jsx("span",{ref:k==null?void 0:k.elementRef,contentEditable:!1,children:l.jsx(at,{placement:"bottom",portal:"editor",disabled:!Z,content:Q,children:y&&l.jsx("span",{style:{position:"relative"},children:y(z)})})}),[z,k==null?void 0:k.elementRef,y,Q,Z])},HPe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,validation:g,value:y}=e,x=s.length>0,[b,w]=h.useState(!1),C=(m==null?void 0:m.title)||m.name,_=g.filter(T=>T.level==="error").length>0,S=g.filter(T=>T.level==="warning").length>0,E=h.useCallback(()=>{w(!1),c()},[c]);h.useEffect(()=>{w(d?!1:!!i)},[i,d]);const j=h.useMemo(()=>{if(_)return"critical";if(S)return"caution";if(v||i)return"primary"},[i,_,S,v]),k=h.useCallback(()=>{w(!1)},[]);return l.jsxs(l.Fragment,{children:[l.jsx(_cn,{"data-focused":i||void 0,"data-invalid":_||void 0,"data-markers":x||void 0,"data-read-only":f||void 0,"data-selected":v||void 0,"data-warning":S||void 0,forwardedAs:"span",onClick:f?E:void 0,onDoubleClick:E,tone:j,children:l.jsx(Scn,{children:p({layout:"inline",schemaType:m,skipVisibilityCheck:!0,value:y,fallbackTitle:"Click to edit"})})}),r&&l.jsx(wcn,{floatingBoundary:t,onClosePopover:k,onDelete:u,onEdit:E,open:b,referenceBoundary:n,referenceElement:r,title:C}),d&&l.jsx(uz,{defaultType:"popover",onClose:a,autoFocus:i,floatingBoundary:t,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};var gae=Object.freeze,Tcn=Object.defineProperty,Acn=(e,t)=>gae(Tcn(e,"raw",{value:gae(t||e.slice())})),vae;const Dcn=P(Jt)(vae||(vae=Acn([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),Icn=["top","bottom"];function Ocn(e){const{annotationOpen:t,floatingBoundary:n,onOpen:r,onRemove:o,referenceBoundary:i,referenceElement:s,selected:a,title:c}=e,[u,d]=h.useState(!1),[f,p]=h.useState(null),m=h.useRef(null),{sanity:v}=Rs(),g=h.useRef(null),y=v.color.dark?"light":"dark",x=h.useMemo(()=>f?{getBoundingClientRect:()=>f}:null,[f]);is(h.useCallback(S=>{u&&S.key==="Escape"&&d(!1)},[u]));const b=h.useCallback(()=>{if(t){d(!1),p(null);return}const S=window.getSelection();if(!S||S.rangeCount===0)return;const E=S.getRangeAt(0);if(!(s==null?void 0:s.contains(E.commonAncestorContainer))){d(!1),p(null);return}const k=E==null?void 0:E.getBoundingClientRect();k&&(d(!0),p(k))},[t,s]);h.useEffect(()=>(document.addEventListener("selectionchange",b,{passive:!0}),()=>{document.removeEventListener("selectionchange",b)}),[b]);const w=h.useCallback(()=>{d(!1),r()},[r]);h.useEffect(()=>{!t&&a&&d(!0),t&&d(!1)},[t,a]);const C=h.useCallback(()=>{d(!1),o()},[o]),_=h.useCallback(()=>{m.current&&p(m.current.getBoundingClientRect())},[]);return h.useEffect(()=>{if(u)return i==null||i.addEventListener("scroll",_),()=>{i==null||i.removeEventListener("scroll",_)}},[u,i,_]),u?l.jsx(Dcn,{open:u,floatingBoundary:n,constrainSize:!0,content:l.jsx(M,{padding:1,"data-testid":"annotation-toolbar-popover",children:l.jsxs(qt,{space:1,children:[l.jsx(M,{padding:2,children:l.jsx(L,{weight:"semibold",size:1,children:c})}),l.jsx(se,{icon:Hu,mode:"bleed",onClick:w,padding:2,alt:"Edit annotation",tabIndex:0}),l.jsx(se,{icon:po,mode:"bleed",padding:2,onClick:C,tone:"critical",alt:"Remove annotation",tabIndex:0})]})}),fallbackPlacements:Icn,placement:"top",portal:!0,preventOverflow:!0,ref:g,referenceBoundary:i,referenceElement:x,scheme:y}):null}var yae=Object.freeze,Pcn=Object.defineProperty,UPe=(e,t)=>yae(Pcn(e,"raw",{value:yae(t||e.slice())})),bae,xae;const Rcn=P.span(e=>{var t,n,r,o;const{$toneKey:i="default",theme:s}=e;return he(bae||(bae=UPe([`
      text-decoration: none;
      display: inline;
      background-color: `,`;
      border-bottom: 1px dashed `,`;
      color: `,`;

      &[data-link] {
        border-bottom: 1px solid `,`;
      }

      &[data-custom-markers] {
        background-color: `,`;
      }

      &[data-warning] {
        background-color: `,`;
      }

      &[data-error] {
        background-color: `,`;
      }
    `])),(t=s.sanity.color.selectable)==null?void 0:t[i].enabled.bg,(n=s.sanity.color.selectable)==null?void 0:n[i].enabled.fg,(r=s.sanity.color.selectable)==null?void 0:r[i].enabled.fg,(o=s.sanity.color.selectable)==null?void 0:o[i].enabled.fg,s.sanity.color.dark?pe.purple[950].hex:pe.purple[50].hex,s.sanity.color.muted.caution.hovered.bg,s.sanity.color.muted.critical.hovered.bg)}),$cn=P(M).attrs({forwardedAs:"span"})(xae||(xae=UPe([`
  max-width: 250px;
`])));function Mcn(e){var t;const{children:n,editorNodeFocused:r,floatingBoundary:o,focused:i,onItemClose:s,onItemOpen:a,onPathFocus:c,path:u,readOnly:d,referenceBoundary:f,renderAnnotation:p,renderBlock:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:y,renderInput:x,renderItem:b,renderPreview:w,schemaType:C,selected:_,value:S}=e,{Markers:E=JIe}=ui().__internal.components,j=bo(),k=h.useMemo(()=>u.slice(0,u.length-2).concat(["markDefs",{_key:S._key}]),[u,S._key]),[T,A]=h.useState(null),D=h.useMemo(()=>u.slice(u.length-3,u.length),[u]),I=hD(yn(k)),{validation:O}=dD(I==null?void 0:I.node),$=fD(u),R=h.useMemo(()=>l.jsx("span",{"data-annotation":"",children:n}),[n]),V=h.useCallback(()=>{I&&(Se.blur(j),c(I.node.focusPath),a(I.node.path))},[j,I,a,c]),N=h.useCallback(()=>{s();const G=Se.getSelection(j),J=(G==null?void 0:G.focus.path)&&vn(G.focus.path,D)&&G.focus.offset,re=(G==null?void 0:G.anchor.path)&&vn(G.anchor.path,D)&&G.anchor.offset;Se.select(j,{anchor:{path:D,offset:re||0},focus:{path:D,offset:J||0}}),Se.focus(j)},[j,D,s]),W=h.useCallback(()=>{Se.removeAnnotation(j,C),Se.focus(j)},[j,C]),q=h.useMemo(()=>O.length>0||$.length>0?l.jsx(at,{placement:"bottom",portal:"default",content:l.jsx($cn,{padding:2,children:l.jsx(E,{markers:$,renderCustomMarkers:v,validation:O})}),children:R}):void 0,[E,$,v,R,O]),H=u1(u,!0),Y=h.useMemo(()=>H.filter(G=>vn(G.path,u)),[u,H]),X=!!(I!=null&&I.member.open),B=I==null?void 0:I.input,K=(I==null?void 0:I.node.path)||hn,z=T,Z=h.useMemo(()=>({__unstable_floatingBoundary:o,__unstable_referenceBoundary:f,__unstable_referenceElement:z,__unstable_textElementFocus:r,children:B,focused:i,markers:$,onClose:N,onOpen:V,onPathFocus:c,onRemove:W,open:X,parentSchemaType:j.schemaTypes.block,path:K,presence:Y,readOnly:!!d,renderAnnotation:p,renderBlock:m,renderField:g,renderInlineBlock:y,renderInput:x,renderPreview:w,renderItem:b,renderDefault:oF,schemaType:C,selected:_,textElement:q||R,validation:O,value:S}),[j.schemaTypes.block,r,o,i,B,X,$,q,K,N,V,c,W,d,f,z,p,m,g,y,x,b,w,Y,C,_,R,O,S]),Q=(t=C.components)==null?void 0:t.annotation,ne=h.useCallback(G=>{I!=null&&I.elementRef&&(I.elementRef.current=G),A(G)},[I]);return h.useMemo(()=>l.jsx("span",{ref:ne,style:void 0,children:Q?l.jsx(Q,{...Z}):l.jsx(oF,{...Z})}),[Q,Z,ne])}const oF=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,selected:p,schemaType:m,textElement:v,validation:g}=e,y=m.name==="link",x=g.filter(_=>_.level==="error").length>0,b=g.filter(_=>_.level==="warning").length>0,w=s.length>0,C=h.useMemo(()=>x?"critical":b?"caution":y?"primary":"default",[y,x,b]);return l.jsxs(Rcn,{$toneKey:C,"data-link":y?"":void 0,"data-error":x?"":void 0,"data-warning":b?"":void 0,"data-markers":w||void 0,onClick:f?c:void 0,children:[v,l.jsx(Ocn,{annotationOpen:d,floatingBoundary:t,onOpen:c,onRemove:u,referenceBoundary:n,referenceElement:r,selected:p,title:m.title||m.name}),d&&l.jsx(uz,{defaultType:"popover",floatingBoundary:t,onClose:a,autoFocus:i,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};function Fcn(e){var t;return(t=e.components)!=null&&t.block?e.components.block:uD(e)?VPe:PPe}function Lcn(e){var t;return(t=e.components)!=null&&t.inlineBlock?e.components.inlineBlock:HPe}function Bcn(e){var t;return(t=e.components)!=null&&t.annotation?e.components.annotation:oF}const Ncn=/^\d+$/;function zcn(e){return e.replace(/^['"]/,"").replace(/['"]$/,"")}function Vcn(e){const[t,n]=e.split("==");return{[t]:zcn(n)}}function Hcn(e){return Ncn.test(e)?Number(e):e}function Ucn(e){return e.split(/[[.\]]/g).filter(Boolean).map(t=>t.includes("==")?Vcn(t):Hcn(t))}function vg(e){return Ucn(e)}class i6n extends ie.Component{constructor(){super(...arguments),this.state={focusPath:[]},this.handleFocus=t=>{this.setState({focusPath:t})},this.handleBlur=()=>{}}render(){return this.props.children({onBlur:this.handleBlur,onFocus:this.handleFocus,focusPath:this.state.focusPath})}}function w0(e){const{reference:t,children:n,observeAsset:r,waitPlaceholder:o}=e,i=t==null?void 0:t._ref,s=vo(()=>r(i),[i,r]);return l.jsx(l.Fragment,{children:i&&s?n(s):o})}function Wcn(e){return e.files&&e.files.length>0?Promise.resolve(Array.from(e.files||[])):WPe(Array.from(e.items||[])).then(Tn)}function Ycn(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t&&t.length>0?Promise.resolve(t):WPe(n).then(Tn)}function wae(e){return e===null?[]:[e]}function WPe(e){return Promise.all(e.map(t=>{if(t.kind==="file"&&t.webkitGetAsEntry){let n;try{n=t.webkitGetAsEntry()}catch{return wae(t.getAsFile())}return n?n.isDirectory?YPe(n):wae(t.getAsFile()):[]}if(t.kind==="file"){const n=t.getAsFile();return Promise.resolve(n?[n]:[])}return t.kind==="string"?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",t.kind),Promise.resolve([]))}))}function YPe(e){if(e.isFile)return new Promise((t,n)=>e.file(t,n)).then(t=>[t]);if(e.isDirectory){const t=e.createReader();return new Promise((n,r)=>t.readEntries(n,r)).then(n=>n.filter(r=>!r.name.startsWith("."))).then(n=>Promise.all(n.map(YPe)).then(Tn))}return Promise.resolve([])}function qcn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return e.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise((r,o)=>{const i=new Image;i.crossOrigin="anonymous",i.referrerPolicy="strict-origin-when-cross-origin",i.onload=()=>{const s=document.createElement("canvas");s.width=i.width,s.height=i.height;const a=s.getContext("2d");a==null||a.drawImage(i,0,0,s.width,s.height);try{s.toBlob(r,t,n)}catch(c){o(c)}},i.src=e})}const Gcn={opacity:0,position:"absolute"};function qPe(e){return ie.forwardRef(function(n,r){const{onFiles:o,onFilesOver:i,onFilesOut:s,disabled:a,...c}=n,[u,d]=ie.useState(!1),f=ie.useRef(null),p=cr(r),m=ie.useRef([]),v=h.useCallback(S=>{o==null||o(S)},[o]),g=h.useCallback(S=>{S.target===p.current&&(S.ctrlKey||S.metaKey)&&S.key==="v"&&d(!0)},[p]),y=h.useCallback(S=>{Wcn(S.clipboardData).then(E=>f.current?E.length>0?E:Kcn(f.current,"image/jpeg"):[]).then(E=>{var j;v(E),d(!1),(j=p.current)==null||j.focus()})},[v,p]),x=h.useCallback(S=>{m.current=[],S.preventDefault(),S.stopPropagation();const E=S.nativeEvent.dataTransfer;o&&E&&Ycn(E).then(j=>{j&&v(j)}),s==null||s()},[v,o,s]),b=h.useCallback(S=>{o&&(S.preventDefault(),S.stopPropagation())},[o]),w=h.useCallback(S=>{if(S.stopPropagation(),i&&p.current===S.currentTarget){m.current=[...new Set(m.current),S.currentTarget];const E=Array.from(S.dataTransfer.items).map(j=>({type:j.type,kind:j.kind}));i(E)}},[i,p]),C=h.useCallback(S=>{S.stopPropagation();const E=m.current.indexOf(S.currentTarget);E>-1&&m.current.splice(E,1),m.current.length===0&&(s==null||s())},[s]),_=ie.useRef(!1);return ie.useEffect(()=>{var S;!_.current&&u&&f.current?(f.current.focus(),Zcn(f.current)):_.current&&!u&&((S=f.current)==null||S.focus()),_.current=u},[u]),l.jsxs(l.Fragment,{children:[l.jsx(e,{...c,ref:p,onKeyDown:a?void 0:g,onDragOver:a?void 0:b,onDragEnter:a?void 0:w,onDragLeave:a?void 0:C,onDrop:a?void 0:x}),!a&&u&&l.jsx("div",{contentEditable:!0,onPaste:y,ref:f,style:Gcn})]})})}function Kcn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg";return e.isContentEditable?new Promise(n=>setTimeout(n,10)).then(()=>Array.from(e.querySelectorAll("img"))).then(n=>(e.innerHTML="",n)).then(n=>Promise.all(n.map(r=>qcn(r.src)))).then(n=>n.map(r=>new File([r],"pasted-image.jpg",{type:t}))):Promise.reject(new Error('Expected element to be contentEditable="true". Instead found a non contenteditable '.concat(e.tagName)))}function Zcn(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(t)}function hz(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function pz(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&hz(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Cae=Object.freeze,Xcn=Object.defineProperty,Qcn=(e,t)=>Cae(Xcn(e,"raw",{value:Cae(t||e.slice())})),_ae;function GPe(e){return P(e)(t=>{const n={width:t.$border?1:0,color:"var(--card-border-color)"};return he(_ae||(_ae=Qcn([`
        --card-focus-box-shadow: `,`;

        border-radius: `,`;
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: `,`;
        }
      `])),hz(n),ye(t.theme.sanity.radius[1]),pz({base:t.theme.sanity.color.base,border:n,focusRing:t.theme.sanity.focusRing}))})}const KPe=GPe(qPe(ee));var Sae=Object.freeze,Jcn=Object.defineProperty,pD=(e,t)=>Sae(Jcn(e,"raw",{value:Sae(t||e.slice())})),Eae,kae,jae,Tae;const eun=P(ee)(Eae||(Eae=pD([`
  min-height: 82px;
  box-sizing: border-box;
`]))),tun=P(U)(kae||(kae=pD([`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),nun=P(oe)(jae||(jae=pD([`
  position: relative;
  width: 60%;
`]))),run=P(ir)(Tae||(Tae=pD([`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`]))),oun=1e3*60*2,iun=e=>new Date().getTime()-new Date(e).getTime();function ZPe(e){let{uploadState:t,onCancel:n,onStale:r,height:o}=e;const i=t.file.name;return h.useEffect(()=>{iun(t.updatedAt)>oun&&(r==null||r())},[t.updatedAt,r]),l.jsx(eun,{tone:"primary",padding:4,border:!0,style:{height:"".concat(o,"px")},children:l.jsxs(tun,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[l.jsxs(nun,{children:[l.jsx(U,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:l.jsx(L,{size:1,children:l.jsxs(qt,{space:2,children:["Uploading",l.jsx(run,{size:1,children:i||"..."})]})})}),l.jsx(ee,{marginTop:3,radius:5,shadow:1,children:l.jsx(LZt,{value:t.progress})})]}),n?l.jsx(se,{fontSize:2,text:"Cancel upload",mode:"ghost",tone:"critical",onClick:n}):null]})})}function sun(e,t){return new Promise((n,r)=>{const o=new XMLHttpRequest;o.onload=()=>{const i=new FileReader;i.onloadend=()=>{var s;const a=(s=i.result)==null?void 0:s.toString(),c=a==null?void 0:a.substring(11,a.indexOf(";base64"));if(!c&&!t){r(new Error("Could not find mime type for image"));return}n(XPe(i.result,t||"".concat(wd(),".").concat(c)))},i.readAsDataURL(o.response)},o.onerror=i=>{r(i)},o.open("GET",e),o.responseType="blob",o.send()})}function aun(e,t){return new Promise((n,r)=>{const o=e.toString(),i=o.substring(11,o.indexOf(";base64"));if(!i&&!t){r(new Error("Could not find mime type for image"));return}n(XPe(e,t||"".concat(wd(),".").concat(i)))})}function XPe(e,t){var n;const r=e.split(","),o=(n=r[0].match(/:(.*?);/))==null?void 0:n[1],i=atob(r[1]);let s=i.length;const a=new Uint8Array(s);for(;s--;)a[s]=i.charCodeAt(s);return new File([a],t,{type:o})}function QPe(e){let{assetFromSource:t,onChange:n,type:r,resolveUploader:o,uploadWith:i,isImage:s}=e;if(!t)throw new Error("No asset given");if(!Array.isArray(t)||t.length===0)throw new Error("Returned value must be an array with at least one item (asset)");const a=t[0],c=a.assetDocumentProps,u=c==null?void 0:c.originalFilename,d=c==null?void 0:c.label,f=c==null?void 0:c.title,p=c==null?void 0:c.description,m=c==null?void 0:c.creditLine,v=c==null?void 0:c.source,g=s?[nt(["hotspot"]),nt(["crop"])]:[];switch(a.kind){case"assetDocumentId":n([es({_type:r.name}),...g,vt({_type:"reference",_ref:a.value},["asset"])]);break;case"file":{const y=o(r,a.value);y&&i(y,a.value,{label:d,title:f,description:p,creditLine:m,source:v});break}case"base64":aun(a.value,u).then(y=>{const x=o(r,y);x&&i(x,y,{label:d,title:f,description:p,creditLine:m,source:v})});break;case"url":sun(a.value,u).then(y=>{const x=o(r,y);x&&i(x,y,{label:d,title:f,description:p,creditLine:m,source:v})});break;default:throw new Error("Invalid value returned from asset source plugin")}}var Aae=Object.freeze,lun=Object.defineProperty,cun=(e,t)=>Aae(lun(e,"raw",{value:Aae(t||e.slice())})),Dae;const uun=P(Ve)(Dae||(Dae=cun([`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`]))),dun=ie.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:c,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,y="".concat(o||"","-").concat(h.useId()),x=ie.useCallback(w=>{u&&w.target.files&&u(Array.from(w.target.files))},[u]),b=l.jsxs(U,{align:"center",justify:"flex-start",padding:d,children:[r&&l.jsx(M,{marginRight:m?f:void 0,children:l.jsxs(L,{size:a,children:[h.isValidElement(r)&&r,Kl.isValidElementType(r)&&h.createElement(r)]})}),m&&l.jsx(L,{align:p,size:a,textOverflow:"ellipsis",children:m})]});return l.jsxs(uun,{...g,htmlFor:y,padding:0,fontSize:2,disabled:v,ref:n,children:[b,l.jsx("input",{"data-testid":"file-menuitem-input",accept:i,capture:s,id:y,multiple:c,onChange:x,type:"file",value:"",disabled:v})]})});function JPe(e){const{onUpload:t,onReset:n,readOnly:r,accept:o,directUploads:i,browse:s,downloadUrl:a,copyUrl:c}=e,{push:u}=Wo(),d=h.useCallback(()=>{navigator.clipboard.writeText(c||""),u({closable:!0,status:"success",title:"The URL is copied to the clipboard"})},[u,c]);return l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:2,children:l.jsx(Vt,{muted:!0,size:1,children:"Replace"})}),l.jsx(dun,{icon:Ej,mode:"bleed",onSelect:t,accept:o,text:"Upload","data-testid":"file-input-upload-button",disabled:r||!i,fontSize:2}),s,(a||c)&&l.jsx(Ir,{}),a&&l.jsx(Ve,{as:"a",icon:b6,text:"Download",href:a}),c&&l.jsx(Ve,{icon:Vu,text:"Copy URL",onClick:d}),l.jsx(Ir,{}),l.jsx(Ve,{tone:"critical",icon:Uu,text:"Clear field",onClick:n,disabled:r,"data-testid":"file-input-clear"})]})}var Iae=Object.freeze,fun=Object.defineProperty,hun=(e,t)=>Iae(fun(e,"raw",{value:Iae(t||e.slice())})),Oae;const pun=P(U)(Oae||(Oae=hun([`
  pointer-events: none;
`])));function e3e(e){const{hoveringFiles:t,type:n,readOnly:r,acceptedFiles:o,rejectedFilesCount:i,directUploads:s}=e,a=n==="file",c=h.useMemo(()=>r?l.jsx(bw,{}):t&&i>0||!s?l.jsx(Bf,{}):a?l.jsx(A0,{}):l.jsx($l,{}),[s,t,a,r,i]),u=h.useMemo(()=>{let d="Drag or paste ".concat(n," here");return s?(r&&(d="Read only"),t&&s&&!r&&(o.length>0&&(d="Drop to upload ".concat(n)),i>0&&(d="Can't upload ".concat(i," file").concat(i>1?"s":""," here"))),d):"Can't upload files here"},[o.length,s,t,r,i,n]);return l.jsxs(pun,{align:"center",gap:2,justify:"center",children:[l.jsx(L,{muted:!0,children:c}),l.jsx(L,{size:1,muted:!0,children:u})]})}var Pae=Object.freeze,mun=Object.defineProperty,gun=(e,t)=>Pae(mun(e,"raw",{value:Pae(t||e.slice())})),Rae;const vun=P(se).attrs({forwardedAs:"label"})(e=>{let{theme:t}=e;const{focusRing:n}=t.sanity,r=t.sanity.color.base,o={width:1,color:"var(--card-border-color)"};return he(Rae||(Rae=gun([`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: `,`;
        }
      }

      & input {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `])),pz({base:r,border:o,focusRing:n}))}),yun=ie.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:c,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,y="".concat(o||"","-").concat(h.useId()),x=Rs(),b=ie.useCallback(C=>{u&&C.target.files&&u(Array.from(C.target.files))},[u]),w=l.jsxs(U,{align:"center",justify:"center",padding:d,children:[r&&l.jsx(M,{marginRight:m?f:void 0,children:l.jsxs(L,{size:a,children:[h.isValidElement(r)&&r,Kl.isValidElementType(r)&&h.createElement(r)]})}),m&&l.jsx(L,{align:p,size:a,textOverflow:"ellipsis",weight:x.sanity.button.textWeight,children:m})]});return l.jsxs(vun,{...g,htmlFor:y,padding:0,fontSize:2,disabled:v,children:[w,l.jsx("input",{"data-testid":"file-button-input",accept:i,capture:s,id:y,multiple:c,onChange:b,ref:n,type:"file",value:"",disabled:v})]})});function bun(e){const{accept:t,acceptedFiles:n,browse:r,directUploads:o,hoveringFiles:i,onUpload:s,readOnly:a,rejectedFilesCount:c,type:u}=e,[d,f]=h.useState(null),p=tT(d),m=(p==null?void 0:p.border)&&p.border.width<440;return l.jsxs(U,{align:m?void 0:"center",direction:m?"column":"row",gap:4,justify:"space-between",paddingY:m?1:void 0,ref:f,children:[l.jsx(U,{flex:1,justify:"center",children:l.jsx(e3e,{acceptedFiles:n,directUploads:o,hoveringFiles:i,readOnly:a,rejectedFilesCount:c,type:u})}),l.jsxs(U,{align:"center",gap:2,justify:"center",wrap:"wrap",children:[l.jsx(yun,{accept:t,"data-testid":"file-input-upload-button",disabled:a||!o,icon:Ej,mode:"ghost",onSelect:s,text:"Upload"}),r]})]})}const t3e=ie.memo(bun);var $ae=Object.freeze,xun=Object.defineProperty,wun=(e,t)=>$ae(xun(e,"raw",{value:$ae(t||e.slice())})),Mae;const Cun=P(se)(Mae||(Mae=wun([`
  width: 100%;
`])));function n3e(e){let{onClearStale:t}=e;return l.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(U,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Mr,{})})}),l.jsxs(oe,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Incomplete upload"}),l.jsx(L,{size:1,children:"An upload has made no progress in the last 6m and likely got interrupted. You can safely clear the incomplete upload and try uploading again."})]})]}),l.jsx(Cun,{icon:Uu,text:"Clear upload",onClick:t,mode:"ghost"})]})}var Fae=Object.freeze,_un=Object.defineProperty,r3e=(e,t)=>Fae(_un(e,"raw",{value:Fae(t||e.slice())})),Lae,Bae;const Sun=P(ee)(Lae||(Lae=r3e([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),Eun=P(U)(Bae||(Bae=r3e([`
  height: 100%;
`])));function o3e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return"".concat(parseFloat((e/Math.pow(n,i)).toFixed(r))," ").concat(o[i])}function kun(e){const{originalFilename:t,size:n,children:r,muted:o,disabled:i,onClick:s,isMenuOpen:a,onMenuOpen:c,setMenuButtonElement:u}=e,[d,f]=h.useState(null),[p,m]=h.useState(null),v=h.useCallback(()=>c(!0),[c]);is(h.useCallback(y=>{a&&(y.key==="Escape"||y.key==="Tab")&&(c(!1),p==null||p.focus())},[a,c,p])),lr(h.useCallback(y=>{p!=null&&p.contains(y.target)||c(!1)},[p,c]),[d]);const g=h.useCallback(y=>{u(y),m(y)},[u]);return h.useEffect(()=>{a&&(d==null||d.focus())},[a,d]),l.jsxs(U,{wrap:"nowrap",justify:"space-between",align:"center",children:[l.jsx(ee,{as:o||i?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:s,flex:1,children:l.jsxs(U,{wrap:"nowrap",align:"center",children:[l.jsx(ee,{padding:3,tone:"transparent",shadow:1,radius:1,children:l.jsx(L,{muted:o,children:l.jsx(A0,{})})}),l.jsxs(oe,{flex:1,space:2,marginLeft:3,children:[l.jsx(L,{size:2,textOverflow:"ellipsis",muted:o,"data-testid":"file-name",children:t}),l.jsx(L,{size:1,muted:!0,"data-testid":"file-size",children:o3e(n)})]})]})}),l.jsx(M,{padding:2,children:l.jsx(U,{justify:"center",children:l.jsx(Jt,{content:l.jsx(Bt,{ref:f,children:r}),id:"file-actions-menu",portal:!0,open:a,constrainSize:!0,children:l.jsx(se,{"aria-label":"Open file options menu","data-testid":"options-menu-button",icon:Ao,mode:"bleed",onClick:v,ref:g})})})})]})}function Nae(){return l.jsxs(U,{align:"center",justify:"flex-start",padding:2,children:[l.jsx(z0,{padding:3,radius:1,animated:!0}),l.jsxs(oe,{flex:1,space:2,marginLeft:3,children:[l.jsx(JE,{style:{width:"100%"},radius:1,animated:!0}),l.jsx(JE,{style:{width:"100%"},radius:1,animated:!0})]})]})}var zae=Object.freeze,jun=Object.defineProperty,Tun=(e,t)=>zae(jun(e,"raw",{value:zae(t||e.slice())})),Vae;const Aun=P(se)(Vae||(Vae=Tun([`
  width: 100%;
`])));function Dun(e){let{onClearValue:t}=e;return l.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(U,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Mr,{})})}),l.jsxs(oe,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Invalid file value"}),l.jsx(L,{size:1,children:"The value of this field is not a valid file. Resetting this field will let you choose a new file."})]})]}),l.jsx(Aun,{icon:Uu,text:"Reset value",onClick:t,mode:"ghost"})]})}function Iun(e){let{children:t}=e;return t}const Oun=["asset"];class Pun extends ie.PureComponent{constructor(t){var n;super(t),n=this,this.uploadSubscription=null,this.browseButtonElement=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1},this.toast=null,this.handleRemoveButtonClick=()=>{const{path:r,value:o}=this.props,s=typeof r.slice(-1)[0]!="string",a=Object.keys(o||{}),u=a.filter(f=>!["_type","_key","_upload","asset"].includes(f)).length===0,d=["asset"].concat(a.filter(f=>["_upload"].includes(f))).map(f=>nt([f]));this.props.onChange(ft.from(u&&!s?nt():d))},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange(nt(["asset"]))},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectFileFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.browseButtonElement)==null||r.focus()},this.setBrowseButtonElement=r=>{this.browseButtonElement=r},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:c}=n.props,{source:u}=i,d={metadata:Hn(s,"options.metadata"),storeOriginalFilename:Hn(s,"options.storeOriginalFilename"),source:u};n.cancelUpload(),n.setState({isUploading:!0}),a(ft.from([es({_type:s.name})])),n.uploadSubscription=r.upload(c,o,s,d).subscribe({next:f=>{f.patches&&a(ft.from(f.patches))},error:f=>{var p;console.error(f),(p=n.toast)==null||p.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{n.setState({isUploading:!1})}})},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;QPe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleUpload=r=>{let{file:o,uploader:i}=r;this.uploadWith(i,o)},this.setToast=r=>{this.toast=r},this._assetFieldPath=t.path.concat(Oun)}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(ft.from([nt(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n}=this.props,r=t.map(o=>{var i,s;return{file:o,uploader:(s=(i=this.props).resolveUploader)==null?void 0:s.call(i,n,o)}}).find(o=>o.uploader);r&&this.uploadWith(r.uploader,r.file),this.setState({isMenuOpen:!1})}renderUploadState(t){const{isUploading:n}=this.state;return l.jsx(ZPe,{uploadState:t,onCancel:n?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props;if(!t)return null;const i=Hn(r,"options.accept",""),s=t.component;return n&&n.asset?l.jsx(w0,{observeAsset:o,reference:n.asset,waitPlaceholder:l.jsx(Nae,{}),children:a=>l.jsx(s,{selectedAssets:[a],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):l.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:t,changed:n,readOnly:r,elementProps:o}=this.props,{hoveringFiles:i,isStale:s}=this.state,a=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!IX(t)?()=>l.jsx(Dun,{onClearValue:this.handleClearField}):c=>l.jsxs(l.Fragment,{children:[s&&l.jsx(M,{marginBottom:2,children:l.jsx(n3e,{onClearStale:this.handleClearUploadState})}),l.jsx(ci,{path:this._assetFieldPath,hasFocus:!!c.focused,isChanged:n,children:t!=null&&t._upload?this.renderUploadState(t._upload):l.jsx(KPe,{...o,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!r,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:a||i.length>0,style:{padding:1},sizing:"border",radius:2,children:l.jsxs("div",{style:{position:"relative"},children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),t!=null&&t.asset&&i.length>0?this.renderAssetMenu(this.getFileTone()):null,!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&this.renderPreview()]})})})]})}renderPreview(){const{value:t,readOnly:n,assetSources:r,schemaType:o,directUploads:i,observeAsset:s}=this.props,{isMenuOpen:a}=this.state,c=t==null?void 0:t.asset;if(!c)return null;const u=Hn(o,"options.accept","");let d=r&&(r==null?void 0:r.length)===0?null:l.jsx(Ve,{icon:ti,text:"Browse",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(r[0])},disabled:n,"data-testid":"file-input-browse-button"});return r.length>1&&(d=r.map(f=>l.jsx(Ve,{text:f.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(f)},icon:f.icon||$l,disabled:n,"data-testid":"file-input-browse-button-".concat(f.name)},f.name))),l.jsx(w0,{reference:c,observeAsset:s,waitPlaceholder:l.jsx(Nae,{}),children:f=>{let{originalFilename:p,extension:m,url:v,size:g}=f;const y=p||"download.".concat(m);let x,b;return IX(t)&&(b="".concat(v,"?dl"),x=v),l.jsx(kun,{size:g,originalFilename:y,muted:!n,onMenuOpen:w=>this.setState({isMenuOpen:w}),isMenuOpen:a,setMenuButtonElement:this.setBrowseButtonElement,children:l.jsx(JPe,{onUpload:this.handleSelectFiles,browse:d,onReset:this.handleRemoveButtonClick,downloadUrl:b,copyUrl:x,readOnly:n,accept:u,directUploads:i})})}})}renderAssetMenu(t){const{schemaType:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),c=s.length-a.length;return l.jsx(Sun,{tone:t,children:l.jsx(Eun,{align:"center",justify:"center",gap:2,flex:1,children:l.jsx(e3e,{readOnly:r,hoveringFiles:s,acceptedFiles:a,rejectedFilesCount:c,directUploads:o,type:"file"})})})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t.length===0?null:t.length>1&&!n&&r?l.jsx(en,{id:"".concat(o,"_assetFileButton"),ref:this.setBrowseButtonElement,button:l.jsx(se,{mode:"ghost",text:"Select","data-testid":"file-input-multi-browse-button",icon:ti}),"data-testid":"input-select-button",menu:l.jsx(Bt,{children:t.map(i=>l.jsx(Ve,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(i)},icon:i.icon||$l,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))})}):l.jsx(se,{fontSize:2,text:"Browse",icon:ti,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:t,schemaType:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o==null?void 0:o(n,u)),a=i.length-s.length,c=Hn(n,"options.accept","");return l.jsx("div",{style:{padding:1},children:l.jsx(ee,{tone:t?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:l.jsx(t3e,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:t,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"file",accept:c,directUploads:r})})})}getFileTone(){const{directUploads:t,schemaType:n,value:r,readOnly:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),c=s.length-a.length;return s.length>0&&(c>0||!t)?"critical":!(r!=null&&r._upload)&&!o&&s.length>0?"primary":r!=null&&r._upload&&(r!=null&&r.asset)&&o?"transparent":"default"}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:o,renderItem:i,renderInput:s,renderField:a,renderPreview:c}=this.props,{selectedAssetSource:u}=this.state;return l.jsxs(l.Fragment,{children:[l.jsx(hN,{ref:this.setToast}),t.map(d=>d.kind==="field"&&(d.name==="crop"||d.name==="hotspot")?null:d.kind==="field"?l.jsx(TC,{member:d,renderAnnotation:n,renderInlineBlock:o,renderBlock:r,renderInput:d.name==="asset"?this.renderAsset():s,renderField:d.name==="asset"?Iun:a,renderItem:i,renderPreview:c},d.key):d.kind==="fieldSet"?l.jsx(oz,{member:d,renderAnnotation:n,renderBlock:r,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:i,renderPreview:c},d.key):d.kind==="error"?l.jsx(aD,{member:d},d.key):l.jsxs(l.Fragment,{children:["Unknown member kind: $",d.kind]})),u&&this.renderAssetSource()]})}}function Run(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,r=Vi(),{file:o}=ui().__internal,i=fr(sn),s=h.useCallback((u,d)=>o.directUploads?ez(u,d):null,[o.directUploads]),a=h.useMemo(()=>n||o.assetSources,[o,n]),c=h.useCallback(u=>cPe(r,u),[r]);return l.jsx(Pun,{...e,client:i,assetSources:a,directUploads:o.directUploads,observeAsset:c,resolveUploader:s})}var Hae=Object.freeze,$un=Object.defineProperty,Mun=(e,t)=>Hae($un(e,"raw",{value:Hae(t||e.slice())})),Uae;const Wae=P(M)(Uae||(Uae=Mun([`
  position: relative;
  padding-bottom: calc(`,` * 100%);

  & > div {
    position: absolute;
    top: `,`px;
    left: `,`px;
    right: `,`px;
    bottom: `,`px;
  }
`])),e=>{let{ratio:t=3/2}=e;return 1/t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t});function Fun(e){const{src:t,children:n}=e,[r,o]=h.useState(!0),[i,s]=h.useState(null),[a,c]=h.useState(null);return h.useEffect(()=>{s(null),c(null),o(!0);const u=new Image;u.onload=()=>{s(u),c(null),o(!1)},u.onerror=()=>{c(new Error("Could not load image from ".concat(JSON.stringify(t)))),o(!1)},u.referrerPolicy="strict-origin-when-cross-origin",u.src=t},[t]),n({image:i,error:a,isLoading:r})}const Lun=["","webkit","moz","ms","o"].map(e=>"".concat(e,"backingStoreRatio"));let _2=-1;function Bun(e){return _2===-1&&(_2=Lun.find(t=>t in e)),_2&&e[_2]}function Yae(e,t){const n={x:t.center.x,y:t.center.y},r=t.width/2,o=t.height/2;if(r<=0||o<=0)return!1;const i={x:e.x-n.x,y:e.y-n.y};return Math.pow(i.x,2)/Math.pow(r,2)+Math.pow(i.y,2)/Math.pow(o,2)<=1}function qae(e,t){let{x:n,y:r}=e;return Math.pow(n-t.x,2)+Math.pow(r-t.y,2)<Math.pow(t.radius,2)}function f3(e,t){return e.x>=t.left&&e.x<=t.left+t.width&&e.y>=t.top&&e.y<=t.top+t.height}function Gae(e,t){return{x:t.center.x-t.width/2*Math.cos(e),y:t.center.y-t.height/2*Math.sin(e)}}class iF{constructor(t,n){this.x=t,this.y=n}}class Kae{constructor(t,n,r){this.y=t,this._left=n,this._right=r}get right(){return new iF(this._right,this.y)}get left(){return new iF(this._left,this.y)}get length(){return this._right-this._left}}class Nun{constructor(t){this.rect=t}get top(){return new Kae(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new Kae(this.rect.bottom,this.rect.left,this.rect.right)}}class io{static fromEdges(t){let{left:n,right:r,top:o,bottom:i}=t;return new io(n,o,1-n-r,1-o-i)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.left=t,this.top=n,this.width=r,this.height=o}setTopLeft(t,n){return new io(t,n,this.width||0,this.height||0)}setSize(t,n){return new io(this.left||0,this.top||0,t,n)}setCenter(t,n){const r=this.width||0,o=this.height||0;return new io(t-r/2,n-o/2,r||0,o||0)}get center(){return new iF(this.left+this.width/2,this.top+this.height/2)}get corners(){return new Nun(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(t){return new io((this.left||0)+this.width*t.left,(this.top||0)+this.height*t.top,this.width*t.width,this.height*t.height)}grow(t){return new io(this.left-t,this.top-t,this.width+t*2,this.height+t*2)}shrink(t){return this.grow(-t)}cropRelative(t){const n=this.top+t.top*this.height,r=this.left+t.left*this.width,o=this.height*t.height,i=this.width*t.width;return new io(r,n,i,o)}clamp(t){let{left:n,top:r,width:o,height:i}=this;return t.width<o&&(o=t.width,n=t.left),t.height<i&&(i=t.height,r=t.top),n+o>t.left+t.width&&(n=t.right-o),r+i>t.top+t.height&&(r=t.bottom-i),new io(Math.max(n,t.left),Math.max(r,t.top),o,i)}}const S2=nf("sanity-imagetool");function zun(e){return class extends ie.PureComponent{constructor(){super(...arguments),this.domNode=null,this.currentPos=null,this.isDragging=!1,this.handleTouchMove=n=>{this.isDragging&&n.preventDefault()},this.handleDragStart=n=>{const{onDragStart:r,readOnly:o}=this.props;if(o||!this.domNode)return;if(this.isDragging){S2("Start cancelled, already a drag in progress");return}this.isDragging=!0;const i=p3(n);S2("Drag started %o",i),r(h3(i.x,i.y,this.domNode.getBoundingClientRect())),this.currentPos=i},this.handleDrag=n=>{if(!this.isDragging||this.props.readOnly||!this.currentPos)return;const{onDrag:r}=this.props,o=p3(n),i=Vun(o,this.currentPos);r(i),S2("moving by %o",i),this.currentPos=o},this.handleDragEnd=n=>{const{onDragEnd:r,readOnly:o}=this.props;if(!this.isDragging||o||!this.domNode)return;const i=p3(n);r(h3(i.x,i.y,this.domNode.getBoundingClientRect())),this.isDragging=!1,this.currentPos=null,S2("Done moving %o",i)},this.handleDragCancel=()=>{if(!this.isDragging||this.props.readOnly||!this.currentPos||!this.domNode)return;const{onDragEnd:n}=this.props;this.isDragging=!1,n(h3(this.currentPos.x,this.currentPos.y,this.domNode.getBoundingClientRect())),this.currentPos=null},this.setDomNode=n=>{this.domNode=n}}componentDidMount(){pm?(document.body.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),document.body.addEventListener("touchend",this.handleDragEnd),document.body.addEventListener("touchcancel",this.handleDragCancel)):(document.body.addEventListener("mousemove",this.handleDrag),document.body.addEventListener("mouseup",this.handleDragEnd),document.body.addEventListener("mouseleave",this.handleDragCancel))}componentWillUnmount(){pm?(document.body.removeEventListener("touchmove",this.handleTouchMove),document.body.removeEventListener("touchend",this.handleDragEnd),document.body.removeEventListener("touchcancel",this.handleDragCancel)):(document.body.removeEventListener("mousemove",this.handleDrag),document.body.removeEventListener("mouseup",this.handleDragEnd),document.body.removeEventListener("mouseleave",this.handleDragCancel))}render(){const{readOnly:n,onDragStart:r,onDragEnd:o,onDrag:i,...s}=this.props;return l.jsx(e,{ref:this.setDomNode,onTouchStart:n?void 0:this.handleDragStart,onMouseDown:n?void 0:this.handleDragStart,onTouchMove:n?void 0:this.handleDrag,...s})}}}function h3(e,t,n){return{x:e-n.left,y:t-n.top}}function p3(e){return"touches"in e?e.touches.length>0?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:0,y:0}:{x:e.clientX,y:e.clientY}}function Vun(e,t){return{x:e.x-t.x,y:e.y-t.y}}var Zae=Object.freeze,Hun=Object.defineProperty,i3e=(e,t)=>Zae(Hun(e,"raw",{value:Zae(t||e.slice())})),Xae,Qae;const Uun=zun("canvas"),Wun=P.div(Xae||(Xae=i3e([`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`]))),Yun=P(Uun)(Qae||(Qae=i3e([`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
`]))),qun="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",Gun="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",ud={x:.5,y:.5,height:1,width:1},dd={top:0,left:0,right:0,bottom:0},yy=8,Kun=12,Zun=10;function Xun(e){const t=e.top>e.bottom,n=e.left>e.right;return{top:t?e.bottom:e.top,bottom:t?e.top:e.bottom,left:n?e.right:e.left,right:n?e.left:e.right}}function Qun(e,t){return!(!e||!e.crop||e.crop.top+t.top<0||e.crop.left+t.left<0||e.crop.right+t.right<0||e.crop.bottom+t.bottom<0)}function Jae(e,t){const{top:n,right:r,bottom:o,left:i}=e.crop||dd,s={hotspot:e.hotspot,crop:{top:n+(t.top||0)>0?n:0,right:r+(t.right||0)>0?r:0,bottom:o+(t.bottom||0)>0?o:0,left:i+(t.left||0)>0?i:0}},a={top:n+(t.top||0)>0&&t.top||0,right:r+(t.right||0)>0&&t.right||0,bottom:o+(t.bottom||0)>0&&t.bottom||0,left:i+(t.left||0)>0&&t.left||0};return{value:s,delta:a}}function Jun(e){switch(e){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}const ele=kT(()=>{const e=window.devicePixelRatio||1,t=document.createElement("canvas").getContext("2d"),n=t&&Bun(t)||1;return e/n}),tle=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];class edn extends ie.PureComponent{constructor(){super(...arguments),this.state={cropping:!1,cropMoving:!1,moving:!1,resizing:!1,mousePosition:null},this.handleDragStart=t=>{let{x:n,y:r}=t;const o={x:n*this.getScale(),y:r*this.getScale()},i=Yae(o,this.getHotspotRect()),s=qae(o,this.getDragHandleCoords()),a=this.getActiveCropHandleFor(o),c=f3(o,this.getCropRect());a?this.setState({cropping:a}):s?this.setState({resizing:!0}):i?this.setState({moving:!0}):c&&this.setState({cropMoving:!0})},this.handleDrag=t=>{this.state.cropping?this.emitCrop(this.state.cropping,t):this.state.cropMoving?this.emitCropMove(t):this.state.moving?this.emitMove(t):this.state.resizing&&this.emitResize(t)},this.handleDragEnd=()=>{const{onChange:t,onChangeEnd:n}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:r,crop:o}=this.getClampedValue(),i=Xun(o),s={crop:{top:i.top,bottom:1-i.bottom,left:i.left,right:1-i.right},hotspot:{x:r.center.x,y:r.center.y,height:Math.abs(r.height),width:Math.abs(r.width)}};t(s),n&&n(s)},this.handleMouseOut=()=>{this.setState({mousePosition:null})},this.handleMouseMove=t=>{const n=t.currentTarget.getBoundingClientRect();this.setState({mousePosition:{x:(t.clientX-n.left)*this.getScale(),y:(t.clientY-n.top)*this.getScale()}})},this.setCanvas=t=>{this.canvas=t}}getHotspotRect(){const{value:t,image:n}=this.props,r=t.hotspot||ud,o=new io().setSize(r.width,r.height).setCenter(r.x,r.y);return new io().setSize(n.width,n.height).shrink(yy*this.getScale()).multiply(o)}getCropRect(){const{value:t,image:n}=this.props;return new io().setSize(n.width,n.height).shrink(yy*this.getScale()).cropRelative(io.fromEdges(t.crop||dd).clamp(new io(0,0,1,1)))}getCropHandles(){const t=this.getCropRect(),n=Kun*this.getScale(),r=n/2,o=new io(0,0,n,n);return{left:o.setTopLeft(t.left-r,t.center.y-r),right:o.setTopLeft(t.right-r,t.center.y-r),top:o.setTopLeft(t.center.x-r,t.top-r),topLeft:o.setTopLeft(t.left-r,t.top-r),topRight:o.setTopLeft(t.right-r,t.top-r),bottom:o.setTopLeft(t.center.x-r,t.bottom-r),bottomLeft:o.setTopLeft(t.left-r,t.bottom-r),bottomRight:o.setTopLeft(t.right-r,t.bottom-r)}}getActiveCropHandleFor(t){let{x:n,y:r}=t;const o=this.getCropHandles();for(const i of tle)if(f3({x:n,y:r},o[i]))return i;return!1}emitMove(t){const{image:n,value:r,onChange:o}=this.props,i=this.getScale(),s={x:t.x*i/n.width,y:t.y*i/n.height};o(tdn(r,s))}emitCropMove(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s=t.x*i/n.width,a=-t.x*i/n.width,c=t.y*i/n.height,u=-t.y*i/n.height,d={left:s,right:a,top:c,bottom:u};Qun(o,d)&&r(nle(o,d))}emitCrop(t,n){const{image:r,onChange:o,value:i}=this.props,s=this.getScale();let a=0,c=0,u=0,d=0;t=="left"||t==="topLeft"||t==="bottomLeft"?a=n.x*s/r.width:(t=="right"||t==="topRight"||t==="bottomRight")&&(c=-n.x*s/r.width),t=="top"||t==="topLeft"||t==="topRight"?u=n.y*s/r.height:(t=="bottom"||t==="bottomLeft"||t==="bottomRight")&&(d=-n.y*s/r.height);const f={left:a,right:c,top:u,bottom:d},p=Jae(i,f).value,m=Jae(i,f).delta;o(nle(p,m))}emitResize(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s={x:t.x*i*2/n.width,y:t.y*i*2/n.height};r(ndn(o,{height:s.y,width:s.x}))}getClampedValue(){const t=this.props.value,n=io.fromEdges(t.crop||dd).clamp(new io(0,0,1,1)),r=t.hotspot||ud,o=new io(0,0,1,1).setSize(r.width,r.height).setCenter(r.x,r.y).clamp(n);return{crop:n,hotspot:o}}paintHotspot(t,n){const{image:r,readOnly:o}=this.props,i=new io().setSize(r.width,r.height),{hotspot:s,crop:a}=this.getClampedValue(),c=this.getScale(),u=yy*c;t.save(),m(),d(),t.clip(),p(),t.restore(),o||v(Math.PI*1.25);function d(){t.save();const g=i.shrink(u).multiply(s),y=g.height/g.width;t.scale(1,y),t.beginPath(),t.globalAlpha=n,t.arc(g.center.x,g.center.y/y,Math.abs(g.width/2),0,2*Math.PI,!1),t.strokeStyle="white",t.lineWidth=1.5*c,t.stroke(),t.closePath(),t.restore()}function f(g,y,x,b,w,C,_,S){t.save(),t.drawImage(r,g,y,x,b,w,C,_,S),t.restore()}function p(){const g=i.multiply(s),y=i.shrink(u).multiply(s);f(g.left,g.top,g.width,g.height,y.left,y.top,y.width,y.height)}function m(){const g=i.cropRelative(a),y=i.shrink(u).cropRelative(a);t.save(),f(g.left,g.top,g.width,g.height,y.left,y.top,y.width,y.height),t.globalAlpha=.5,t.fillStyle="black",t.fillRect(y.left,y.top,y.width,y.height),t.restore()}function v(g){t.save();const y=Zun*c,x=i.shrink(u).multiply(s),b=Gae(g,x);t.beginPath(),t.arc(b.x,b.y,y,0,2*Math.PI,!1),t.fillStyle="rgb(255,255,255)",t.fill(),t.closePath(),t.restore(),t.beginPath(),t.arc(b.x,b.y,y,0,2*Math.PI,!1),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=.5*c,t.stroke(),t.closePath()}}getActualSize(){var t;const n=(t=this.canvas)==null?void 0:t.domNode;return n?{height:n.clientHeight,width:n.clientWidth}:{height:0,width:0}}getDragHandleCoords(){const t=this.getHotspotRect(),n=Gae(Math.PI*1.25,t);return{x:n.x,y:n.y,radius:8*this.getScale()}}debug(t){t.save();const{image:n}=this.props,r=this.getHotspotRect(),o=this.getScale(),i=yy*o;t.setLineDash&&t.setLineDash([2*o,2*o]),t.lineWidth=.5*o,t.strokeStyle="rgba(200, 200, 200, 0.5)",s(r.center.x),a(r.center.y),t.strokeStyle="rgba(150, 150, 150, 0.5)",a(r.top),a(r.bottom),s(r.left),s(r.right),t.restore();function s(u){c(u,i,u,n.height-i)}function a(u){c(i,u,n.width-i,u)}function c(u,d,f,p){t.beginPath(),t.moveTo(u,d),t.lineTo(f,p),t.stroke(),t.closePath()}}paintBackground(t){const{image:n}=this.props,r=new io().setSize(n.width,n.height).shrink(yy*this.getScale());t.save(),t.fillStyle="white",t.clearRect(0,0,n.width,n.height),t.globalAlpha=.3,t.drawImage(n,r.left,r.top,r.width,r.height),t.restore()}paint(t){const{readOnly:n}=this.props;t.save();const r=ele();t.scale(r,r);const o=!n&&this.state.mousePosition?.8:.2;this.paintBackground(t),this.paintHotspot(t,o),this.debug(t),this.paintCropBorder(t),n||this.highlightCropHandles(t,o),t.restore()}paintMousePosition(t){if(!this.state.mousePosition)return;const{x:n,y:r}=this.state.mousePosition;t.beginPath(),t.arc(n,r,14*this.getScale(),0,2*Math.PI,!1),t.fillStyle="lightblue",t.fill(),t.restore()}paintCropBorder(t){const n=this.getCropRect();t.save(),t.beginPath(),t.fillStyle="rgba(66, 66, 66, 0.9)",t.lineWidth=1,t.rect(n.left,n.top,n.width,n.height),t.stroke(),t.closePath(),t.restore()}highlightCropHandles(t,n){t.save();const r=this.getCropHandles();tle.forEach(o=>{t.fillStyle=this.state.cropping===o?"rgba(202, 54, 53, ".concat(n,")"):"rgba(230, 230, 230, ".concat(n+.4,")");const{left:i,top:s,height:a,width:c}=r[o];t.fillRect(i,s,c,a),t.beginPath(),t.fillStyle="rgba(66, 66, 66, ".concat(n,")"),t.rect(i,s,c,a),t.closePath(),t.stroke()}),t.restore()}getScale(){const t=this.getActualSize();return this.props.image.width/t.width}getCursor(){const{mousePosition:t}=this.state,{readOnly:n}=this.props;if(!t||n)return"auto";const r=this.state.cropping||this.getActiveCropHandleFor(t);if(r)return Jun(r)||"auto";const o=qae(t,this.getDragHandleCoords());if(this.state.resizing||o)return"move";if(this.state.moving||this.state.cropMoving)return"url(".concat(Gun,"), move");const i=Yae(t,this.getHotspotRect()),s=f3(t,this.getCropRect());return i||s?"url(".concat(qun,"), move"):"auto"}componentDidMount(){this.draw()}componentDidUpdate(){this.draw()}draw(){if(!this.canvas)return;const t=this.canvas.domNode,n=t.getContext("2d");if(!n)return;this.paint(n);const r=t.style.cursor,o=this.getCursor();r!==o&&(t.style.cursor=o)}render(){const{image:t,readOnly:n}=this.props,r=ele();return l.jsx(Wun,{children:l.jsx(Yun,{readOnly:n,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,height:t.height*r,width:t.width*r})})}}function tdn(e,t){const n=e&&e.hotspot||ud;return{...e,hotspot:{...n,x:n.x+t.x,y:n.y+t.y}}}function ndn(e,t){const n=e&&e.hotspot||ud;return{...e,hotspot:{...n,height:n.height+t.height,width:n.width+t.width}}}function nle(e,t){const n=e&&e.crop||dd;return{...e,crop:{left:n.left+(t.left||0),right:n.right+(t.right||0),top:n.top+(t.top||0),bottom:n.bottom+(t.bottom||0)}}}function rdn(e){const{image:t,maxHeight:n,maxWidth:r,children:o}=e,[i]=h.useState(()=>{const a=document.createElement("canvas");return a.style.display="none",a});h.useEffect(()=>(document.body.appendChild(i),()=>{document.body.removeChild(i)}),[i]);const s=h.useCallback((a,c,u)=>{const d=a.width/a.height,f=Math.min(a.width,u),p=Math.min(a.height,c),m=a.width>a.height,v=m?f:p*d,g=m?f/d:p;i.width=v,i.height=g;const y=i.getContext("2d");return y&&y.drawImage(a,0,0,a.width,a.height,0,0,v,g),i},[i]);return o(s(t,n,r))}function Jx(e){return l.jsx(Fun,{src:e.src,children:t=>{let{isLoading:n,image:r,error:o}=t;return n?l.jsx("div",{children:"Loading..."}):o?l.jsx("div",{children:o.message}):r?l.jsx(rdn,{image:r,maxHeight:Jx.maxHeight,maxWidth:Jx.maxWidth,children:i=>l.jsx(edn,{image:i,...e})}):null}})}Jx.maxHeight=500;Jx.maxWidth=1e3;function odn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=rle(e.image)||1,n=e.hotspot||ud,r=e.crop||dd,o=rle(e.container)||t*sdn(r),i=e.align||{x:"center",y:"center"},s=idn(t,{hotspot:n,crop:r},{aspect:o,align:i}),a=a3e(s3e(100/o));return{debug:{result:s},container:{overflow:"hidden",position:"relative",width:"100%",height:a},padding:{marginTop:a},crop:{position:"absolute",overflow:"hidden",height:$d(s.crop.height),width:$d(s.crop.width),top:$d(s.crop.top),left:$d(s.crop.left)},image:{position:"absolute",height:$d(s.image.height),width:$d(s.image.width),top:$d(s.image.top),left:$d(s.image.left)}}}function rle(e){if(!e)return null;if("aspectRatio"in e)return e.aspectRatio;if("height"in e||"width"in e){if(typeof e.height!="number"&&typeof e.width!="number")throw new Error("Height and width must be numbers, got ".concat(JSON.stringify(e)));return e.width/e.height}return null}function s3e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;const n=Math.pow(10,t);return Math.round(e*n)/n}function idn(e,t,n){const r=t.crop,o=n.aspect,i=n.align,s=1-r.left-r.right,a=1-r.top-r.bottom,c={top:-r.top/a,left:-r.left/s,width:1/s,height:1/a},d=s/a*e,f={x:(t.hotspot.x-r.left)/s,y:(t.hotspot.y-r.top)/a,height:t.hotspot.height/a,width:t.hotspot.width/s},p=1/f.width,m=1/f.height*d/o,v=Math.min(p,m);let g;const y=d<=o;y?g=1:g=d/o;let x,b;if(g>v){x="letterbox";let w;const C=g-v;y?w=1-C:w=v,b={width:w,height:w/d*o,left:0,top:0};const _=f.x*b.width-f.width*b.width/2;switch(i.x){case"left":b.left=y?0:-_;break;case"right":b.left=y?1-b.width:_;break;case"center":b.left=y?(1-b.width)/2:-_;break;default:throw new Error("Invalid x alignment: '".concat(i.x,"'. Must be either 'left', 'right' or 'center'"))}const S=f.y*b.height-f.height*b.height/2;switch(i.y){case"top":b.top=y?-S:0;break;case"bottom":b.top=S;break;case"center":b.top=y?-S:(1-b.height)/2;break;default:throw new Error("Invalid y alignment: '".concat(i.y,"'. Must be either 'top', 'bottom' or 'center'"))}}else if(y){x="full_width";let w=-f.y/d*o+.5;const C=g/d*o;w>0?w=0:-w>C-1&&(w=-(C-1)),b={width:g,height:C,left:0,top:w}}else{x="full_height";const w=g;let C=.5-f.x*g;C>0?C=0:-C>w-1&&(C=-(w-1)),b={width:w,height:g/d*o,top:0,left:C}}return{method:x,crop:b,image:c}}function sdn(e){const t=1-e.top-e.bottom;return(1-e.left-e.right)/t}function a3e(e){return e===0?0:"".concat(e,"%")}function $d(e){return a3e(s3e(e*100))}var ole=Object.freeze,adn=Object.defineProperty,ldn=(e,t)=>ole(adn(e,"raw",{value:ole(t||e.slice())})),ile;const cdn=P.div(ile||(ile=ldn([`
  position: relative;
  width: 100%;
`]))),udn=nf("sanity-imagetool");function ddn(e,t){const n=1/t,r=t*n,o=r-(e.left+e.right)*r,i=n-(e.top+e.bottom)*n;return o/i}const fdn=h.memo(function(t){const{alignX:n="center",alignY:r="center",alt:o,aspectRatio:i="none",className:s="",crop:a=dd,hotspot:c=ud,onError:u,onLoad:d,src:f,srcAspectRatio:p,srcSet:m,style:v}=t,[g,y]=h.useState(null),x=h.useRef(null),b=h.useRef(null),w=h.useCallback(()=>{if(x.current)if(i==="auto"){const S=x.current.parentNode;h.startTransition(()=>y(S.offsetWidth/S.offsetHeight))}else y(null)},[i]);h.useEffect(()=>{const S=b.current;return S&&S.src&&S.complete&&S.naturalWidth!==void 0&&(udn("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",f),S.src=S.src),w(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[f,w]);const C=h.useMemo(()=>i==="none"?a?ddn(a,p):p:i==="auto"?g:i||null,[i,g,a,p]),_=h.useMemo(()=>odn({container:{aspectRatio:C||p},image:{aspectRatio:p},hotspot:c,crop:a,align:{x:n,y:r}}),[n,r,a,c,p,C]);return l.jsx(cdn,{className:"".concat(s),style:v,ref:x,children:l.jsxs("div",{style:_.container,children:[l.jsx("div",{style:_.padding}),l.jsx("div",{style:_.crop,children:l.jsx("img",{ref:b,src:f,alt:o,srcSet:m,onLoad:d,onError:u,style:_.image})})]})})}),hdn="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function pdn(e){return e.startsWith("blob:")}function mdn(e){return new _t(t=>{const n=document.createElement("img");let r=!1;const o=()=>{r=!0,t.next(n),t.complete()},i=()=>{r=!0,t.error(new Error("Could not load image from ".concat(pdn(e)?"blob":e)))};return n.onload=o,n.onerror=i,n.src=e,()=>{n.onload=null,n.onerror=null,r||(n.src=hdn)}})}const sle={isLoading:!0};function gdn(e){const[t,n]=h.useState(sle);return h.useEffect(()=>{n(sle);const r=mdn(e).subscribe({error:o=>{n({isLoading:!1,error:o})},next:o=>{n({image:o,isLoading:!1})}});return()=>{r.unsubscribe()}},[e]),t}var ale=Object.freeze,vdn=Object.defineProperty,ydn=(e,t)=>ale(vdn(e,"raw",{value:ale(t||e.slice())})),lle;const cle=["hotspot"],ule=[["3:4",3/4],["Square",1/1],["16:9",16/9],["Panorama",4/1]],dle={crop:dd,hotspot:ud},bdn=P.div(lle||(lle=ydn([`
  min-height: 6em;
`])));function xdn(e){return l.jsx(U,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:e.children})}function wdn(e){const{imageUrl:t,value:n,changed:r,level:o,path:i,focusPath:s=hn,presence:a,onChange:c,schemaType:u,onPathFocus:d,readOnly:f,elementProps:p}=e,[m,v]=h.useState(n||dle),{image:g,isLoading:y,error:x}=gdn(t),b=h.useCallback(()=>{d(cle)},[d]);h.useEffect(()=>{v(n||dle)},[n]);const w=s[0]==="hotspot";zi(w,_=>{var S;!_&&w&&((S=p.ref.current)==null||S.focus())});const C=h.useCallback(_=>{if(f)return;const S=u.fields.find(T=>T.name==="crop"&&T.type.name!=="object"),E=u.fields.find(T=>T.type.name!=="object"&&T.name==="hotspot"),j=S?{_type:S.type.name,..._.crop||dd}:_.crop,k=E?{_type:E.type.name,..._.hotspot||ud}:_.hotspot;c([vt(j,["crop"]),vt(k,["hotspot"])])},[c,f,u.fields]);return l.jsx(g1,{title:"Hotspot & crop",level:o,description:"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.",__unstable_presence:a,children:l.jsxs("div",{children:[l.jsx(ee,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:p.ref,onFocus:b,children:l.jsx(ci,{path:i.concat(cle),hasFocus:s[0]==="hotspot",isChanged:r,children:l.jsxs(Wae,{ratio:3/2,children:[(y||x)&&l.jsx(xdn,{children:x?l.jsx(ee,{padding:4,radius:2,tone:"critical",border:!0,children:l.jsxs(L,{children:["Error: ",x.message]})}):l.jsx(L,{muted:!0,children:"Loading image… "})}),!y&&g&&l.jsx(M,{margin:1,children:l.jsx(Jx,{value:m,src:g.src,readOnly:!!f,onChangeEnd:C,onChange:v})})]})})}),l.jsx(M,{marginTop:3,children:l.jsx(Qt,{columns:ule.length,gap:1,children:ule.map(_=>{let[S,E]=_;return l.jsxs("div",{children:[l.jsx(Uo,{as:"h4",size:0,children:S}),l.jsx(M,{marginTop:2,children:l.jsx(Wae,{ratio:E,children:l.jsx(ee,{__unstable_checkered:!0,children:!y&&g?l.jsx(fdn,{aspectRatio:E,src:g.src,srcAspectRatio:g.width/g.height,hotspot:m.hotspot||ud,crop:m.crop||dd}):l.jsx(bdn,{})})})})]},E)})})})]})})}var fle=Object.freeze,Cdn=Object.defineProperty,_dn=(e,t)=>fle(Cdn(e,"raw",{value:fle(t||e.slice())})),hle;const Sdn=P(qt)(hle||(hle=_dn([`
  position: absolute;
  top: 0;
  right: 0;
`])));function Edn(e){const{onEdit:t,children:n,showEdit:r,setHotspotButtonElement:o,setMenuButtonElement:i,onMenuOpen:s,isMenuOpen:a}=e,[c,u]=h.useState(null),[d,f]=h.useState(null),p=h.useCallback(()=>s(!a),[s,a]);is(h.useCallback(v=>{a&&(v.key==="Escape"||v.key==="Tab")&&(s(!1),d==null||d.focus())},[a,s,d])),lr(h.useCallback(v=>{d!=null&&d.contains(v.target)||s(!1)},[d,s]),[c]);const m=h.useCallback(v=>{i(v),f(v)},[i]);return h.useEffect(()=>{a&&(c==null||c.focus())},[a,c]),l.jsxs(Sdn,{"data-buttons":!0,space:1,padding:2,children:[r&&l.jsx(at,{content:l.jsx(L,{size:1,children:"Crop image"}),padding:2,children:l.jsx(se,{"aria-label":"Open image edit dialog","data-testid":"options-menu-edit-details",icon:I1e,mode:"ghost",onClick:t,ref:o})}),l.jsx(Jt,{id:"image-actions-menu",content:l.jsx(Bt,{ref:u,children:n}),portal:!0,open:a,constrainSize:!0,children:l.jsx(se,{"aria-label":"Open image options menu","data-testid":"options-menu-button",icon:Ao,mode:"ghost",onClick:p,ref:m})})]})}var ple=Object.freeze,kdn=Object.defineProperty,mD=(e,t)=>ple(kdn(e,"raw",{value:ple(t||e.slice())})),mle,gle,vle,yle;const ble=30,jdn=P(ee)(mle||(mle=mD([`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`]))),Tdn=P(ur)(gle||(gle=mD([`
  position: absolute;
`]))),Adn=P(U)(e=>{let{$drag:t,$tone:n}=e;const r=Gf.color.light[n].card.enabled.fg,o=Dt(Gf.color.light[n].card.enabled.bg,.8);return he(vle||(vle=mD([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    backdrop-filter: `,`;
    color: `,`;
    background-color: `,`;
  `])),t?"blur(10px)":"",n?r:"",t?o:"transparent")}),Ddn=P(U)(yle||(yle=mD([`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`]))),Idn=e=>{const n=new URLSearchParams(e.split("?")[1]).get("rect");return n?[n.split(",")[2],n.split(",")[3]].map(Number):e.split("-")[1].split(".")[0].split("x").map(Number)};function Odn(e){const{drag:t,readOnly:n,isRejected:r,src:o,...i}=e,[s,a]=h.useState(!1),[c,u]=h.useState(null),d=fh(c),f=(d==null?void 0:d.width)||0,m=t?r||n?"critical":"primary":"default",v=ble*document.documentElement.clientHeight/100,[g,y]=Idn(o),x=g/y,w=(g>f?f/x:y)<v?null:"".concat(ble,"vh");h.useEffect(()=>{a(!1)},[o]);const C=h.useCallback(()=>{a(!0)},[]);return l.jsxs(jdn,{...i,ref:u,style:{height:w},tone:"transparent",children:[l.jsxs(ee,{"data-container":!0,tone:"inherit",children:[!s&&l.jsx(xle,{cardTone:"transparent",drag:!0,content:l.jsx(Tdn,{})}),l.jsx("img",{src:o,"data-testid":"hotspot-image-input",alt:e.alt,onLoad:C,referrerPolicy:"strict-origin-when-cross-origin"})]}),t&&l.jsx(xle,{cardTone:m,drag:t,content:l.jsxs(l.Fragment,{children:[l.jsx(M,{marginBottom:3,children:l.jsx(Uo,{children:l.jsx(Pdn,{isRejected:r,readOnly:n})})}),l.jsx(Rdn,{isRejected:r,readOnly:n})]})})]})}function Pdn(e){let{isRejected:t,readOnly:n}=e;return t?l.jsx(Bf,{}):n?l.jsx(bw,{}):l.jsx($l,{})}function Rdn(e){let{isRejected:t,readOnly:n}=e,r="Drop image to upload";return t&&(r="Cannot upload this file here"),n&&(r="This field is read only"),l.jsx(L,{size:1,children:r})}function xle(e){let{cardTone:t,drag:n,content:r}=e;return l.jsx(Adn,{justify:"flex-end",padding:3,$drag:n,$tone:t,children:l.jsx(Ddn,{direction:"column",align:"center",justify:"center",children:r})})}var wle=Object.freeze,$dn=Object.defineProperty,Mdn=(e,t)=>wle($dn(e,"raw",{value:wle(t||e.slice())})),Cle;const Fdn=P(se)(Cle||(Cle=Mdn([`
  width: 100%;
`])));function Ldn(e){let{onClearValue:t}=e;return l.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(U,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Mr,{})})}),l.jsxs(oe,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Invalid image value"}),l.jsx(L,{size:1,children:"The value of this field is not a valid image. Resetting this field will let you choose a new image."})]})]}),l.jsx(Fdn,{icon:Uu,text:"Reset value",onClick:t,mode:"ghost"})]})}const Bdn=()=>typeof window>"u"||!window.devicePixelRatio?1:Math.round(Math.max(1,window.devicePixelRatio));function Ndn(e){let{children:t}=e;return t}const _le=["asset"],zdn={portal:!0};class Vdn extends ie.PureComponent{constructor(t){var n;super(t),n=this,this._previewElement=null,this.uploadSubscription=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,hotspotButtonElement:null,menuButtonElement:null,isMenuOpen:!1},this.toast=null,this.setPreviewElement=r=>{this._previewElement=r},this.setHotspotButtonElement=r=>{this.setState({hotspotButtonElement:r})},this.setMenuButtonElement=r=>{this.setState({menuButtonElement:r})},this.getUploadOptions=r=>{const{schemaType:o,resolveUploader:i}=this.props,s=i&&i(o,r);return s?[{type:o,uploader:s}]:[]},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:c}=n.props,{label:u,title:d,description:f,creditLine:p,source:m}=i,v={metadata:Hn(s,"options.metadata"),storeOriginalFilename:Hn(s,"options.storeOriginalFilename"),label:u,title:d,description:f,creditLine:p,source:m};n.cancelUpload(),n.setState({isUploading:!0}),a(es({_type:s.name})),n.uploadSubscription=r.upload(c,o,s,v).subscribe({next:g=>{g.patches&&a(g.patches)},error:g=>{var y;console.error(g),(y=n.toast)==null||y.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{a([nt(["hotspot"]),nt(["crop"])]),n.setState({isUploading:!1})}})},this.handleRemoveButtonClick=()=>{const{value:r}=this.props,o=Object.keys(r||{}),s=o.filter(c=>!["_type","_key","_upload","asset","crop","hotspot"].includes(c)).length===0,a=["asset"].concat(o.filter(c=>["crop","hotspot","_upload"].includes(c))).map(c=>nt([c]));this.props.onChange(s&&!this.valueIsArrayElement()?nt():a)},this.handleFieldChange=r=>{const{onChange:o,schemaType:i}=this.props;if(!this.valueIsArrayElement()&&this.eventIsUnsettingLastFilledField(r)){o(nt());return}o(r.prepend(es({_type:i.name})).patches)},this.eventIsUnsettingLastFilledField=r=>{const o=r.patches[0];if(r.patches.length!==1||o.type!=="unset")return!1;const s=Object.keys(this.props.value||{}).filter(c=>!["_type","_key","crop","hotspot"].includes(c));return r.patches[0].path.length===1&&s.length===1&&s[0]===r.patches[0].path[0]},this.valueIsArrayElement=()=>{const{path:r}=this.props;return typeof r.slice(-1)[0]!="string"},this.handleOpenDialog=()=>{this.props.onPathFocus(["hotspot"])},this.handleCloseDialog=()=>{var r;this.props.onPathFocus([]),(r=this.state.hotspotButtonElement)==null||r.focus()},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;QPe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith,isImage:!0}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r.filter(o=>o.kind!=="string")})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange([nt(["asset"]),nt(["crop"]),nt(["hotspot"])])},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectImageFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.state.menuButtonElement)==null||r.focus()},this.renderHotspotInput=r=>{const{value:o,changed:i,id:s,imageUrlBuilder:a}=this.props,c=this.isImageToolEnabled()&&o&&o.asset;return l.jsx(Li,{__unstable_autoFocus:!1,header:"Edit hotspot and crop",id:"".concat(s,"_dialog"),onClickOutside:this.handleCloseDialog,onClose:this.handleCloseDialog,width:1,children:l.jsx(jC,{children:l.jsx(M,{padding:4,children:l.jsx(oe,{space:5,children:c&&(o==null?void 0:o.asset)&&l.jsx(wdn,{...this.props,imageUrl:a.image(o.asset).url(),value:o,presence:r.presence,changed:i})})})})})},this.renderPreview=()=>{const{value:r,schemaType:o,readOnly:i,directUploads:s,imageUrlBuilder:a,resolveUploader:c}=this.props;if(!r||!kb(r))return null;const{hoveringFiles:u}=this.state,d=u.filter(m=>c(o,m)),f=u.length-d.length,p=a.width(2e3).fit("max").image(r).dpr(Bdn()).auto("format").url();return l.jsx(Odn,{drag:!(r!=null&&r._upload)&&u.length>0,isRejected:f>0||!s,readOnly:i,src:p,alt:"Preview of uploaded image"})},this.setToast=r=>{this.toast=r},this._assetPath=t.path.concat(_le)}isImageToolEnabled(){return Hn(this.props.schemaType,"options.hotspot")===!0}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(nt(["_upload"]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n,resolveUploader:r}=this.props,o=t.map(i=>({file:i,uploader:r(n,i)})).find(i=>i.uploader);o&&this.uploadWith(o.uploader,o.file),this.setState({isMenuOpen:!1})}renderAssetMenu(){const{value:t,assetSources:n,schemaType:r,readOnly:o,directUploads:i,imageUrlBuilder:s,observeAsset:a}=this.props,c=t==null?void 0:t.asset;if(!c)return null;const u=Hn(r,"options.accept","image/*"),d=t&&c&&this.isImageToolEnabled();let f=n&&n.length===0?null:l.jsx(Ve,{icon:ti,text:"Select",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(n[0])},disabled:o,"data-testid":"file-input-browse-button"});return n&&n.length>1&&(f=n.map(p=>l.jsx(Ve,{text:p.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(p)},icon:p.icon||$l,"data-testid":"file-input-browse-button-".concat(p.name),disabled:o},p.name))),l.jsx(w0,{observeAsset:a,reference:c,children:p=>{let{_id:m,originalFilename:v,extension:g}=p,y,x;if(kb(t)){const b=v||"download.".concat(g);x=s.image(m).forceDownload(b).url(),y=s.image(m).url()}return l.jsx(Edn,{isMenuOpen:this.state.isMenuOpen,onEdit:this.handleOpenDialog,onMenuOpen:b=>this.setState({isMenuOpen:b}),setHotspotButtonElement:this.setHotspotButtonElement,setMenuButtonElement:this.setMenuButtonElement,showEdit:d,children:l.jsx(JPe,{onUpload:this.handleSelectFiles,browse:f,onReset:this.handleRemoveButtonClick,downloadUrl:x,copyUrl:y,readOnly:o,directUploads:i,accept:u})})}})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t&&t.length===0?null:t&&t.length>1&&!n&&r?l.jsx(en,{id:"".concat(o,"_assetImageButton"),ref:this.setMenuButtonElement,button:l.jsx(se,{"data-testid":"file-input-multi-browse-button",icon:ti,iconRight:tl,mode:"ghost",text:"Select"}),menu:l.jsx(Bt,{children:t.map(i=>l.jsx(Ve,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(i)},icon:i.icon||$l,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))}),popover:zdn}):l.jsx(se,{fontSize:2,text:"Select",icon:ti,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n})}renderUploadPlaceholder(){const{schemaType:t,readOnly:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o(t,u)),a=i.length-s.length,c=Hn(t,"options.accept","image/*");return l.jsx("div",{style:{padding:1},children:l.jsx(ee,{tone:n?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:l.jsx(t3e,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:n,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"image",accept:c,directUploads:r})})})}renderUploadState(t){var n;const{isUploading:r}=this.state,o=(n=this._previewElement)==null?void 0:n.offsetHeight;return l.jsx(ZPe,{uploadState:t,onCancel:r?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload,height:o})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props,i=Hn(r,"options.accept","image/*");if(!t)return null;const s=t.component;return n&&n.asset?l.jsx(w0,{observeAsset:o,reference:n.asset,children:a=>l.jsx(s,{selectedAssets:[a],assetType:"image",accept:i,selectionType:"single",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):l.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"image",accept:i,onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}getFileTone(){const{schemaType:t,value:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i(t,u)),c=s.length-a.length;return s.length>0&&(c>0||!o)?"critical":!(n!=null&&n._upload)&&!r&&s.length>0?"primary":r||n!=null&&n._upload&&(n!=null&&n.asset)?"transparent":"default"}renderAsset(){const{value:t,readOnly:n,elementProps:r}=this.props,{hoveringFiles:o,isStale:i}=this.state,s=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!kb(t)?()=>l.jsx(Ldn,{onClearValue:this.handleClearField}):a=>l.jsxs(l.Fragment,{children:[i&&l.jsx(M,{marginBottom:2,children:l.jsx(n3e,{onClearStale:this.handleClearUploadState})}),l.jsx(ci,{path:a.path.concat(_le),hasFocus:!!a.focused,isChanged:a.changed,children:t!=null&&t._upload?this.renderUploadState(t._upload):l.jsxs(KPe,{...r,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!n,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:s||o.length>0,style:{padding:1},sizing:"border",radius:2,children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&l.jsxs("div",{style:{position:"relative"},ref:this.setPreviewElement,children:[this.renderPreview(),this.renderAssetMenu()]})]})})]})}render(){const{focusPath:t,members:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=this.props,{selectedAssetSource:d}=this.state,f=n.find(p=>p.kind==="field"&&p.name==="hotspot");return l.jsxs(oe,{space:5,"data-testid":"image-input",children:[l.jsx(hN,{ref:this.setToast}),n.map(p=>p.kind==="field"&&(p.name==="crop"||p.name==="hotspot")?null:p.kind==="field"?l.jsx(TC,{member:p,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:p.name==="asset"?this.renderAsset():a,renderField:p.name==="asset"?Ndn:i,renderItem:c,renderPreview:u},p.key):p.kind==="fieldSet"?l.jsx(oz,{member:p,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u},p.key):p.kind==="error"?l.jsx(aD,{member:p},p.key):l.jsxs(l.Fragment,{children:["Unknown member kind: $",p.kind]})),f&&t[0]==="hotspot"&&l.jsx(_Pe,{...this.props,absolutePath:f.field.path,renderInput:this.renderHotspotInput}),d&&this.renderAssetSource()]})}}function Hdn(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,{image:r}=ui().__internal,o=Vi(),i=fr(sn),a=ui().__internal.image.directUploads,c=h.useCallback((p,m)=>a?ez(p,m):null,[a]),u=ie.useMemo(()=>n||r.assetSources,[r,n]),d=ie.useMemo(()=>eA(i),[i]),f=h.useCallback(p=>lPe(o,p),[o]);return l.jsx(Vdn,{...e,client:i,assetSources:u,directUploads:r.directUploads,imageUrlBuilder:d,observeAsset:f,resolveUploader:c})}const l3e=()=>{},m3={isLoading:!0,result:void 0,error:void 0,retry:l3e},Udn={isLoading:!1,result:void 0,error:void 0,retry:l3e};function c3e(e,t){const[n,r]=h.useState(0),o=h.useCallback(()=>{r(c=>c+1)},[]),i=h.useMemo(()=>({_id:e._id,_type:e._type}),[e._id,e._type]),s=vo(()=>i._id?t(i).pipe(ue(c=>({isLoading:!1,result:c,error:void 0,retry:o,retryAttempt:n})),ii(m3),In(c=>(console.error(c),be({isLoading:!1,result:void 0,error:c,retry:o,retryAttempt:n})))):be(Udn),[i,t,o,n],m3);return kN(e._id,e._id)!==e._id?m3:s}var Sle=Object.freeze,Wdn=Object.defineProperty,u3e=(e,t)=>Sle(Wdn(e,"raw",{value:Sle(t||e.slice())})),Ele,kle;const Ydn=P(U)(Ele||(Ele=u3e([`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`]))),d3e=P(U)(kle||(kle=u3e([`
  /* This limits the width of the tooltip content */
  max-width: 250px;
`])));function jle(e){return l.jsx(d3e,{padding:3,children:l.jsx(M,{flex:1,children:l.jsx(M,{children:l.jsx(L,{as:"p",size:1,children:e.children})})})})}function f3e(e){var t,n,r;const{refType:o,showStudioUrlIcon:i,hasStudioUrl:s,showTypeLabel:a,availability:c,preview:u,id:d,dataset:f,projectId:p}=e,m=(c==null?void 0:c.reason)==="NOT_FOUND",v=(c==null?void 0:c.reason)==="PERMISSION_DENIED",g=(t=u.published)==null?void 0:t.media,y=h.useMemo(()=>{if(g){const x=typeof(g==null?void 0:g.asset)<"u"&&kb(g),b=ie.isValidElement(g);return!x&&!b?null:function(C){let{dimensions:_}=C;return b?g:l.jsx("img",{src:eA({dataset:f,projectId:p}).image(g).withOptions(_).url(),alt:"Image preview of referenced document",referrerPolicy:"strict-origin-when-cross-origin"})}}return o!=null&&o.icon?h.createElement(o.icon):null},[g,f,p,o==null?void 0:o.icon]);return l.jsxs(Ydn,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[c!=null&&c.available?l.jsx(M,{flex:1,children:l.jsx(EIe,{title:(n=u.published)==null?void 0:n.title,subtitle:(r=u.published)==null?void 0:r.subtitle,media:y||!1})}):l.jsx(M,{flex:1,children:l.jsx(U,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document unavailable"})})})}),l.jsx(M,{paddingLeft:3,children:l.jsxs(qt,{space:4,children:[o&&a&&l.jsx(Vt,{size:1,muted:!0,children:o.title||o.type}),(v||m)&&l.jsx(M,{children:l.jsx(at,{portal:!0,content:m?l.jsxs(jle,{children:["The referenced document no longer exist and might have been deleted.",l.jsx("br",{}),"(id: ",l.jsx("code",{children:d}),")"]}):l.jsx(jle,{children:"The referenced document could not be accessed due to insufficient permissions"}),children:l.jsx(sr,{tone:"default",children:v?l.jsx(Bf,{}):l.jsx(qv,{})})})}),!(m||v)&&i&&l.jsx(M,{children:l.jsx(at,{portal:!0,content:l.jsx(d3e,{padding:2,children:s?l.jsx(L,{size:1,children:"This document opens in a new tab"}):l.jsxs(L,{size:1,children:["This document cannot be opened ",l.jsx("br",{})," (unable to resolve URL to Studio)"]})}),children:l.jsx(sr,{size:1,tone:"default",muted:!s,children:l.jsx(sh,{})})})})]})})]})}function mz(){return fr(sn).config().projectId}function qdn(e){var t;const{isLoading:n,result:r,error:o}=c3e(e.document,e.getReferenceInfo),i=mz();if(n)return l.jsxs(oe,{space:2,padding:1,children:[l.jsx(Pi,{style:{maxWidth:320},radius:1,animated:!0}),l.jsx(Pi,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(o)return l.jsx(oe,{space:2,padding:1,children:l.jsxs(Jc,{title:"Failed to load referenced document",children:["Error: ",o.message]})});if(!r)return null;if(((t=r.availability)==null?void 0:t.reason)==="PERMISSION_DENIED")return l.jsx(oe,{space:2,padding:1,children:"Insufficient permissions to view this document"});const s=e.referenceType.to.find(a=>a.type===r.type);return s?r&&s&&l.jsx(f3e,{id:r.id,availability:r.availability,preview:r.preview,refType:s,dataset:e.referenceType.dataset,projectId:i,showTypeLabel:e.referenceType.to.length>1}):l.jsxs(oe,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,r.type,'"']})}function Tle(e){var t,n;const{value:r,type:o,showStudioUrlIcon:i,hasStudioUrl:s,referenceInfo:a}=e,c=mz();if(a.isLoading||a.error)return l.jsxs(oe,{space:2,padding:1,children:[l.jsx(Pi,{style:{maxWidth:320},radius:1,animated:!a.error}),l.jsx(Pi,{style:{maxWidth:200},radius:1,size:1,animated:!a.error})]});const u=o.to.length>1,d=(t=a.result)==null?void 0:t.type,f=o.to.find(p=>p.type===d);return(n=a.result.availability)!=null&&n.available&&!f?l.jsx(oe,{space:2,padding:2,children:l.jsxs(L,{as:"p",children:["The referenced document is of invalid type: (",d||"unknown",")",l.jsx("pre",{children:JSON.stringify(r,null,2)})]})}):l.jsx(f3e,{availability:a.result.availability,hasStudioUrl:s,showStudioUrlIcon:i,preview:a.result.preview,refType:f,projectId:c,dataset:o.dataset,id:r._ref,showTypeLabel:u})}var Ale=Object.freeze,Gdn=Object.defineProperty,h3e=(e,t)=>Ale(Gdn(e,"raw",{value:Ale(t||e.slice())})),Dle,Ile;const Kdn=P(Jt)(Dle||(Dle=h3e([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),Zdn=P(L)(Ile||(Ile=h3e([`
  word-break: break-word;
`]))),Xdn=["top-start","bottom-start"],Qdn=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:c,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;return l.jsx(Kdn,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:Xdn,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:l.jsx("div",{ref:s,children:r?a:l.jsx(M,{padding:4,children:l.jsx(U,{align:"center",height:"fill",justify:"center",children:l.jsxs(Zdn,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",t.searchString,"”"]})]})})})}),open:!t.loading&&!c,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return l.jsx(y8,{...t,ref:n,renderPopover:o})});var Ole=Object.freeze,Jdn=Object.defineProperty,efn=(e,t)=>Ole(Jdn(e,"raw",{value:Ole(t||e.slice())})),Ple;const tfn=P(se)(Ple||(Ple=efn([`
  width: 100%;
`])));function nfn(e){let{value:t,onClearValue:n}=e;const r=h.useMemo(()=>!!(t!=null&&t._ref),[t==null?void 0:t._ref]);return l.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[l.jsxs(U,{gap:4,marginBottom:r?4:void 0,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Mr,{})})}),l.jsxs(oe,{space:3,children:[l.jsx(L,{as:"h2",size:1,weight:"semibold",children:"Unavailable feature: Cross dataset reference"}),r&&l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",size:1,children:["This feature has been disabled. Read how to enable it in"," ",l.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]}),l.jsx(L,{as:"p",size:1,children:"You can still clear this field's existing reference, but that cannot be revoked as long as the feature is disabled."})]}),!r&&l.jsxs(L,{as:"p",size:1,children:["Read how to enable it in"," ",l.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]})]})]}),n&&r&&l.jsx(tfn,{icon:Uu,text:"Reset value",onClick:n,mode:"ghost"})]})}const Rle={hits:[],isLoading:!1},rfn=()=>!0,$le=["_ref"],ofn="crossDatasetReferences";function ifn(e){var t,n,r;const{changed:o,focused:i,focusPath:s,getReferenceInfo:a,onChange:c,onPathFocus:u,onSearch:d,path:f,readOnly:p,schemaType:m,validation:v,value:g,elementProps:y}=e,x=mz(),[b,w]=h.useState(Rle),C=h.useCallback(le=>{if(!le){c(nt()),u([]);return}if(!b.hits.find(we=>we.id===le))throw new Error("Selected an item that wasnt part of the result set");c(vt({_type:m.name,_ref:On(le),_projectId:x,_dataset:m.dataset,_weak:m.weak,_key:g==null?void 0:g._key})),u([])},[g==null?void 0:g._key,b.hits,m.name,m.dataset,m.weak,x,c,u]),_=h.useCallback(()=>{c(nt())},[c]),S=h.useCallback(le=>{le.keyCode===27&&(u==null||u([]))},[u]),E=h.useCallback(le=>a(le,m),[a,m]),j=h.useMemo(()=>({_id:g==null?void 0:g._ref}),[g==null?void 0:g._ref]),k=c3e(j,E),T=JRe(ofn),A=h.useRef(null),D=s.length===1&&s[0]==="_ref",I=y.ref;zi({hasFocusAt:D,ref:g==null?void 0:g._ref},(le,ge)=>{var we;const ce=(le==null?void 0:le.ref)!==ge.ref;((le==null?void 0:le.hasFocusAt)!==ge.hasFocusAt||ce)&&ge.hasFocusAt&&((we=I.current)==null||we.focus())});const O=g!=null&&g._weak?"weak":"strong",$=m.weak===!0?"weak":"strong",R=!!(g!=null&&g._ref),V=h.useCallback(()=>{c(m.weak===!0?vt(!0,["_weak"]):nt(["_weak"]))},[c,m]),{push:N}=Wo(),W=h.useMemo(()=>v.filter(le=>le.level==="error"),[v]),q=h.useCallback(le=>{le.currentTarget===y.ref.current&&(u==null||u([X0e]))},[y.ref,u]),H=h.useCallback(le=>{le.currentTarget===y.ref.current&&(u==null||u($le))},[y.ref,u]),Y=h.useCallback(()=>{u==null||u($le)},[u]),X=h.useId(),B=uT(le=>le.pipe(bt(go),_r(),st(ge=>Hr(be({isLoading:!0}),d(ge).pipe(ue(we=>({hits:we,searchString:ge,isLoading:!1})),In(we=>(N({title:"Reference search failed",description:we.message,status:"error",id:"reference-search-fail-".concat(X)}),console.error(we),be({hits:[]})))))),qa((ge,we)=>({...ge,...we}),Rle),qn(w)),[X,d,N]),K=h.useCallback(()=>{B("")},[B]),z=!k.isLoading&&R&&O!==$,Z=(g==null?void 0:g._ref)&&((n=m.studioUrl)==null?void 0:n.call(m,{id:g==null?void 0:g._ref,type:(t=k==null?void 0:k.result)==null?void 0:t.type}))||null,Q=h.useCallback(le=>l.jsx(Np,{as:"button",type:"button",radius:2,children:l.jsx(M,{paddingX:3,paddingY:1,children:l.jsx(qdn,{referenceType:m,document:le.hit.published,getReferenceInfo:E})})}),[m,E]),ne=(r=k.result)==null?void 0:r.preview.published,G=D||!(g!=null&&g._ref),J=h.useRef(null),re=h.useRef(null),fe=h.useRef(null);return XIe([J,re,fe],()=>{D&&u([])}),l.jsxs(l.Fragment,{children:[!T.isLoading&&!T.enabled&&l.jsx(nfn,{value:g,onClearValue:_}),(T.isLoading||T.enabled)&&l.jsx(oe,{space:1,children:G?l.jsx(oe,{space:2,ref:J,children:l.jsx(ci,{path:f,isChanged:o,hasFocus:!!i,children:l.jsx("div",{ref:A,children:l.jsx(Qdn,{...y,"data-testid":"autocomplete",loading:b.isLoading,referenceElement:A.current,portalRef:re,id:X||"",options:b.hits.map(le=>({value:le.id,hit:le})),onFocus:H,radius:1,placeholder:"Type to search",onKeyDown:S,readOnly:p,disabled:k.isLoading,onQueryChange:B,searchString:b.searchString,onChange:C,filterOption:rfn,renderOption:Q,openButton:{onClick:K}})})})}):l.jsx(ci,{path:f,isChanged:o,hasFocus:!!i,children:l.jsxs(ee,{padding:0,border:!0,flex:1,radius:1,tone:p?"transparent":k.error||W.length>0?"critical":"default",children:[l.jsxs(U,{align:"center",padding:1,children:[Z?l.jsx(Np,{as:"a",target:"_blank",rel:"noopener noreferrer",href:Z,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:q,ref:y.ref,children:l.jsx(Tle,{value:g,referenceInfo:k,showStudioUrlIcon:!0,hasStudioUrl:!!Z,type:m})}):l.jsx(Np,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:q,ref:y.ref,children:l.jsx(Tle,{value:g,referenceInfo:k,showStudioUrlIcon:!0,type:m})}),l.jsx(qt,{paddingX:1,children:l.jsx(en,{button:l.jsx(se,{padding:2,mode:"bleed",icon:Ao,"data-testid":"menu-button"}),id:"".concat(X,"-menuButton"),menu:l.jsx(Bt,{children:!p&&l.jsxs(l.Fragment,{children:[l.jsx(Ve,{text:"Clear",tone:"critical",icon:Uu,"data-testid":"menu-item-clear",onClick:_}),l.jsx(Ve,{text:"Replace",icon:I0,"data-testid":"menu-item-replace",onClick:Y})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),z&&l.jsx(Rf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:O}),", but according to the current schema it should be ",l.jsxs("em",{children:[$,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:m.weak?l.jsxs(l.Fragment,{children:['It will not be possible to delete the "',ne==null?void 0:ne.title,'"-document without first removing this reference.']}):l.jsxs(l.Fragment,{children:['This makes it possible to delete the "',ne==null?void 0:ne.title,'"-document without first deleting this reference, leaving this field referencing a nonexisting document.']})}),l.jsx(se,{onClick:V,text:l.jsxs(l.Fragment,{children:["Convert to ",$," reference"]}),tone:"caution"})]})}),k.error&&l.jsx(Rf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",k.error.message]}),l.jsx(se,{onClick:k.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]})})})]})}function sfn(e,t,n,r){return EN(n.to.map(i=>({name:i.type,__experimental_search:i.__experimental_search})),e,r)(t,{includeDrafts:!1}).pipe(ue(i=>i.map(s=>s.hit)),ue(UA),ue(i=>i.map(s=>({id:s.id,type:s.type,published:s.published}))))}const afn="cross-dataset-refs",p3e={available:!0,reason:"READABLE"},lfn={available:!1,reason:"PERMISSION_DENIED"},cfn={available:!1,reason:"NOT_FOUND"};function ufn(e){const{client:t,documentPreviewStore:n}=e,{dataset:r,projectId:o}=t.config(),i=r&&o?{dataset:r,projectId:o}:void 0;return function(a,c){return(a._type?be(a):n.observeDocumentTypeFromId(a._id,i).pipe(ue(u=>({_id:a._id,_type:u})))).pipe(st(u=>{if(!u._type)return dfn(t,a._id).pipe(ue(m=>({id:a._id,type:void 0,availability:m,preview:{published:void 0}})));const d=c.to.find(m=>m.type===u._type),f=[...wN(d==null?void 0:d.preview)||[],["_updatedAt"],["_createdAt"]],p=n.observePaths(a,f,i).pipe(ue(m=>m&&M5(m,d)));return oi([p]).pipe(ue(m=>{let[v]=m;return{type:u._type,id:a._id,availability:p3e,preview:{published:yt(v)?v:void 0}}}))}))}}function dfn(e,t){const n={uri:e.getDataUrl("doc",t),json:!0,query:{excludeContent:"true"},tag:"".concat(afn,".availability")};return e.observable.request(n).pipe(ue(r=>{const i=a7(r.omitted||[],s=>s.id)[t];return i?i.reason==="existence"?cfn:i.reason==="permission"?lfn:null:p3e}))}async function ffn(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=Cm(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function hfn(e){const t=h.useRef(e);return t.current=e,t}function pfn(e){const{path:t,schemaType:n}=e,r=$n(),o=r.getClient(sn),i=Vi(),s=r.getClient,a=h.useMemo(()=>o.withConfig({dataset:n.dataset,apiVersion:"2022-03-07",ignoreBrowserTokenWarning:!0}).clone(),[o,n.dataset]),c=lD([]),u=hfn(c),d=h.useCallback(p=>Cr(ffn(n.options,u.current,t,s)).pipe(jt(m=>{let{filter:v,params:g}=m;return sfn(a,p,n,{...n.options,filter:v,params:g,tag:"search.cross-dataset-reference"})}),In(m=>{var v;const g=m.details&&m.details.type==="queryParseError";return(v=n.options)!=null&&v.filter&&g&&(m.message='Invalid reference filter, please check the custom "filter" option'),Xf(m)})),[a,u,t,n,s]),f=h.useMemo(()=>ufn({client:a,documentPreviewStore:i}),[a,i]);return l.jsx(ifn,{...e,getReferenceInfo:f,onSearch:d})}function mfn(e){const t=h.useRef(e);return t.current=e,t}async function gfn(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=Cm(t,o);return e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function gz(e){var t,n,r,o;const{path:i,schemaType:s}=e,a=$n(),c=a.getClient(sn),u=_n(),d=Vi(),f=h.useMemo(()=>c.withConfig({apiVersion:"2021-03-25"}),[c]),{EditReferenceLinkComponent:p,onEditReference:m,activePath:v,initialValueTemplateItems:g}=BOe(),y=lD([]),x=mfn(y),b=(t=x.current)==null?void 0:t._type,w=h.useMemo(()=>{var I;return(I=u.get(b))==null?void 0:I.liveEdit},[b,u]),C=((n=s.options)==null?void 0:n.disableNew)===!0,_=a.getClient,S=h.useCallback(I=>Cr(gfn(s.options,x.current,i,_)).pipe(jt(O=>{let{filter:$,params:R}=O;return ZIe(f,I,s,{...s.options,filter:$,params:R,tag:"search.reference"})}),In(O=>{var $;const R=O.details&&O.details.type==="queryParseError";return($=s.options)!=null&&$.filter&&R&&(O.message='Invalid reference filter, please check the custom "filter" option'),Xf(O)})),[x,i,f,s,_]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(O,$){return p?l.jsx(p,{...O,ref:$,parentRefPath:i,template:E}):null}),[p,i,E]),k=h.useCallback(I=>{m==null||m({parentRefPath:i,id:I.id,type:I.type,template:I.template})},[m,i]),T=Si(i,(v==null?void 0:v.path)||[])?v==null?void 0:v.state:"none",A=h.useMemo(()=>C?[]:(g||[]).filter(I=>s.to.some(O=>{var $;return O.name===(($=I.template)==null?void 0:$.schemaType)})).map(I=>{var O;return(O=I.template)!=null&&O.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(I.template.id),type:I.template.schemaType,icon:I.icon,template:{id:I.template.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(go),[C,g,s.to]),D=h.useCallback(I=>KIe(d,I,s),[d,s]);return{selectedState:T,handleSearch:S,isCurrentDocumentLiveEdit:w,handleEditReference:k,EditReferenceLink:j,createOptions:A,getReferenceInfo:D}}function vfn(e){const{getReferenceInfo:t,id:n,renderPreview:r}=e,{isLoading:o,result:i,error:s}=sD(n,t);if(o)return l.jsxs(oe,{space:2,padding:1,children:[l.jsx(Pi,{style:{maxWidth:320},radius:1,animated:!0}),l.jsx(Pi,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(s)return l.jsx(oe,{space:2,padding:1,children:l.jsx(Jc,{title:"Failed to load referenced document",children:l.jsxs(L,{muted:!0,size:1,children:["Error: ",s.message]})})});if(!i)return null;if(i.availability.reason==="PERMISSION_DENIED")return l.jsx(oe,{space:2,padding:1,children:"Insufficient permissions to view this document"});const a=e.type.to.find(c=>c.name===i.type);return a?i&&a&&l.jsx(tPe,{id:i.id,layout:"default",preview:i.preview,refType:a,renderPreview:r,showTypeLabel:e.type.to.length>1}):l.jsxs(oe,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,i.type,'"']})}const yfn={display:"inline-flex"},bfn={width:"100%"},xfn={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function wfn(e){const{createOptions:t,onCreate:n,id:r,...o}=e;return t.some(s=>s.permission.granted)?t.length>1?l.jsx(en,{button:l.jsx(se,{...o,disabled:e.readOnly,text:"Create new…",mode:"ghost",icon:na}),id:r,menu:l.jsx(Bt,{ref:e.menuRef,children:t.map(s=>l.jsx(at,{disabled:s.permission.granted,content:l.jsx(M,{padding:2,children:l.jsx(Vc,{operationLabel:"create this type of document"})}),portal:!0,children:l.jsx("div",{children:l.jsx(Ve,{disabled:!s.permission.granted,icon:s.icon,text:s.title,onClick:()=>n(s)})})},s.id))}),popover:xfn}):l.jsx(se,{...o,text:"Create new",mode:"ghost",disabled:!t[0].permission.granted||e.readOnly,onClick:()=>n(t[0]),icon:na}):l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(Vc,{operationLabel:"create a new reference"})}),children:l.jsx("div",{style:yfn,children:l.jsx(se,{text:"Create new",mode:"ghost",disabled:!0,icon:na,style:bfn})})})}var Mle=Object.freeze,Cfn=Object.defineProperty,m3e=(e,t)=>Mle(Cfn(e,"raw",{value:Mle(t||e.slice())})),Fle,Lle;const _fn=P(Jt)(Fle||(Fle=m3e([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),Sfn=P(L)(Lle||(Lle=m3e([`
  word-break: break-word;
`]))),Efn=["top-start","bottom-start"],kfn=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:c,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;var p;return l.jsx(_fn,{placement:"bottom-start",fallbackPlacements:Efn,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:l.jsx("div",{ref:s,children:r?a:l.jsx(M,{padding:4,children:l.jsx(U,{align:"center",height:"fill",justify:"center",children:l.jsxs(Sfn,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",t.searchString,"”"]}),((p=t.searchString)==null?void 0:p.toLowerCase())==="capybara"?l.jsx(l.Fragment,{children:". What a shame. There should be more Capybaras."}):null]})})})}),open:!t.loading&&!c,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return l.jsx(y8,{...t,ref:n,renderPopover:o})});var Ble=Object.freeze,jfn=Object.defineProperty,g3e=(e,t)=>Ble(jfn(e,"raw",{value:Ble(t||e.slice())})),Nle,zle;const Tfn=he(Nle||(Nle=g3e([`
  grid-template-columns: minmax(0px, 1fr);
`]))),Afn=he(zle||(zle=g3e([`
  grid-template-columns: 1fr min-content;
`]))),Dfn=P(Qt)(e=>e.$narrow?Tfn:Afn),Ifn=h.forwardRef(function(t,n){const[r,o]=h.useState(null),i=h.useCallback(a=>{Ofn(n,a),o(a)},[n]),s=fh(r);return l.jsx(Dfn,{ref:i,gap:1,$narrow:((s==null?void 0:s.width)||0)<480,children:t.children})});function Ofn(e,t){typeof e=="function"?e(t):e&&(e.current=t)}var Vle=Object.freeze,Pfn=Object.defineProperty,Rfn=(e,t)=>Vle(Pfn(e,"raw",{value:Vle(t||e.slice())})),Hle;const $fn=P(Np)(Hle||(Hle=Rfn([`
  /* this is a hack to avoid layout jumps while previews are loading
  there's probably better ways of solving this */
  min-height: 36px;
`]))),Ule={hits:[],isLoading:!1},Mfn=()=>!0;function Ffn(e){return e!==null}function Lfn(e){var t,n,r,o,i,s;const{createOptions:a,onChange:c,onEditReference:u,onSearch:d,schemaType:f,readOnly:p,id:m,onPathFocus:v,value:g,renderPreview:y,path:x,elementProps:b,focusPath:w}=e,{getReferenceInfo:C}=gz({path:x,schemaType:f,value:g}),[_,S]=h.useState(Ule),E=h.useCallback(G=>{const J=wd(),re=[es({}),vt(f.name,["_type"]),vt(J,["_ref"]),vt(!0,["_weak"]),vt({type:G.type,weak:f.weak,template:G.template},["_strengthenOnPublish"])].filter(go);c(re),u({id:J,type:G.type,template:G.template}),v([])},[c,u,v,f]),j=h.useCallback(G=>{if(!G){c(nt()),v([]);return}const J=_.hits.find(fe=>fe.id===G);if(!J)throw new Error("Selected an item that wasnt part of the result set");const re=[es({}),vt(f.name,["_type"]),vt(On(G),["_ref"]),J.published&&!f.weak?nt(["_weak"]):vt(!0,["_weak"]),J.published?nt(["_strengthenOnPublish"]):vt({type:J==null?void 0:J.type,weak:f.weak},["_strengthenOnPublish"])].filter(go);c(re),v([])},[c,v,f.name,f.weak,_.hits]),k=h.useCallback(()=>{c(nt())},[c]),T=h.useCallback(()=>{g!=null&&g._ref||k()},[k,g==null?void 0:g._ref]),A=h.useCallback(G=>{G.key==="Escape"&&v([])},[v]),D=sD(g==null?void 0:g._ref,C),I=h.useRef(null),{push:O}=Wo(),$=uT(G=>G.pipe(bt(Ffn),st(J=>Hr(be({isLoading:!0}),d(J).pipe(ue(re=>({hits:re,searchString:J,isLoading:!1})),In(re=>(O({title:"Reference search failed",description:re.message,status:"error",id:"reference-search-fail-".concat(m)}),console.error(re),be({hits:[]})))))),qa((J,re)=>({...J,...re}),Ule),qn(S)),[m,d,O]),R=h.useCallback(()=>{$("")},[$]),V=h.useCallback(G=>{G.key==="Escape"&&v([])},[v]),N=h.useCallback(G=>{var J,re;const fe=((J=G.hit.draft)==null?void 0:J._id)||((re=G.hit.published)==null?void 0:re._id)||G.value;return l.jsx($fn,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:l.jsx(M,{paddingX:3,paddingY:1,children:l.jsx(vfn,{getReferenceInfo:C,id:fe,renderPreview:y,type:f})})})},[f,C,y]),W=h.useCallback(()=>{var G,J,re,fe;return((J=(G=D.result)==null?void 0:G.preview.draft)==null?void 0:J.title)||((fe=(re=D.result)==null?void 0:re.preview.published)==null?void 0:fe.title)||""},[(n=(t=D.result)==null?void 0:t.preview.draft)==null?void 0:n.title,(o=(r=D.result)==null?void 0:r.preview.published)==null?void 0:o.title]),q=h.useCallback(()=>v(["_ref"]),[v]),H=h.useCallback(G=>{var J;(J=I.current)!=null&&J.contains(G.relatedTarget)||e.elementProps.onBlur(G)},[e.elementProps]),Y=((s=(i=D==null?void 0:D.result)==null?void 0:i.availability)==null?void 0:s.reason)==="NOT_FOUND"&&!(g!=null&&g._strengthenOnPublish)&&(g==null?void 0:g._weak);zi((w==null?void 0:w[0])==="_ref",(G,J)=>{var re;!G&&J&&((re=b.ref.current)==null||re.focus())});const X=h.useMemo(()=>_.hits.map(G=>({value:G.id,hit:G})),[_.hits]),B=w.length===1&&w[0]==="_ref",{menuRef:K,containerRef:z}=_sn(),Z=h.useRef(null),Q=h.useRef(null),ne=h.useRef(null);return XIe([z,Z,Q,ne,K],()=>{B&&T()}),l.jsx(oe,{space:1,"data-testid":"reference-input",ref:Z,children:l.jsxs(oe,{space:2,children:[Y?l.jsx(Jc,{"data-testid":"alert-nonexistent-document",title:"Nonexistent document reference",suffix:l.jsx(oe,{padding:2,children:l.jsx(se,{text:"Clear",onClick:k})}),children:l.jsxs(L,{size:1,children:["This field is currently referencing a document that doesn't exist (ID:",l.jsx("code",{children:g._ref}),"). You can either remove the reference or replace it with another document."]})}):null,l.jsxs(Ifn,{ref:I,children:[l.jsx(kfn,{...b,onFocus:q,onBlur:H,"data-testid":"autocomplete",loading:_.isLoading,referenceElement:I.current,options:X,radius:1,placeholder:"Type to search",onKeyDown:A,readOnly:D.isLoading||p,onQueryChange:$,searchString:_.searchString,onChange:j,filterOption:Mfn,renderOption:N,renderValue:W,openButton:{onClick:R},portalRef:Q,value:g==null?void 0:g._ref}),a.length>0&&l.jsx(wfn,{id:"".concat(m,"-selectTypeMenuButton"),readOnly:p,createOptions:a,onCreate:E,onKeyDown:V,menuRef:ne})]})]})})}async function Bfn(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=Cm(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function Nfn(e){const t=h.useRef(e);return t.current=e,t}function zfn(e){var t,n,r,o;const i=$n(),s=i.getClient(sn),a=_n(),c=Vi(),{path:u,schemaType:d}=e,{EditReferenceLinkComponent:f,onEditReference:p,activePath:m,initialValueTemplateItems:v}=BOe(),g=lD([]),y=Nfn(g),x=(t=y.current)==null?void 0:t._type,b=a.get(x),w=h.useMemo(()=>b==null?void 0:b.liveEdit,[b]),C=((n=d.options)==null?void 0:n.disableNew)===!0,_=i.getClient,S=h.useCallback(I=>Cr(Bfn(d.options,y.current,u,_)).pipe(jt(O=>{let{filter:$,params:R}=O;return ZIe(s,I,d,{...d.options,filter:$,params:R,tag:"search.reference"})}),In(O=>{var $;const R=O.details&&O.details.type==="queryParseError";return($=d.options)!=null&&$.filter&&R&&(O.message='Invalid reference filter, please check the custom "filter" option'),Xf(O)})),[y,u,s,d,_]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(O,$){return f?l.jsx(f,{...O,ref:$,parentRefPath:u,template:E}):null}),[f,u,E]),k=h.useCallback(I=>{p==null||p({parentRefPath:u,id:I.id,type:I.type,template:I.template})},[p,u]),T=Si(u,(m==null?void 0:m.path)||[])?m==null?void 0:m.state:"none",A=h.useMemo(()=>C?[]:(v||[]).filter(I=>d.to.some(O=>{var $;return O.name===(($=I.template)==null?void 0:$.schemaType)})).map(I=>{var O,$,R;return(O=I.template)!=null&&O.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(($=I.template)==null?void 0:$.id),type:I.template.schemaType,icon:I.icon,template:{id:(R=I.template)==null?void 0:R.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(go),[C,v,d.to]),D=h.useCallback((I,O)=>KIe(c,I,O),[c]);return l.jsx(Lfn,{...e,onSearch:S,liveEdit:w,getReferenceInfo:D,selectedState:T,editReferenceLinkComponent:j,createOptions:A,onEditReference:k})}function Vfn(e){return JF(e.schemaType)}function Hfn(e){return EFe(e.schemaType)}function z5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object"&&!Array.isArray(e))return e===t;if(e._key&&e._key===t._key)return!0;if(Array.isArray(e))return!e.length!==t.length?!1:e.every((o,i)=>z5(e[i],t[i]));const n=Object.keys(e),r=Object.keys(e);return n.length!==r.length?!1:n.every(o=>z5(e[o],t[o]))}function Wle(e,t){return e?e.some(n=>z5(n,t)):!1}function Ufn(e,t){return e.of.find(n=>n.name===Is(t))}const Wfn=[];function Yfn(e){var t,n;const{renderPreview:r,schemaType:o,onChange:i,onPathFocus:s,value:a=[],readOnly:c,elementProps:u,path:d,changed:f}=e,p=h.useMemo(()=>{var y;return(((y=o.options)==null?void 0:y.list)||Wfn).map((x,b)=>Pl(x)?x:{...x,_key:"auto-generated-".concat(b)})},[(t=o.options)==null?void 0:t.list]),m=h.useCallback((y,x)=>{if(!y&&Pl(x)){i(nt([{_key:x._key}]));return}const b=p.filter(w=>z5(x,w)?y:Wle(a,w));i(b.length>0?vt(b):nt())},[i,p,a]),v=h.useCallback(y=>{s([y])},[s]),g=((n=o.options)==null?void 0:n.layout)==="grid";return l.jsx(ci,{path:d,isChanged:f,hasFocus:!1,children:l.jsx(Qt,{gap:2,columns:g?Math.min(p.length,4):1,tabIndex:0,...u,children:p.map((y,x)=>{const b=Ufn(o,y),w=Wle(a,y),C=!b;return l.jsxs(U,{align:"center",as:"label",muted:C,children:[l.jsx(rT,{disabled:C,checked:w,onChange:_=>m(_.currentTarget.checked,y),onFocus:()=>v(x),readOnly:c}),l.jsx(M,{flex:1,marginLeft:2,children:b?r({layout:"default",schemaType:b,value:y}):l.jsx(ee,{tone:"caution",radius:2,children:l.jsx(CPe,{value:y,onFocus:()=>v(x)})})})]},x)})})})}var Yle=Object.freeze,qfn=Object.defineProperty,Gfn=(e,t)=>Yle(qfn(e,"raw",{value:Yle(t||e.slice())})),qle;const Kfn=P(ee)(qle||(qle=Gfn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function v3e(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ie.useState(!1),[a,c]=ie.useState(null);lr(()=>s(!1),[a]);const u=ie.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Is(t);return l.jsx(Jt,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(Kfn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(oe,{space:4,children:[l.jsx(M,{children:l.jsx(L,{weight:"semibold",children:"Why is this happening?"})}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(bj,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(oe,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(ee,{padding:2,overflow:"auto",border:!0,children:l.jsx(ir,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(ee,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:3,children:l.jsx(L,{children:l.jsx(Al,{})})}),l.jsx(M,{flex:1,children:l.jsxs(L,{size:1,textOverflow:"ellipsis",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]})})]})})})}function Zfn(e){return!!(e&&typeof e=="object"&&"title"in e&&"value"in e)}function Xfn(e){return e.map(t=>Zfn(t)?{title:t.title||cn(String(t.value)),value:t.value}:{title:cn(String(t)),value:t})}function Qfn(e,t){return e.of.find(n=>n.name===Is(t.value))}function Jfn(e){var t,n;const{schemaType:r,onChange:o,value:i=[],readOnly:s,path:a,changed:c,onIndexFocus:u,elementProps:d}=e,f=h.useMemo(()=>{var v;return Xfn(((v=r.options)==null?void 0:v.list)||[])},[(t=r.options)==null?void 0:t.list]),p=(v,g)=>{const y=f.map(x=>x.value).filter(x=>x===g?v:i.includes(x));o(y.length>0?vt(y):nt())},m=((n=r.options)==null?void 0:n.layout)==="grid";return l.jsx(ci,{path:a,isChanged:c,hasFocus:!1,children:l.jsx(Qt,{gap:2,columns:m?Math.min(f.length,4):1,...d,children:f.map((v,g)=>{const y=Qfn(r,v),x=i.includes(v.value),b=!y;return l.jsxs(U,{align:"center",as:"label",muted:b,children:[l.jsx(rT,{disabled:b,checked:x,onChange:w=>p(w.currentTarget.checked,v.value),onFocus:()=>u(g),readOnly:s}),l.jsx(M,{padding:2,children:l.jsx(L,{children:v.title})}),!y&&l.jsx(v3e,{value:v,onFocus:()=>u(g)})]},g)})})})}function y3e(e){return Vfn(e)?l.jsx(Yfn,{...e}):l.jsx(Jfn,{...e})}var Gle=Object.freeze,ehn=Object.defineProperty,gD=(e,t)=>Gle(ehn(e,"raw",{value:Gle(t||e.slice())})),Kle,Zle,Xle,Qle;const thn=P.div(Kle||(Kle=gD([`
  position: relative;
`]))),b3e=P.div(Zle||(Zle=gD([`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`]))),x3e=P(ee)(Xle||(Xle=gD([`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`]))),nhn=P(U)(Qle||(Qle=gD([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  :hover,
  :focus {
    & `,` {
      opacity: 0.9;
    }

    & `,` {
      opacity: 1;
    }
  }
`])),x3e,b3e),rhn=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function ohn(e){const{children:t,message:n,onActivate:r,isOverlayActive:o}=e,[i,s]=h.useState(!1),a=h.useCallback(()=>{r&&r()},[r]),c=h.useCallback(p=>{o&&p.code==="Space"&&r&&(p.preventDefault(),r())},[o,r]),u=h.useCallback(()=>{s(!0)},[]),d=h.useCallback(()=>{s(!1)},[]),f=h.useMemo(()=>{const p=rhn();let m=p?"Tap":"Click";i&&!p&&(m+=" or press space");const v=n||"".concat(m," to activate");return l.jsx(L,{weight:"semibold",children:v})},[i,n]);return l.jsxs(thn,{onBlur:d,onClick:a,onFocus:u,onKeyDown:c,children:[o&&l.jsxs(nhn,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[l.jsx(x3e,{radius:1}),l.jsx(b3e,{children:f})]}),t]})}var Jle=Object.freeze,ihn=Object.defineProperty,shn=(e,t)=>Jle(ihn(e,"raw",{value:Jle(t||e.slice())})),ece;const ahn=P.span(ece||(ece=shn([`
  /* Make sure the annotation styling is visible */
  &[data-mark='code'] {
    mix-blend-mode: multiply;
    color: inherit;
  }
`])));function lhn(e){const{value:t,focused:n,selected:r,children:o,schemaType:i}=e,s=tcn[t],a=i.component,c=h.useCallback(u=>l.jsx(ahn,{as:s,"data-mark":t,children:u.children}),[s,t]);return h.useMemo(()=>{const u={focused:n,renderDefault:c,schemaType:i,selected:r,title:i.title,value:t};return a?l.jsx(a,{...u,children:o}):l.jsx(c,{...u,children:o})},[a,c,o,n,i,r,t])}const chn={portal:!0,constrainSize:!0},w3e=h.forwardRef(function(t,n){const{disableRestoreFocusOnClose:r,menuButton:o,menuButtonProps:i,menuOptions:s,onMenuClose:a}=t;return l.jsx(en,{__unstable_disableRestoreFocusOnClose:r,id:"menu-button",ref:n,onClose:a,popover:chn,...i,button:o,menu:l.jsx(Bt,{children:s.map((c,u)=>{const{collapsedProps:d={},expandedProps:f={},tooltipProps:p={},tooltipText:m,dividerBefore:v,fontSize:g,padding:y,text:x,icon:b,selected:w,...C}=c.props;return l.jsxs(ie.Fragment,{children:[v&&u!==0&&l.jsx(Ir,{}),l.jsx(Ve,{text:x,icon:b,pressed:w,...C})]},c.key)})})})});function uhn(e){const{onIntersectionChange:t,children:n,options:r,...o}=e,[i,s]=h.useState(null);return h.useEffect(()=>{if(!i)return;const a=new IntersectionObserver(t,r);return a.observe(i),()=>{a.unobserve(i),a.disconnect()}},[i,t,r]),l.jsx(U,{ref:s,...o,children:n})}var tce=Object.freeze,dhn=Object.defineProperty,fhn=(e,t)=>tce(dhn(e,"raw",{value:tce(t||e.slice())})),nce;const hhn=P.div(nce||(nce=fhn([`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`])));function C3e(e){const{hidden:t,...n}=e;return l.jsx(hhn,{"data-ui":"CollapseMenuDivider","data-hidden":t?"":void 0,...n})}var rce=Object.freeze,phn=Object.defineProperty,AC=(e,t)=>rce(phn(e,"raw",{value:rce(t||e.slice())})),oce,ice,sce,ace,lce;const cce=3,mhn=he(oce||(oce=AC([`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`]))),ghn=P(U)(ice||(ice=AC([`
  padding: `,`px;
  margin: -`,`px;
  box-sizing: border-box;
`])),cce,cce),vhn=P(U)(sce||(sce=AC([`
  border-radius: inherit;
  position: relative;
`]))),_3e=P(U)(ace||(ace=AC([`
  width: max-content;
  &[data-hidden='true'] {
    visibility: hidden;
    position: relative;
    margin-top: -1px;
    height: 1px;
  }
`]))),yhn=P(uhn)(lce||(lce=AC([`
  `,`
`])),mhn);function bhn(e){return!!e}const vz=h.forwardRef(function(t,n){const{children:r,collapsed:o,disableRestoreFocusOnClose:i,onMenuClose:s,menuButtonProps:a,...c}=t,u=h.useMemo(()=>h.Children.toArray(r).filter(bhn),[r]),d=h.useMemo(()=>(a==null?void 0:a.button)||l.jsx(se,{icon:Ao,mode:"bleed"}),[a]);return o?l.jsx(w3e,{ref:n,disableRestoreFocusOnClose:i,menuButton:d,menuButtonProps:a,menuOptions:u,onMenuClose:s}):l.jsx(xhn,{...c,ref:n,disableRestoreFocusOnClose:i,menuButtonProps:a,menuOptions:u,onMenuClose:s})}),xhn=h.forwardRef(function(t,n){const{collapseText:r=!0,disableRestoreFocusOnClose:o,gap:i,menuOptions:s,menuButtonProps:a,onMenuClose:c,...u}=t,[d,f]=h.useState(null),[p,m]=h.useState({}),[v,g]=h.useState({}),y=h.useMemo(()=>({root:d,threshold:.99,rootMargin:"2px"}),[d]),x=h.useMemo(()=>s.map(A=>A.key),[s]),b=h.useMemo(()=>[...im(x,Object.keys(p)),...im(x,Object.keys(v))],[x,p,v]),w=h.useMemo(()=>s.filter(A=>{const D=p[A.key];return D&&!D.intersects}),[p,s]),C=h.useCallback((A,D)=>{m(I=>{const O=D.key;if(O===null)throw new Error("Expected element to have a non-null key");const $={intersects:A.isIntersecting,element:D},R=I[O];return!R||R.intersects!==$.intersects?{...I,[O]:$}:I})},[]),_=h.useCallback((A,D)=>{g(I=>{const O=D.key;if(O===null)throw new Error("Expected child element to have a non-null key");const $=I[O],R={intersects:A.isIntersecting,element:D};return($==null?void 0:$.intersects)===R.intersects?I:{...I,[O]:R}})},[]),S=h.useMemo(()=>s.map(A=>{const{collapsedProps:D}=A.props,I=D,O=r?void 0:A.props.text;return h.cloneElement(A,{...I,text:O})}),[s,r]),E=h.useMemo(()=>s.filter(A=>{const D=v[A.key];return(D==null?void 0:D.intersects)===!1}),[s,v]),k=w.length>0?S.filter(A=>{const D=v[A.key];return(D==null?void 0:D.intersects)===!0}):s,T=h.useMemo(()=>(a==null?void 0:a.button)||l.jsx(se,{icon:Ao,mode:"bleed"}),[a]);return l.jsxs(ghn,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:n,...u,children:[l.jsxs(vhn,{direction:"column",flex:1,justify:"center",ref:f,children:[l.jsx(_3e,{gap:i,children:b.length===0&&k.map((A,D)=>{const{dividerBefore:I,tooltipText:O="",tooltipProps:$={}}=A.props,R=!A.key||!(A.key in p)||E.includes(A);return l.jsxs(h.Fragment,{children:[I&&D!==0&&l.jsx(C3e,{hidden:R}),l.jsx(at,{portal:!0,disabled:!O,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:O})}),...$,children:l.jsx(U,{children:h.cloneElement(A,{disabled:A.props.disabled||R,"aria-hidden":R})})})]},A.key)})}),l.jsx(uce,{gap:i,elements:s,intersectionOptions:y,onIntersectionChange:C}),l.jsx(uce,{gap:i,elements:S,intersectionOptions:y,onIntersectionChange:_})]}),E.length>0&&l.jsx(U,{marginLeft:i,children:l.jsx(w3e,{disableRestoreFocusOnClose:o,menuButton:T,menuButtonProps:a,menuOptions:E,onMenuClose:c})})]})}),uce=h.memo(function(t){const{elements:n,gap:r,intersectionOptions:o,onIntersectionChange:i}=t;return l.jsx(_3e,{"data-hidden":!0,"aria-hidden":"true",gap:r,overflow:"hidden",children:n.map((s,a)=>{const{dividerBefore:c}=s.props;return l.jsxs(h.Fragment,{children:[c&&a!==0&&l.jsx(C3e,{hidden:!0}),l.jsx(yhn,{options:o,onIntersectionChange:u=>i(u[0],s),children:l.jsx(U,{children:h.cloneElement(s,{disabled:!0,"aria-hidden":!0})})})]},s.key)})})}),yz=h.forwardRef(function(t,n){const{collapsedProps:r={},expandedProps:o={},tooltipProps:i={},tooltipText:s,dividerBefore:a,...c}=t;return l.jsx(se,{"data-ui":"CollapseMenuButton",...c,ref:n})});var dce=Object.freeze,whn=Object.defineProperty,Chn=(e,t)=>dce(whn(e,"raw",{value:dce(t||e.slice())})),fce;const _hn=P.div(fce||(fce=Chn([`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`])));function Shn(e){const{icon:t,active:n}=e,r=h.useMemo(()=>({backgroundImage:"url(".concat(t,")"),filter:n?"invert(100%)":"invert(0%)"}),[n,t]);return l.jsx(_hn,{style:r})}function Ehn(e,t,n){return e.schemaTypes.decorators.map(o=>{const i=Object.keys(n.marks||{}).find(a=>{var c;return((c=n.marks)==null?void 0:c[a])===o.value});let s=[];return i&&(s=[i]),{type:"format",disabled:t,icon:o==null?void 0:o.icon,key:o.value,handle:()=>{Se.toggleMark(e,o.value),Se.focus(e)},hotkeys:s,title:o.title}})}function khn(e,t){return e.schemaTypes.lists.map(r=>({type:"listStyle",key:r.value,disabled:t,icon:r==null?void 0:r.icon,handle:()=>{Se.toggleList(e,r.value)},title:r.title}))}function jhn(e){return Hn(e,"icon")||Hn(e,"type.icon")||Hn(e,"type.to.icon")||Hn(e,"type.to[0].icon")}function Thn(e,t,n){const r=e.schemaTypes,o=Se.focusChild(e),i=o&&o.text;return r.annotations.map(s=>({type:"annotation",disabled:!i||t,icon:jhn(s),key:s.name,handle:a=>{a?(Se.removeAnnotation(e,s),Se.focus(e)):n(s)},title:s.title||Vm(s.name)}))}function Ahn(e,t,n,r){return[{name:"format",actions:Ehn(e,t,r)},{name:"list",actions:khn(e,t)},{name:"annotation",actions:Thn(e,t,n)}]}function Dhn(e){return e.styles.map(t=>({key:"style-".concat(t.value),style:t.value,styleComponent:t&&t.component,title:t.title}))}function hce(e,t){const n=Hn(e,"to[0].icon");return e.icon||e.type&&e.type.icon||n||t}function Ihn(e,t,n,r){const o=e.blockObjects.map((a,c)=>({handle:()=>n(a),icon:hce(a,S1e),inline:!1,key:"block-".concat(c),type:a})),i=e.inlineObjects.map((a,c)=>({handle:()=>r(a),icon:hce(a,F1e),inline:!0,key:"inline-".concat(c),type:a}));return o.concat(i).filter(a=>{var c;return!((c=a.type)!=null&&c.hidden)})}const Ohn={link:zf},Phn={strong:E1e,em:N1e,"strike-through":Z1e,underline:X1e,code:T1e},Rhn={number:H1e,bullet:tb};function $hn(e,t){return e.icon?typeof e.icon=="string"?l.jsx(Shn,{active:t,icon:e.icon}):e.icon:e.type==="annotation"?Ohn[e.key]||Al:e.type==="listStyle"?Rhn[e.key]||Al:Phn[e.key]||Al}function vD(){const e=bo(),t=r1();return h.useMemo(()=>Se.focusBlock(e),[e,t])}function Mhn(e){let{hotkeys:t,onMemberOpen:n,resolveInitialValue:r,disabled:o}=e;const i=bo(),s=h.useCallback(async a=>{const c=await r(a),u=Se.addAnnotation(i,a,c);u&&u.markDefPath&&n(u.markDefPath)},[i,n,r]);return h.useMemo(()=>i?Ahn(i,o,s,t):[],[o,i,s,t])}function Fhn(e){let{actions:t}=e;const n=bo(),r=r1();return Fo(h.useMemo(()=>{const o=Se.activeAnnotations(n).map(i=>i._type);return t.filter(i=>i.type==="annotation"?o.includes(i.key):i.type==="listStyle"?Se.hasListStyle(n,i.key):Se.isMarkActive(n,i.key)).map(i=>i.key)},[n,r]))}function Lhn(e){let{items:t}=e;const n=bo(),r=vD(),o=r1();return Fo(h.useMemo(()=>t.filter(i=>Se.hasBlockStyle(n,i.style)).map(i=>i.style),[r,o]))}const Bhn=h.memo(vz),Nhn={constrainSize:!0,portal:!0},zhn={padding:2,mode:"bleed"},Vhn=h.memo(function(t){const{disabled:n,groups:r,isFullscreen:o,collapsed:i}=t,s=vD(),a=bo(),c=(s==null?void 0:s._type)!==a.schemaTypes.block.name,u=!c&&Array.isArray(s.children)&&s.children.length===1&&(s==null?void 0:s.children[0].text)==="",d=n||c,f=h.useMemo(()=>r.reduce((y,x)=>y.concat(x.actions.map((b,w)=>w===0?{...b,firstInGroup:!0}:b)),[]),[r]),p=Fhn({actions:f}),m=h.useCallback(()=>{Se.focus(a)},[a]),v=h.useMemo(()=>f.map(y=>{const x=y.type==="annotation"&&u,b=p.includes(y.key);return h.createElement(yz,{"data-testid":"action-button-".concat(y.key),disabled:d||x,...zhn,dividerBefore:y.firstInGroup,icon:$hn(y,b),key:y.key,onClick:()=>y.handle(b),selected:b,text:y.title||y.key,tooltipText:y.title||y.key,tooltipProps:{disabled:d||x,placement:o?"bottom":"top",portal:"default"}})}),[f,p,d,u,o]),g=h.useMemo(()=>({button:l.jsx(se,{icon:Ao,mode:"bleed",padding:2,disabled:d}),popover:Nhn}),[d]);return l.jsx(Bhn,{collapsed:i,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:g,onMenuClose:m,children:v})});var pce=Object.freeze,Hhn=Object.defineProperty,S3e=(e,t)=>pce(Hhn(e,"raw",{value:pce(t||e.slice())})),mce,gce;const Uhn=h.memo(en),Whn=P(Ve)(mce||(mce=S3e([`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`]))),Yhn=P(se)(gce||(gce=S3e([`
  width: 100%;
`]))),qhn={constrainSize:!0,placement:"bottom-start",portal:"default"},E3e={h1:e=>l.jsx($Pe,{children:e}),h2:e=>l.jsx(MPe,{children:e}),h3:e=>l.jsx(FPe,{children:e}),h4:e=>l.jsx(LPe,{children:e}),h5:e=>l.jsx(BPe,{children:e}),h6:e=>l.jsx(NPe,{children:e}),normal:e=>l.jsx(dz,{children:e}),blockquote:e=>l.jsx(zPe,{"data-option":"blockquote",children:e})},Ghn=Object.keys(E3e),Khn=e=>e.preventDefault(),g3={key:"style-none",style:"",title:"No style"},Zhn=h.memo(function(t){const{disabled:n,items:r}=t,o=bo(),i=vD(),s=n||(i?o.schemaTypes.block.name!==i._type:!1),a=Lhn({items:r}),{activeItems:c,items:u}=h.useMemo(()=>{const g=r.filter(x=>a.includes(x.style));let y=r;return g.length===0&&y.length>1&&(y=y.concat([g3]),g.push(g3)),{activeItems:g,items:y}},[a,r]),d=h.useMemo(()=>c.length>1?"Multiple":c.length===1?c[0].title:g3.title,[c]),f=h.useCallback(g=>{i&&g.style!==i.style&&(Se.toggleBlockStyle(o,g.style),Se.focus(o))},[o,i]),p=h.useCallback((g,y)=>{const x=Ghn.includes(g),b=E3e[g];return x?b(y):l.jsx(L,{children:y})},[]),m=h.useMemo(()=>l.jsx(Yhn,{disabled:s,iconRight:ql,mode:"bleed",onClick:Khn,padding:2,text:d}),[s,d]),v=h.useMemo(()=>l.jsx(Bt,{disabled:s,children:u.map(g=>l.jsx(Whn,{pressed:c.includes(g),onClick:s?void 0:()=>f(g),children:p(g.style,(g==null?void 0:g.title)||g.style)},g.key))}),[s,c,f,u,p]);return l.jsx(Uhn,{popover:qhn,id:"block-style-select",button:m,menu:v})}),Xhn=h.memo(vz),Qhn={constrainSize:!0,portal:!0},Jhn=h.memo(function(t){const{disabled:n,items:r,isFullscreen:o,collapsed:i}=t,s=vD(),a=bo(),c=s&&s._type!==a.schemaTypes.block.name,u=h.useCallback(()=>{Se.focus(a)},[a]),d=h.useMemo(()=>r.map(p=>{const m=p.type.title||ake(p.type.name);return l.jsx(yz,{"aria-label":"Insert ".concat(m).concat(p.inline?" (inline)":" (block)"),padding:2,mode:"bleed",disabled:n||c&&p.inline===!0,icon:p.icon,onClick:p.handle,text:m,tooltipText:"Insert ".concat(m),tooltipProps:{disabled:n,placement:o?"bottom":"top",portal:"default"}},p.key)}),[r,n,c,o]),f=h.useMemo(()=>({button:l.jsx(se,{icon:na,mode:"bleed",padding:2,disabled:n}),popover:Qhn}),[n]);return l.jsx(Xhn,{collapsed:i,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:f,onMenuClose:u,children:d})});var vce=Object.freeze,epn=Object.defineProperty,C0=(e,t)=>vce(epn(e,"raw",{value:vce(t||e.slice())})),yce,bce,xce,wce,Cce,_ce;const tpn=P(U)(yce||(yce=C0([`
  width: 100%;
`]))),npn=P(M)(bce||(bce=C0([`
  width: 8em;
`]))),rpn=P(U)(xce||(xce=C0([`
  border-right: 1px solid var(--card-border-color);
`]))),opn=P(M)(Cce||(Cce=C0([`
  `,`
`])),e=>{let{$withInsertMenu:t}=e;return t&&he(wce||(wce=C0([`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `])))}),ipn=P(M)(_ce||(_ce=C0([`
  border-left: 1px solid var(--card-border-color);
`]))),spn=300,apn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),lpn=h.memo(function(t){let{actionGroups:n,blockStyles:r,disabled:o,insertMenuItems:i,isFullscreen:s,onToggleFullscreen:a}=t;const u=n.reduce((x,b)=>x+b.actions.length,0)>0,d=i.length>0,[f,p]=h.useState(null),m=fh(f),v=m?(m==null?void 0:m.width)<400:!1,g=r.length>1;jIe({rootElement:f});const y=h.useCallback(x=>{x.preventDefault(),x.stopPropagation()},[]);return l.jsxs(tpn,{align:"center",ref:p,onMouseDown:y,children:[g&&l.jsx(rpn,{flex:v?1:void 0,children:l.jsx(npn,{padding:s?2:1,children:l.jsx(Zhn,{disabled:o,items:r})})}),l.jsxs(U,{flex:1,children:[u&&l.jsx(opn,{flex:v?void 0:1,padding:s?2:1,$withInsertMenu:d,children:l.jsx(Vhn,{disabled:o,collapsed:v,groups:n,isFullscreen:s})}),d&&l.jsx(M,{flex:v?void 0:1,padding:s?2:1,children:l.jsx(Jhn,{disabled:o,collapsed:v,items:i,isFullscreen:s})})]}),l.jsx(ipn,{padding:s?2:1,children:l.jsx(at,{content:l.jsxs(U,{align:"center",padding:1,children:[l.jsx(M,{flex:1,paddingX:1,children:l.jsx(L,{size:1,children:"".concat(s?"Collapse":"Expand"," editor")})}),l.jsx(M,{marginLeft:1,children:l.jsx(x8,{keys:["".concat(apn?"Cmd":"Ctrl"),"Enter"]})})]}),placement:s?"bottom":"top",portal:"default",children:l.jsx(se,{padding:2,icon:s?A1e:$1e,mode:"bleed",onClick:a})})})]})});function cpn(e){const{hotkeys:t,isFullscreen:n,readOnly:r,onMemberOpen:o,onToggleFullscreen:i}=e,s=bo(),a=r1(),c=Uz(),u=r||!a,{push:d}=Wo(),f=h.useCallback(x=>{let b=!1;const w=setTimeout(()=>{b=!0,d({id:"resolving-initial-value",status:"info",title:"Resolving initial value…"})},spn);return c(x,{}).then(C=>(b&&d({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),C)).catch(C=>{d({title:"Could not resolve initial value",id:"resolving-initial-value",description:"Unable to resolve initial value for type: ".concat(x.name,": ").concat(C.message,"."),status:"error"})}).finally(()=>clearTimeout(w))},[d,c]),p=h.useCallback(async x=>{const b=await f(x),w=Se.insertBlock(s,x,b);w&&o(w)},[s,o,f]),m=h.useCallback(async x=>{const b=await f(x),w=Se.insertChild(s,x,b);w&&o(w)},[s,o,f]),v=Mhn({hotkeys:t,onMemberOpen:o,resolveInitialValue:f,disabled:!0}),g=h.useMemo(()=>Dhn(s.schemaTypes),[s]),y=h.useMemo(()=>Ihn(s.schemaTypes,u,p,m),[u,s,p,m]);return l.jsx(lpn,{actionGroups:v,blockStyles:g,disabled:u,insertMenuItems:y,isFullscreen:n,onToggleFullscreen:i})}var Sce=Object.freeze,upn=Object.defineProperty,$f=(e,t)=>Sce(upn(e,"raw",{value:Sce(t||e.slice())})),Ece,kce,jce,Tce,Ace,Dce,Ice,Oce;const dpn=P(ee)(Ece||(Ece=$f([`
  height: `,`;

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`])),e=>{let{$fullscreen:t}=e;return t?"100%":"15em"}),fpn=P(ee)(kce||(kce=$f([`
  z-index: 10;
  line-height: 0;
`]))),hpn=P(ee)(jce||(jce=$f([`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`]))),ppn=P(WA)(Tce||(Tce=$f([`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`]))),mpn=P(Qr)(Ace||(Ace=$f([`
  /* @todo: calculate from theme */
  /* max-width: 728px; */
`]))),gpn=P(ee)(Oce||(Oce=$f([`
  height: 100%;
  width: 100%;
  counter-reset: `,`;
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    `,`

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: `,`px;
      counter-reset: `,`;
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: `,`px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-reset: `,`;
    }

    `,`

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: `,`px;
    }

    & > :first-child {
      padding-top: `,`px;
    }

    & > :last-child {
      padding-bottom: `,`px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: 1px;
      margin-top: -3px;
      left: calc(
        `,` - 1px
      );
      right: calc(
        `,` - 1px
      );
      width: calc(
        100% -
          `,` + 2px
      ) !important;
    }
  }
`])),vy.map(e=>fp(e)).join(" "),vy.map(e=>he(Dce||(Dce=$f([`
        & > .pt-list-item-number[class~='pt-list-item-level-`,`'] {
          counter-increment: `,`;
        }
      `])),e,fp(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},vy.map(e=>fp(e)).join(" "),e=>{let{theme:t}=e;return t.sanity.space[2]},vy.map(e=>fp(e)).join(" "),vy.slice(1).map(e=>he(Ice||(Ice=$f([`
        & > .pt-list-item-level-`," + .pt-list-item-level-",` {
          counter-reset: `,`;
        }
      `])),e,e-1,fp(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?5:3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?9:5]},e=>{let{$isFullscreen:t,theme:n}=e;return ye(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ye(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ye(t?n.sanity.space[5]*2:n.sanity.space[3]*2)});function vpn(){const e=bo();return h.useMemo(()=>{var t;const n=(t=e.schemaTypes.block.options)==null?void 0:t.spellCheck,r=typeof navigator>"u"?!1:/Chrome\/96/.test(navigator.userAgent);return n===void 0&&r===!0?!1:n},[e])}function ypn(e){return h.useMemo(()=>(t,n)=>{if(Se.getSelection(t)){const o=n.startContainer.parentElement;if(!o)return;u0(o,{scrollMode:"if-needed",boundary:e,block:"start",inline:"nearest"})}},[e])}const bpn=e=>{const{block:t,focused:n,children:r,selected:o,schemaType:i}=e,s=h.useMemo(()=>(t.style&&d3[t.style]?d3[t.style]:d3[0])||dz,[t.style]),a=h.useCallback(c=>l.jsx(s,{children:l.jsx(Ad,{"data-testid":"text-style--".concat(t.style),children:c.children})}),[s,t.style]);return h.useMemo(()=>{const c=i.component,{title:u,value:d}=i,f={block:t,focused:n,renderDefault:a,schemaType:i,selected:o,title:u,value:d};return c?l.jsx(c,{...f,children:r}):l.jsx(a,{...f,children:r})},[a,t,r,n,i,o])},Pce=e=>l.jsx(l.Fragment,{children:e.children}),xpn=e=>{const{block:t,children:n,schemaType:r,selected:o,focused:i,level:s,value:a}=e,{title:c,component:u}=r;return h.useMemo(()=>{const d={block:t,focused:i,level:s,renderDefault:Pce,schemaType:r,selected:o,title:c,value:a};return u?l.jsx(u,{...d,children:n}):l.jsx(Pce,{...d,children:n})},[u,t,n,i,s,r,o,c,a])},wpn={outline:"none"},Cpn=e=>l.jsx(lhn,{...e}),_pn=e=>l.jsx(bpn,{...e}),Spn=e=>l.jsx(xpn,{...e});function Epn(e){const{hotkeys:t,initialSelection:n,isActive:r,isFullscreen:o,onCopy:i,onItemOpen:s,onPaste:a,onToggleFullscreen:c,path:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderChild:m,scrollElement:v,setPortalElement:g,setScrollElement:y,ariaDescribedBy:x}=e,{isTopLayer:b}=rl(),w=h.useRef(null),{element:C}=hh();is(h.useCallback(T=>{!b||!o||T.key==="Escape"&&c()},[c,o,b]));const _=h.useCallback(()=>l.jsx("span",{"data-testid":"pt-input-placeholder",children:"Empty"}),[]),S=vpn(),E=ypn(v),j=h.useMemo(()=>l.jsx(oAe,{"aria-describedby":x,hotkeys:t,onCopy:i,onPaste:a,ref:w,renderAnnotation:f,renderBlock:p,renderChild:m,renderDecorator:Cpn,renderListItem:Spn,renderPlaceholder:_,renderStyle:_pn,scrollSelectionIntoView:E,selection:n,spellCheck:S,style:wpn}),[x,t,n,i,a,f,p,m,_,E,S]),k=h.useCallback(T=>{s(u.concat(T))},[s,u]);return l.jsxs(dpn,{$fullscreen:o,"data-testid":"pt-editor",children:[r&&l.jsx(fpn,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:l.jsx(cpn,{hotkeys:t,isFullscreen:o,onMemberOpen:k,onToggleFullscreen:c,readOnly:d})}),l.jsxs(hpn,{flex:1,tone:d?"transparent":"default",children:[l.jsx(ppn,{ref:y,children:l.jsx(mpn,{padding:o?2:0,sizing:"border",width:1,children:l.jsx(gpn,{$isFullscreen:o,tone:d?"transparent":"default",children:l.jsx(Xu,{element:o?v:C,children:j})})})}),l.jsx("div",{"data-portal":"",ref:g})]})]})}var Rce=Object.freeze,kpn=Object.defineProperty,k3e=(e,t)=>Rce(kpn(e,"raw",{value:Rce(t||e.slice())})),$ce,Mce;const jpn=P.div(e=>{let{theme:t}=e;const{focusRing:n,input:r}=t.sanity,o=t.sanity.color.base,s={color:t.sanity.color.input.default.enabled.border,width:r.border.width};return he($ce||($ce=k3e([`
    --input-box-shadow: `,`;

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: `,`px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: 1px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: `,`;
    }
  `])),hz(s),r.border.width,pz({base:o,border:s,focusRing:n}))}),Tpn=P(ss)(Mce||(Mce=k3e([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`])));function Apn(e){const t=bo(),[n]=h.useState(()=>e);return n!==e&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),h.useMemo(()=>{const r={marks:{}};return t.schemaTypes.decorators.forEach(o=>{switch(o.value){case"strong":r.marks["mod+b"]=o.value;break;case"em":r.marks["mod+i"]=o.value;break;case"underline":r.marks["mod+u"]=o.value;break;case"code":r.marks["mod+'"]=o.value;break}}),{marks:{...r.marks,...(n||{}).marks},custom:n.custom}},[t,n])}function Dpn(e){const{focusPath:t,boundaryElement:n,onItemClose:r}=e,o=Pln(),i=bo(),s=r1();h.useLayoutEffect(()=>{var a,c,u,d,f;if(t.length===0)return;const p=o.find(m=>m.member.open);if(p&&((a=p.elementRef)!=null&&a.current)){if(n&&(u0(n,{scrollMode:"if-needed",block:"start",inline:"start"}),u0(p.elementRef.current,{scrollMode:"if-needed",boundary:n,block:"start",inline:"start"})),s!=null&&s.focus.path&&vn(s.focus.path,t))return;const m=p.kind==="textBlock",v=t.length===1;if(m||v){const g=m&&Pl(t[2])?t[2]._key:void 0,y=g&&Array.isArray((c=p.node.value)==null?void 0:c.children)?(u=p.node.value)==null?void 0:u.children.find(C=>C._key===g):void 0,x=y&&y._type==="span"&&t.length===4&&t[1]==="children"&&t[3]==="text"||!1,b=m&&(t.length===3&&t[1]==="children"||x);let w=[];b?w=t.slice(0,3):m&&v&&Array.isArray((d=p.node.value)==null?void 0:d.children)?w=[t[0],"children",{_key:(f=p.node.value)==null?void 0:f.children[0]._key}]:v&&(w=[{_key:p.key}]),w.length&&(Se.select(i,{anchor:{path:w,offset:0},focus:{path:w,offset:0}}),m&&Se.focus(i))}}},[n,i,t,r,o,s==null?void 0:s.focus.path])}function Ipn(e){const{changed:t,focused:n,focusPath:r=hn,hasFocusWithin:o,hotkeys:i,isActive:s,isFullscreen:a,onActivate:c,onCopy:u,onItemClose:d,onItemOpen:f,onItemRemove:p,onPaste:m,onPathFocus:v,onToggleFullscreen:g,path:y,readOnly:x,renderAnnotation:b,renderBlock:w,renderBlockActions:C,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,value:A}=e,D=bo(),I=hh().element,[O,$]=h.useState(null),[R,V]=h.useState(null),N=h.useCallback(()=>{g()},[g]),W=h.useMemo(()=>({...i,custom:{"mod+enter":g,...(i==null?void 0:i.custom)||{}}}),[i,g]),q=Apn(W),H=A&&C?C:void 0,Y=A&&_?_:void 0,[X,B]=h.useState(null),K=h.useCallback(we=>{const{children:ce,focused:ve,path:$e,selected:Ae,schemaType:it,value:et}=we;return l.jsx(gcn,{floatingBoundary:I,focused:ve,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:y.concat($e),readOnly:x,referenceBoundary:R,renderAnnotation:b,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderBlockActions:H,renderCustomMarkers:Y,renderPreview:T,renderBlock:w,schemaType:it,selected:Ae,value:et,children:ce})},[H,Y,R,a,d,f,p,v,I,y,x,b,w,S,E,j,k,T]),z=h.useCallback(we=>{const{focused:ce,path:ve,selected:$e,schemaType:Ae,value:it}=we;return l.jsx(ecn,{floatingBoundary:I,focused:ce,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:y.concat(ve),readOnly:x,referenceBoundary:R,relativePath:ve,renderAnnotation:b,renderBlock:w,renderBlockActions:H,renderCustomMarkers:Y,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:Ae,selected:$e,value:it})},[I,R,a,d,f,p,v,y,x,b,w,H,Y,S,E,j,k,T]),Z=h.useCallback(we=>{const{value:ce}=we;return ce._type===D.schemaTypes.block.name?K(we):z(we)},[D.schemaTypes.block.name,z,K]),Q=h.useCallback(we=>{const{children:ce,focused:ve,path:$e,selected:Ae,schemaType:it,value:et}=we;return et._type===D.schemaTypes.span.name?ce:l.jsx(jcn,{floatingBoundary:I,focused:ve,onItemClose:d,onItemOpen:f,onPathFocus:v,path:y.concat($e),readOnly:x,referenceBoundary:R,relativePath:$e,renderAnnotation:b,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:it,selected:Ae,value:et})},[I,R,D.schemaTypes.span.name,d,f,v,y,x,b,w,_,S,E,j,k,T]),ne=h.useCallback(we=>{const{children:ce,focused:ve,path:$e,selected:Ae,schemaType:it,value:et}=we;return l.jsx(Mcn,{editorNodeFocused:ve,floatingBoundary:I,focused:!!n,onItemClose:d,onItemOpen:f,onPathFocus:v,path:y.concat($e),readOnly:x,referenceBoundary:R,renderAnnotation:b,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:it,selected:Ae,value:et,children:ce})},[I,R,n,d,f,v,y,x,b,w,_,S,E,j,k,T]),G=e.elementProps["aria-describedby"],J=h.useMemo(()=>{if(o)return{anchor:{path:r,offset:0},focus:{path:r,offset:0}}},[]),re=h.useMemo(()=>l.jsx(Epn,{ariaDescribedBy:G,initialSelection:J,hotkeys:q,isActive:s,isFullscreen:a,onItemOpen:f,onCopy:u,onPaste:m,onToggleFullscreen:N,path:y,readOnly:x,renderAnnotation:ne,renderBlock:Z,renderChild:Q,setPortalElement:B,scrollElement:R,setScrollElement:V}),[G,q,ne,Z,Q,N,J,s,a,u,f,m,y,x,R]),fe=Pm(),le=h.useMemo(()=>({collapsed:O,default:fe.element,editor:X,expanded:fe.element}),[fe.element,X,O]);Dpn({focusPath:r,boundaryElement:R,onItemClose:d});const ge=n||o;return l.jsx(yd,{__unstable_elements:le,element:fe.element,children:l.jsx(ohn,{onActivate:c,isOverlayActive:!s,children:l.jsx(ci,{disabled:a,hasFocus:!!n,isChanged:t,path:y,children:l.jsxs(jpn,{"data-focused":ge?"":void 0,"data-read-only":x?"":void 0,children:[l.jsx(M,{"data-wrapper":"",ref:$,children:l.jsx(Rm,{__unstable_name:a?"expanded":"collapsed",children:a?l.jsx(Tpn,{children:re}):re})}),l.jsx("div",{"data-border":""})]})})})})}function Opn(e){const{onChange:t,onIgnore:n,resolution:r,readOnly:o}=e,i=h.useCallback(()=>{r&&t({type:"mutation",patches:r.patches})},[t,r]);return r?l.jsx(Jc,{suffix:l.jsxs(oe,{padding:2,children:[r.action&&l.jsxs(Qt,{columns:[1,2],gap:1,children:[l.jsx(se,{mode:"ghost",onClick:n,text:"Ignore"}),!o&&l.jsx(se,{onClick:i,text:r.action,tone:"caution"})]}),l.jsx(M,{padding:3,children:r.action&&l.jsx(L,{as:"p",muted:!0,size:1,children:"NOTE: It’s generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio."})})]}),title:l.jsx(l.Fragment,{children:"Invalid Portable Text Editor value"}),children:l.jsxs(oe,{space:3,children:[l.jsx(L,{as:"p",muted:!0,size:1,children:r.description}),l.jsx(ee,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:l.jsx(ir,{language:"json",children:JSON.stringify(r.item,null,2)})})]})}):null}function Ppn(e){const{path:t}=e,{patchChannel:n}=ui().__internal;return{subscribe:h.useCallback(o=>n.subscribe(i=>{let{snapshot:s,patches:a}=i;const c=a.filter(u=>sF(u.path,t)).map(u=>({...u,path:u.path.slice(t.length)}));c.length&&o({shouldReset:Mpn(t,a),snapshot:yt(s)?Fpn(s,t):{},patches:c})}),[t,n])}}function Rpn(e,t){const n=typeof e;return n!==typeof t?!1:n==="object"?Ju(e,t):e===t}function sF(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length<t.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!Rpn(t[n],e[n]))return!1;return!0}function $pn(e,t){return e.length===0||sF(t,e)&&!sF(e,t)}function Mpn(e,t){return t.some(n=>$pn(n.path,e)&&(n.type==="set"||n.type==="unset"))}function Fpn(e,t){return t.reduce((n,r)=>typeof r=="object"?VAe(n,r):Hn(n,r),e)}function Lpn(e){const{elementProps:t,hotkeys:n,markers:r=hn,members:o,onChange:i,onCopy:s,onItemRemove:a,onInsert:c,onPaste:u,onPathFocus:d,path:f,readOnly:p,renderBlockActions:m,renderCustomMarkers:v,schemaType:g,value:y}=e,{onBlur:x}=t;h.useImperativeHandle(t.ref,()=>({focus(){w.current&&Se.focus(w.current)}}));const{subscribe:b}=Ppn({path:f}),w=h.useRef(null),[C,_]=h.useState(!1),[S,E]=h.useState(null),[j,k]=h.useState(!1),[T,A]=h.useState(!1),[D,I]=h.useState(!1),[O,$]=h.useState(!1),R=Wo(),V=h.useRef([]),N=h.useMemo(()=>new uo,[]),W=h.useMemo(()=>N.asObservable(),[N]),q=h.useRef(null),H=h.useCallback(()=>{w.current&&k(Z=>!Z)},[]);h.useEffect(()=>{S&&y!==S.value&&E(null)},[S,y]),h.useEffect(()=>b(Z=>{let{patches:Q,snapshot:ne}=Z;N.next({patches:Q,snapshot:ne})}),[N,b]);const Y=h.useMemo(()=>{var Z;const Q=[];for(const G of o)if(G.kind==="item")if(!uD(G.item.schemaType))Q.push({kind:"objectBlock",member:G,node:G.item});else{(G.item.validation.length>0||G.item.changed||(Z=G.item.presence)!=null&&Z.length)&&Q.push({kind:"textBlock",member:G,node:G.item});const re=G.item.members.find(le=>le.kind==="field"&&le.name==="children");if(re&&re.kind==="field"&&rz(re))for(const le of re.field.members)le.kind==="item"&&le.item.schemaType.name!=="span"&&Q.push({kind:"inlineObject",member:le,node:le.item});const fe=G.item.members.filter(Aln).find(le=>le.name==="markDefs");if(fe)for(const le of fe.field.members)le.kind==="item"&&le.item.schemaType.jsonType==="object"&&Q.push({kind:"annotation",member:le,node:le.item})}const ne=Q.map(G=>{const J=yn(G.node.path),re=V.current.find(ge=>ge.key===J),fe=G.kind!=="textBlock";let le;if(fe&&(G.member.open||!re)){const ge={...e,absolutePath:G.node.path};le=l.jsx(_Pe,{...ge})}return re?(re.input=le,re.member=G.member,re.node=G.node,re):{kind:G.kind,key:J,member:G.member,node:G.node,elementRef:h.createRef(),input:le}});return V.current=ne,ne},[o,e]);h.useEffect(()=>{O&&A(!0)},[O]);const X=h.useCallback(Z=>{switch(Z.type){case"mutation":i(Fce(Z.patches));break;case"connection":Z.value==="offline"?I(!0):Z.value==="online"&&I(!1);break;case"selection":h.startTransition(()=>{Z.selection&&d(Z.selection.focus.path)});break;case"focus":A(!0),$(!0);break;case"blur":x(Z.event),$(!1);break;case"undo":case"redo":i(Fce(Z.patches));break;case"invalidValue":E(Z);break;case"error":R.push({status:Z.level,description:Z.description});break}},[x,i,d,R]);h.useEffect(()=>{_(!1)},[y]);const B=h.useCallback(()=>{_(!0)},[]),K=h.useMemo(()=>S&&S.resolution?l.jsx(M,{marginBottom:2,children:l.jsx(Opn,{onChange:X,onIgnore:B,resolution:S.resolution,readOnly:D||p})}):null,[X,B,S,D,p]),z=h.useCallback(()=>{T||(A(!0),w.current&&Se.focus(w.current))},[T]);return l.jsxs(M,{ref:q,children:[!C&&K,(!S||C)&&l.jsx(Iln,{markers:r,children:l.jsx(Oln,{memberItems:Y,children:l.jsx(Se,{ref:w,patches$:W,onChange:X,maxBlocks:void 0,readOnly:D||p,schemaType:g,value:y,children:l.jsx(Ipn,{...e,hasFocusWithin:O,hotkeys:n,isActive:T,isFullscreen:j,onActivate:z,onItemRemove:a,onCopy:s,onInsert:c,onPaste:u,onToggleFullscreen:H,renderBlockActions:m,renderCustomMarkers:v})})})})]})}function Fce(e){return e.map(t=>({...t,patchType:mm}))}function aF(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Bpn(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&aF(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Lce=Object.freeze,Npn=Object.defineProperty,j3e=(e,t)=>Lce(Npn(e,"raw",{value:Lce(t||e.slice())})),Bce,Nce;const zpn=P(ee)(e=>{const{theme:t}=e,{focusRing:n,input:r,radius:o}=t.sanity,i=t.sanity.color.input,s=ye(t.sanity.space[1]);return{position:"relative",borderRadius:"".concat(o[1],"px"),color:i.default.enabled.fg,boxShadow:aF({color:i.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:"-".concat(s," 0 0 -").concat(s)},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:"".concat(s," 0 0 ").concat(s)},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:i.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:Bpn({border:{color:i.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:i.default.disabled.fg,backgroundColor:i.default.disabled.bg,boxShadow:aF({color:i.default.disabled.border,width:r.border.width})}}}),Vpn=P.input(e=>{const{theme:t}=e,n=t.sanity.fonts.text,r=t.sanity.color.input,o=t.sanity.space[2],i=t.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:ye(i.fontSize),lineHeight:i.lineHeight/i.fontSize,fontFamily:n.family,fontWeight:n.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:ye(o-i.ascenderHeight),paddingRight:ye(o),paddingBottom:ye(o-i.descenderHeight),paddingLeft:ye(o),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}}),Hpn=P(M)(e=>{const{theme:t}=e,n=t.sanity.color.input;return he(Bce||(Bce=j3e([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: `,`;
  `])),n.default.enabled.placeholder)}),Upn=P(M)(Nce||(Nce=j3e([`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`]))),T3e=h.forwardRef((e,t)=>{const{disabled:n,onChange:r,onFocus:o,placeholder:i,readOnly:s,value:a=[],...c}=e,u=h.useMemo(()=>i||(typeof window<"u"&&"ontouchstart"in window?"Enter tag…":"Enter tag and press ENTER…"),[i]),[d,f]=h.useState(""),p=!n&&!s,[m,v]=h.useState(!1),g=cr(t),y=h.useRef(null),x=h.useCallback(E=>{if(Yc(E.target)&&E.target.closest('[data-ui="Tag"]'))return;const k=g.current;k&&setTimeout(()=>k.focus(),0)},[g]),b=h.useCallback(()=>{v(!1)},[]),w=h.useCallback(E=>{f(E.currentTarget.value)},[]),C=h.useCallback(E=>{v(!0),o&&o(E)},[o]),_=h.useCallback(E=>{if(E.key==="Enter"&&(E.preventDefault(),E.stopPropagation(),r&&d)){const j=a.concat([{value:d}]);f(""),r&&r(j)}},[d,r,a]),S=h.useCallback(E=>{if(!r)return;const j=a.slice(0);j.splice(E,1),r(j)},[r,a]);return h.useEffect(()=>{const E=g.current;E&&(E.style.width="0",E.style.width="".concat(E.scrollWidth,"px"))},[g,d]),l.jsxs(zpn,{"data-disabled":n?"":void 0,"data-focused":m?"":void 0,"data-read-only":s?"":void 0,"data-ui":"TagInput",onPointerDown:x,overflow:"auto",padding:1,ref:y,children:[p&&l.jsx(Hpn,{hidden:!!(d||a.length),padding:3,children:l.jsx(L,{textOverflow:"ellipsis",children:u})}),l.jsxs("div",{className:"content",children:[a.map((E,j)=>l.jsx(Upn,{children:l.jsx(Wpn,{enabled:p,index:j,muted:!p,onRemove:S,tag:E})},"tag-".concat(j))),l.jsx("div",{children:l.jsx(Vpn,{...c,disabled:!p,onBlur:b,onChange:w,onFocus:C,onKeyDown:_,ref:g,type:"text",value:d})},"tag-input")]})]})});T3e.displayName="TagInput";function Wpn(e){const{enabled:t,index:n,muted:r,onRemove:o,tag:i}=e,s=h.useCallback(()=>{o(n)},[n,o]);return l.jsx(ee,{"data-ui":"Tag",padding:1,radius:2,tone:"transparent",children:l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,padding:1,children:l.jsx(L,{muted:r,textOverflow:"ellipsis",children:i.value})}),t&&l.jsx(M,{marginLeft:1,children:l.jsx(se,{icon:Ii,mode:"bleed",onClick:s,padding:1})})]})})}function Ypn(e){const{onChange:t,readOnly:n,value:r=[],elementProps:o,path:i,changed:s}=e,a=h.useMemo(()=>r==null?void 0:r.map(u=>({value:u})),[r]),c=h.useCallback(u=>{t(u.length===0?nt():vt(u.map(d=>d.value)))},[t]);return l.jsx(ci,{path:i,isChanged:s,hasFocus:!1,children:l.jsx(T3e,{onChange:c,readOnly:n,value:a,...o})})}const qpn={portal:!0,tone:"default"};function A3e(e){const{member:t,sortable:n,onRemove:r}=e,o=h.useId();return l.jsx(M,{paddingX:1,children:l.jsx(rD,{dragHandle:n,tone:"caution",menu:l.jsx(en,{button:l.jsx(se,{padding:2,mode:"bleed",icon:Ao}),id:"".concat(o,"-menuButton"),menu:l.jsx(Bt,{children:l.jsx(Ve,{text:"Remove",tone:"critical",icon:po,onClick:r})}),popover:qpn}),children:t.error.type==="INVALID_ITEM_TYPE"?l.jsx(v3e,{value:t.error.value}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})})}function Gpn(e){const{hoveringFiles:t,types:n,resolveUploader:r}=e,o=t.filter(a=>n.some(c=>r(c,a))),i=t.length-o.length,s=n.length>1;return l.jsx(l.Fragment,{children:o.length>0?l.jsxs(l.Fragment,{children:[l.jsxs(qt,{space:2,children:[l.jsx(L,{children:l.jsx(Ej,{})}),l.jsxs(L,{children:["Drop to upload"," ",s&&l.jsxs(l.Fragment,{children:[o.length," file",o.length>1?"s":""]})]})]}),i>0&&l.jsx(M,{marginTop:4,children:l.jsxs(qt,{space:2,children:[l.jsx(L,{muted:!0,size:1,children:l.jsx(Bf,{})}),l.jsxs(L,{muted:!0,size:1,children:[i," file",i>1?"s":""," can't be uploaded here"]})]})})]}):l.jsxs(qt,{space:2,children:[l.jsx(L,{children:l.jsx(Bf,{})}),l.jsxs(L,{children:["Can't upload ",t.length>1?"any of these files":"this file"," here"]})]})})}var zce=Object.freeze,Kpn=Object.defineProperty,Zpn=(e,t)=>zce(Kpn(e,"raw",{value:zce(t||e.slice())})),Vce;const Xpn=P(ss)(Vce||(Vce=Zpn([`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`])));var Hce=Object.freeze,Qpn=Object.defineProperty,Jpn=(e,t)=>Hce(Qpn(e,"raw",{value:Hce(t||e.slice())})),Uce;const emn=P.div(Uce||(Uce=Jpn([`
  position: relative;
`])));function tmn(e,t,n){return e.map(r=>({type:r,uploader:t(r,n)})).filter(r=>r.uploader)}function nmn(e){const t=qPe(e);return ie.forwardRef(function(r,o){const{children:i,resolveUploader:s,onUpload:a,types:c,...u}=r,{push:d}=Wo(),f=ie.useCallback((y,x)=>{const{type:b,uploader:w}=x;a==null||a({file:y,schemaType:b,uploader:w})},[a]),p=ie.useCallback(y=>{if(!s)return;const x=y.map(C=>({file:C,uploaderCandidates:tmn(c,s,C)})),b=x.filter(C=>C.uploaderCandidates.length>0),w=x.filter(C=>C.uploaderCandidates.length===0);if(w.length>0){const C=w.length>1;d({closable:!0,status:"warning",title:"The following item".concat(C?"s":""," can't be uploaded because there's no known conversion from content type").concat(C?"s":""," to array item:"),description:w.map((_,S)=>l.jsxs(U,{padding:2,children:[l.jsx(M,{marginLeft:1,children:l.jsx(L,{weight:"semibold",children:_.file.name})}),l.jsx(M,{paddingLeft:2,children:l.jsxs(L,{size:1,children:["(",_.file.type,")"]})})]},S))})}b.forEach(C=>{f(C.file,Bm(C.uploaderCandidates,_=>_.uploader.priority)[0])})},[d,s,c,f]),[m,v]=ie.useState([]),g=ie.useCallback(()=>v([]),[]);return l.jsx(emn,{children:l.jsxs(t,{...u,ref:o,onFiles:p,onFilesOver:v,onFilesOut:g,children:[s&&m.length>0&&l.jsx(Xpn,{zOffset:10,children:l.jsx(Gpn,{hoveringFiles:m,types:c,resolveUploader:s})}),i]})})})}const bz=GPe(nmn(ee));function rmn(e,t,n){return omn(e,t,r=>r===n)}function omn(e,t,n){let r=t-1,o=t;const i=e.length;for(;r>-1||o<i;){const s=e[o];if(o<i&&n(s,o))return o;const a=e[r];if(r>-1&&n(a,r))return r;r--,o++}return-1}const imn={portal:!0,tone:"default"},smn=ie.forwardRef(function(t,n){const{sortable:r,value:o,insertableTypes:i,onInsert:s,onRemove:a,readOnly:c,inputId:u,validation:d,children:f,presence:p,schemaType:m}=t,v=d.filter(C=>C.level==="error").length>0,g=d.filter(C=>C.level==="warning").length>0,y=h.useCallback((C,_)=>{s({position:C,items:[sz(_)]})},[s]),x=h.useCallback(()=>{o&&s({position:"after",items:[o]})},[s,o]),b=h.useMemo(()=>{if(v)return"critical";if(g)return"caution"},[v,g]),w=l.jsx(en,{button:l.jsx(se,{padding:2,mode:"bleed",icon:Ao}),id:"".concat(u,"-menuButton"),popover:imn,menu:l.jsxs(Bt,{children:[l.jsx(Ve,{text:"Remove",tone:"critical",icon:po,onClick:a}),l.jsx(Ve,{text:"Duplicate",icon:Vu,onClick:x}),l.jsx(iD,{types:i,onInsert:y})]})});return l.jsx(rD,{tone:b,menu:!c&&w,dragHandle:!c&&r,presence:p.length===0?null:l.jsx(kC,{presence:p,maxAvatars:1}),validation:d.length>0?l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(m1,{validation:d})}):null,children:l.jsx(U,{align:m?"flex-end":"center",ref:n,children:l.jsx(U,{align:"flex-end",flex:1,children:l.jsx(M,{flex:1,marginRight:2,children:f})})})})});function amn(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=ie.useCallback(d=>{i(o(d))},[o,i]),c=ie.useCallback(()=>{a(t.of[0])},[t,a]),u=h.useMemo(()=>({constrainSize:!0,portal:!0}),[]);return n?l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:"This field is read-only"})}),children:l.jsx(Qt,{children:l.jsx(se,{icon:na,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):l.jsxs(Qt,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?l.jsx(se,{icon:na,mode:"ghost",onClick:c,text:"Add item"}):l.jsx(en,{button:l.jsx(se,{icon:na,mode:"ghost",text:"Add item…"}),id:s||"",menu:l.jsx(Bt,{children:t.of.map((d,f)=>{var p,m;const v=zu(d)&&(d.to||[]).length===1&&d.to[0].icon,g=d.icon||((p=d.type)==null?void 0:p.icon)||v;return l.jsx(Ve,{text:d.title||((m=d.type)==null?void 0:m.name),onClick:()=>a(d),icon:g},f)})}),popover:u}),r]})}class D3e extends ie.PureComponent{constructor(t){super(t),this._element=null,this.handleAppend=n=>{const{value:r=[],onIndexFocus:o,onItemAppend:i}=this.props;i(n),o(r.length)},this.handlePrepend=n=>{const{onIndexFocus:r,value:o=[],onItemPrepend:i}=this.props;i(n),r(o.length)},this.handleSortEnd=n=>{const{onIndexFocus:r,onMoveItem:o,value:i}=this.props;i&&o(n),r(n.toIndex)},this.handleItemMoveStart=()=>{this.setState({disableTransition:!1})},this.handleItemMoveEnd=()=>{this.setState({disableTransition:!0})},this.renderArrayItem=n=>{var r;const{schemaType:o}=this.props,i=((r=o.options)==null?void 0:r.sortable)!==!1;return l.jsx(smn,{...n,sortable:i,insertableTypes:o.of})},this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(t){var n;const{focusPath:r=[],value:o=[]}=t,{focusPath:i=[],value:s=[]}=this.props;if(r[0]===i[0]&&o.length!==s.length){const a=i[0],c=window.getSelection();if(!((c==null?void 0:c.focusNode)instanceof HTMLElement))return null;const u=(n=c.focusNode)==null?void 0:n.querySelector("input,textarea");return u instanceof HTMLInputElement?{prevFocusedIndex:a,restoreSelection:{text:c.toString(),start:u.selectionStart,end:u.selectionEnd,value:u.value}}:{}}return null}componentDidUpdate(t,n,r){var o;const{onIndexFocus:i}=this.props;if(r!=null&&r.restoreSelection&&t.value){const s=t.value[r.prevFocusedIndex],a=rmn(this.props.value||[],r.prevFocusedIndex,s);if(a===-1)return;const c=(o=this._element)==null?void 0:o.querySelector("[data-item-index='".concat(a,"'] input,textarea"));if(c instanceof HTMLInputElement){c.focus();try{c.setSelectionRange(r.restoreSelection.start,r.restoreSelection.end)}catch{}}i(a)}}render(){const{schemaType:t,members:n,readOnly:r,renderInput:o,onUpload:i,onItemRemove:s,resolveUploader:a,elementProps:c,arrayFunctions:u=amn,path:d,changed:f}=this.props,p=!r&&Hn(t,"options.sortable")!==!1,m=n.map(v=>({id:"".concat(v.key,"-").concat(v.kind==="item"?v.item.value:"error"),member:v}));return l.jsxs(oe,{space:3,"data-testid":"array-primitives-input",children:[l.jsx(bz,{types:t.of,resolveUploader:a,onUpload:i,...c,tabIndex:0,children:l.jsx(oe,{space:1,children:m.length===0?l.jsx(ee,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:t.placeholder||l.jsx(l.Fragment,{children:"No items"})})}):l.jsx(ee,{padding:1,border:!0,children:l.jsx(XN,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:m.map(v=>v.id),sortable:p,gap:1,children:m.map((v,g)=>{let{member:y,id:x}=v;return l.jsxs(QN,{id:x,sortable:p,disableTransition:this.state.disableTransition,children:[y.kind==="item"&&l.jsx(ci,{path:y.item.path,isChanged:f,hasFocus:!1,children:l.jsx(Van,{member:y,renderItem:this.renderArrayItem,renderInput:o})}),y.kind==="error"&&l.jsx(A3e,{sortable:p,member:y,onRemove:()=>s(g)})]},y.key)})})})})}),l.jsx(u,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:sz,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}var Wce=Object.freeze,lmn=Object.defineProperty,yD=(e,t)=>Wce(lmn(e,"raw",{value:Wce(t||e.slice())})),Yce,qce,Gce,Kce;const cmn=P(U)(Yce||(Yce=yD([`
  min-height: 35px;
`]))),umn=P(U)(qce||(qce=yD([`
  position: absolute;
  top: 0;
  right: 0;
  height: 35px;
`]))),lF=P(ee)(Gce||(Gce=yD([`
  position: absolute;
  top: 0;
  left: 0;
`]))),dmn=P(ee)(Kce||(Kce=yD([`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    `,` {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      `,` {
        opacity: 1;
      }
    }
  }

  .`,` & {
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])),lF,lF,ZN);function I3e(e){const{validation:t,selected:n,tone:r,presence:o,children:i,dragHandle:s,menu:a,footer:c,...u}=e;return l.jsxs(dmn,{forwardedAs:U,direction:"column",border:!0,selected:n,"aria-selected":n,radius:2,tone:r,...u,children:[i,s&&l.jsx(lF,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:l.jsx(QOe,{grid:!0,padding:2,mode:"ghost"})}),o&&l.jsx(umn,{align:"center",marginX:1,children:o}),l.jsxs(cmn,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[l.jsx(U,{children:t}),l.jsx(M,{children:c}),a]})]})}var Zce=Object.freeze,fmn=Object.defineProperty,hmn=(e,t)=>Zce(fmn(e,"raw",{value:Zce(t||e.slice())})),Xce;const pmn=P(ee)(Xce||(Xce=hmn([`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])));function mmn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const gmn={portal:!0,tone:"default"},vmn={position:"absolute",top:0,left:0,bottom:0,right:0};function ymn(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:c,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:y,onClose:x,changed:b,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=c.options)==null?void 0:t.sortable)!==!1,E=c.of,j=h.useRef(null);tD(j,m),zi(w,(Y,X)=>{var B;!Y&&X&&j.current&&((B=j.current)==null||B.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Zx()}],position:"after"})},[v,p]),A=h.useCallback((Y,X)=>{v({items:[v1(X)],position:Y})},[v]),D=u1(u,!0),I=h.useMemo(()=>D.length===0?null:l.jsx(kC,{presence:D,maxAvatars:1}),[D]),O=DN(u,!0),$=h.useMemo(()=>O.length===0?null:l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(m1,{validation:O,__unstable_showSummary:!0})}),[O]),R=O.some(Y=>Y.level==="error"),V=O.some(Y=>Y.level==="warning"),N=h.useMemo(()=>d?null:l.jsx(en,{button:l.jsx(se,{padding:2,mode:"bleed",icon:Ao}),id:"".concat(e.inputId,"-menuButton"),menu:l.jsxs(Bt,{children:[l.jsx(Ve,{text:"Remove",tone:"critical",icon:po,onClick:f}),l.jsx(Ve,{text:"Duplicate",icon:Vu,onClick:T}),l.jsx(iD,{types:E,onInsert:A})]}),popover:gmn}),[T,A,f,E,e.inputId,d]),W=mmn({readOnly:d,hasErrors:R,hasWarnings:V}),q=l.jsx(I3e,{menu:N,presence:I,validation:$,tone:W,radius:2,border:!0,focused:w,dragHandle:S,selected:m,children:l.jsxs(pmn,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:k,onClick:y,ref:j,onFocus:g,__unstable_focusRing:!0,children:[_({schemaType:a,value:p,layout:"media",withBorder:!1,withShadow:!1}),k&&l.jsx(ee,{as:U,style:vmn,children:l.jsxs(U,{align:"center",justify:"center",gap:1,padding:1,children:[l.jsx(M,{padding:3,children:l.jsx(ur,{muted:!0})}),l.jsx(L,{muted:!0,size:1,children:"Resolving initial value…"})]})})]})}),H=zp(a);return l.jsxs(l.Fragment,{children:[l.jsx(ci,{path:u,isChanged:b,hasFocus:!!w,children:q}),m&&l.jsx(EPe,{header:d?"View ".concat(H):"Edit ".concat(H),type:((r=(n=c==null?void 0:c.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}var Qce=Object.freeze,bmn=Object.defineProperty,xmn=(e,t)=>Qce(bmn(e,"raw",{value:Qce(t||e.slice())})),Jce;const wmn=P(ee)(Jce||(Jce=xmn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function Cmn(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ie.useState(!1),[a,c]=ie.useState(null);lr(()=>s(!1),[a]);const u=ie.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Is(t);return l.jsx(Jt,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(wmn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(oe,{space:4,children:[l.jsx(M,{children:l.jsx(L,{weight:"semibold",children:"Why is this happening?"})}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(bj,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(oe,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(ee,{padding:2,overflow:"auto",border:!0,children:l.jsx(ir,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(ee,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(oe,{space:4,marginTop:2,children:[l.jsx(M,{margin:1,children:l.jsx(L,{align:"center",size:4,children:l.jsx(Al,{})})}),l.jsxs(L,{align:"center",size:1,children:["Items of type ",l.jsx("code",{children:f})," is not valid for this list"]})]})})})}const _mn={portal:!0,tone:"default"};function Smn(e){const{member:t,sortable:n}=e,r=h.useId(),{onChange:o}=ga(),i=h.useCallback(()=>{o(ft.from([nt([{_key:t.key}])]))},[o,t.key]);return l.jsx(I3e,{dragHandle:n,tone:"caution",style:{height:"100%"},menu:l.jsx(en,{button:l.jsx(se,{padding:2,mode:"bleed",icon:Ao}),id:"".concat(r,"-menuButton"),menu:l.jsx(Bt,{children:l.jsx(Ve,{text:"Remove",tone:"critical",icon:po,onClick:i})}),popover:_mn}),children:t.error.type==="INVALID_ITEM_TYPE"?l.jsx(Cmn,{value:t.error.value,vertical:!0}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})}const Emn=[];function kmn(e){var t;const{arrayFunctions:n=jN,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:c,readOnly:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderPreview:g,resolveUploader:y,schemaType:x,value:b=Emn}=e,w=h.useCallback(j=>{s({items:[j],position:"before",referenceItem:0})},[s]),C=h.useCallback(j=>{s({items:[j],position:"after",referenceItem:-1})},[s]),_=((t=x.options)==null?void 0:t.sortable)!==!1,S=h.useCallback(j=>l.jsx(ymn,{...j}),[]),E=h.useMemo(()=>o.map(j=>j.key),[o]);return l.jsxs(oe,{space:3,children:[l.jsx(bz,{types:x.of,resolveUploader:y,onUpload:c,...r,tabIndex:0,children:l.jsxs(oe,{"data-ui":"ArrayInput__content",space:3,children:[(o==null?void 0:o.length)===0&&l.jsx(ee,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:x.placeholder||l.jsx(l.Fragment,{children:"No items"})})}),(o==null?void 0:o.length)>0&&l.jsx(ee,{border:!0,radius:1,children:l.jsx(XN,{columns:[2,3,4],gap:3,padding:1,margin:1,items:E,onItemMove:a,sortable:_,children:o.map(j=>l.jsxs(QN,{sortable:_,id:j.key,flex:1,children:[j.kind==="item"&&l.jsx(iz,{member:j,renderAnnotation:d,renderBlock:f,renderInlineBlock:m,renderItem:S,renderField:p,renderInput:v,renderPreview:g}),j.kind==="error"&&l.jsx(Smn,{sortable:_,member:j})]},j.key))})})]})}),l.jsx(n,{onChange:i,onItemAppend:C,onItemPrepend:w,onValueCreate:v1,readOnly:u,schemaType:x,value:b})]})}function jmn(e,t){const n=h.useRef(e),r=n.current,o=t(r,e);return h.useEffect(()=>{o||(n.current=e)}),o?r:e}const Tmn=[];function Amn(e){var t;const{arrayFunctions:n=jN,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:c,focusPath:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:y,renderPreview:x,resolveUploader:b,schemaType:w,value:C=Tmn}=e,[_,S]=h.useState(null),{space:E}=Rs().sanity,j=h.useCallback(K=>{s({items:[K],position:"before",referenceItem:0})},[s]),k=h.useCallback(K=>{s({items:[K],position:"after",referenceItem:-1})},[s]),T=jmn(h.useMemo(()=>o.map(K=>K.key),[o]),Ju),{scrollElement:A,containerElement:D}=Qan(),I=h.useRef(null),O=h.useMemo(()=>Pr(u[0])?u[0]._key:u[0],[u]),$=h.useCallback(K=>{const z={...K};if(_!==null&&(z.startIndex=Math.min(K.startIndex,_),z.endIndex=Math.max(K.endIndex,_)),O){const Z=T.findIndex(Q=>Q===O);Z!==-1&&(z.startIndex=Math.min(z.startIndex,Z),z.endIndex=Math.max(z.endIndex,Z))}return Q2e(z)},[_,O,T]),R=h.useCallback((K,z)=>{if(!K.scrollElement)return;const Z=K.scrollElement,Q=()=>{var ne,G,J,re;const fe=(G=(ne=D.current)==null?void 0:ne.getBoundingClientRect().top)!=null?G:0,le=(re=(J=I.current)==null?void 0:J.getBoundingClientRect().top)!=null?re:0,ge=Math.floor(le-fe);z(Z.scrollTop-ge)};return Q(),K.scrollElement.addEventListener("scroll",Q,{capture:!1,passive:!0}),()=>{Z.removeEventListener("scroll",Q)}},[D]),V=h.useCallback(()=>53,[]),N=tSe({count:o.length,estimateSize:V,getScrollElement:h.useCallback(()=>A,[A]),observeElementOffset:R,rangeExtractor:$,getItemKey:h.useCallback(K=>T[K],[T]),scrollToFn:(K,z,Z)=>{K!==Z.scrollOffset&&J2e(K,z,Z)}}),W=N.getVirtualItems(),q=h.useCallback(K=>{var z,Z;const{active:Q}=K;S((Z=(z=Q.data.current)==null?void 0:z.sortable)==null?void 0:Z.index)},[]),H=h.useCallback(()=>{S(null)},[]),Y=((t=w.options)==null?void 0:t.sortable)!==!1,X=1,B=1;return l.jsxs(oe,{space:3,ref:I,children:[l.jsx(bz,{types:w.of,resolveUploader:b,onUpload:c,...r,tabIndex:0,children:l.jsx(oe,{"data-ui":"ArrayInput__content",space:3,children:o.length===0?l.jsx(ee,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:w.placeholder||l.jsx(l.Fragment,{children:"No items"})})}):l.jsx(ee,{border:!0,radius:1,style:{height:"".concat(N.getTotalSize()+W.length*E[X]+E[B],"px"),width:"100%",position:"relative"},children:l.jsx(XN,{axis:"y",gap:X,paddingY:B,items:T,onItemMove:a,onItemMoveStart:q,onItemMoveEnd:H,sortable:Y,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(W[0].start,"px)")},children:W.map(K=>{const z=o[K.index];return l.jsxs(QN,{ref:N.measureElement,sortable:Y,"data-index":K.index,id:z.key,children:[z.kind==="item"&&l.jsx(iz,{member:z,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:y,renderPreview:x}),z.kind==="error"&&l.jsx(A3e,{sortable:Y,member:z,onRemove:()=>e.onItemRemove(z.key)})]},K.key)})})})})}),l.jsx(n,{onChange:i,onItemAppend:k,onItemPrepend:j,onValueCreate:v1,readOnly:d,schemaType:w,value:C})]})}function O3e(e){var t;return((t=e.schemaType.options)==null?void 0:t.layout)==="grid"?l.jsx(kmn,{...e}):l.jsx(Amn,{...e})}const Dmn=["string","number","boolean"];function Imn(e){return e.of.every(t=>Dmn.includes(t.jsonType))}function Omn(e){return e.of.length===1&&Ac("string",e.of[0])}function Pmn(e){var t;return((t=e.options)==null?void 0:t.layout)==="tags"}function Rmn(e){return e.of.some(t=>Ac("block",t))}function $mn(e){var t;return!!((t=e.options)!=null&&t.list)}function Mmn(e){return Omn(e)&&Pmn(e)?Ypn:$mn(e)?y3e:Imn(e)?D3e:Rmn(e)?Lpn:O3e}function Fmn(e){return t6(e)?e:{title:Vm("".concat(e)),value:e}}const eue={title:"",value:void 0};function P3e(e){var t,n;const{value:r,readOnly:o,validationError:i,schemaType:s,onChange:a,path:c,changed:u,focused:d,elementProps:f}=e,p=h.useMemo(()=>{var _;return(((_=s.options)==null?void 0:_.list)||[]).map(Fmn)},[(t=s.options)==null?void 0:t.list]),m=p.find(_=>_.value===r),v=s.options&&s.options.layout==="radio",g=h.useCallback(_=>{const S=Number(_);return p[S]},[p]),y=h.useCallback(_=>String(p.indexOf(_)),[p]),x=h.useId(),b=ie.useCallback(_=>{a(ft.from(typeof(_==null?void 0:_.value)>"u"?nt():vt(_.value)))},[a]),w=h.useCallback(_=>{const S=g(_.currentTarget.value);if(!S){b(eue);return}b(S)},[b,g]),C=v?l.jsx(Lmn,{...f,value:m,inputId:x,items:p,direction:((n=s.options)==null?void 0:n.direction)||"vertical",customValidity:i,onChange:b,readOnly:o}):l.jsx(Kf,{...f,customValidity:i,value:y(m),readOnly:o,onChange:w,children:[eue,...p].map((_,S)=>l.jsx("option",{value:S-1,children:_.title},"".concat(S-1)))});return l.jsx(ci,{path:c,isChanged:u,hasFocus:!!d,children:C})}const Lmn=h.forwardRef(function(t,n){const{items:r,value:o,onChange:i,onFocus:s,readOnly:a,customValidity:c,direction:u,inputId:d}=t,f=u==="horizontal"?qt:oe;return l.jsx(ee,{border:!0,padding:3,radius:1,children:l.jsx(f,{space:3,role:"group",children:r.map((p,m)=>l.jsx(Bmn,{customValidity:c,inputId:d,item:p,onChange:i,onFocus:s,readOnly:a,ref:m===0?n:null,value:o},m))})})}),Bmn=h.forwardRef(function(t,n){const{customValidity:r,inputId:o,item:i,onChange:s,onFocus:a,readOnly:c,value:u}=t,d=h.useCallback(()=>{s(i)},[i,s]);return l.jsxs(U,{as:"label",align:"center",children:[l.jsx(bet,{ref:n,checked:u===i,onChange:d,onFocus:a,readOnly:c,customValidity:r,name:o}),l.jsx(M,{marginLeft:2,children:l.jsx(L,{size:1,weight:"semibold",children:i.title})})]})});function R3e(e){const{validationError:t,elementProps:n}=e;return l.jsx($r,{...n,customValidity:t,"data-testid":"string-input"})}function Nmn(e){return kPe(e,"list")?P3e:R3e}const zmn=(e,t)=>{if(typeof e=="function")throw new Error('Schema type "'.concat((t==null?void 0:t.name)||"<not-found>","\"'s `validation` was not run though `inferFromSchema`"));return e?Array.isArray(e)?e:[e]:[]};function eE(e,t){for(const n of zmn(e==null?void 0:e.validation,e))for(const r of n._rules)if(r.flag===t)return r;return null}function $3e(e){const{schemaType:t,validationError:n,elementProps:r}=e,o=eE(t,"min"),i=eE(t,"integer"),s=eE(t,"precision"),a=typeof(o==null?void 0:o.constraint)=="number"&&(o==null?void 0:o.constraint)>=0,c=i||(s==null?void 0:s.constraint)===0,u=a?c?"numeric":"decimal":"text";return l.jsx($r,{...r,type:"number",step:"any",inputMode:u,customValidity:n,placeholder:t.placeholder,pattern:a?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}function Vmn(e){return kPe(e,"list")?P3e:$3e}var tue=Object.freeze,Hmn=Object.defineProperty,M3e=(e,t)=>tue(Hmn(e,"raw",{value:tue(t||e.slice())})),nue,rue;const Umn=P(M)(nue||(nue=M3e([`
  align-self: center;
`]))),Wmn=P(M)(rue||(rue=M3e([`
  line-height: 0;
`])));function Ymn(e){var t;const{id:n,value:r,schemaType:o,readOnly:i,elementProps:s,validation:a}=e,c=((t=o.options)==null?void 0:t.layout)||"switch",u=typeof r!="boolean",d=r||!1,f=c==="checkbox"?rT:qCe,p=i?"transparent":void 0;return l.jsx(ee,{border:!0,"data-testid":"boolean-input",radius:1,tone:p,children:l.jsxs(U,{children:[l.jsx(Wmn,{padding:3,children:l.jsx(f,{label:o.title,...s,checked:d,disabled:i,indeterminate:u,style:{margin:-4}})}),l.jsx(M,{flex:1,paddingY:3,children:l.jsx(KOe,{description:o.description,inputId:n,validation:a,title:o.title})}),l.jsx(Umn,{paddingX:3,paddingY:1,children:l.jsx(qin,{maxAvatars:1,position:"top"})})]})})}function qmn(e){const{validationError:t,elementProps:n}=e;return l.jsx($r,{...n,type:"email",inputMode:"email",customValidity:t})}function Gmn(e){const{fieldNames:t,onChange:n,readOnly:r,value:o}=e,i=t.length,s=h.useCallback(a=>{n(nt([a]))},[n]);return l.jsxs(Jc,{status:"warning",title:l.jsxs(l.Fragment,{children:[i===1&&l.jsx(l.Fragment,{children:"Unknown field found"}),i>1&&l.jsx(l.Fragment,{children:"Unknown fields found"})]}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:i===1?l.jsx(l.Fragment,{children:"Encountered a field that is not defined in the schema."}):l.jsxs(l.Fragment,{children:["Encountered ",i," fields that are not defined in the schema."]})}),l.jsxs(Xm,{marginTop:4,open:eu,title:l.jsx(l.Fragment,{children:"Developer info"}),children:[l.jsx(M,{marginBottom:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:i===1?l.jsx(l.Fragment,{children:"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet."}):l.jsx(l.Fragment,{children:"These fields are not defined in the document’s schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet."})})}),l.jsx(oe,{as:"ul",space:3,children:t.map(a=>l.jsx(Kmn,{fieldName:a,onUnsetClick:s,readOnly:r,value:o==null?void 0:o[a]},a))})]})]})}function Kmn(e){let{fieldName:t,onUnsetClick:n,readOnly:r,value:o}=e;const i=h.useCallback(()=>{n(t)},[t,n]);return l.jsx(ee,{as:"li",padding:3,radius:2,shadow:1,tone:"caution",children:l.jsxs(oe,{space:2,children:[l.jsxs(ee,{border:!0,radius:1,children:[l.jsx(ee,{borderBottom:!0,padding:3,children:l.jsx(ir,{weight:"medium",children:t})}),l.jsx(M,{overflow:"auto",padding:3,children:l.jsx(ir,{language:"json",children:JSON.stringify(o,null,2)})})]}),r&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["This field is ",l.jsx("strong",{children:"read only"})," according to the document’s schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the"," ",l.jsx("code",{children:"readOnly"})," field from the enclosing type in the schema."]}),!r&&l.jsx(se,{icon:po,onClick:i,tone:"critical",text:l.jsx(l.Fragment,{children:"Remove field"})})]})})}var oue=Object.freeze,Zmn=Object.defineProperty,Xmn=(e,t)=>oue(Zmn(e,"raw",{value:oue(t||e.slice())})),iue;const Qmn=P(ee)(iue||(iue=Xmn([`
  margin-bottom: `,`px;
  padding-bottom: `,`px;
`])),e=>{let{$level:t,theme:n}=e;return t===0?0:n.sanity.space[5]*-1},e=>{let{$level:t,theme:n}=e;return n.sanity.space[4]}),Jmn=h.forwardRef(function(t,n){const{onClick:r}=t,o=ie.useCallback(()=>{r==null||r(t.name)},[t.name,r]);return l.jsx(mx,{"data-testid":"group-tab-".concat(name),size:1,id:"".concat(t.name,"-tab"),label:t.title,ref:n,...t,onClick:o})}),egn=e=>{const{name:t,title:n,...r}=e,{selected:o}=e;return l.jsx("option",{title:n,value:t,id:"".concat(t,"-tab"),"aria-controls":r["aria-controls"],"data-testid":"group-select-".concat(t),"aria-selected":o?"true":"false",children:n||t})};var sue=Object.freeze,tgn=Object.defineProperty,ngn=(e,t)=>sue(tgn(e,"raw",{value:sue(t||e.slice())})),aue;const rgn=P(OJe)(aue||(aue=ngn([`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`]))),ogn=e=>{let{inputId:t,groups:n,onClick:r,shouldAutoFocus:o=!0,disabled:i}=e;return l.jsx(aT,{space:2,"data-testid":"field-group-tabs",children:n.map(s=>l.jsx(Jmn,{"aria-controls":"".concat(t,"-field-group-fields"),autoFocus:o&&s.selected,disabled:i||s.disabled,icon:s==null?void 0:s.icon,name:s.name,onClick:r,selected:!!s.selected,title:s.title||s.name},"".concat(t,"-").concat(s.name,"-tab")))})},ign=e=>{let{disabled:t,groups:n,inputId:r,onSelect:o,shouldAutoFocus:i=!0}=e;var s;const a=h.useCallback(c=>{o(c.currentTarget.value)},[o]);return l.jsx(Kf,{"aria-label":"Field groups",autoFocus:i,"data-testid":"field-group-select",disabled:t,fontSize:2,muted:!0,onChange:a,value:(s=n.find(c=>c.selected))==null?void 0:s.name,children:n.map(c=>l.jsx(egn,{"aria-controls":"".concat(r,"-field-group-fields"),disabled:c.disabled,name:c.name,selected:!!c.selected,title:c.title||c.name},"".concat(r,"-").concat(c.name,"-tab")))})},sgn=ie.memo(function(t){let{disabled:n=!1,onClick:r,...o}=t;const i=h.useCallback(s=>{r==null||r(s)},[r]);return l.jsxs(rgn,{"data-testid":"field-group-root",children:[l.jsx(ogn,{...o,disabled:n,onClick:i}),l.jsx(ign,{...o,disabled:n,onSelect:i})]})}),lue=h.memo(function(t){const{schemaType:n,groups:r,members:o,onChange:i,renderAnnotation:s,renderBlock:a,renderInlineBlock:c,renderInput:u,renderField:d,renderItem:f,renderPreview:p,level:m,value:v,id:g,onFieldGroupSelect:y}=t,{columns:x}=n.options||{},b=h.useMemo(()=>{if(!n.fields)return null;const C=n.fields.map(S=>S.name),_=Object.keys(v||{}).filter(S=>!S.startsWith("_")&&!C.includes(S));return _.length===0?null:l.jsx(Gmn,{fieldNames:_,value:v,onChange:i})},[i,n.fields,v]),w=h.useCallback(()=>l.jsx(Kan,{members:o,renderAnnotation:s,renderBlock:a,renderField:d,renderInlineBlock:c,renderInput:u,renderItem:f,renderPreview:p}),[o,s,a,d,c,u,f,p]);return o.length===0?null:l.jsxs(oe,{space:5,children:[r.length>0?l.jsx(Qmn,{$level:m,"data-testid":"field-groups",children:l.jsx(sgn,{groups:r,inputId:g,onClick:y,shouldAutoFocus:!1})}):null,x?l.jsx(Qt,{columns:x,gap:4,marginTop:1,children:w()}):w(),b]})});function agn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:o,onSelect:i,selected:s}=e,a=h.useCallback(()=>{i(t)},[t,i]);return l.jsx("div",{"aria-selected":s,"data-ui":"CalendarDay",children:l.jsx(ee,{"aria-label":t.toDateString(),"aria-pressed":s,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:a,padding:3,radius:2,selected:s,tone:o||s?"primary":"default",children:l.jsx(L,{muted:!s&&!r,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const lgn=["January","February","March","April","May","June","July","August","September","October","November","December"],cgn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ugn=bB(0,24),dgn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fgn=[1,2,3,4,5,6],hgn=e=>{const t=v5e(e);return g5e({start:t,end:b5e(t)})},pgn=e=>e.map(t=>[t,...fgn.map(n=>Ki(t,n))]),mgn=e=>pgn(hgn(e)).map(t=>({number:y5e(t[0]),days:t}));function ggn(e){return l.jsx(M,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:l.jsxs(Qt,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[cgn.map(t=>l.jsx(M,{paddingY:2,children:l.jsx(L,{size:1,weight:"medium",style:{textAlign:"center"},children:t})},t)),mgn(e.date).map((t,n)=>t.days.map((r,o)=>{const i=e.focused&&Xd(r,e.focused),s=e.selected&&Xd(r,e.selected),a=Xd(r,new Date),c=e.focused&&E5e(r,e.focused);return l.jsx(agn,{date:r,focused:i,isCurrentMonth:c,isToday:a,onSelect:e.onSelect,selected:s},"".concat(n,"-").concat(o))}))]})})}const cue={dayPresets:!1,timePresets:!1},F3e=ie.forwardRef(function(t,n){let{onChange:r,onBlur:o,onKeyPress:i,value:s,...a}=t;const[c,u]=ie.useState(),d=ie.useCallback(v=>{u(v.currentTarget.value)},[]),f=ie.useCallback(v=>{v.currentTarget.value!=="".concat(s)&&r&&r(v),u(void 0)},[r,s]),p=ie.useCallback(v=>{f(v),o&&o(v)},[f,o]),m=ie.useCallback(v=>{v.key==="Enter"&&f(v),i&&i(v)},[f,i]);return l.jsx($r,{...a,"data-testid":"date-input",ref:n,value:c===void 0?s:c,onChange:d,onBlur:p,onKeyPress:m})}),vgn=e=>{let{onChange:t,...n}=e;const r=ie.useCallback(o=>{const i=parseInt(o.currentTarget.value,10);isNaN(i)||t(i)},[t]);return l.jsx(F3e,{...n,onChange:r,inputMode:"numeric"})},ygn=l.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),bgn=h.forwardRef(function(t,n){const{selectTime:r,onFocusedDateChange:o,selectedDate:i=new Date,focusedDate:s=i,timeStep:a=1,onSelect:c,...u}=t,d=h.useCallback(S=>o(S),[o]),f=h.useCallback(S=>d(IDt(j5e(s,S),1)),[s,d]),p=h.useCallback(S=>f(Number(S.currentTarget.value)),[f]),m=h.useCallback(S=>d(e7(s,S)),[s,d]),v=h.useCallback(S=>d(ODt(s,S)),[s,d]),g=h.useCallback(S=>{c(ES(JO(S,i.getHours()),i.getMinutes()))},[c,i]),y=h.useCallback(S=>{const E=Number(S.currentTarget.value);c(ES(i,E))},[c,i]),x=h.useCallback(S=>{const E=Number(S.currentTarget.value);c(JO(i,E))},[c,i]);h.useCallback((S,E)=>{c(JO(ES(i,E),S))},[c,i]);const b=cr(n),w=h.useCallback(()=>{var S,E;(E=(S=b.current)==null?void 0:S.querySelector('[data-focused="true"]'))==null||E.focus()},[b]),C=h.useCallback(S=>{var E,j;if(dgn.includes(S.key)){if(S.preventDefault(),S.target.hasAttribute("data-calendar-grid")){w();return}S.key==="ArrowUp"&&o(Ki(s,-7)),S.key==="ArrowDown"&&o(Ki(s,7)),S.key==="ArrowLeft"&&o(Ki(s,-1)),S.key==="ArrowRight"&&o(Ki(s,1)),(j=(E=b.current)==null?void 0:E.querySelector("[data-preserve-focus]"))==null||j.focus()}},[b,w,o,s]);h.useEffect(()=>{w()},[w]),h.useEffect(()=>{var S;((S=document.activeElement)==null?void 0:S.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&w()},[b,w,s]),h.useCallback(()=>g(Ki(new Date,-1)),[g]),h.useCallback(()=>g(new Date),[g]),h.useCallback(()=>g(Ki(new Date,1)),[g]);const _=h.useCallback(()=>c(new Date),[c]);return l.jsxs(M,{"data-ui":"Calendar",...u,ref:b,children:[l.jsxs(M,{padding:2,children:[cue.dayPresets,l.jsxs(U,{children:[l.jsx(M,{flex:1,children:l.jsx(xgn,{moveFocusedDate:m,onChange:p,value:s==null?void 0:s.getMonth()})}),l.jsx(M,{marginLeft:2,children:l.jsx(wgn,{moveFocusedDate:m,onChange:v,value:s.getFullYear()})})]}),l.jsxs(M,{"data-calendar-grid":!0,onKeyDown:C,marginTop:2,overflow:"hidden",tabIndex:0,children:[l.jsx(ggn,{date:s,focused:s,onSelect:g,selected:i}),ygn]})]}),r&&l.jsxs(M,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[l.jsxs(U,{align:"center",children:[l.jsxs(U,{align:"center",flex:1,children:[l.jsx(M,{children:l.jsx(Kf,{"aria-label":"Select hour",value:i==null?void 0:i.getHours(),onChange:x,children:ugn.map(S=>l.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})}),l.jsx(M,{paddingX:1,children:l.jsx(L,{children:":"})}),l.jsx(M,{children:l.jsx(Kf,{"aria-label":"Select minutes",value:i==null?void 0:i.getMinutes(),onChange:y,children:bB(0,60,a).map(S=>l.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})})]}),l.jsx(M,{marginLeft:2,children:l.jsx(se,{text:"Set to current time",mode:"bleed",onClick:_})})]}),cue.timePresets]})]})});function xgn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-1),[t]),i=h.useCallback(()=>t(1),[t]);return l.jsxs(U,{flex:1,children:[l.jsx(se,{"aria-label":"Go to previous month",onClick:o,mode:"bleed",icon:wj,paddingX:2,radius:0}),l.jsx(M,{flex:1,children:l.jsx(Kf,{radius:0,value:r,onChange:n,children:lgn.map((s,a)=>l.jsx("option",{value:a,children:s},a))})}),l.jsx(se,{"aria-label":"Go to next month",mode:"bleed",icon:Uc,onClick:i,paddingX:2,radius:0})]})}function wgn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-12),[t]),i=h.useCallback(()=>t(12),[t]);return l.jsxs(U,{children:[l.jsx(se,{"aria-label":"Previous year",onClick:o,mode:"bleed",icon:wj,paddingX:2,radius:0}),l.jsx(vgn,{value:r,onChange:n,radius:0,style:{width:65}}),l.jsx(se,{"aria-label":"Next year",onClick:i,mode:"bleed",icon:Uc,paddingX:2,radius:0})]})}const Cgn=ie.forwardRef(function(t,n){const{value:r=new Date,onChange:o,...i}=t,[s,a]=ie.useState(),c=ie.useCallback(u=>{o(u),a(void 0)},[o]);return l.jsx(bgn,{...i,ref:n,selectedDate:r,onSelect:c,focusedDate:s||r,onFocusedDateChange:a})}),_gn=h.forwardRef(function(t,n){const{value:r,inputValue:o,onInputChange:i,onChange:s,selectTime:a,timeStep:c,...u}=t,[d,f]=h.useState(null),p=cr(n),m=h.useRef(null),[v,g]=h.useState(!1);lr(()=>g(!1),[d]);const y=h.useCallback(()=>{var C,_;(C=p.current)==null||C.focus(),(_=p.current)==null||_.select()},[p]),x=h.useCallback(C=>{C.key==="Escape"&&g(!1)},[]),b=h.useCallback(()=>g(!0),[]),w=l.jsx(M,{padding:1,children:l.jsx(se,{ref:m,icon:Fg,mode:"bleed",padding:2,onClick:b,style:{display:"block"},"data-testid":"select-date-button"})});return l.jsx(F3e,{ref:p,...u,value:o,onChange:i,suffix:v?l.jsx(Qu,{zOffset:1e3,children:l.jsx(Jt,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,content:l.jsx(M,{overflow:"auto",children:l.jsx(vh,{onDeactivation:y,children:l.jsx(Cgn,{selectTime:a,timeStep:c,onKeyUp:x,value:r,onChange:s})})}),open:!0,placement:"bottom",ref:f,radius:2,children:w})}):w})}),Sgn=new Date,L3e=ie.forwardRef(function(t,n){const{id:r,deserialize:o,formatInputValue:i,onChange:s,parseInputValue:a,placeholder:c,readOnly:u,selectTime:d,serialize:f,timeStep:p,value:m,...v}=t,[g,y]=ie.useState(null);h.useEffect(()=>{y(null)},[m]);const x=ie.useCallback(S=>{const E=S.currentTarget.value,j=E===""?null:a(E);j===null?(s(null),typeof m>"u"&&g&&y(null)):j.isValid?s(f(j.date)):y(E)},[a,s,m,g,f]),b=ie.useCallback(S=>{s(S?f(S):null)},[f,s]),w=cr(n),C=g?a(g):m?o(m):null,_=g||(C!=null&&C.isValid?i(C.date):m);return u?l.jsx($r,{value:_,readOnly:!0}):l.jsx(_gn,{...v,id:r,selectTime:d,timeStep:p,placeholder:c||"e.g. ".concat(i(Sgn)),ref:w,value:C==null?void 0:C.date,inputValue:_||"",readOnly:!!u,onInputChange:x,onChange:b,customValidity:C==null?void 0:C.error})});function Egn(e){return e instanceof Date&&!isNaN(e.valueOf())}const kgn="YYYY-MM-DD",jgn="HH:mm";function Tgn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||kgn,timeFormat:e.timeFormat||jgn,timeStep:"timeStep"in e&&Number(e.timeStep)||1,calendarTodayLabel:e.calendarTodayLabel||"Today"}}function cF(e){return e.toISOString()}function Agn(e){const t=new Date(e);return Egn(t)?{isValid:!0,date:t}:{isValid:!1,error:'Invalid date value: "'.concat(e,'"')}}function Dgn(e,t){if(!t||t===1)return e;const n=pDt(e),r=fAt(n),o=r%t;return cF(o!==0?ES(n,r-o):n)}function Ign(e){const{onChange:t,schemaType:n,value:r,elementProps:o}=e,{dateFormat:i,timeFormat:s,timeStep:a}=Tgn(n.options),c=h.useCallback(f=>{let p=f;p!==null&&a>1&&(p=Dgn(p,a)),t(p===null?nt():vt(p))},[t,a]),u=ie.useCallback(f=>gA(f,"".concat(i," ").concat(s)),[i,s]),d=ie.useCallback(f=>M7(f,"".concat(i," ").concat(s)),[i,s]);return l.jsx(L3e,{...o,onChange:c,deserialize:Agn,formatInputValue:u,parseInputValue:d,placeholder:n.placeholder,selectTime:!0,serialize:cF,timeStep:a,value:r})}const xz="YYYY-MM-DD",Ogn=xz;function Pgn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||Ogn,calendarTodayLabel:e.calendarTodayLabel||"Today"}}const Rgn=e=>M7(e,xz),$gn=e=>gA(e,xz);function Mgn(e){const{readOnly:t,onChange:n,schemaType:r,elementProps:o,value:i}=e,{dateFormat:s}=Pgn(r.options),a=h.useCallback(d=>{n(d===null?nt():vt(d))},[n]),c=h.useCallback(d=>gA(d,s),[s]),u=h.useCallback(d=>M7(d,s),[s]);return l.jsx(L3e,{...o,deserialize:Rgn,formatInputValue:c,onChange:a,parseInputValue:u,placeholder:r.placeholder,readOnly:t,selectTime:!1,serialize:$gn,value:i})}var uue=Object.freeze,Fgn=Object.defineProperty,Lgn=(e,t)=>uue(Fgn(e,"raw",{value:uue(t||e.slice())})),due;const Bgn=P(GCe)(due||(due=Lgn([`
  &[data-as='textarea'] {
    resize: vertical;
  }
`])));function Ngn(e){const{schemaType:t,validationError:n,value:r,elementProps:o}=e;return l.jsx(Bgn,{customValidity:n,value:r||"",placeholder:t.placeholder,rows:typeof t.rows=="number"?t.rows:10,...o})}function zgn(e){var t,n;const{schemaType:r,validationError:o,elementProps:i}=e,s=eE(r,"uri"),a=(n=(t=s==null?void 0:s.constraint)==null?void 0:t.options)!=null&&n.allowRelative?"text":"url";return l.jsx($r,{type:a,inputMode:"url",customValidity:o,...i})}const Vgn=(e,t)=>{var n;const r=(n=t.options)==null?void 0:n.maxLength;return e?UAe(e,{truncate:typeof r=="number"?r:200,symbols:!0}):""};async function Hgn(e,t,n){var r;return e&&(((r=t.options)==null?void 0:r.slugify)||Vgn)(e,t,n)}function Ugn(e,t){const[n,r]=ie.useState(null),o=ie.useRef(0),i=ie.useCallback(s=>{const a=++o.current;r({status:"pending"}),Promise.resolve().then(()=>e(s)).then(c=>{a===o.current&&r({status:"complete",result:c})},c=>{a===o.current&&r({status:"error",error:c})})},[e,...t]);return[n,i]}function Wgn(){const{getClient:e}=$n(),t=_n(),n=Yo(),r=XRe(),o=KRe();return h.useMemo(()=>({projectId:r,dataset:o,getClient:e,schema:t,currentUser:n}),[e,t,n,r,o])}function Ygn(e,t,n){const r=e.slice(0,-1),o=Cm(t,r);return{parentPath:r,parent:o,...n}}async function qgn(e,t,n){return typeof e=="function"?e(t,n):Cm(t,e)}function Ggn(e){var t;const{getDocument:n}=ui().__internal,{path:r,value:o,schemaType:i,validation:s,onChange:a,readOnly:c,elementProps:u}=e,d=(t=i.options)==null?void 0:t.source,f=h.useMemo(()=>s.filter(b=>b.level==="error"),[s]),p=Wgn(),m=h.useCallback(b=>{if(!b){a(ft.from(nt([])));return}a(ft.from([es({_type:i.name}),vt(b,["current"])]))},[a,i.name]),[v,g]=Ugn(()=>{if(!d)return Promise.reject(new Error('Source is missing. Check source on type "'.concat(i.name,'" in schema')));const b=n()||{_type:i.name},w=Ygn(r,b,p);return qgn(d,b,w).then(C=>Hgn(C||"",i,w)).then(C=>m(C))},[d,n,i,r,p,m]),y=(v==null?void 0:v.status)==="pending",x=ie.useCallback(b=>m(b.currentTarget.value),[m]);return l.jsx(oe,{space:3,children:l.jsxs(U,{children:[l.jsxs(M,{flex:1,children:[l.jsx($r,{customValidity:f.length>0?f[0].message:"",disabled:y,onChange:x,value:(o==null?void 0:o.current)||"",readOnly:c,...u}),(v==null?void 0:v.status)==="error"&&l.jsx(ee,{padding:2,tone:"critical",children:v.error.message})]}),d&&l.jsx(M,{marginLeft:1,children:l.jsx(se,{mode:"ghost",type:"button",disabled:c||y,onClick:g,text:(v==null?void 0:v.status)==="pending"?"Generating…":"Generate"})})]})})}function Kgn(e){return h.useMemo(()=>{var n;return Array.isArray((n=e.schemaType.options)==null?void 0:n.list)},[e.schemaType])?l.jsx(y3e,{...e}):Hfn(e)?l.jsx(D3e,{...e}):l.jsx(O3e,{...e})}const fue={document:lue,object:lue,array:Kgn,boolean:Ymn,number:$3e,text:Ngn,email:qmn,datetime:Ign,date:Mgn,url:zgn,image:Hdn,file:Run,string:R3e,slug:Ggn,crossDatasetReference:pfn};function Zgn(e){if(Ac("array",e))return Mmn(e);if(Ac("reference",e))return zfn;if(Ac("string",e))return Nmn(e);if(Ac("number",e))return Vmn(e)}function Xgn(e){var t;if((t=e.components)!=null&&t.input)return e.components.input;const n=Zgn(e);if(n)return n;const o=az(e,new Set).reduce((s,a)=>(s[a.name]=a,s),{}),i=Object.values(o).find(s=>fue[s.name]);if(i)return fue[i.name];throw new Error("Could not find input component for schema type `".concat(e.name,"`"))}function Qgn(e){var t;return(t=e.components)!=null&&t.preview?e.components.preview:kh}function Qm(e){const{componentResolver:t,componentProps:n}=e;if(!n.schemaType)throw new Error("the `schemaType` property must be defined");const r=t(n.schemaType),o=h.useCallback(i=>{var s;if(!((s=i.schemaType)!=null&&s.type))throw new Error("Attempted to render form component of non-existent parent type");const{components:a,...c}=i.schemaType,u=t(c);return h.createElement(u,i)},[t]);return h.createElement(r,{...n,renderDefault:o})}function Jgn(e){return Qm({componentProps:e,componentResolver:Xgn})}function evn(e){return Qm({componentProps:e,componentResolver:yln})}function tvn(e){return Qm({componentProps:e,componentResolver:iln})}function nvn(e){return Qm({componentProps:e,componentResolver:Qgn})}function rvn(e){return Qm({componentProps:e,componentResolver:Fcn})}function ovn(e){return Qm({componentProps:e,componentResolver:Lcn})}function ivn(e){return Qm({componentProps:e,componentResolver:Bcn})}function svn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.input}function avn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.field}function lvn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.preview}function cvn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.item}function uvn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.block}function dvn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.inlineBlock}function fvn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.annotation}function hvn(){return Jl({defaultComponent:Jgn,pick:svn})}function pvn(){return Jl({defaultComponent:evn,pick:avn})}function B3e(){return Jl({defaultComponent:nvn,pick:lvn})}function mvn(){return Jl({defaultComponent:tvn,pick:cvn})}function gvn(){return Jl({defaultComponent:rvn,pick:uvn})}function vvn(){return Jl({defaultComponent:ovn,pick:dvn})}function yvn(){return Jl({defaultComponent:ivn,pick:fvn})}function DC(e){const t=B3e();return l.jsx(HIe,{...e,component:t})}const bvn=e=>{let{asset:t,assetType:n,referringDocuments:r}=e;const o=r.length,i=o>0,s=t.originalFilename?l.jsx("strong",{children:t.originalFilename}):"this ".concat(n);return i?l.jsxs(l.Fragment,{children:[l.jsx(ee,{borderBottom:!0,marginTop:2,paddingBottom:2,marginBottom:1,children:l.jsxs(L,{as:"h2",size:[1,1,2,2],weight:"regular",textOverflow:"ellipsis",children:[o," ",o===1?"document is":"documents are"," using ",s]})}),r.map(a=>l.jsx(xvn,{document:a},a._id))]}):l.jsxs(L,{size:[1,1,2,2],as:"h2",weight:"regular",children:["No documents are using ",s]})},xvn=e=>{let{document:t}=e;const n=_n(),r=h.useCallback(o=>l.jsx(Nm,{...o,params:{id:t._id,type:t._type},intent:"edit"}),[t]);return l.jsx(ee,{as:r,paddingY:2,paddingX:1,radius:2,"data-as":"a",tabIndex:0,children:l.jsx(U,{align:"center",gap:2,children:l.jsx(DC,{layout:"default",value:{_type:"reference",_ref:t._id},schemaType:n.get(t._type)})})},t._id)},hue={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},pue={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},mue={height:"100%"},wvn=e=>{let{asset:t,assetType:n,hasResults:r=!1}=e;const o=n==="image",i=t.originalFilename?l.jsxs(l.Fragment,{children:["The ",n," ",l.jsx("strong",{children:t.originalFilename})]}):"this ".concat(n);return r?l.jsx(ee,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:l.jsxs(Qt,{columns:3,gap:[2,3,4],children:[l.jsxs(U,{gap:[3,4],align:"center",style:{gridColumn:o?"span 2":"span 3"},children:[l.jsx(L,{children:l.jsx(Mr,{})}),l.jsxs(L,{size:1,children:[i," cannot be deleted because it's being used. In order to delete the ",n," you need the remove all uses of it."]})]}),o&&l.jsx(ee,{__unstable_checkered:!0,border:!0,radius:1,style:pue,children:l.jsx(U,{align:"center",justify:"center",style:mue,children:l.jsx("img",{src:"".concat(t.url,"?w=200"),style:hue,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):l.jsx(ee,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:l.jsxs(Qt,{columns:3,gap:3,children:[l.jsx(U,{style:{gridColumn:o?"span 2":"span 3"},align:"center",children:l.jsxs(L,{children:["You are about to delete the ",n,t.originalFilename&&l.jsxs(l.Fragment,{children:[" ",l.jsx("strong",{children:t.originalFilename})]})," ","and its metadata.",l.jsx("br",{}),l.jsx("br",{}),"Are you sure?"]})}),o&&l.jsx(ee,{__unstable_checkered:!0,border:!0,radius:1,style:pue,children:l.jsx(U,{align:"center",justify:"center",style:mue,children:l.jsx("img",{src:"".concat(t.url,"?w=200"),style:hue,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})})},v3="confirmDelete",y3="listUsage";function uF(e){let{asset:t,assetType:n="image",mode:r=y3,isDeleting:o=!1,onClose:i,onDelete:s}=e;const{isLoading:a,referringDocuments:c}=eJt(t._id),d=r===y3?"Documents using ".concat(n):"Delete ".concat(n),[f,p]=h.useState(!1),[m,v]=h.useState(!0),[g,y]=h.useState([]),x=r===v3,b=g.length>0,w=r===y3||b,C=r===v3&&!b,_=x?l.jsxs(Qt,{padding:2,gap:2,columns:2,children:[l.jsx(se,{mode:"bleed",text:"Cancel",onClick:i}),l.jsx(se,{text:"Delete",tone:"critical",icon:po,onClick:s,loading:o,disabled:!f})]}):void 0;return h.useEffect(()=>{const S=c.reduce((j,k)=>k._id.startsWith("drafts.")?j.concat(k._id.slice(7)):j,[]),E=c.filter(j=>!S.includes(j._id));y(E),p(E.length===0&&!a),v(a)},[a,c]),l.jsxs(Li,{__unstable_autoFocus:!m,footer:_,header:d,id:"asset-dialog",onClickOutside:i,onClose:i,width:1,children:[m&&l.jsx(M,{padding:4,children:l.jsx(JQt,{text:"Loading..."})}),!m&&l.jsxs(oe,{paddingX:C?0:[2,3,4],paddingY:C?0:[3,3,3,4],space:1,children:[r===v3&&l.jsx(wvn,{asset:t,assetType:n,hasResults:b}),w&&l.jsx(bvn,{asset:t,referringDocuments:g,assetType:n})]})]})}function N3e(e){let{isSelected:t,border:n=!0,onAction:r}=e;const o=t?"default":"bleed",i=t?"primary":"default";return l.jsx(en,{button:l.jsx(se,{padding:2,mode:n?"ghost":o,icon:Ao,tone:n?"default":i}),id:"asset-menu",portal:!0,menu:l.jsxs(Bt,{children:[l.jsx(Ve,{text:"Show uses",icon:zf,onClick:()=>{r({type:"showUsage"})}}),l.jsx(Ve,{text:"Delete",icon:po,tone:"critical",onClick:()=>{r({type:"delete"})}})]}),placement:"right"})}var gue=Object.freeze,Cvn=Object.defineProperty,bD=(e,t)=>gue(Cvn(e,"raw",{value:gue(t||e.slice())})),vue,yue,bue,xue;const _vn=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),Svn=P.img(vue||(vue=bD([`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),Evn=P(ee)(yue||(yue=bD([`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`]))),dF=P.div(bue||(bue=bD([`
  position: relative;
  display: inherit;
`]))),kvn=P.div(xue||(xue=bD([`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    `,`:hover & {
      button {
        opacity: 1;
      }
    }

    `,`:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`])),dF,dF),jvn=ie.memo(function(t){const n=fr(sn),r=Wo(),o=h.useRef(),{asset:i,onClick:s,onKeyPress:a,onDeleteFinished:c,isSelected:u}=t,[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!1);h.useEffect(()=>()=>{o.current&&o.current.unsubscribe()},[]);const y=h.useCallback(()=>{m(!0)},[m]),x=h.useCallback(()=>{f(!1),m(!1)},[f,m]),b=h.useCallback(()=>{f(!0)},[f]),w=h.useCallback(D=>{r.push({closable:!0,status:"error",title:"Image could not be deleted",description:D.message})},[r]),C=h.useCallback(()=>{r.push({status:"success",title:"Image was deleted"})},[r]),_=h.useCallback(()=>{g(!0),o.current=n.observable.delete(i._id).subscribe({next:()=>{g(!1),c(i._id),m(!1),C()},error:D=>{g(!1),w(D),console.error("Could not delete asset",D)}})},[i._id,w,C,c,n.observable]),S=h.useCallback(D=>{D.type==="delete"&&y(),D.type==="showUsage"&&b()},[y,b]),{originalFilename:E,_id:j,url:k}=i,T=200*Math.max(1,_vn),A=k.includes(".gif")?"".concat(k,"?h=").concat(T,"&fit=max&fm=jpg"):"".concat(k,"?h=").concat(T,"&fit=max");return l.jsxs(dF,{children:[l.jsx(se,{tone:"primary",selected:u,tabIndex:0,"data-id":j,mode:"ghost",onKeyPress:a,padding:0,style:{padding:2},children:l.jsxs(Evn,{__unstable_checkered:!0,children:[l.jsx(Svn,{alt:E,src:A,onClick:s,"data-id":j}),v&&l.jsx(QQt,{})]})}),l.jsx(kvn,{children:l.jsx(N3e,{isSelected:u,onAction:S})}),(d||p)&&l.jsx(uF,{asset:i,mode:p?"confirmDelete":"listUsage",onClose:x,onDelete:_,isDeleting:v})]})}),Tvn=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Avn=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],Dvn=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Ivn=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],wue=(e,t,n)=>{let r=e;return typeof t=="string"||Array.isArray(t)?r=e.toLocaleString(t,n):(t===!0||n!==void 0)&&(r=e.toLocaleString(void 0,n)),r};function Ovn(e){let{bits:t=!1,binary:n=!1,signed:r=!1,minimumFractionDigits:o,maximumFractionDigits:i,locale:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e;if(!Number.isFinite(a))throw new TypeError("Expected a finite number, got ".concat(typeof a,": ").concat(a));const c=t?n?Ivn:Dvn:n?Avn:Tvn;if(r&&a===0)return" 0 ".concat(c[0]);const u=a<0,d=u?"-":r?"+":"";u&&(a=-a);let f;if(o!==void 0&&(f={minimumFractionDigits:o}),i!==void 0&&(f={maximumFractionDigits:i,...f}),a<1){const g=wue(a,s,f);return"".concat(d+g," ").concat(c[0])}const p=Math.min(Math.floor(n?Math.log(a)/Math.log(1024):Math.log10(a)/3),c.length-1);a/=(n?1024:1e3)**p,f||(a=a.toPrecision(3));const m=wue(Number(a),s,f),v=c[p];return"".concat(d+m," ").concat(v)}const b3={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function Pvn(e){const t=e.replace("x-","").split("/")[1];return t.charAt(0).toUpperCase()+t.slice(1)}function Rvn(e){return b3!=null&&b3[e]?b3[e].title:Pvn(e)}var Cue=Object.freeze,$vn=Object.defineProperty,Nu=(e,t)=>Cue($vn(e,"raw",{value:Cue(t||e.slice())})),_ue,Sue,Eue,kue,jue,Tue,Aue,Due,Iue;const fF=P.span(_ue||(_ue=Nu([`
  background-color: transparent;
  flex-shrink: 0;
`]))),Pg=P(U)(Sue||(Sue=Nu([""]))),Mvn=P(L)(Eue||(Eue=Nu([""]))),Fvn=P(ee)(jue||(jue=Nu([`
  &:hover-within `,` {
    --card-muted-fg-color: var(--card-muted-fg-color);
    --card-fg-color: var(--card-fg-color);
  }

  `,`
`])),Mvn,e=>e.isSelected&&he(kue||(kue=Nu([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `])))),Oue=P(se)(Due||(Due=Nu([`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: 0.1875rem;
  }

  `,`

  `,`
`])),e=>e.isSelected&&he(Tue||(Tue=Nu([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `])),fF,Pg),e=>!e.isSelected&&he(Aue||(Aue=Nu([`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `])))),Lvn=P(L)(Iue||(Iue=Nu([`
  overflow-wrap: anywhere;
`]))),Pue={position:"relative"},Rue={flexShrink:0},x3={minWidth:0},$ue={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},Bvn="Cannot delete current file",Nvn=e=>{const t=fr(sn),n=Wo(),r=h.useRef(),[o,i]=h.useState(!1),[s,a]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),{asset:p,onClick:m,onKeyPress:v,onDeleteFinished:g,isSelected:y,isMobile:x}=e,{originalFilename:b,_id:w,mimeType:C,size:_,_createdAt:S}=p,E=Qo(S,{agoSuffix:!0}),j=Rvn(C),k=Ovn(_),T=(b||"").length>37,A=()=>{a(!0)},D=W=>{n.push({closable:!0,status:"error",title:"File could not be deleted",description:W.message})},I=()=>{n.push({status:"success",title:"File was deleted"})},O=()=>{u(!0),r.current=t.observable.delete(p._id).subscribe({next:()=>{u(!1),g==null||g(p._id),a(!1),I()},error:W=>{u(!1),D(W),console.error("Could not delete asset",W)}})},$=()=>{i(!1),a(!1)},R=()=>{i(!0)},V=()=>{f(!d)},N=W=>{W.type==="delete"&&A(),W.type==="showUsage"&&R()};return x?l.jsxs(ee,{paddingBottom:2,style:Pue,children:[l.jsxs(Qt,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:c?.5:1},children:[l.jsx(Oue,{asset:p,mode:"bleed",padding:0,"data-id":w,onClick:m,paddingY:1,children:l.jsxs(U,{gap:2,flex:2,align:"center",children:[l.jsx(ee,{as:fF,padding:2,tone:"transparent",radius:2,children:l.jsx(L,{muted:!0,size:2,style:Rue,children:l.jsx(Nf,{})})}),l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:x3,children:b})]})}),l.jsx(U,{justify:"flex-end",align:"center",paddingRight:1,style:$ue,children:l.jsx(se,{mode:"bleed",fontSize:1,padding:2,onClick:V,icon:d?k1e:tl})})]}),d&&l.jsxs(l.Fragment,{children:[l.jsxs(Qt,{marginTop:3,columns:3,gap:1,children:[l.jsxs(oe,{space:2,children:[l.jsx(Vt,{size:1,muted:!0,children:"Size"}),l.jsx(L,{size:1,muted:!0,children:k})]}),l.jsxs(oe,{space:2,children:[l.jsx(Vt,{size:1,muted:!0,children:"Type"}),l.jsx(L,{size:1,muted:!0,children:j})]}),l.jsxs(oe,{space:2,children:[l.jsx(Vt,{size:1,muted:!0,children:"Date added"}),l.jsx(L,{size:1,muted:!0,children:E})]})]}),l.jsxs(oe,{space:2,marginTop:3,children:[l.jsx(se,{fontSize:1,tone:"default",mode:"ghost",text:"Show uses",onClick:R,icon:zf}),l.jsx(se,{fontSize:1,tone:"critical",mode:"ghost",text:"Delete",icon:po,disabled:y,title:y?Bvn:"Delete file",onClick:A})]})]}),(o||s)&&l.jsx(uF,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:$,onDelete:O,isDeleting:c})]}):l.jsxs(Fvn,{asset:p,paddingBottom:1,style:Pue,radius:0,overflow:"hidden",isSelected:y,"aria-selected":"true",children:[l.jsxs(Qt,{columns:4,gap:1,"data-id":w,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:c?.5:1},children:[l.jsx(Oue,{asset:p,mode:"bleed","data-id":w,onClick:m,padding:0,onKeyPress:v,title:"Select the file ".concat(b),isSelected:y,children:l.jsxs(Pg,{gap:2,flex:2,paddingRight:1,align:"center",onClick:m,onKeyPress:v,"data-id":w,title:"Select the file ".concat(b),children:[l.jsx(ee,{as:fF,padding:2,tone:"transparent",radius:2,style:Rue,children:l.jsx(L,{muted:!0,size:2,children:l.jsx(Nf,{})})}),T&&l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:b})}),fallbackPlacements:["right","left"],placement:"top",portal:!0,children:l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:x3,children:b})}),!T&&l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:x3,children:b})]})}),l.jsx(Pg,{align:"center",children:l.jsx(L,{size:1,muted:!0,children:k})}),l.jsx(Pg,{align:"center",children:l.jsx(M,{children:l.jsx(Lvn,{size:1,muted:!0,textOverflow:"ellipsis",children:j})})}),l.jsx(Pg,{align:"center",children:l.jsx(L,{as:"time",size:1,muted:!0,dateTime:S,children:E})}),l.jsx(Pg,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:$ue,children:l.jsx(N3e,{border:!1,isSelected:!1,onAction:N})})]}),(o||s)&&l.jsx(uF,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:$,onDelete:O,isDeleting:c})]})},zvn={paddingLeft:"2.2rem"},Mue={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function Vvn(e){const n=Om()<2,{assets:r,onClick:o,onKeyPress:i,onDeleteFinished:s,selectedAssets:a,isLoading:c}=e;return l.jsxs(M,{padding:4,children:[l.jsx(ee,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:n?l.jsx(Qt,{style:Mue,children:l.jsx(M,{flex:2,paddingLeft:5,children:l.jsx(Vt,{muted:!0,size:1,children:"Filename"})})}):l.jsxs(Qt,{gap:1,style:Mue,children:[l.jsx(M,{flex:2,style:zvn,children:l.jsx(Vt,{muted:!0,size:1,children:"Filename"})}),l.jsx(M,{flex:1,children:l.jsx(Vt,{muted:!0,size:1,children:"Size"})}),l.jsx(M,{flex:1,children:l.jsx(Vt,{muted:!0,size:1,children:"Type"})}),l.jsx(M,{flex:1,children:l.jsx(Vt,{muted:!0,size:1,children:"Date added"})})]})}),l.jsxs(oe,{children:[c&&r.length===0&&l.jsx(M,{paddingTop:4,paddingBottom:2,children:l.jsx(U,{justify:"center",children:l.jsx(ur,{muted:!0})})}),r.map(u=>l.jsx(Nvn,{asset:u,isMobile:n,isSelected:a.some(d=>d._id===u._id),onClick:o,onKeyPress:i,onDeleteFinished:s},u._id))]})]})}var Fue=Object.freeze,Hvn=Object.defineProperty,z3e=(e,t)=>Fue(Hvn(e,"raw",{value:Fue(t||e.slice())})),Lue,Bue;const tE=200,V3e="sanity.imageAsset",Uvn="sanity.fileAsset",Wvn=e=>{const t=["image/*","audio/*","video/*"],r=e.split(",").map(o=>o.trim()).reduce((o,i)=>t.includes(i)?{...o,wildcards:"mimeType match '".concat(i,"' || ").concat(o.wildcards)}:i.indexOf(".")===0?{...o,extensions:"'".concat(i.replace(".",""),"', ").concat(o.extensions)}:{...o,mimes:"'".concat(i,"', ").concat(o.mimes)},{mimes:"",extensions:"",wildcards:""});return`&&
  (
    `.concat(r.wildcards,` 
    extension in [`).concat(r.extensions,`] ||
    mimeType in [`).concat(r.mimes,`]
  )`)},Yvn=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tE,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V3e,r=arguments.length>3?arguments[3]:void 0;const i=r.length>0?Wvn(r):"";return`
  *[_type == "`.concat(n,'" ').concat(i,"] | order(_updatedAt desc) [").concat(e,"...").concat(t,`] {
    _id,
    _updatedAt,
    _createdAt,
    url,
    originalFilename,
    mimeType,
    extension,
    size,
    metadata {dimensions}
  }
`)},qvn=P(Qt)(Lue||(Lue=z3e([`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`]))),Gvn=P(ee)(Bue||(Bue=z3e([`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`]))),Kvn=function(t,n){const r=fr(sn),o=h.useMemo(()=>r.withConfig({apiVersion:"2023-02-14"}),[r]),i=h.useRef("default-asset-source-".concat(p5e())),s=h.useRef(0),a=h.useRef(),[c,u]=h.useState([]),[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!0),{selectedAssets:y,assetType:x="image",dialogHeaderTitle:b="Select image",onClose:w,onSelect:C,accept:_}=t,S=_?_.split(",").map(N=>N.trim()).join(", "):"",E=!v&&_&&_.length>0,j=_&&_==="image/*"&&x==="image",k=h.useCallback(N=>{const W=N*tE,q=W+tE,H=x==="image",Y=H?"asset.image-list":"asset.file-list",X=H?V3e:Uvn;g(!0),typeof _<"u"&&(a.current=o.observable.fetch(Yvn(W,q,X,_),{},{tag:Y}).subscribe(B=>{f(B.length<tE),u(K=>K.concat(B)),g(!1)}))},[x,_,o]),T=h.useCallback(N=>{u(W=>W.filter(q=>q._id!==N))},[u]),A=h.useCallback(N=>{c.find(q=>q._id===N)&&C([{kind:"assetDocumentId",value:N}])},[c,C]),D=h.useCallback(N=>{N.preventDefault(),A(N.currentTarget.getAttribute("data-id"))},[A]),I=h.useCallback(N=>{N.key==="Enter"&&(N.preventDefault(),A(N.currentTarget.getAttribute("data-id")))},[A]),O=h.useCallback(()=>{w&&w()},[w]),$=h.useCallback(N=>{N.preventDefault(),k(++s.current)},[k]);h.useEffect(()=>(k(s.current),()=>{a.current&&a.current.unsubscribe()}),[k]),h.useEffect(()=>{!v&&(!s.current||s.current===0)&&m(!0)},[v]);const R=h.useMemo(()=>l.jsxs(M,{padding:4,children:[l.jsx(qvn,{gap:2,children:c.map(N=>l.jsx(jvn,{asset:N,isSelected:y.some(W=>W._id===N._id),onClick:D,onKeyPress:I,onDeleteFinished:T},N._id))}),v&&c.length===0&&l.jsx(U,{justify:"center",children:l.jsx(ur,{muted:!0})}),!v&&c.length===0&&l.jsx(L,{align:"center",muted:!0,children:"No images"})]}),[c,T,D,I,v,y]),V=h.useMemo(()=>l.jsx(Vvn,{isLoading:v,assets:c,selectedAssets:y,onClick:D,onKeyPress:I,onDeleteFinished:T}),[v,c,y,D,I,T]);return l.jsxs(Li,{__unstable_autoFocus:p,header:b,id:i.current,onClickOutside:O,onClose:O,ref:n,width:2,children:[E&&!j&&l.jsx(ee,{tone:"primary",marginTop:4,marginX:4,padding:[3,3,4],border:!0,radius:2,children:l.jsxs(U,{gap:[3,4],align:"center",children:[l.jsx(L,{children:l.jsx(km,{})}),l.jsxs(L,{size:1,children:["Only showing assets of accepted types: ",l.jsx("b",{children:S})]})]})}),x==="image"&&R,x==="file"&&V,c.length>0&&!d&&l.jsx(Gvn,{tone:"default",padding:4,children:l.jsx(U,{direction:"column",children:l.jsx(se,{type:"button",icon:b6,loading:v,onClick:$,text:"Load more",tone:"primary"})})})]})},H3e=ie.memo(ie.forwardRef(Kvn)),U3e={name:"sanity-default",title:"Uploaded files",component:H3e,icon:v6},W3e={name:"sanity-default",title:"Uploaded images",component:H3e,icon:$l};function Zvn(e){return e.reduce((t,n)=>(t[n.name]=n,t),{})}function Th(e,t){return e[t]}function Xvn(e){return e.reduce((t,n)=>(n.type==="field"&&t.push(n.fieldType),t),[])}const Qvn=[{fieldPath:"_updatedAt",icon:Fg,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Updated at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:Fg,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:zf,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:tb,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:tb,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:tb,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:xj,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:Fg,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:Fg,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:Cg,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:Nf,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:$l,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:V1e,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:_1e,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:zf,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:Cg,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:Cg,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:ql,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:Cg,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:Cg,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function Jvn(e){let{documentId:t,schemaType:n}=e;const r=Vi(),{draft:o,published:i,isLoading:s}=vo(()=>KA(r,n,t,""),[t,r,n]),a=h.useMemo(()=>({_id:t,_type:n.name}),[t,n.name]),c=CN({draft:o,published:i,value:a});return s?l.jsx(z0,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):l.jsx(l.Fragment,{children:c.title||t.slice(0,8)})}const V5="yyyy-MM-dd";function e0n(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t?"True":"False"})}function Nue(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!td(n)?null:l.jsx(l.Fragment,{children:ei(n,V5)})}function zue(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!td(n)?null:l.jsx(l.Fragment,{children:ei(n,V5)})}function t0n(e){let{value:t}=e;var n;return l.jsxs(l.Fragment,{children:[Math.floor((n=t==null?void 0:t.unitValue)!=null?n:0)," ",t.unit]})}function Vue(e){let{value:t}=e;const n=t!=null&&t.dateMin?new Date(t.dateMin):null,r=t!=null&&t.dateMax?new Date(t.dateMax):null;return!r||!n||!td(r)||!td(n)?null:l.jsxs(l.Fragment,{children:[ei(n,V5)," → ",ei(r,V5)]})}function yg(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t})}function bg(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t," ",zr("item",t)]})}function n0n(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t.min," → ",t.max]})}function r0n(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t.min," → ",t.max," items"]})}function Cl(e){let{value:t}=e;const n=_n(),r=t._ref,o=n.get(t._type);return o?l.jsx(Jvn,{documentId:r,schemaType:o}):null}function ji(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t})}const Y3e=h.createContext(void 0);function Rt(){const e=h.useContext(Y3e);if(e===void 0)throw new Error("useSearchState must be used within an SearchProvider");return e}function Oa(e){let{value:t,onChange:n}=e;const[r,o]=h.useState(t??""),{state:{fullscreen:i}}=Rt(),s=h.useCallback(a=>{o(a.currentTarget.value);const c=parseFloat(a.currentTarget.value);n(Number.isFinite(c)?c:null)},[n]);return l.jsx($r,{fontSize:i?2:1,onChange:s,placeholder:"Value",radius:2,step:"any",type:"number",value:r})}function q3e(e){let{onChange:t,value:n}=e;var r,o;const[i,s]=h.useState((r=n==null?void 0:n.max)!=null?r:""),[a,c]=h.useState((o=n==null?void 0:n.min)!=null?o:""),{state:{fullscreen:u}}=Rt(),d=h.useCallback(p=>{var m;s(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:Number.isFinite(v)?v:null,min:(m=n==null?void 0:n.min)!=null?m:null})},[n==null?void 0:n.min,t]),f=h.useCallback(p=>{var m;c(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:(m=n==null?void 0:n.max)!=null?m:null,min:Number.isFinite(v)?v:null})},[n==null?void 0:n.max,t]);return l.jsxs(U,{gap:2,children:[l.jsx(M,{flex:1,children:l.jsx($r,{fontSize:u?2:1,onChange:f,placeholder:"Min value",radius:2,step:"any",type:"number",value:a})}),l.jsx(M,{flex:1,children:l.jsx($r,{fontSize:u?2:1,onChange:d,placeholder:"Max value",radius:2,step:"any",type:"number",value:i})})]})}function xD(e,t){const n=t.split("."),r=n[0];if(r&&Qa(e)){const o=e.fields.find(i=>i.name===r);if(o){const i=n.slice(1).join(".");return i?xD(o.type,i):o}}}var Hue=Object.freeze,o0n=Object.defineProperty,G3e=(e,t)=>Hue(o0n(e,"raw",{value:Hue(t||e.slice())})),Uue,Wue;const i0n=P(M)(Uue||(Uue=G3e([`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`]))),s0n=P(Vt)(Wue||(Wue=G3e([`
  max-width: 150px;
`])));function a0n(e){let{documentId:t,presence:n,schemaType:r}=e;const o=Vi(),{draft:i,published:s,isLoading:a}=vo(()=>KA(o,r,t,""),[t,o,r]),c=h.useMemo(()=>({_id:t,_type:r.name}),[t,r.name]),u=h.useMemo(()=>a?null:l.jsxs(qt,{space:3,children:[n&&n.length>0&&l.jsx(YN,{presence:n}),l.jsx(s0n,{size:0,muted:!0,textOverflow:"ellipsis",children:r.title})]}),[a,n,r.title]);return l.jsx(i0n,{children:l.jsx(kh,{...CN({draft:i,published:s,value:c}),isPlaceholder:a??!0,layout:"default",icon:r.icon,status:u})})}function wz(e){let{compact:t,disableIntentLink:n,documentId:r,documentType:o,onClick:i,...s}=e;const c=_n().get(o),u=$C(r),d=h.useMemo(()=>({id:r,type:c==null?void 0:c.name}),[r,c==null?void 0:c.name]),{onClick:f,href:p}=Uw({intent:"edit",params:d}),m=h.useCallback(v=>{n||f(v),i==null||i()},[n,i,f]);return c?l.jsx(M,{...s,children:l.jsx(Np,{as:"a","data-as":"a",flex:1,href:n?void 0:p,onClick:m,padding:t?1:2,radius:2,tabIndex:-1,children:l.jsx(a0n,{documentId:r,presence:u,schemaType:c})})}):null}const l0n=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),c0n="_debug_search_score",K3e=!1,Yue=1e3,Z3e="k",u0n=l0n?"Cmd":"Ctrl",ew=Gf.space[1],d0n=735,X3e=800,IC=5,y1=2;function wD(e){let{allowEmptyQueries:t,terms:n}=e;const r=t?!0:n.query.length>0,o=!!n.filter,i=n.types.length>0;return r||o||i}function f0n(e,t){return CD(e).filter(n=>h0n(n,t)).sort(hF)}function CD(e){return len(e).filter(t=>t.__experimental_omnisearch_visibility!==!1)}function hF(e,t){var n,r;return((n=e.title)!=null?n:e.name).localeCompare((r=t.title)!=null?r:t.name)}function h0n(e,t){var n;return!t||((n=e.title)!=null?n:e.name).toLowerCase().includes(t==null?void 0:t.toLowerCase())}const p0n=300,w3={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function m0n(e){return e!==null}function g0n(e){var t;return{...e,terms:{...e.terms,filter:(t=e.terms.filter)==null?void 0:t.trim(),query:e.terms.query.trim()}}}function Q3e(e){let{allowEmptyQueries:t,initialState:n,onComplete:r,onError:o,onStart:i,schema:s}=e;const[a,c]=h.useState(n),u=fr(sn),d=h.useMemo(()=>EN(CD(s),u,{tag:"search.global",unique:!0}),[u,s]),f=uT(m=>m.pipe(bt(m0n),ue(g0n),_r(Ht),B8(v=>as((v==null?void 0:v.debounceTime)||p0n)),qn(i),st(v=>Hr(be({...w3,loading:!0,options:v.options,terms:v.terms}),iit(()=>wD({allowEmptyQueries:t,terms:v.terms}),d(v.terms,v.options).pipe(ue(g=>({hits:g})),qn(g=>{let{hits:y}=g;return r==null?void 0:r(y)}),In(g=>(o==null||o(g),be({...w3,error:g,loading:!1,options:v.options,terms:v.terms})))),be(Vr).pipe(qn(()=>r==null?void 0:r([])))),be({loading:!1}))),qa((v,g)=>({...v,...g}),w3),qn(c)),[t,d]);return{handleSearch:h.useCallback(m=>f(m),[f]),searchState:a}}const v0n=40;function Cz(e){let{availableCharacters:t=v0n,types:n}=e;const r=n.reduce(function(){let i=t;return function(s,a,c){const u=que(a);return i-=u.length,(c===0||t>u.length&&i>u.length)&&s.push(a),s}}(),[]),o=n.length-r.length;return n.length?["".concat(r.map(que).join(", ")),...o?["+".concat(o," more")]:[]].join(" "):"All types"}function que(e){var t;return(t=e.title)!=null?t:e.name}var Gue=Object.freeze,y0n=Object.defineProperty,b0n=(e,t)=>Gue(y0n(e,"raw",{value:Gue(t||e.slice())})),Kue;const x0n=()=>!0,w0n=P(L)(Kue||(Kue=b0n([`
  word-break: break-word;
`]))),C0n=h.forwardRef(function(t,n){let{onSelect:r,types:o=[],value:i}=t;const s=h.useRef(null),a=_n(),{state:{fullscreen:c}}=Rt(),u=h.useId(),[d,f]=h.useState([]),{handleSearch:p,searchState:m}=Q3e({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:o}},onComplete:C=>{f(C.map(_=>({hit:_,value:_.hit._id})))},schema:a}),v=h.useCallback(()=>{p({debounceTime:0,options:{limit:100},terms:{query:"",types:o}})},[p,o]),g=h.useCallback(C=>{p(C?{options:{limit:100},terms:{query:C||"",types:o}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:o}})},[p,o]),y=h.useCallback(C=>{var _;const S=(_=d.find(E=>E.value===C))==null?void 0:_.hit.hit;S&&(r==null||r({_ref:On(S._id),_type:S._type}))},[d,r]),x=h.useMemo(()=>{const C=Cz({types:o});return o.length>0?"Search for ".concat(C):"Search all documents"},[o]),b=h.useCallback(C=>{const _=C.hit.hit._type;return l.jsx(wz,{compact:!0,disableIntentLink:!0,documentId:C.value,documentType:_})},[]),w=h.useCallback((C,_)=>{const{content:S,hidden:E,onMouseEnter:j,onMouseLeave:k}=C,T=d&&d.length>0;return l.jsx(Jt,{arrow:!1,constrainSize:!0,content:l.jsx("div",{ref:_,children:T?S:m.terms.query&&l.jsx(M,{padding:4,children:l.jsx(U,{align:"center",height:"fill",justify:"center",children:l.jsxs(w0n,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",m.terms.query,"”"]})]})})})}),matchReferenceWidth:!0,onMouseEnter:j,onMouseLeave:k,open:!m.loading&&!E,overflow:"auto",placement:"bottom-start",radius:y1,referenceElement:s.current})},[d,m.loading,m.terms.query]);return l.jsx("div",{ref:s,children:l.jsx(y8,{"aria-label":x,filterOption:x0n,fontSize:c?2:1,id:u,loading:m.loading,openButton:{onClick:v},options:d,onQueryChange:g,onSelect:y,placeholder:x,radius:2,ref:n,renderOption:b,renderPopover:w,value:i==null?void 0:i._ref})})});function Lb(e){let{fieldDefinition:t,onChange:n,value:r}=e;const{onClose:o,state:{documentTypesNarrowed:i,fullscreen:s}}=Rt(),a=_n(),c=h.useCallback(p=>n(p),[n]),u=h.useMemo(()=>t?t.documentTypes.filter(p=>i.includes(p)).flatMap(p=>{const m=a.get(p);if(m){const v=xD(m,t.fieldPath);if(Wl(v==null?void 0:v.type))return v==null?void 0:v.type.of.filter(zu).flatMap(g=>g.to);if(zu(v==null?void 0:v.type))return v==null?void 0:v.type.to}return[]}).reduce((p,m)=>(p.findIndex(v=>v.name===(m==null?void 0:m.name))<0&&p.push(m),p),[]):[],[i,t,a]),d=h.useCallback(()=>c(null),[c]),f=h.useCallback(()=>{o==null||o()},[o]);return l.jsx(M,{style:{width:"min(calc(100vw - 40px), 420px)"},children:r!=null&&r._ref&&(r!=null&&r._type)?l.jsxs(oe,{space:3,children:[l.jsx(ee,{padding:1,radius:1,shadow:1,children:l.jsx(wz,{compact:!0,documentId:r._ref,documentType:r._type,onClick:f})}),l.jsx(se,{fontSize:s?2:1,mode:"ghost",onClick:d,text:"Clear",tone:"critical"})]}):l.jsx(C0n,{onSelect:c,types:u,value:r})})}function _0n(e){let{onClick:t,selected:n,title:r,value:o}=e;const i=h.useCallback(()=>t(o),[t,o]);return l.jsx(Ve,{onClick:i,padding:3,pressed:n,tone:"default",children:l.jsx(U,{align:"center",justify:"space-between",gap:3,children:l.jsxs(oe,{paddingRight:2,space:2,children:[l.jsx(L,{size:1,weight:"regular",children:r}),o&&l.jsx(ir,{muted:!0,size:0,children:o})]})})})}function H5(e){let{fieldDefinition:t,onChange:n,value:r}=e;const o=h.useId(),{state:{documentTypesNarrowed:i}}=Rt(),s=_n(),a=h.useMemo(()=>t?t.documentTypes.filter(f=>i.includes(f)).map(f=>{const p=s.get(f);if(p){const m=xD(p,t.fieldPath);return m==null?void 0:m.type.options}return null}).filter(go).map(f=>f.list).flatMap(f=>f==null?void 0:f.map(p=>S0n(p))).filter(go).reduce((f,p)=>{const m=f.findIndex(v=>v.value===(p==null?void 0:p.value));if(m>-1){const v=f[m];f[m]={...f[m],title:ho([...v.title,p.title]).sort()}}else f.push({...p,title:[p.title]});return f},[]):[],[i,t,s]),c=h.useCallback(u=>{n(u)},[n]);return l.jsx(en,{button:l.jsx(se,{mode:"ghost",padding:3,children:l.jsxs(U,{align:"center",gap:2,justify:"space-between",children:[l.jsx(L,{size:1,weight:"regular",children:r||"Select..."}),l.jsx(M,{marginLeft:1,children:l.jsx(L,{size:1,children:l.jsx(ql,{})})})]})}),id:o||"",menu:l.jsx(Bt,{children:a.map((u,d)=>l.jsx(_0n,{onClick:c,selected:u.value===r,title:u.title.join(", "),value:u.value||""},d))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function S0n(e){return t6(e)?e:{title:Vm("".concat(e)),value:e}}const J3e=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),eRe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),tRe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),nRe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function Je(e){return JSON.stringify(e)}const E0n={arrayCountEqual:{buttonLabel:"has",buttonValueComponent:bg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") == ").concat(Je(n)):null},initialValue:null,inputComponent:Oa,label:"quantity is",type:"arrayCountEqual"},arrayCountGt:{buttonLabel:"has >",buttonValueComponent:bg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") > ").concat(Je(n)):null},icon:eRe,initialValue:null,inputComponent:Oa,label:"quantity greater than",type:"arrayCountGt"},arrayCountGte:{buttonLabel:"has ≥",buttonValueComponent:bg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") >= ").concat(Je(n)):null},icon:J3e,initialValue:null,inputComponent:Oa,label:"quantity greater than or equal to",type:"arrayCountGte"},arrayCountLt:{buttonLabel:"has <",buttonValueComponent:bg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") < ").concat(Je(n)):null},icon:nRe,initialValue:null,inputComponent:Oa,label:"quantity less than",type:"arrayCountLt"},arrayCountLte:{buttonLabel:"has ≤",buttonValueComponent:bg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") <= ").concat(Je(n)):null},icon:tRe,initialValue:null,inputComponent:Oa,label:"quantity less than or equal to",type:"arrayCountLte"},arrayCountNotEqual:{buttonLabel:"does not have",buttonValueComponent:bg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") != ").concat(Je(n)):null},initialValue:null,inputComponent:Oa,label:"quantity is not",type:"arrayCountNotEqual"},arrayCountRange:{buttonLabel:"has between",buttonValueComponent:r0n,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"count(".concat(t,") > ").concat(Je(n==null?void 0:n.min)," && count(").concat(t,") < ").concat(Je(n==null?void 0:n.max)):""},initialValue:null,inputComponent:q3e,label:"quantity is between",type:"arrayCountRange"},arrayListIncludes:{buttonLabel:"includes",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(Je(n)," in ").concat(t):null},initialValue:null,inputComponent:H5,label:"includes",type:"arrayListIncludes"},arrayListNotIncludes:{buttonLabel:"does not include",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(Je(n)," in ").concat(t,")"):null},initialValue:null,inputComponent:H5,label:"does not include",type:"arrayListNotIncludes"},arrayReferenceIncludes:{buttonLabel:"includes",buttonValueComponent:Cl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(Je(n._ref)," in ").concat(t,"[]._ref"):null},initialValue:null,inputComponent:Lb,label:"includes",type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{buttonLabel:"does not include",buttonValueComponent:Cl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"!(".concat(Je(n._ref)," in ").concat(t,"[]._ref)"):null},initialValue:null,inputComponent:Lb,label:"does not include",type:"arrayReferenceNotIncludes"}},rRe=h.createContext(null);function k0n(e){let{children:t,workspace:n}=e;return l.jsx(rRe.Provider,{value:n,children:t})}function ec(){const e=h.useContext(rRe);if(!e)throw new Error("Workspace: missing context value");return e}const nE=h.createContext(null);function _z(e){let{children:t,...n}=e;const r=h.useContext(nE),{unstable_sources:o}=ec();if("source"in n){const{source:i}=n;return l.jsx(nE.Provider,{value:i,children:t})}if("name"in n){const{name:i}=n,s=o.find(a=>a.name===i);if(!s)throw new Error("Could not find source with name `".concat(i,"` in current workspace"));return r===s?l.jsx(l.Fragment,{children:t}):l.jsx(nE.Provider,{value:s,children:t})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function $n(){const e=h.useContext(nE);if(!e)throw new Error("Could not find `source` context");return e}function j0n(e){return l.jsx(M,{...e,children:l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(sr,{tone:"caution",children:l.jsx(Mr,{})}),l.jsxs(oe,{space:4,children:[l.jsx(sr,{size:1,tone:"caution",weight:"semibold",children:"No valid asset sources found."}),l.jsx(sr,{size:1,tone:"caution",children:"Currently, only the default asset source is supported."}),l.jsx(sr,{size:1,tone:"caution",children:"Please ensure it's enabled in your studio configuration file."})]})]})})}function T0n(e){let{reference:t}=e;const n=Vi(),r=h.useCallback(o=>cPe(n,o),[n]);return l.jsx(w0,{observeAsset:r,reference:t,waitPlaceholder:l.jsx(D0n,{}),children:o=>l.jsx(A0n,{asset:o})})}function A0n(e){let{asset:t}=e;return l.jsx(ee,{padding:2,shadow:1,children:l.jsxs(U,{align:"center",justify:"space-between",wrap:"nowrap",children:[l.jsx(ee,{padding:3,radius:1,shadow:1,tone:"transparent",children:l.jsx(L,{children:l.jsx(A0,{})})}),l.jsxs(oe,{flex:1,space:2,marginLeft:3,children:[l.jsx(L,{size:2,textOverflow:"ellipsis",muted:!0,children:(t==null?void 0:t.originalFilename)||t._id}),l.jsx(L,{size:1,muted:!0,children:o3e(t.size)})]})]})})}function D0n(){return l.jsx(ee,{padding:2,shadow:1,children:l.jsxs(U,{align:"center",justify:"flex-start",children:[l.jsx(ee,{padding:3,radius:1,shadow:1,tone:"transparent",children:l.jsx(L,{children:l.jsx(A0,{})})}),l.jsxs(oe,{flex:1,space:2,marginLeft:3,children:[l.jsx(JE,{animated:!0,style:{width:"100%"},radius:1}),l.jsx(JE,{animated:!0,style:{width:"100%"},radius:1})]})]})})}var Zue=Object.freeze,I0n=Object.defineProperty,Sz=(e,t)=>Zue(I0n(e,"raw",{value:Zue(t||e.slice())})),Xue,Que,Jue;const O0n=P(ee)(Xue||(Xue=Sz([`
  position: relative;
  padding-bottom: 100%;
`]))),P0n=P.img(Que||(Que=Sz([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),R0n=P(U)(Jue||(Jue=Sz([`
  height: 100%;
  position: absolute;
  width: 100%;
`])));function $0n(e){let{reference:t}=e;const n=Vi(),r=h.useCallback(o=>lPe(n,o),[n]);return l.jsx(w0,{observeAsset:r,reference:t,children:o=>l.jsx(M0n,{asset:o})})}function M0n(e){let{asset:t}=e;const[n,r]=h.useState(!1),o="".concat(t.url,"?h=800&fit=max"),i=h.useCallback(()=>r(!0),[]);return l.jsxs(O0n,{__unstable_checkered:!0,border:!0,children:[!n&&l.jsx(R0n,{align:"center",justify:"center",children:l.jsx(ur,{})}),l.jsx(P0n,{onLoad:i,src:o})]})}function F0n(e){let{reference:t}=e;return t?t._type.startsWith("sanity.fileAsset")?l.jsx(T0n,{reference:t}):t._type.startsWith("sanity.imageAsset")?l.jsx($0n,{reference:t}):null:null}var ede=Object.freeze,L0n=Object.defineProperty,B0n=(e,t)=>ede(L0n(e,"raw",{value:ede(t||e.slice())})),tde;const N0n={file:"sanity.fileAsset",image:"sanity.imageAsset"},z0n=P(M)(tde||(tde=B0n([`
  width: min(calc(100vw - 40px), 320px);
`])));function cv(e){return function(n){let{onChange:r,value:o}=n;const[i,s]=h.useState(null),[a,c]=h.useState(null),{state:{fullscreen:u}}=Rt(),{file:d,image:f}=$n().form,p=h.useMemo(()=>{switch(e){case"file":return d.assetSources.filter(E=>E.name===U3e.name);case"image":return f.assetSources.filter(E=>E.name===W3e.name);default:throw Error("Unknown asset source found")}},[d.assetSources,f.assetSources]),m=h.useId(),v=fr(sn),g=h.useCallback(()=>{c(null),r(null)},[r]),y=h.useCallback(()=>{s(null)},[]),x=h.useCallback(E=>{const j=E[0];c(j),y()},[y]),b=h.useCallback(E=>s(E),[]);h.useEffect(()=>{(a==null?void 0:a.kind)==="assetDocumentId"&&typeof(a==null?void 0:a.value)=="string"&&e&&r({_ref:a.value,_type:N0n[e]})},[v,r,a]);const w=i==null?void 0:i.component,C=u?2:1,_=o?"Change ".concat(e):"Select ".concat(e),S=Hn(e,"options.accept",e==="image"?"image/*":"");return l.jsx(z0n,{children:l.jsxs(oe,{space:3,children:[i&&w&&l.jsx(Rm,{children:l.jsx(w,{assetType:e,dialogHeaderTitle:"Select ".concat(e),onClose:y,onSelect:x,selectedAssets:[],selectionType:"single",accept:S})}),o&&l.jsx(F0n,{reference:o}),l.jsxs(U,{gap:2,children:[p.length===0&&l.jsx(j0n,{padding:2}),p.length>0&&l.jsx(l.Fragment,{children:p.length>1?l.jsx(en,{button:l.jsx(se,{fontSize:C,icon:o?hE:ti,iconRight:tl,mode:"ghost",style:{flex:o?1:0},text:_}),id:m,menu:l.jsx(Bt,{children:p.map(E=>l.jsx(Ve,{fontSize:C,icon:E.icon||$l,onClick:()=>b(E),text:E.title},E.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):l.jsx(se,{fontSize:C,icon:o?hE:ti,mode:"ghost",onClick:()=>b(p[0]),style:{flex:o?1:0},text:_})}),o&&l.jsx(se,{fontSize:u?2:1,mode:"ghost",onClick:g,style:{flex:1},text:"Clear",tone:"critical"})]})]})})}}const V0n={assetFileEqual:{buttonLabel:"is",buttonValueComponent:Cl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Je(n._ref)):null},initialValue:null,inputComponent:cv("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{buttonLabel:"is not",buttonValueComponent:Cl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Je(n._ref)):null},initialValue:null,inputComponent:cv("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{buttonLabel:"is",buttonValueComponent:Cl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Je(n._ref)):null},initialValue:null,inputComponent:cv("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{buttonLabel:"is not",buttonValueComponent:Cl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Je(n._ref)):null},initialValue:null,inputComponent:cv("image"),label:"is not",type:"assetImageNotEqual"}};function H0n(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Rt(),o=h.useCallback(i=>{t(i.currentTarget.value==="true")},[t]);return l.jsxs(Kf,{fontSize:r?2:1,onChange:o,radius:2,value:String(n??!0),children:[l.jsx("option",{value:"true",children:"True"}),l.jsx("option",{value:"false",children:"False"})]})}const U0n={booleanEqual:{buttonLabel:"is",buttonValueComponent:e0n,groqFilter:e=>{let{fieldPath:t,value:n}=e;return typeof n<"u"&&t?"".concat(t," == ").concat(Je(n)):null},initialValue:!0,inputComponent:H0n,label:"is",type:"booleanEqual"}},W0n={defined:{buttonLabel:"not empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"defined(".concat(t,")"):null},label:"not empty",type:"defined"},notDefined:{buttonLabel:"empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"!defined(".concat(t,")"):null},label:"empty",type:"notDefined"}};var nde=Object.freeze,Y0n=Object.defineProperty,q0n=(e,t)=>nde(Y0n(e,"raw",{value:nde(t||e.slice())})),rde;const ode="Include time",G0n=P(L)(rde||(rde=q0n([`
  cursor: default;
`])));function Ez(e){let{onChange:t,value:n}=e;return l.jsxs(U,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[l.jsx(oe,{children:l.jsx(G0n,{muted:!0,onClick:t,size:1,weight:"medium",children:ode})}),l.jsx(qCe,{checked:n,label:ode,onChange:t})]})}const oRe=h.createContext(void 0);function kz(){const e=h.useContext(oRe);if(e===void 0)throw new Error("useCalendar must be used within an CalendarContext.Provider");return e}const K0n=["January","February","March","April","May","June","July","August","September","October","November","December"],Z0n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];bB(0,24);const X0n=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Q0n=[1,2,3,4,5,6];function J0n(e){const{focusedDate:t}=kz(),{fontSize:n,moveFocusedDate:r,onNowClick:o}=e,i=h.useCallback(()=>r(-1),[r]),s=h.useCallback(()=>r(1),[r]);return l.jsxs(U,{align:"center",flex:1,justify:"space-between",children:[l.jsxs(qt,{paddingLeft:2,space:1,children:[l.jsx(L,{weight:"medium",children:K0n[t.getMonth()]}),l.jsx(L,{weight:"medium",children:t.getFullYear()})]}),l.jsxs(M,{children:[l.jsx(se,{fontSize:n,text:"Today",mode:"bleed",onClick:o}),l.jsx(se,{"aria-label":"Go to previous month",onClick:i,mode:"bleed",icon:wj}),l.jsx(se,{"aria-label":"Go to next month",mode:"bleed",icon:Uc,onClick:s})]})]})}var ide=Object.freeze,e1n=Object.defineProperty,iRe=(e,t)=>ide(e1n(e,"raw",{value:ide(t||e.slice())})),sde,ade;const t1n=P.svg(e=>{let{theme:t}=e;return he(sde||(sde=iRe([`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: `,`;
      stroke-width: 3;
      fill: none;
    }
  `])),t.sanity.color.card.enabled.border)}),n1n=P(ee)(ade||(ade=iRe([`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`])));function r1n(e){let{date:t,onSelect:n}=e;const r=h.useCallback(()=>{n(t)},[t,n]),{date:o,endDate:i,focusedDate:s,fontSize:a,selectRange:c}=kz(),u=o&&Xd(t,o),d=c&&o&&Xd(t,o),f=c&&i&&Xd(t,i),p=E5e(t,s),m=s&&Xd(t,s),v=Xd(t,new Date),g=o&&i&&!d&&!f&&_M(t,o)&&x5e(t,i);return l.jsxs(n1n,{__unstable_focusRing:!0,"aria-label":t.toDateString(),"aria-pressed":u,"data-end-date":f?!0:void 0,"data-focused":m?"true":"","data-ui":"CalendarDay","aria-selected":u,"data-start-date":d?!0:void 0,"data-within-range":g?!0:void 0,forwardedAs:"button",onClick:r,padding:3,radius:2,role:"button",selected:u||d||f,tabIndex:-1,tone:g?"primary":"default",children:[v&&l.jsx(t1n,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:l.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),l.jsx(L,{align:"center",muted:!u&&!p,size:a,weight:v?"medium":"regular",children:t.getDate()})]})}const o1n=e=>{const t=v5e(e);return g5e({start:t,end:b5e(t)})},i1n=e=>e.map(t=>[t,...Q0n.map(n=>Ki(t,n))]),s1n=e=>i1n(o1n(e)).map(t=>({number:y5e(t[0]),days:t}));var lde=Object.freeze,a1n=Object.defineProperty,l1n=(e,t)=>lde(a1n(e,"raw",{value:lde(t||e.slice())})),cde;const c1n=P(Qt)(cde||(cde=l1n([`
  grid-template-columns: repeat(7, minmax(44px, auto));
`])));function u1n(e){let{hidden:t,onSelect:n}=e;const{focusedDate:r,fontSize:o}=kz();return l.jsx(M,{"aria-hidden":t||!1,"data-ui":"CalendarMonth",children:l.jsxs(c1n,{children:[Z0n.map(i=>l.jsx(M,{paddingBottom:3,paddingTop:2,children:l.jsx(L,{align:"center",size:o,weight:"medium",children:i})},i)),s1n(r).map((i,s)=>i.days.map((a,c)=>l.jsx(r1n,{date:a,onSelect:n},"".concat(s,"-").concat(c))))]})})}const d1n=l.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function f1n(e){const{date:t,endDate:n,fontSize:r,onSelect:o,selectRange:i,selectTime:s}=e,[a,c]=h.useState(null),[u,d]=h.useState(!1),[f,p]=h.useState(t||new Date),m=h.useRef(t||null),v=h.useRef(n||null),g=h.useCallback(()=>{var C;(C=a==null?void 0:a.querySelector('[data-focused="true"]'))==null||C.focus()},[a]),y=h.useCallback(C=>{const _=DDt(C,{hours:C.getHours(),minutes:C.getMinutes(),seconds:0,milliseconds:0}),S=t&&x5e(_,t),E=n&&_M(_,n);if(i){if(S||E){o({date:_,endDate:null});return}o(u?{date:t||null,endDate:_}:{date:_,endDate:t?null:n||null})}else o({date:_})},[t,n,o,u,i]),x=h.useCallback(()=>{const C=new Date;i?p(C):o({date:C})},[o,i,p]),b=h.useCallback(C=>{var _;if(X0n.includes(C.key)){if(C.preventDefault(),C.target.hasAttribute("data-calendar-grid")){g();return}C.key==="ArrowUp"&&p(Ki(f,-7)),C.key==="ArrowDown"&&p(Ki(f,7)),C.key==="ArrowLeft"&&p(Ki(f,-1)),C.key==="ArrowRight"&&p(Ki(f,1)),(_=a==null?void 0:a.querySelector("[data-preserve-focus]"))==null||_.focus()}},[a,g,f,p]),w=h.useCallback(C=>p(e7(f,C)),[f,p]);return h.useEffect(()=>{g()},[g]),h.useEffect(()=>{var C;((C=document.activeElement)==null?void 0:C.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&g()},[g,f]),h.useEffect(()=>{var C,_;const S=(t==null?void 0:t.getTime())!==((C=m.current)==null?void 0:C.getTime()),E=(n==null?void 0:n.getTime())!==((_=v.current)==null?void 0:_.getTime()),j=S&&!E,k=!S&&E,T=t&&n&&_M(t,n);j&&(T&&(d(!0),o({date:t,endDate:null})),d(!!t),t&&p(t)),k&&(T&&(d(!0),o({date:n,endDate:null})),d(!!t&&!n),n&&p(n)),S&&E&&(d(!0),t&&p(t)),m.current=t||null,v.current=n||null},[t,n,o]),l.jsx(oRe.Provider,{value:{date:t,endDate:n,focusedDate:f,fontSize:r,selectRange:i,selectTime:s},children:l.jsxs(M,{"data-ui":"Calendar",ref:c,children:[l.jsx(U,{children:l.jsx(M,{flex:1,children:l.jsx(J0n,{fontSize:r,moveFocusedDate:w,onNowClick:x})})}),l.jsxs(M,{"data-calendar-grid":!0,onKeyDown:b,marginTop:2,overflow:"hidden",tabIndex:0,children:[l.jsx(u1n,{onSelect:y}),d1n]})]})})}function jz(e){let{date:t,endDate:n,onChange:r,selectRange:o,selectTime:i}=e;const{state:{fullscreen:s}}=Rt(),a=h.useCallback(c=>{r(c)},[r]);return l.jsx(f1n,{date:t,endDate:n,fontSize:s?2:1,onSelect:a,selectRange:o,selectTime:i})}var ude=Object.freeze,h1n=Object.defineProperty,p1n=(e,t)=>ude(h1n(e,"raw",{value:ude(t||e.slice())})),dde;const m1n=P(M)(e=>{let{background:t,smallClearButton:n}=e;return he(dde||(dde=p1n([`
    width: 100%;

    input + span {
      background: `,`;
    }

    [data-qa='clear-button'] {
      background: none;
      box-shadow: none;
      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
      transform: `,`;
      &:hover {
        opacity: 0.5;
      }
    }
  `])),r=>{let{theme:o}=r;return t?o.sanity.color.card.disabled.bg2:"transparent"},n?"scale(0.8)":"scale(1)")}),Tz=h.forwardRef(function(t,n){const{background:r,smallClearButton:o,...i}=t;return l.jsx(m1n,{background:r,smallClearButton:o,children:l.jsx($r,{...i,ref:n})})});function Iu(e){let{date:t,dateOnly:n,roundDay:r}=e,o;switch(r){case"end":o=Nk(t);break;case"start":o=Jf(t);break;default:o=t;break}return n?o.toISOString().split("T")[0]:o.toISOString()}var fde=Object.freeze,g1n=Object.defineProperty,sRe=(e,t)=>fde(g1n(e,"raw",{value:fde(t||e.slice())})),hde,pde;const E2={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}},v1n=P.span(e=>{let{theme:t}=e;return he(hde||(hde=sRe([`
    font-weight: `,`;
  `])),t.sanity.fonts.text.weights.medium)}),y1n=P(L)(pde||(pde=sRe([`
  color: `,`;
`])),pe.red[500].hex);function U5(e){let{isDateTime:t,onChange:n,placeholderDate:r,isDateTimeFormat:o,value:i,...s}=e;const a=h.useMemo(()=>o?E2.datetime.pattern:E2.date.pattern,[o]),[c,u]=h.useState(void 0),[d,f]=h.useState(()=>{if(!i)return"";const b=new Date(i);return ei(b,a)}),p=h.useMemo(()=>ei(r||new Date,a),[a,r]),m=h.useCallback(b=>{let{dateString:w,triggerOnChange:C}=b;if(!w)return;const _=dDt(w,a,new Date),S=td(_);S&&(C&&n(Iu({date:_,dateOnly:!t})),f(ei(_,a))),u(S?void 0:"Invalid ".concat(t?"datetime":"date"))},[a,t,n]),v=h.useCallback(()=>{m({dateString:d,triggerOnChange:!0})},[d,m]),g=h.useCallback(b=>{f(b.currentTarget.value)},[]),y=h.useCallback(()=>{n(null),u(void 0),f("")},[n]),x=h.useCallback(b=>{b.key==="Enter"&&m({dateString:d,triggerOnChange:!0})},[d,m]);return h.useEffect(()=>{const b=i&&new Date(i);b&&m({dateString:ei(b,a),triggerOnChange:!1})},[a,m,o,i]),l.jsx(at,{content:l.jsxs(U,{gap:2,children:[l.jsx(y1n,{size:1,children:l.jsx(fa,{})}),l.jsxs(L,{muted:!0,size:1,children:["Must be in the format"," ",l.jsx(v1n,{children:o?E2.datetime.exampleDate:E2.date.exampleDate})]})]}),disabled:!c,padding:3,placement:"top",portal:!0,children:l.jsx("div",{children:l.jsx(Tz,{...s,clearButton:!!d,customValidity:c,onBlur:v,onChange:g,onClear:y,onKeyDown:x,placeholder:p,value:d})})})}function aRe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Rt(),i=h.useCallback(c=>{let{date:u}=c;if(u){const d=Iu({date:u,dateOnly:!t});n({includeTime:r==null?void 0:r.includeTime,date:d})}else n(null)},[t,n,r==null?void 0:r.includeTime]),s=h.useCallback(()=>{const c=!(r!=null&&r.includeTime),u=r!=null&&r.date?new Date(r.date):null;let d=null;u&&(d=Iu({date:u,dateOnly:!t})),n({includeTime:c,date:d})},[t,n,r]),a=h.useCallback(c=>{n({includeTime:r==null?void 0:r.includeTime,date:c||null})},[n,r==null?void 0:r.includeTime]);return l.jsxs(oe,{space:3,children:[l.jsx(U5,{"aria-label":"Date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:a,radius:2,value:r==null?void 0:r.date}),l.jsx(jz,{date:r!=null&&r.date?new Date(r.date):void 0,onChange:i,selectTime:t}),t&&l.jsx(Ez,{onChange:s,value:!!(r!=null&&r.includeTime)})]})}function mde(e){return l.jsx(aRe,{...e,isDateTime:!1})}function _D(e){let{direction:t,isDateTime:n,onChange:r,value:o}=e;const{state:{fullscreen:i}}=Rt(),s=h.useMemo(()=>{switch(t){case"after":return"end";case"before":return"start";default:return}},[t]),a=h.useCallback(d=>{let{date:f}=d,p=null;f&&(p=Iu({date:f,dateOnly:!n,roundDay:o!=null&&o.includeTime?void 0:s})),r({includeTime:o==null?void 0:o.includeTime,date:p})},[n,r,s,o==null?void 0:o.includeTime]),c=h.useCallback(()=>{const d=!(o!=null&&o.includeTime),f=o!=null&&o.date?new Date(o.date):null;let p=null;f&&(p=Iu({date:f,dateOnly:!n,roundDay:d?"start":s})),r({includeTime:d,date:p})},[n,r,s,o]),u=h.useCallback(d=>{r({includeTime:o==null?void 0:o.includeTime,date:d||null})},[r,o==null?void 0:o.includeTime]);return l.jsxs(oe,{space:3,children:[l.jsx(U5,{"aria-label":"Date",fontSize:i?2:1,isDateTime:n,isDateTimeFormat:n&&(o==null?void 0:o.includeTime),onChange:u,radius:2,value:o==null?void 0:o.date}),l.jsx(jz,{date:o!=null&&o.date?new Date(o.date):void 0,onChange:a,selectTime:n}),n&&l.jsx(Ez,{onChange:c,value:!!(o!=null&&o.includeTime)})]})}function b1n(e){return l.jsx(_D,{...e,direction:"after",isDateTime:!1})}function x1n(e){return l.jsx(_D,{...e,direction:"before",isDateTime:!1})}function gde(e){let{onChange:t,value:n}=e;const[r,o]=h.useState((n==null?void 0:n.unitValue)||""),i=h.useRef("days"),s=h.useRef((n==null?void 0:n.unitValue)||null),{state:{fullscreen:a}}=Rt(),c=h.useCallback(()=>{t({unit:i==null?void 0:i.current,unitValue:s==null?void 0:s.current})},[t]),u=h.useCallback(f=>{i.current=f.currentTarget.value,c()},[c]),d=h.useCallback(f=>{o(f.currentTarget.value);const p=parseFloat(f.currentTarget.value);s.current=Number.isFinite(p)?p:null,c()},[c]);return l.jsxs(U,{gap:2,children:[l.jsx(M,{flex:1,children:l.jsx($r,{"aria-label":"Unit value",fontSize:a?2:1,onChange:d,pattern:"\\d*",radius:2,step:"1",type:"number",value:r})}),l.jsx(M,{flex:1,children:l.jsxs(Kf,{"aria-label":"Select unit",fontSize:a?2:1,onChange:u,radius:2,value:n==null?void 0:n.unit,children:[l.jsx("option",{value:"days",children:"Days"}),l.jsx("option",{value:"months",children:"Months"}),l.jsx("option",{value:"years",children:"Years"})]})})]})}const w1n=-7;function lRe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Rt(),i=h.useMemo(()=>Ki(new Date,w1n),[]),s=h.useMemo(()=>new Date,[]),a=h.useCallback(f=>{let{date:p,endDate:m}=f;n(vde({date:p,endDate:m,includeTime:r==null?void 0:r.includeTime,isDateTime:t}))},[t,n,r==null?void 0:r.includeTime]),c=h.useCallback(()=>{const f=!(r!=null&&r.includeTime);n(vde({date:r!=null&&r.dateMin?new Date(r.dateMin):null,endDate:r!=null&&r.dateMax?new Date(r.dateMax):null,includeTime:f,isDateTime:t}))},[t,n,r]),u=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:f||null,dateMin:(r==null?void 0:r.dateMin)||null})},[n,r]),d=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:(r==null?void 0:r.dateMax)||null,dateMin:f||null})},[n,r]);return l.jsx("div",{children:l.jsxs(oe,{space:3,children:[l.jsxs(U,{direction:"column",gap:3,children:[l.jsx(U5,{"aria-label":"Start date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:d,placeholderDate:i,radius:2,value:r==null?void 0:r.dateMin}),l.jsx(U5,{"aria-label":"End date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:u,placeholderDate:s,radius:2,value:r==null?void 0:r.dateMax})]}),l.jsx(jz,{date:r!=null&&r.dateMin?new Date(r.dateMin):void 0,endDate:r!=null&&r.dateMax?new Date(r.dateMax):void 0,onChange:a,selectRange:!0,selectTime:t}),t&&l.jsx(Ez,{onChange:c,value:!!(r!=null&&r.includeTime)})]})})}function vde(e){let{date:t,endDate:n,includeTime:r,isDateTime:o}=e;return r?{includeTime:r,dateMax:n?Iu({date:n,dateOnly:!o,roundDay:"start"}):null,dateMin:t?Iu({date:t,dateOnly:!o,roundDay:"start"}):null}:{includeTime:r,dateMax:n?Iu({date:n,dateOnly:!o,roundDay:"end"}):null,dateMin:t?Iu({date:t,dateOnly:!o,roundDay:"start"}):null}}function C1n(e){return l.jsx(lRe,{...e,isDateTime:!1})}function yde(e){return l.jsx(aRe,{...e,isDateTime:!0})}function _1n(e){return l.jsx(_D,{...e,direction:"after",isDateTime:!0})}function S1n(e){return l.jsx(_D,{...e,direction:"before",isDateTime:!0})}function E1n(e){return l.jsx(lRe,{...e,isDateTime:!0})}const Ca={dateAfter:{buttonLabel:"after",buttonValueComponent:zue,initialValue:null,label:"is after"},dateBefore:{buttonLabel:"before",buttonValueComponent:zue,initialValue:null,label:"is before"},dateEqual:{buttonLabel:"is",buttonValueComponent:Nue,initialValue:{date:null,includeTime:!1},label:"is"},dateLast:{buttonLabel:"last",buttonValueComponent:t0n,label:"is in the last"},dateNotEqual:{buttonLabel:"is not",buttonValueComponent:Nue,initialValue:{date:null,includeTime:!1},label:"is not"},dateRange:{buttonLabel:"is between",initialValue:null,label:"is between"}},k1n={dateAfter:{...Ca.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," > ").concat(Je(n==null?void 0:n.date)):null},inputComponent:b1n,type:"dateAfter"},dateBefore:{...Ca.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," < ").concat(Je(n==null?void 0:n.date)):null},inputComponent:x1n,type:"dateBefore"},dateEqual:{...Ca.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," == ").concat(Je(n.date)):null},inputComponent:mde,type:"dateEqual"},dateLast:{...Ca.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?DX(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString().split("T")[0]:null;return o&&t?"".concat(t," > ").concat(Je(o)):null},inputComponent:gde,initialValue:{unit:"days",unitValue:7},type:"dateLast"},dateNotEqual:{...Ca.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," != ").concat(Je(n.date)):null},inputComponent:mde,type:"dateNotEqual"},dateRange:{...Ca.dateRange,buttonValueComponent:Vue,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"".concat(t," >= ").concat(Je(n.dateMin)," && ").concat(t," <= ").concat(Je(n.dateMax)):null},initialValue:{includeTime:!1,dateMax:AX().toISOString(),dateMin:null},inputComponent:C1n,type:"dateRange"},dateTimeAfter:{...Ca.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") > dateTime(").concat(Je(n.date),")"):null},inputComponent:_1n,type:"dateTimeAfter"},dateTimeBefore:{...Ca.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") < dateTime(").concat(Je(n.date),")"):null},inputComponent:S1n,type:"dateTimeBefore"},dateTimeEqual:{...Ca.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!td(r)||!t)return null;const o=(n!=null&&n.includeTime?SX(r):Jf(r)).toISOString(),i=(n!=null&&n.includeTime?EX(r):Nk(r)).toISOString();return"dateTime(".concat(t,") > dateTime(").concat(Je(o),") && dateTime(").concat(t,") < dateTime(").concat(Je(i),")")},inputComponent:yde,type:"dateTimeEqual"},dateTimeLast:{...Ca.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?DX(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString():null;return o&&t?"dateTime(".concat(t,") > dateTime(").concat(Je(o),")"):null},initialValue:{unit:"days",unitValue:7},inputComponent:gde,type:"dateTimeLast"},dateTimeNotEqual:{...Ca.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!td(r)||!t)return null;const o=(n!=null&&n.includeTime?SX(r):Jf(r)).toISOString(),i=(n!=null&&n.includeTime?EX(r):Nk(r)).toISOString();return"dateTime(".concat(t,") < dateTime(").concat(Je(o),") || dateTime(").concat(t,") > dateTime(").concat(Je(i),")")},inputComponent:yde,type:"dateTimeNotEqual"},dateTimeRange:{...Ca.dateRange,buttonValueComponent:Vue,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"dateTime(".concat(t,") >= dateTime(").concat(Je(n.dateMin),") && dateTime(").concat(t,") <= dateTime(").concat(Je(n.dateMax),")"):null},initialValue:{includeTime:!1,dateMax:AX().toISOString(),dateMin:null},inputComponent:E1n,type:"dateTimeRange"}},j1n={numberEqual:{buttonLabel:"is",buttonValueComponent:yg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," == ").concat(Je(n)):null},initialValue:null,inputComponent:Oa,label:"is",type:"numberEqual"},numberGt:{buttonLabel:">",buttonValueComponent:yg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," > ").concat(Je(n)):null},icon:eRe,initialValue:null,inputComponent:Oa,label:"greater than",type:"numberGt"},numberGte:{buttonLabel:"≥",buttonValueComponent:yg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," >= ").concat(Je(n)):null},icon:J3e,initialValue:null,inputComponent:Oa,label:"greater than or equal to",type:"numberGte"},numberLt:{buttonLabel:"<",buttonValueComponent:yg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," < ").concat(Je(n)):null},icon:nRe,initialValue:null,inputComponent:Oa,label:"less than",type:"numberLt"},numberLte:{buttonLabel:"≤",buttonValueComponent:yg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," <= ").concat(Je(n)):null},icon:tRe,initialValue:null,inputComponent:Oa,label:"less than or equal to",type:"numberLte"},numberNotEqual:{buttonLabel:"is not",buttonValueComponent:yg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," != ").concat(Je(n)):null},initialValue:null,inputComponent:Oa,label:"is not",type:"numberNotEqual"},numberRange:{buttonLabel:"is between",buttonValueComponent:n0n,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"".concat(t," > ").concat(Je(n==null?void 0:n.min)," && ").concat(t," < ").concat(Je(n==null?void 0:n.max)):""},initialValue:null,inputComponent:q3e,label:"is between",type:"numberRange"}};function Fa(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Rt(),o=h.useCallback(i=>t(i.currentTarget.value||null),[t]);return l.jsx($r,{fontSize:r?2:1,onChange:o,placeholder:"Value",radius:2,value:n||""})}const T1n={portableTextEqual:{buttonLabel:"is",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") == ").concat(Je(n)):null},initialValue:null,inputComponent:Fa,label:"is",type:"portableTextEqual"},portableTextMatches:{buttonLabel:"contains",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") match ").concat(Je(n)):null},initialValue:null,inputComponent:Fa,label:"contains",type:"portableTextMatches"},portableTextNotEqual:{buttonLabel:"is not",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") != ").concat(Je(n)):null},initialValue:null,inputComponent:Fa,label:"is not",type:"portableTextNotEqual"},portableTextNotMatches:{buttonLabel:"does not contain",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(pt::text(".concat(t,") match ").concat(Je(n),")"):null},initialValue:null,inputComponent:Fa,label:"does not contain",type:"portableTextNotMatches"}},A1n={referenceEqual:{buttonLabel:"is",buttonValueComponent:Cl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref == ").concat(Je(n._ref)):null},initialValue:null,inputComponent:Lb,label:"is",type:"referenceEqual"},referenceNotEqual:{buttonLabel:"is not",buttonValueComponent:Cl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref != ").concat(Je(n._ref)):null},initialValue:null,inputComponent:Lb,label:"is not",type:"referenceNotEqual"},referencesAssetFile:{buttonLabel:"→",buttonValueComponent:Cl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Je(t._ref),")"):null},initialValue:null,inputComponent:cv("file"),label:"file",type:"referencesAssetFile"},referencesAssetImage:{buttonLabel:"→",buttonValueComponent:Cl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Je(t._ref),")"):null},initialValue:null,inputComponent:cv("image"),label:"image",type:"referencesAssetImage"},referencesDocument:{buttonLabel:"→",buttonValueComponent:Cl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Je(t._ref),")"):null},initialValue:null,inputComponent:Lb,label:"document",type:"referencesDocument"}},D1n={slugEqual:{buttonLabel:"is",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current == ").concat(Je(n)):null},initialValue:null,inputComponent:Fa,label:"is",type:"slugEqual"},slugMatches:{buttonLabel:"contains",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current match ").concat(Je(n)):null},initialValue:null,inputComponent:Fa,label:"contains",type:"slugMatches"},slugNotEqual:{buttonLabel:"is not",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current != ").concat(Je(n)):null},initialValue:null,inputComponent:Fa,label:"is not",type:"slugNotEqual"},slugNotMatches:{buttonLabel:"does not contain",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t,".current match ").concat(Je(n),")"):null},initialValue:null,inputComponent:Fa,label:"does not contain",type:"slugNotMatches"}},I1n={stringEqual:{buttonLabel:"is",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Je(n)):null},initialValue:null,inputComponent:Fa,label:"is",type:"stringEqual"},stringListEqual:{buttonLabel:"is",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Je(n)):null},initialValue:null,inputComponent:H5,label:"is",type:"stringListEqual"},stringListNotEqual:{buttonLabel:"is not",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Je(n)):null},initialValue:null,inputComponent:H5,label:"is not",type:"stringListNotEqual"},stringMatches:{buttonLabel:"contains",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," match ").concat(Je(n)):null},initialValue:null,inputComponent:Fa,label:"contains",type:"stringMatches"},stringNotEqual:{buttonLabel:"is not",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Je(n)):null},initialValue:null,inputComponent:Fa,label:"is not",type:"stringNotEqual"},stringNotMatches:{buttonLabel:"does not contain",buttonValueComponent:ji,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t," match ").concat(Je(n),")"):null},initialValue:null,inputComponent:Fa,label:"does not contain",type:"stringNotMatches"}},O1n={...E0n,...V0n,...U0n,...k1n,...W0n,...j1n,...T1n,...A1n,...D1n,...I1n},P1n=Object.values(O1n);function tc(e){const t=typeof e;if(t==="object"){if(e===null)return"null";if(Array.isArray(e))return"array";if(e instanceof Object&&e.constructor.name!=="Object")return e.constructor.name}return t}const SD=(e,t)=>{let{plugins:n=[],...r}=e;const o={config:r,path:[...t,r.name]};return[...n.flatMap(a=>SD(a,[...t,r.name])),o]},R1n=[],$1n=[],M1n=[],F1n=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.types;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.types` to be an array or a function, but received ".concat(tc(o)))},L1n=async(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.productionUrl;return o?await o(e,n):e},B1n=(e,t,n)=>{let{tools:r}=t;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error("Expected `tools` to be an array or a function, but received ".concat(tc(r)))},N1n=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.templates;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.templates` to be an array or a function, but received ".concat(tc(o)))},z1n=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.badges;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.badges` to be an array or a function, but received ".concat(tc(o)))},V1n=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.actions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.actions` to be an array or a function, but received ".concat(tc(o)))},H1n=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.newDocumentOptions;if(!o)return e;if(typeof o!="function")throw new Error("Expected `document.resolveNewDocumentOptions` to be a function, but received ".concat(tc(o)));return o(e,n)},U1n=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.file)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.file.assetSources` to be an array or a function, but received ".concat(tc(i)))},W1n=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.image)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.image.assetSources` to be an array or a function, but received ".concat(tc(i)))},Y1n=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_languageFilter;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_languageFilter` to be an array or a function, but received ".concat(tc(o)))},q1n=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.inspectors;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.inspectors` to be an array or a function, but received ".concat(tc(o)))},G1n=e=>{const{config:t,context:n,initialValue:r}=e;return SD(t,[]).reduce((s,a)=>{let{config:c}=a;var u,d;const f=(d=(u=c.document)==null?void 0:u.unstable_comments)==null?void 0:d.enabled;if(!f&&typeof f!="boolean")return s;if(typeof f=="function")return f(n);if(typeof f=="boolean")return f;throw new Error("Expected `document.unstable_comments.enabled` to be a boolean or a function, but received ".concat(tc(f)))},r)};class bde extends Error{constructor(t){let{propertyName:n,path:r,cause:o}=t;const i=yt(o)&&typeof(o==null?void 0:o.message)=="string"?": ".concat(o.message):"";super("An error occurred while resolving `".concat(n,"` from ").concat(r.join(" > ")).concat(i)),this.propertyName=n,this.cause=o,this.path=r}}function Sa(e){let{config:t,context:n,initialValue:r,propertyName:o,...i}=e;const s=SD(t,[]);if("reducer"in i)return s.reduce((c,u)=>{let{config:d,path:f}=u;try{return i.reducer(c,d,n)}catch(p){throw new bde({propertyName:o,path:f,cause:p})}},r);const a=i.asyncReducer;return(async()=>{let c=r;for(const{config:u,path:d}of s)try{c=await a(c,u,n)}catch(f){throw new bde({propertyName:o,path:d,cause:f})}return c})()}class La extends Error{constructor(t){let{causes:n,name:r,type:o}=t;const i=n.filter(Boolean).map(s=>yt(s)&&typeof(s==null?void 0:s.message)=="string"?s.message:String(s));super("Could not resolve ".concat(o).concat(r?" `".concat(r,"`"):"",`:
`).concat(i.map(s=>"	- ".concat(s)).join(`
`),`

`)),this.name=r,this.causes=n,this.type=o}}class Az extends Error{constructor(t){super("SchemaError"),this.schema=t}}var xde=Object.freeze,K1n=Object.defineProperty,Z1n=(e,t)=>xde(K1n(e,"raw",{value:xde(t||e.slice())})),wde;function Cde(e){const t=e.split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0)|0,0);return Math.abs(t*16807%2147483647)/2147483647}const X1n=P.text(wde||(wde=Z1n([`
  font-family: `,`;
  font-weight: `,`;
  font-size: 16px;
  transform: translateY(1px);
`])),e=>{let{theme:t}=e;return t.sanity.fonts.heading.family},e=>{let{theme:t}=e;return t.sanity.fonts.heading.weights.bold});function Q1n(e,t){const n=Cde("".concat(e," ").concat(t)),r=x1e.filter(m=>m!=="gray"),o=r[Math.floor(n*r.length)],i=["300","400","500","600","700"],s=Cde(n.toString()),a=i[Math.floor(s*i.length)],c=pe[o][a].hex,u=e.split(/\s/g).map(m=>m.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(m=>m.charAt(0).toUpperCase()),d=fDe(c,.4),f=PWt(c,.4),p=Iee(c,"readable",d)?Iee(c,"readable",f)?$Wt(c):f:d;return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[l.jsx("rect",{width:32,height:32,rx:2,fill:c}),l.jsx(X1n,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:p,children:u})]})}const J1n=e=>e.severity==="error";function eyn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return Kl.isValidElementType(e)?h.createElement(e):h.isValidElement(e)?e:Q1n(t,n)}const C3=new WeakMap;function tyn(e,t){if(!Array.isArray(e)&&"missingConfigFile"in e)throw new La({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const n=iyn(t==null?void 0:t.basePath),r=Array.isArray(e)?e:[e];try{pyn({workspaces:r})}catch(i){throw new La({name:"",type:"workspace",causes:[i.message]})}return{type:"prepared-config",workspaces:r.map(i=>{if(C3.has(i))return C3.get(i);const{unstable_sources:s=[],...a}=i,u=[a,...s].map(p=>{const{projectId:m,dataset:v}=p;let g;try{g=Sa({propertyName:"schema.types",config:p,context:{projectId:m,dataset:v},initialValue:[],reducer:F1n})}catch(_){throw new La({name:p.name,type:"source",causes:[_]})}const y=GQt({name:p.name,types:g}),x=y._validation,b=x==null?void 0:x.filter(_=>_.problems.some(J1n));if(x&&(b!=null&&b.length))throw new Az(y);const w=nyn(p),C=w.state.pipe(ue(_=>{let{client:S,authenticated:E,currentUser:j}=_;return oyn({config:p,client:S,currentUser:j,schema:y,authenticated:E,auth:w})}),Ri(1));return{name:p.name,projectId:p.projectId,dataset:p.dataset,title:p.title||cn(p.name),auth:w,schema:y,source:C}}),d=a.title||cn(a.name),f={type:"workspace-summary",auth:u[0].auth,basePath:syn(n,a.basePath),dataset:a.dataset,schema:u[0].schema,icon:eyn(a.icon,d,"".concat(a.projectId," ").concat(a.dataset)),name:a.name||"default",projectId:a.projectId,theme:a.theme||Gf,title:d,subtitle:a.subtitle,__internal:{sources:u}};return C3.set(i,f),f})}}function nyn(e){if(NXt(e.auth))return e.auth;const t=e.unstable_clientFactory||REe,{projectId:n,dataset:r,apiHost:o}=e;return BXt({apiHost:o,...e.auth,clientFactory:t,dataset:r,projectId:n})}function ryn(e,t){const n=e.withConfig({apiVersion:"2022-06-30"}),{dataset:r,url:o,requestTagPrefix:i="sanity.studio"}=n.config(),s="".concat(o.replace(/\/+$/,""),"/socket/").concat(r).replace(/^http/,"ws"),a="".concat(s,"?tag=").concat(i),c=t.token?{token$:t.token}:{};return ywt(a,c)}function oyn(e){let{config:t,client:n,currentUser:r,schema:o,authenticated:i,auth:s}=e;var a,c,u,d;const{dataset:f,projectId:p}=t,m=ryn(n,s),v=[],g={},y=T=>{if(!T||!T.apiVersion)throw new Error("Missing required `apiVersion` option");return g[T.apiVersion]||(g[T.apiVersion]=n.withConfig(T)),g[T.apiVersion]},x={client:n,getClient:y,currentUser:r,dataset:f,projectId:p,schema:o},b=n;x.client=[...Object.keys(n),...Object.keys(b.__proto__)].reduce((T,A)=>{const D=Object.hasOwnProperty.call(n,A)?b[A]:b.__proto__[A];return Object.defineProperty(T,A,{get(){return console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),D}})},{});let w;try{w=Sa({config:t,context:x,propertyName:"schema.templates",reducer:N1n,initialValue:o.getTypeNames().filter(T=>!/^sanity\./.test(T)).map(T=>o.get(T)).filter(go).filter(T=>{var A;return((A=T.type)==null?void 0:A.name)==="document"}).map(T=>({id:T.name,schemaType:T.name,title:T.title||T.name,icon:T.icon,value:T.initialValue||{_type:T.name}}))})}catch(T){throw new La({name:t.name,type:"source",causes:[T]})}let C;try{C=Sa({config:t,context:x,initialValue:[],propertyName:"tools",reducer:B1n})}catch(T){throw new La({name:t.name,type:"source",causes:[T]})}if(C.some(T=>{let{name:A}=T;return A==="tool"}))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const _=w.filter(T=>{var A;return!((A=T.parameters)!=null&&A.length)}).map(T=>({templateId:T.id,description:T.description,icon:T.icon,title:T.title})),S=w.reduce((T,A)=>(T.set(A.id,A),T),new Map),E=T=>{const{schemaType:A}=T,D=Sa({config:t,context:{...x,creationContext:T},initialValue:_,propertyName:"document.resolveNewDocumentOptions",reducer:H1n}),I=[];if(I.length)throw new La({name:t.name,type:"source",causes:I});return D.map((O,$)=>{const R=S.get(O.templateId);if(!R)throw new Error("Could not find template with ID `".concat(O.templateId,"`"));const V=o.get(R.schemaType);if(!V)throw new Error("Could not find matching schema type `".concat(R.schemaType,"` for template `").concat(R.id,"`"));const N=O.title||R.title,W=(V==null?void 0:V.title)===N||V==null?void 0:V.title;return{id:"".concat(O.templateId,"-").concat($),templateId:O.templateId,type:"initialValueTemplateItem",title:N,subtitle:O.subtitle||W,description:O.description||R.description,icon:O.icon||R.icon||(V==null?void 0:V.icon),initialDocumentId:O.initialDocumentId,parameters:O.parameters,schemaType:R.schemaType}}).filter(O=>{var $;return!A||T.type==="document"?!0:A===(($=S.get(O.templateId))==null?void 0:$.schemaType)})};let j;try{j=E({type:"global"})}catch(T){v.push(T)}if(v.length)throw new La({name:t.name,type:"source",causes:v});return{type:"source",name:t.name,title:t.title||cn(t.name),schema:o,getClient:y,dataset:f,projectId:p,tools:C,currentUser:r,authenticated:i,templates:w,auth:s,document:{actions:T=>Sa({config:t,context:{...x,...T},initialValue:$1n,propertyName:"document.actions",reducer:V1n}),badges:T=>Sa({config:t,context:{...x,...T},initialValue:R1n,propertyName:"document.badges",reducer:z1n}),unstable_fieldActions:T=>Sa({config:t,context:{...x,...T},initialValue:ZXt,propertyName:"document.unstable_fieldActions",reducer:KXt}),inspectors:T=>Sa({config:t,context:{...x,...T},initialValue:hn,propertyName:"document.inspectors",reducer:q1n}),resolveProductionUrl:T=>Sa({config:t,context:{...x,...T},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:L1n}),resolveNewDocumentOptions:E,unstable_languageFilter:T=>Sa({config:t,context:{...x,...T},initialValue:M1n,propertyName:"document.unstable_languageFilter",reducer:Y1n}),unstable_comments:{enabled:T=>G1n({context:T,config:t,initialValue:!1})}},form:{file:{assetSources:Sa({config:t,context:x,initialValue:[U3e],propertyName:"formBuilder.file.assetSources",reducer:U1n}),directUploads:((c=(a=t.form)==null?void 0:a.file)==null?void 0:c.directUploads)===void 0?!0:t.form.file.directUploads},image:{assetSources:Sa({config:t,context:x,initialValue:[W3e],propertyName:"formBuilder.image.assetSources",reducer:W1n}),directUploads:((d=(u=t.form)==null?void 0:u.image)==null?void 0:d.directUploads)===void 0?!0:t.form.image.directUploads}},search:{filters:Qvn,operators:P1n},__internal:{bifur:m,staticInitialValueTemplateItems:j,options:t}}}function iyn(e){const t=e||"";if(typeof t!="string"||t.length>0&&!t.startsWith("/"))throw new La({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return t==="/"?"":t}function syn(e,t){const n=[e,t||""].map(r=>r.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/");return"/".concat(n)}function ayn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return h.useMemo(()=>({projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}),[t,n,r,o,i])}function lyn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}}function cyn(e){const{title:t}=e;return l.jsx(M,{padding:3,children:l.jsx(L,{weight:"bold",children:t})})}const ED=h.createContext(null),kD=h.createContext(null);function cRe(){return tXe()?"dark":"light"}function uRe(e){let{children:t,scheme:n}=e;const r=cRe(),o=n==="system"?r:n;return l.jsx(XE,{scheme:o,theme:Gf,children:t})}const _de="sanityStudio:ui:colorScheme";function uyn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return r?l.jsx(fyn,{scheme:r,onSchemeChange:n,children:t}):l.jsx(dyn,{onSchemeChange:n,children:t})}function dyn(e){let{children:t,onSchemeChange:n}=e;const r=h.useMemo(()=>{let i;const s=new Set;return{subscribe:a=>(i||(i=Sde(localStorage.getItem(_de))||"system"),s.add(a),()=>{s.delete(a)}),getSnapshot:()=>i,setSnapshot:a=>{i=Sde(a);for(const c of s)c()},getServerSnapshot:()=>"system"}},[]),o=h.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return h.useEffect(()=>{typeof n=="function"&&n(o),localStorage.setItem(_de,o)},[n,o]),l.jsx(kD.Provider,{value:r.setSnapshot,children:l.jsx(ED.Provider,{value:o,children:l.jsx(uRe,{scheme:o,children:t})})})}function Sde(e){switch(e){case"dark":case"light":return e;default:return"system"}}function fyn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return l.jsx(kD.Provider,{value:typeof n=="function"?n:!1,children:l.jsx(ED.Provider,{value:r,children:l.jsx(uRe,{scheme:r,children:t})})})}function Dz(){const e=h.useContext(kD);if(e===null)throw new Error("Could not find `ColorSchemeSetValueContext` context");return e}function dRe(){const e=h.useContext(ED);if(e===null)throw new Error("Could not find `ColorSchemeValueContext` context");return e}function fRe(){const e=dRe(),t=cRe();return e==="system"?t:e}function tu(){const e=fRe(),t=Dz();return h.useMemo(()=>({scheme:e,setScheme:t}),[e,t])}function hRe(e){const t=dRe();return h.useMemo(()=>[{title:"System",name:"system",label:"Use system appearance",selected:t==="system",onSelect:()=>e("system"),icon:O1e},{title:"Dark",name:"dark",label:"Use dark appearance",selected:t==="dark",onSelect:()=>e("dark"),icon:_6},{title:"Light",name:"light",label:"Use light appearance",selected:t==="light",onSelect:()=>e("light"),icon:j6}],[t,e])}const pRe=h.createContext(null);function hyn(e){let{config:t,children:n,basePath:r}=e;const{workspaces:o}=h.useMemo(()=>tyn(t,{basePath:r}),[t,r]);return l.jsx(pRe.Provider,{value:o,children:n})}function Zy(e,t){let{name:n,title:r}=e;return typeof n=="string"&&n.trim().length>0?n:pF(r,t)}function pF(e,t){const n=typeof e=="string"&&e.trim().length>0?' (titled "'.concat(e,'")'):"";return"at index ".concat(t).concat(n)}function OC(){const e=h.useContext(pRe);if(!e)throw new Error("Could not find `workspaces` context");return e}class Dc extends Error{constructor(t,n){super(t),this.index=n==null?void 0:n.index,this.identifier=(n==null?void 0:n.workspace)&&Zy(n.workspace,n.index)}}function pyn(e){let{workspaces:t}=e;if(t.length===0)throw new Dc("At least one workspace is required.");myn(t),gyn(t)}function myn(e){const t=e.length===1,n=new Map;e.forEach((r,o)=>{const{name:i,title:s}=r,a=pF(s,o);if(!i&&!t)throw new Dc("All workspaces must have a `name`, unless only a single workspace is defined. "+"Workspace ".concat(a," did not define a `name`."),{workspace:r,index:o});const c=t&&typeof i>"u"?"default":i;if(typeof c!="string")throw new Dc("Workspace at index ".concat(o," defined an invalid `name` - must be a string."),{workspace:r,index:o});const u=c.toLowerCase(),d=n.get(u);if(d){const f=pF(d.workspace.title,d.index);throw new Dc("`name`s must be unique. Workspace ".concat(f," and ")+"workspace ".concat(a," both have the `name` `").concat(c,"`"),{workspace:r,index:o})}if(n.set(u,{index:o,workspace:r}),!/^[a-z0-9][a-z0-9_-]*$/i.test(c))throw new Dc("All workspace `name`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. "+"Workspace ".concat(a," has the invalid name `").concat(c,"`"),{workspace:r,index:o})})}function gyn(e){e.length>1&&e.every(vyn),e.every(yyn);const[t,...n]=e,r=(t.basePath||"/").substring(1).split("/").filter(Boolean).length;n.forEach((i,s)=>{const a=(i.basePath||"/").substring(1).split("/").length;if(r!==a)throw new Dc("All workspace `basePath`s must have the same amount of segments. Workspace `".concat(Zy(t,s),"` had ").concat(r," segment").concat(r===1?"":"s"," `").concat(t.basePath,"` but workspace `").concat(Zy(i,s),"` had ").concat(a," segment").concat(a===1?"":"s"," `").concat(i.basePath,"`"),{workspace:i,index:s})});const o=new Map;e.forEach((i,s)=>{const a=(i.basePath||"").toLowerCase(),c=o.get(a);if(c)throw new Dc("`basePath`s must be unique. Workspaces `".concat(c,"` and ")+"`".concat(Zy(i,s),"` both have the `basePath` `").concat(a,"`"),{workspace:i,index:s});o.set(a,Zy(i,s))})}function vyn(e,t){const{name:n,basePath:r}=e;if(r&&typeof r=="string")return!0;throw typeof r>"u"?new Dc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` is missing a `basePath`"),{workspace:e,index:t}):new Dc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` has an invalid `basePath` (must be a non-empty string)"),{workspace:e,index:t})}function yyn(e,t){const{name:n,basePath:r}=e;if(!(!r||r==="/")&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new Dc("All workspace `basePath`s must start with a leading `/`, consist of only URL safe characters, and cannot end with a trailing `/`. "+"Workspace `".concat(n,"`'s basePath is `").concat(r,"`"),{workspace:e,index:t})}function byn(){return l.jsx(ee,{height:"fill",children:l.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(Qr,{width:0,children:l.jsx(ee,{padding:4,radius:2,shadow:1,tone:"caution",children:l.jsxs(U,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Mr,{})})}),l.jsxs(oe,{flex:1,marginLeft:3,space:3,children:[l.jsx(L,{as:"h1",size:1,weight:"bold",children:"No configured tools"}),l.jsx(L,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),l.jsx(L,{as:"p",muted:!0,size:1,children:l.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool →"})})]})]})})})})})}function xyn(e){const{reason:t="Redirecting…"}=e;return l.jsx(ee,{height:"fill",children:l.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(Qr,{width:0,children:l.jsx(ee,{padding:4,radius:2,shadow:1,tone:"primary",children:l.jsxs(U,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(y6,{})})}),l.jsx(oe,{flex:1,marginLeft:3,space:3,children:l.jsx(L,{as:"h1",size:1,weight:"bold",children:t})})]})})})})})}function wyn(e){const{toolName:t}=e;return l.jsx(ee,{height:"fill",children:l.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(Qr,{width:0,children:l.jsx(ee,{padding:4,radius:2,shadow:1,tone:"caution",children:l.jsxs(U,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Mr,{})})}),l.jsx(oe,{flex:1,marginLeft:3,space:3,children:l.jsxs(L,{as:"h1",size:1,weight:"bold",children:["Tool not found: ",l.jsx("code",{children:t})]})})]})})})})})}function Bb(){return l.jsxs(U,{as:ee,justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[l.jsx(L,{muted:!0,children:"Loading…"}),l.jsx(ur,{muted:!0})]})}var Ede=Object.freeze,Cyn=Object.defineProperty,mRe=(e,t)=>Ede(Cyn(e,"raw",{value:Ede(t||e.slice())})),kde,jde;const _yn={error:"critical",warning:"caution"},Tde=P.code(kde||(kde=mRe([`
  && {
    background: none;
    color: inherit;
  }
`]))),Syn=P(L)(jde||(jde=mRe([`
  white-space: pre-line;
`])));function gRe(e){const{problemGroups:t}=e,n=h.useMemo(()=>{const r=[];for(const o of t)for(const i of o.problems)r.push({group:o,problem:i});return r},[t]);return l.jsx(oe,{as:"ul",space:4,children:n.map((r,o)=>{let{group:i,problem:s}=r;const a=s.severity==="error",c=s.severity==="warning",u=Eyn(i);return l.jsxs(ee,{border:!0,padding:4,radius:2,tone:_yn[s.severity],children:[l.jsxs(U,{children:[l.jsx(M,{marginRight:3,children:l.jsxs(L,{muted:!0,size:1,children:[a&&l.jsx(fa,{}),c&&l.jsx(Mr,{})]})}),l.jsx(M,{flex:1,children:l.jsx(L,{size:1,weight:"semibold",children:u?l.jsxs(l.Fragment,{children:[Vm(u.type),' type "',u.name,'"']}):null})})]}),l.jsx(M,{marginTop:4,children:l.jsx(ee,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:l.jsx(b8,{separator:l.jsx(L,{muted:!0,size:1,children:"→"}),children:i.path.map((d,f)=>{if(d.kind==="type"){const p="".concat(kyn(d.name),":").concat(d.type);return l.jsx(L,{title:p,size:1,textOverflow:"ellipsis",children:l.jsx(Tde,{children:p})},f)}return d.kind==="property"?l.jsx(L,{title:d.name,size:1,textOverflow:"ellipsis",children:l.jsx(Tde,{children:d.name})},f):null})})})}),l.jsx(M,{as:"ul",marginTop:4,children:l.jsx(M,{as:"li",children:l.jsxs(oe,{space:3,children:[l.jsx(Syn,{muted:!0,size:1,children:s.message}),s.helpId&&l.jsx(L,{muted:!0,size:1,children:l.jsx("a",{href:Z9(s.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation →"})})]})})})]},o)})})}function Eyn(e){const t=e.path[0];return t.kind==="type"?{name:t.name,type:t.type}:null}function kyn(e){if(e!=null&&e.startsWith("<unnamed_type_@_index")){const t=e.slice(1,-1).split("_");return"[".concat(t[4],"]")}return e}function jyn(e){return e.map(t=>t.kind==="type"?"".concat(t.name||"<unnamed>","(").concat(t.type,")"):t.kind==="property"?t.name:null).filter(Boolean).join(" > ")}function Tyn(e){const t=e._validation,n=t==null?void 0:t.filter(r=>r.problems.some(o=>o.severity==="warning"));(n==null?void 0:n.length)!==0&&(console.groupCollapsed("⚠️ Schema has ".concat(n==null?void 0:n.length," warnings")),n==null||n.forEach(r=>{const o=jyn(r.path);console.group("%cAt ".concat(o),"color: #FF7636"),r.problems.forEach(i=>{console.log(i.message)}),console.groupEnd()}),console.groupEnd())}function Ayn(e){let{schema:t}=e;var n;const r=((n=t._validation)==null?void 0:n.filter(o=>o.problems.some(i=>i.severity==="error")))||[];return h.useEffect(()=>Tyn(t),[t]),l.jsx(ee,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:l.jsx(Qr,{width:1,children:l.jsxs(oe,{space:5,children:[l.jsx(Uo,{as:"h1",children:"Schema errors"}),l.jsx(gRe,{problemGroups:r})]})})})}function Dyn(e){return l.jsx(ee,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:l.jsx(U,{direction:"row",justify:"center",flex:1,align:"center",children:l.jsxs(oe,{space:4,children:[l.jsx(Uo,{as:"h1",children:"Workspace not found"}),l.jsx(qt,{children:l.jsx(se,{text:"Go to default workspace",onClick:e.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}const vRe=h.createContext(null);function Iyn(e){let{pathname:t,workspaces:n,basePathRegex:r}=e;const[o]=n;for(const{workspace:i,basePath:s,basePathRegex:a}of n)if(a.test(t)||s==="/")return{type:"match",workspace:i};return t==="/"?{type:"redirect",pathname:o.basePath}:r.test(t)?{type:"redirect",pathname:o.basePath}:{type:"not-found"}}function Oyn(e){const n=e.map(o=>o.basePath.substring(1).split("/")).reduce((o,i)=>{for(let s=0;s<o.length;s++){const a=o[s],c=i[s].toLowerCase();if(a!==c)return o.slice(0,s)}return o});function r(o){let[i,...s]=o;return i?"(\\/".concat(MB(i)).concat(r(s),"(\\/|$))?"):""}return new RegExp("^".concat(r(n),"$"),"i")}function Pyn(e){return h.useMemo(()=>Ryn(e),[e])}function Ryn(e){return e.map(t=>{const n=t.basePath||"/";return{workspace:t,name:t.name,basePath:n,basePathRegex:new RegExp("^".concat(MB(n),"(\\/|$)"),"i")}})}function $yn(e,t){const n=Pyn(t),r=h.useMemo(()=>Oyn(n),[n]),[o]=h.useState(()=>e.location.pathname),i=h.useMemo(()=>({subscribe:s=>e.listen(s),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>o,selector:s=>Iyn({basePathRegex:r,pathname:s,workspaces:n}),isEqual:(s,a)=>{if(s.type!==a.type)return!1;switch(s.type){case"match":return s.workspace===a.workspace;case"redirect":return s.pathname===a.pathname;case"not-found":return!0;default:throw new Error("Unknown type: ".concat(s.type))}}}),[r,e,o,n]);return IB.useSyncExternalStoreWithSelector(i.subscribe,i.getSnapshot,i.getServerSnapshot,i.selector,i.isEqual)}const yRe=h.createContext(null);function Myn(e){let{children:t,history:n}=e;return l.jsx(yRe.Provider,{value:n,children:t})}function Fyn(){const e=h.useContext(yRe);if(!e)throw new Error("Could not find `RouterHistoryProvider` context");return e}const Lyn=h.memo(function(t){let{children:n,history:r,activeWorkspace:o,setActiveWorkspace:i}=t;const s=h.useMemo(()=>({activeWorkspace:o,setActiveWorkspace:i}),[o,i]);return l.jsx(vRe.Provider,{value:s,children:l.jsx(Myn,{history:r,children:n})})}),Byn=()=>typeof document>"u"?fYt():dYt();function Nyn(e){let{children:t,LoadingComponent:n,NotFoundComponent:r,unstable_history:o}=e;const i=OC(),s=h.useMemo(()=>o||Byn(),[o]),a=h.useCallback(d=>{const f=i.find(p=>p.name===d);f&&s.push(f.basePath)},[s,i]),c=h.useCallback(()=>{a(i[0].name)},[a,i]),u=$yn(s,i);switch(h.useEffect(()=>{u.type==="redirect"&&s.replace(u.pathname)},[s,u]),u.type){case"match":return l.jsx(Lyn,{activeWorkspace:u.workspace,history:s,setActiveWorkspace:a,children:t});case"redirect":return l.jsx(n,{});case"not-found":return l.jsx(r,{onNavigateToDefaultWorkspace:c});default:throw new Error("Unknown type: ".concat(u.type))}}function b1(){const e=h.useContext(vRe);if(!e)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return e}var Ade=Object.freeze,zyn=Object.defineProperty,Vyn=(e,t)=>Ade(zyn(e,"raw",{value:Ade(t||e.slice())})),Dde;const Ide={"logged-in":"","logged-out":"Signed out","no-access":""},Hyn=P(ee)(Dde||(Dde=Vyn([`
  width: 35px;
  height: 35px;

  svg {
    width: 100%;
    height: 100%;
  }
`]))),Ode=e=>{if(Kl.isValidElementType(e))return h.createElement(e);if(h.isValidElement(e))return e};function mF(e){const{state:t,subtitle:n,selected:r,title:o,icon:i,iconRight:s}=e,a=h.useMemo(()=>Ode(i),[i]),c=h.useMemo(()=>Ode(s),[s]);return l.jsxs(U,{align:"center",flex:"none",gap:3,children:[l.jsx(Hyn,{radius:2,tone:"transparent",children:a}),l.jsxs(oe,{flex:1,space:2,children:[l.jsx(L,{textOverflow:"ellipsis",weight:"medium",children:o}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:n})]}),t&&Ide[t]&&l.jsx(M,{paddingLeft:1,children:l.jsx(L,{size:1,muted:!0,textOverflow:"ellipsis",children:Ide[t]})}),(r||c)&&l.jsxs(U,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[r&&l.jsx(L,{children:l.jsx(sa,{})}),c&&l.jsx(L,{muted:!0,children:c})]})]})}const bRe=_h(e=>oi(e.map(t=>t.auth.state.pipe(ue(n=>[t.name,n])))).pipe(ue(t=>Object.fromEntries(t)))),Uyn="https://beta.sanity.io/docs/platform/studio/config/workspaces";var Pde=Object.freeze,Wyn=Object.defineProperty,Yyn=(e,t)=>Pde(Wyn(e,"raw",{value:Pde(t||e.slice())})),Rde;const $de=[{url:"https://slack.sanity.io/",title:"Community"},{url:"https://www.sanity.io/docs",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",title:"Privacy"},{url:"https://www.sanity.io",title:"sanity.io"}],qyn=P(L)(Rde||(Rde=Yyn([`
  a {
    color: inherit;
  }
`])));function Mde(e){const{children:t,footer:n,header:r}=e;return l.jsxs(oe,{space:6,children:[l.jsx(ee,{border:!0,radius:3,overflow:"auto",children:l.jsxs(oe,{children:[typeof r=="object"&&l.jsx(M,{children:r}),typeof r=="string"&&l.jsx(M,{paddingY:4,children:l.jsx(Uo,{align:"center",size:1,children:r})}),l.jsx(M,{paddingX:1,children:l.jsx(ee,{borderTop:!!r,borderBottom:!!n,children:t})}),n&&l.jsx(M,{children:n})]})}),l.jsxs(U,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[l.jsx(L,{size:3,children:l.jsx(yYt,{})}),l.jsx(U,{align:"center",gap:2,children:$de.map((o,i)=>l.jsxs(ie.Fragment,{children:[l.jsx(qyn,{muted:!0,size:1,children:l.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:o.title})}),i<$de.length-1&&l.jsx(L,{size:1,muted:!0,children:"•"})]},o.title))})]})]})}function Gyn(){var e;const t=OC(),{activeWorkspace:n,setActiveWorkspace:r}=b1(),[o]=bRe(t),[i,s]=h.useState((n==null?void 0:n.name)||null),a=t.length===1?t[0]:t.find(d=>d.name===i),c=(e=a==null?void 0:a.auth)==null?void 0:e.LoginComponent,u=h.useCallback(()=>s(null),[]);return o?c&&a?l.jsxs(oe,{space:2,children:[t.length>1&&l.jsx(U,{children:l.jsx(se,{fontSize:1,icon:yw,mode:"bleed",onClick:u,padding:2,text:"Choose another workspace"})}),l.jsx(Mde,{header:l.jsx(M,{padding:3,children:l.jsx(mF,{icon:a.icon,title:a.title,subtitle:a==null?void 0:a.subtitle})}),children:l.jsx(oe,{padding:2,paddingBottom:3,paddingTop:4,children:h.createElement(c,{...Mi(a,["type","__internal"]),key:i})})})]}):l.jsx(Mde,{header:"Choose your workspace",footer:l.jsx(oe,{padding:1,children:l.jsx(se,{as:"a",href:Uyn,icon:na,justify:"flex-start",mode:"bleed",rel:"noopener noreferrer",target:"__blank",text:"Add workspace"})}),children:l.jsx(oe,{space:1,paddingX:1,paddingY:2,children:t.map(d=>{const p=o[d.name].authenticated?"logged-in":d.auth.LoginComponent?"logged-out":"no-access",m=()=>{p==="logged-in"&&d.name!==n.name&&r(d.name),p==="logged-out"&&s(d.name)};return l.jsx(ee,{as:"button",radius:2,padding:2,onClick:m,children:l.jsx(mF,{icon:d==null?void 0:d.icon,iconRight:Uc,state:p,subtitle:d==null?void 0:d.subtitle,title:(d==null?void 0:d.title)||d.name})},d.name)})})}):l.jsx(Bb,{})}var Fde=Object.freeze,Kyn=Object.defineProperty,Zyn=(e,t)=>Fde(Kyn(e,"raw",{value:Fde(t||e.slice())})),Lde;const Xyn=P(Bt)(Lde||(Lde=Zyn([`
  max-width: 350px;
  min-width: 250px;
`]))),Bde="Select workspace";function xRe(e){const{collapsed:t=!1}=e,[n,r]=h.useState(!1),{scheme:o}=tu(),i=OC(),{activeWorkspace:s,setActiveWorkspace:a}=b1(),[c]=bRe(i),{navigateUrl:u}=Gl(),d=h.useCallback(()=>r(!0),[]),f=h.useCallback(()=>r(!1),[]),p=h.useMemo(()=>({constrainSize:!0,scheme:o,portal:!0}),[o]),m=n||!t,v=t?Bde:void 0,g=t?void 0:Bde;return l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Select workspace"})}),disabled:m,placement:"bottom",portal:!0,scheme:o,children:l.jsx(oe,{children:l.jsx(en,{button:l.jsx(se,{icon:ql,mode:"bleed",text:g,disabled:!c,"aria-label":v,justify:t?void 0:"flex-start"}),id:"workspace-menu",menu:l.jsxs(Xyn,{children:[l.jsx(M,{paddingX:3,paddingY:3,children:l.jsx(Vt,{size:1,muted:!0,children:"Workspaces"})}),c&&i.map(y=>{const b=c[y.name].authenticated?"logged-in":y.auth.LoginComponent?"logged-out":"no-access",w=()=>{b==="logged-in"&&y.name!==s.name&&a(y.name),b==="logged-out"&&u({path:y.basePath})};return l.jsx(Ve,{onClick:w,padding:2,pressed:y.name===s.name,children:l.jsx(mF,{icon:y==null?void 0:y.icon,selected:y.name===s.name,state:b,subtitle:y==null?void 0:y.subtitle,title:(y==null?void 0:y.title)||y.name})},y.name)})]}),onClose:f,onOpen:d,popover:p})})})}function wRe(){return l.jsx(ee,{height:"fill",overflow:"auto",children:l.jsx(U,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:l.jsx(Qr,{width:0,children:l.jsx(Gyn,{})})})})}function Qyn(){return l.jsx(l.Fragment,{children:"TODO: implement config errors screen"})}function CRe(){const[e,t]=h.useState(null),[n,r]=h.useState(null);if(n)throw n;const{activeWorkspace:o}=b1(),i=h.useCallback(()=>{var c,u;(u=(c=o.auth).logout)==null||u.call(c)},[o]);h.useEffect(()=>{const c=o.auth.state.subscribe({next:u=>{let{currentUser:d}=u;t(d)},error:r});return()=>{c.unsubscribe()}},[o]);const s=$Ie(e==null?void 0:e.provider),a=s?" through ".concat(s):"";return l.jsx(ee,{height:"fill",children:l.jsx(Li,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:l.jsx(oe,{paddingX:3,paddingY:2,children:l.jsx(se,{text:"Sign out",onClick:i})}),children:l.jsxs(oe,{paddingX:4,paddingY:5,space:4,children:[l.jsx(L,{children:"You are not authorized to access this studio. Maybe you could ask someone to invite you to collaborate on this project?"}),l.jsxs(L,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",l.jsxs("strong",{children:[e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),a,"."]})]})})})}var Nde=Object.freeze,Jyn=Object.defineProperty,ebn=(e,t)=>Nde(Jyn(e,"raw",{value:Nde(t||e.slice())})),zde;const tbn=P.label(zde||(zde=ebn([`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`])));function nbn(e){const{projectId:t}=e,n=window.location.origin,r=h.useMemo(()=>{const o=new URL("https://sanity.io/manage/project/".concat(t,"/api"));return o.searchParams.set("cors","add"),o.searchParams.set("origin",n),o.searchParams.set("credentials",""),o.toString()},[n,t]);return h.useEffect(()=>{const o=()=>{window.location.reload()};return window.addEventListener("focus",o),()=>{window.removeEventListener("focus",o)}},[]),l.jsx(ee,{height:"fill",children:l.jsx(Li,{id:"cors-error-dialog",header:"Before you continue...",width:1,children:l.jsxs(oe,{paddingX:4,paddingY:5,space:4,children:[l.jsxs(L,{children:["To access your content, you need to ",l.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),l.jsx(tbn,{"aria-hidden":"true",children:"CORS URL to be added"}),l.jsx($r,{value:n,readOnly:!0}),l.jsx(se,{as:"a",href:r,target:"_blank",rel:"noopener noreferrer",tone:"primary",children:l.jsxs(U,{align:"center",justify:"center",gap:3,children:[l.jsx(L,{weight:"medium",children:"Continue"}),l.jsx(L,{weight:"medium",children:l.jsx(sh,{})})]})})]})})})}function _Re(e){let{children:t,heading:n="An error occured"}=e;const[{error:r},o]=h.useState({error:null}),i=yt(r)&&typeof r.message=="string"&&r.message,s=yt(r)&&typeof r.stack=="string"&&r.stack,a=h.useCallback(()=>o({error:null}),[o]);return JWt(a),r instanceof pN?l.jsx(nbn,{projectId:r==null?void 0:r.projectId}):r instanceof Az?l.jsx(Ayn,{schema:r.schema}):r?l.jsx(ee,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:l.jsx(Qr,{width:3,children:l.jsxs(oe,{space:4,children:[l.jsx(Uo,{children:n}),l.jsx("div",{children:l.jsx(se,{onClick:a,text:"Retry",tone:"default"})}),l.jsx(ee,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:l.jsxs(oe,{space:4,children:[i&&l.jsx(ir,{size:1,children:l.jsxs("strong",{children:["Error: ",i]})}),s&&l.jsx(ir,{size:1,children:s})]})})]})})}):l.jsx(L0,{onCatch:o,children:t})}var Vde=Object.freeze,rbn=Object.defineProperty,obn=(e,t)=>Vde(rbn(e,"raw",{value:Vde(t||e.slice())})),Hde;const ibn=P(ee)(Hde||(Hde=obn([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`]))),SRe=h.createContext({onSearchFullscreenOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null});function sbn(){var e;const{name:t,title:n,tools:r}=ec(),o=Gl(),i=IT(h.useCallback(x=>typeof x.tool=="string"?x.tool:void 0,[])),s=h.useMemo(()=>r.find(x=>x.name===i),[i,r]),[a,c]=h.useState(!1),[u,d]=h.useState(null),f=h.useMemo(()=>{const x=n||cn(t);return i?"".concat(cn(i)," | ").concat(x):x},[i,t,n]),p=!!(s!=null&&s.controlsDocumentTitle);h.useEffect(()=>{p||(document.title=f)},[f,p]);const m=h.useCallback(x=>{c(x)},[]),v=h.useMemo(()=>({searchFullscreenOpen:a,searchFullscreenPortalEl:u,onSearchFullscreenOpenChange:m}),[a,u,m]),g=ZCn(),y=!s&&(i==="desk"||!i)&&typeof window<"u"&&/\/desk(\/|$)/.test(window.location.pathname)&&r.some(x=>x.name==="structure");return h.useEffect(()=>{y&&o.navigateUrl({path:window.location.pathname.replace(/\/desk/,"/structure"),replace:!0})},[y,o]),l.jsxs(U,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[l.jsx(SRe.Provider,{value:v,children:l.jsx(g,{})}),y&&l.jsx(xyn,{}),r.length===0&&l.jsx(byn,{}),r.length>0&&!s&&i&&!y&&l.jsx(wyn,{toolName:i}),a&&l.jsx(ibn,{ref:d,overflow:"auto"}),l.jsx(_Re,{heading:"The ".concat(s==null?void 0:s.name," tool crashed"),children:l.jsx(ee,{flex:1,hidden:a,children:s&&i&&l.jsx(Pgt,{scope:i,__unsafe_disableScopedSearchParams:(e=s.router)==null?void 0:e.__unsafe_disableScopedSearchParams,children:l.jsx(h.Suspense,{fallback:l.jsx(abn,{}),children:h.createElement(s.component,{tool:s})})})})},s==null?void 0:s.name)]})}function abn(){return l.jsxs(U,{justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[l.jsx(L,{muted:!0,children:"Loading…"}),l.jsx(ur,{muted:!0})]})}var Ude=Object.freeze,lbn=Object.defineProperty,cbn=(e,t)=>Ude(lbn(e,"raw",{value:Ude(t||e.slice())})),Wde;const ubn=P.div(Wde||(Wde=cbn([`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`]))),dbn=l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsxs("g",{clipPath:"url(#clip0)",children:[l.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),l.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),l.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),l.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0",children:l.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),fbn=l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("g",{clipPath:"url(#clip0)",children:l.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0",children:l.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),hbn=l.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),l.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),l.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),pbn=e=>{let{provider:t}=e;const n=t==null?void 0:t.startsWith("saml-"),r=n?"saml":t;return l.jsxs(ubn,{"data-logo":r,children:[t==="google"&&dbn,t==="github"&&fbn,t==="sanity"&&l.jsx(xYt,{}),n&&hbn]})};var Yde=Object.freeze,mbn=Object.defineProperty,ERe=(e,t)=>Yde(mbn(e,"raw",{value:Yde(t||e.slice())})),qde,Gde;const W5=1,gbn=P(Bt)(qde||(qde=ERe([`
  min-width: 200px;
  max-width: 300px;
`]))),vbn=P(M)(Gde||(Gde=ERe([`
  position: relative;
  min-width: `,`px;
  min-height: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.avatar.sizes[W5].size},e=>{let{theme:t}=e;return t.sanity.avatar.sizes[W5].size});function ybn(e){let{setScheme:t}=e;const n=hRe(t);return l.jsxs(l.Fragment,{children:[l.jsx(Ir,{}),l.jsx(M,{padding:2,children:l.jsx(Vt,{size:1,muted:!0,children:"Appearance"})}),n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:c,title:u}=r;return l.jsx(Ve,{"aria-label":i,icon:o,onClick:a,pressed:c,text:u,iconRight:c&&l.jsx(sa,{})},s)})]})}function bbn(){const{currentUser:e,projectId:t,auth:n}=ec(),r=fRe(),o=Dz(),i=!!(e&&vIe(e,"administrator")),s=$Ie(e==null?void 0:e.provider),a=h.useMemo(()=>({placement:"bottom-end",portal:!0,preventOverflow:!0,scheme:r,constrainSize:!0}),[r]);return l.jsx(en,{button:l.jsx(se,{mode:"bleed",padding:0,paddingX:1,children:l.jsxs(U,{align:"center",gap:1,children:[l.jsx(Za,{user:"me",size:1}),l.jsx(L,{size:W5,muted:!0,children:l.jsx(tl,{})})]})}),id:"user-menu",menu:l.jsxs(gbn,{children:[l.jsx(ee,{padding:2,children:l.jsxs(U,{align:"center",children:[l.jsx(at,{disabled:!s,portal:!0,content:s&&l.jsx(M,{padding:2,children:l.jsxs(L,{size:1,children:["Signed in with ",s]})}),children:l.jsxs(vbn,{marginRight:3,children:[l.jsx(Za,{size:W5,user:"me"}),(e==null?void 0:e.provider)&&l.jsx(pbn,{provider:e.provider})]})}),l.jsxs(oe,{space:2,flex:1,children:[l.jsx(L,{size:2,weight:"medium",textOverflow:"ellipsis",children:e==null?void 0:e.name}),l.jsx(L,{size:1,muted:!0,textOverflow:"ellipsis",children:e==null?void 0:e.email})]})]})}),o&&l.jsx(ybn,{setScheme:o}),l.jsx(Ir,{}),l.jsx(Ve,{as:"a","aria-label":"Manage project",href:"https://sanity.io/manage/project/".concat(t),target:"_blank",text:"Manage project",icon:Cj}),i&&l.jsx(Ve,{as:"a","aria-label":"Invite members",href:"https://sanity.io/manage/project/".concat(t,"/members"),target:"_blank",text:"Invite members",icon:kj}),n.logout&&l.jsxs(l.Fragment,{children:[l.jsx(Ir,{}),l.jsx(Ve,{iconRight:w6,text:"Sign out",disabled:!n.logout,...n.logout&&{onClick:n.logout}})]})]}),popover:a})}var Kde=Object.freeze,xbn=Object.defineProperty,wbn=(e,t)=>Kde(xbn(e,"raw",{value:Kde(t||e.slice())})),Zde;const Cbn=P(M)(Zde||(Zde=wbn([`
  max-width: 300px;
`]))),kRe=33;function _bn(e){const{option:t,currentUser:n,onClick:r,preview:o}=e,i=h.useMemo(()=>({template:t.templateId,type:t.schemaType}),[t.schemaType,t.templateId]),{onClick:s,href:a}=Uw({intent:"create",params:i}),c=h.useCallback(u=>{s(u),r(t)},[s,r,t]);return l.jsx(at,{disabled:t.hasPermission,portal:!0,content:l.jsx(Cbn,{padding:2,children:l.jsx(Vc,{currentUser:n,operationLabel:"create this document"})}),children:l.jsx("div",{children:l.jsx(ee,{as:t.hasPermission?"a":"button",disabled:!t.hasPermission,href:a,marginBottom:1,onClick:c,padding:o==="inline"?3:4,radius:2,children:l.jsx(L,{size:o==="inline"?1:void 0,children:t.title})})})},t.id)}var Xde=Object.freeze,Sbn=Object.defineProperty,jRe=(e,t)=>Xde(Sbn(e,"raw",{value:Xde(t||e.slice())})),Qde,Jde;const _3=P(U)(Qde||(Qde=jRe([`
  min-height: 100px;
`]))),Ebn=P.strong(Jde||(Jde=jRe([`
  word-break: break-all;
`])));function efe(e){const{currentUser:t,loading:n,onDocumentClick:r,options:o,preview:i,searchQuery:s,textInputElement:a}=e,c=o.length>0&&!n,u=h.useCallback(()=>{r()},[r]),d=h.useCallback(p=>{var m;return((m=o[p])==null?void 0:m.hasPermission)===!1},[o]),f=h.useCallback(p=>l.jsx(_bn,{currentUser:t,onClick:u,option:p,preview:i},p.id),[t,u,i]);return n?l.jsx(_3,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsxs(qt,{space:2,children:[l.jsx(ur,{muted:!0,size:1}),l.jsx(L,{muted:!0,size:1,children:"Loading…"})]})}):!c&&s?l.jsx(_3,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsxs(L,{align:"center",muted:!0,size:1,children:["No results found for ",l.jsxs(Ebn,{children:["“",s,"”"]})]})}):c?l.jsx(Sh,{activeItemDataAttr:"data-hovered",ariaLabel:"New document",autoFocus:pm?void 0:"input",getItemDisabled:d,inputElement:a,itemHeight:kRe,items:o,overscan:5,padding:i==="inline"?1:2,paddingBottom:0,renderItem:f}):l.jsx(_3,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(L,{align:"center",muted:!0,size:1,children:"No documents found"})})}function kbn(e,t){const n=t.title.toLowerCase();return e.trim().toLowerCase().split(/[\s\-_]+/).every(i=>n.includes(i))}function jbn(e,t,n){const r=t.title.toLowerCase(),o=n.title.toLowerCase(),i=e.trim().toLowerCase();return r.startsWith(i)&&!o.startsWith(i)?-1:o.startsWith(i)&&!r.startsWith(i)?1:r.includes(i)&&!o.includes(i)?-1:o.includes(i)&&!r.includes(i)?1:0}function Tbn(e,t){return e.map(o=>({...o,title:(o==null?void 0:o.title)||o.id})).sort((o,i)=>o.title.localeCompare(i.title)).filter(o=>kbn(t,o)).sort((o,i)=>jbn(t,o,i))}var tfe=Object.freeze,Abn=Object.defineProperty,Jm=(e,t)=>tfe(Abn(e,"raw",{value:tfe(t||e.slice())})),nfe,rfe,ofe,ife,sfe,afe,lfe;const Dbn=P(Jt)(()=>he(nfe||(nfe=Jm([`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: `,`px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `])),e=>{let{theme:t}=e;return t.sanity.radius[3]})),Ibn=P(Li)(()=>he(rfe||(rfe=Jm([`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `])))),Obn=P(M)(ofe||(ofe=Jm([`
  max-width: 300px;
`]))),cfe=P(U)(ife||(ife=Jm([""]))),Pbn=P(ee)(sfe||(sfe=Jm([`
  min-height: max-content;
`]))),Rbn=P(ee)(afe||(afe=Jm([`
  min-height: max-content;
`]))),$bn=P(U)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return he(lfe||(lfe=Jm([`
    --item-height: `,`px;
    --max-items: `,`;
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `])),n,t)}),Mbn=10;function Fbn(e){const{canCreateDocument:t,modal:n="popover",loading:r,options:o}=e,[i,s]=h.useState(!1),[a,c]=h.useState(""),[u,d]=h.useState(null),[f,p]=h.useState(null),[m,v]=h.useState(null),[g,y]=h.useState(null),{scheme:x}=tu(),b=Yo(),w=o.length>0,C=!t||!w,_="Search",S="Create new document",E=h.useMemo(()=>Tbn(o,a),[o,a]),j=h.useCallback(N=>{c(N.currentTarget.value)},[]),k=h.useCallback(()=>s(N=>!N),[]),T=h.useCallback(()=>{s(!1),c(""),m==null||m.focus()},[m]),A=h.useCallback(N=>{N.key==="ArrowDown"&&!i&&s(!0)},[i]),D=h.useCallback(N=>{(N.key==="Escape"||N.key==="Tab")&&i&&T()},[T,i]);lr(()=>{i&&T()},[m,f,u]);const I=h.useMemo(()=>({currentUser:b,loading:r,onDocumentClick:k,options:E,searchQuery:a,preview:n==="popover"?"inline":"default",textInputElement:g}),[b,E,k,r,n,g,a]),O=h.useMemo(()=>({border:!1,defaultValue:a,disabled:r,icon:ti,onChange:j,placeholder:_,ref:y}),[j,r,_,a]),$=h.useMemo(()=>({"aria-label":S,disabled:C||r,icon:Ap,mode:"bleed",onClick:k,ref:v,selected:i}),[C,k,r,i,S]),R=h.useMemo(()=>w?t?l.jsx(L,{size:1,children:"New document..."}):l.jsx(Vc,{currentUser:b,operationLabel:"create any document"}):l.jsx(L,{size:1,children:"No document types"}),[t,b,w]),V=h.useMemo(()=>({content:l.jsx(Obn,{padding:2,children:R}),disabled:r||i,placement:"bottom",portal:!0,scheme:x}),[r,i,x,R]);return n==="dialog"?l.jsxs(l.Fragment,{children:[l.jsx(at,{...V,children:l.jsx("div",{children:l.jsx(se,{...$})})}),i&&l.jsx(Ibn,{header:S,id:"create-new-document-dialog",onClickOutside:T,onClose:T,ref:p,scheme:x,width:1,children:l.jsxs(cfe,{direction:"column",flex:1,height:"fill",children:[l.jsx(Rbn,{padding:2,borderBottom:!0,children:l.jsx($r,{...O})}),l.jsx(U,{direction:"column",overflow:"hidden",children:l.jsx(efe,{...I})})]})})]}):l.jsx(Dbn,{constrainSize:!0,onKeyDown:D,open:i,portal:!0,radius:3,ref:d,scheme:x,content:l.jsxs(cfe,{direction:"column",flex:1,forwardedAs:vh,height:"fill",returnFocus:!0,children:[l.jsx(Pbn,{sizing:"border",children:l.jsxs(oe,{children:[l.jsx(M,{paddingX:3,paddingY:3,children:l.jsx(M,{paddingY:1,children:l.jsx(Vt,{size:1,muted:!0,children:S})})}),l.jsx(ee,{borderTop:!0,borderBottom:!0,padding:1,children:l.jsx($r,{...O,fontSize:1,radius:1})})]})}),l.jsx($bn,{$itemHeight:kRe,$maxDisplayedItems:Mbn,direction:"column",overflow:"hidden",children:l.jsx(efe,{...I})})]}),children:l.jsx("div",{children:l.jsx(at,{...V,children:l.jsx("div",{children:l.jsx(se,{...$,"aria-expanded":i,"aria-haspopup":"true",onKeyDown:A})})})})})}function Lbn(){const{__internal:{staticInitialValueTemplateItems:e}}=$n(),[t,n]=Wz({templateItems:e}),r=(t==null?void 0:t.some(i=>e.some(s=>s.id===i.id)))||!1,o=h.useMemo(()=>e.map(i=>{var s;return{...i,title:(i==null?void 0:i.title)||i.id,hasPermission:((s=t==null?void 0:t.find(a=>a.id===i.id))==null?void 0:s.granted)||!1}}),[t,e]);return{canCreateDocument:r,loading:n,options:o}}var ufe=Object.freeze,Bbn=Object.defineProperty,Nbn=(e,t)=>ufe(Bbn(e,"raw",{value:ufe(t||e.slice())})),dfe;const zbn=P(ee)(dfe||(dfe=Nbn([`
  background: transparent;
  margin: calc((-35px + 11px) / 2);
`]))),Vbn=h.memo(function(t){const{presence:n,focused:r,onFocus:o}=t,[i,s]=h.useState(null),a=J0(n.locations||[],["lastActiveAt"],["desc"]).find(f=>f.documentId),c=!!(a!=null&&a.documentId);h.useEffect(()=>{r&&i&&(i.focus(),i.setAttribute("data-selected","")),r||i==null||i.removeAttribute("data-selected")},[i,r]);const u=h.useCallback(()=>{o(n.user.id)},[o,n.user.id]),d=h.useMemo(()=>h.forwardRef(function(p,m){return a!=null&&a.path?l.jsx(Nm,{...p,intent:"edit",params:{id:a==null?void 0:a.documentId,path:Lr(a==null?void 0:a.path)},ref:m}):null}),[a]);return l.jsx(Ve,{as:a?d:"div","data-as":a?"a":"div",onFocus:u,paddingY:c?4:3,paddingLeft:4,paddingRight:3,ref:s,children:l.jsxs(U,{align:"center",children:[l.jsx(zbn,{children:l.jsx(Za,{size:1,user:n.user,status:c?"editing":"inactive"},n.user.id)}),l.jsxs(oe,{space:2,marginLeft:4,children:[l.jsx(L,{textOverflow:"ellipsis",children:n.user.displayName}),!c&&l.jsx(L,{size:0,muted:!0,textOverflow:"ellipsis",children:"Not in a document"})]})]})})});var ffe=Object.freeze,Hbn=Object.defineProperty,Iz=(e,t)=>ffe(Hbn(e,"raw",{value:ffe(t||e.slice())})),hfe,pfe,mfe;const Ubn=4,Wbn=P(ee)(hfe||(hfe=Iz([`
  background: transparent;
`]))),Ybn=P(Bt)(pfe||(pfe=Iz([`
  max-width: 350px;
  min-width: 250px;
`]))),qbn=P(oe)(mfe||(mfe=Iz([`
  position: sticky;
  bottom: 0;
`])));function Gbn(e){const{collapse:t}=e,n=wSn(),{projectId:r}=ec(),{scheme:o}=tu(),i=n.length>0,[s,a]=h.useState(),c=h.useCallback(p=>{a(p)},[]),u=h.useCallback(()=>{a("")},[]),d=h.useMemo(()=>t?l.jsx(Eh,{icon:kj,mode:"bleed",tone:i?"positive":void 0}):l.jsx(se,{mode:"bleed",padding:1,children:l.jsx(Wbn,{children:l.jsx(nT,{maxLength:Ubn,"aria-label":"Who is here",children:n.map(p=>l.jsx(Za,{user:p.user},p.user.id))})})}),[t,i,n]),f=h.useMemo(()=>({constrainSize:!0,portal:!0,scheme:o}),[o]);return l.jsx(en,{button:d,id:"global-presence-menu",onClose:u,menu:l.jsxs(Ybn,{padding:1,children:[i&&l.jsx(oe,{children:n.map(p=>l.jsx(Vbn,{focused:s===p.user.id,onFocus:c,presence:p},p.user.id))}),!i&&l.jsx(M,{paddingX:3,paddingY:4,children:l.jsxs(oe,{space:3,children:[l.jsx(L,{weight:"semibold",size:2,children:"No one else is here"}),l.jsx(L,{size:1,muted:!0,children:"Invite people to the project to see their online status."})]})}),l.jsxs(qbn,{space:1,children:[l.jsx(Ir,{}),l.jsx(Ve,{as:"a",href:"https://sanity.io/manage/project/".concat(r),iconRight:Cj,onFocus:u,paddingY:4,rel:"noopener noreferrer",target:"_blank",text:"Manage members"})]})]}),popover:f})}var gfe=Object.freeze,Kbn=Object.defineProperty,Oz=(e,t)=>gfe(Kbn(e,"raw",{value:gfe(t||e.slice())})),vfe,yfe,bfe;const xfe={duration:.2},Zbn={open:{opacity:1},closed:{opacity:0}},Xbn={open:{x:"0%"},closed:{x:"-100%"}},Qbn=P(ss)(vfe||(vfe=Oz([`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),Jbn=P(gd(ee))(yfe||(yfe=Oz([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`]))),exn=P(gd(ee))(bfe||(bfe=Oz([`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`])));function txn(e){let{setScheme:t}=e;const n=hRe(t);return l.jsx(l.Fragment,{children:l.jsxs(ee,{borderTop:!0,flex:"none",padding:3,overflow:"auto",children:[l.jsx(M,{padding:2,children:l.jsx(Vt,{size:1,muted:!0,children:"Appearance"})}),l.jsx(oe,{as:"ul",marginTop:1,space:1,children:n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:c,title:u}=r;return l.jsx(oe,{as:"li",children:l.jsx(se,{"aria-label":i,icon:o,iconRight:c&&l.jsx(sa,{}),justify:"flex-start",mode:"bleed",onClick:a,selected:c,text:u})},s)})})]})})}const nxn=h.memo(function(t){const{activeToolName:n,isOpen:r,onClose:o,tools:i}=t,s=Dz(),{auth:a,currentUser:c,projectId:u}=ec(),d=OC(),f=qRe(),p=!!(c&&vIe(c,"administrator")),m=h.useCallback(v=>{v.key==="Escape"&&o()},[o]);return l.jsx(s8,{children:r&&l.jsx(vh,{autoFocus:!0,returnFocus:!0,children:l.jsxs(Qbn,{onKeyDown:m,children:[l.jsx(Jbn,{animate:"open","data-open":r,exit:"closed",initial:"closed",onClick:o,transition:xfe,variants:Zbn}),l.jsxs(exn,{animate:"open","data-open":r,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:xfe,variants:Xbn,children:[l.jsx(ee,{borderBottom:!0,children:l.jsxs(oe,{space:3,padding:3,children:[l.jsxs(U,{align:"center",children:[l.jsx(U,{flex:1,align:"center",paddingRight:2,children:l.jsxs(U,{flex:1,align:"center",children:[l.jsx(M,{children:l.jsx(Za,{size:1,user:"me"})}),l.jsx(M,{flex:1,marginLeft:2,title:(c==null?void 0:c.name)||(c==null?void 0:c.email),children:l.jsx(L,{textOverflow:"ellipsis",children:(c==null?void 0:c.name)||(c==null?void 0:c.email)})})]})}),l.jsx(M,{children:l.jsx(se,{icon:Ii,mode:"bleed",onClick:o,title:"Close menu"})})]}),d.length>1&&l.jsx(xRe,{})]})}),l.jsxs(U,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[l.jsx(ee,{flex:"none",padding:3,children:l.jsx(f,{activeToolName:n,closeSidebar:o,context:"sidebar",isSidebarOpen:r,tools:i})}),l.jsxs(U,{direction:"column",children:[s&&l.jsx(txn,{setScheme:s}),l.jsx(ee,{borderTop:!0,flex:"none",padding:3,children:l.jsxs(oe,{as:"ul",space:1,children:[l.jsx(oe,{as:"li",children:l.jsx(se,{"aria-label":"Manage project",as:"a",href:"https://sanity.io/manage/project/".concat(u),icon:Cj,justify:"flex-start",mode:"bleed",target:"_blank",text:"Manage project"})}),p&&l.jsx(oe,{as:"li",children:l.jsx(se,{"aria-label":"Invite members",as:"a",href:"https://sanity.io/manage/project/".concat(u,"/members"),icon:kj,justify:"flex-start",mode:"bleed",target:"_blank",text:"Invite members"})})]})})]})]}),a.logout&&l.jsx(ee,{flex:"none",padding:3,borderTop:!0,children:l.jsx(oe,{children:l.jsx(se,{iconRight:w6,justify:"flex-start",mode:"bleed",onClick:a.logout,text:"Sign out"})})})]})]})})})});function rxn(){var e;const n=((e=_n()._validation)==null?void 0:e.filter(f=>f.problems.some(p=>p.severity==="warning")))||[],{scheme:r}=tu(),o=h.useId(),[i,s]=h.useState(!1),[a,c]=h.useState(null),u=h.useCallback(()=>s(!0),[]),d=h.useCallback(()=>{s(!1),a&&a.focus()},[a]);return n.length===0?null:l.jsxs(l.Fragment,{children:[l.jsx(Eh,{icon:Mr,label:"Found configuration issues",mode:"bleed",onClick:u,ref:c,selected:i,tone:"caution",tooltip:{scheme:r}}),i&&l.jsx(Li,{header:l.jsxs(oe,{space:3,children:[l.jsx(L,{weight:"semibold",children:"Configuration issues"}),l.jsx(L,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),width:2,onClickOutside:d,onClose:d,scheme:r,id:o,children:l.jsxs(oe,{space:4,padding:4,children:[l.jsxs(Uo,{as:"h2",size:1,children:["Found ",n.length," schema warnings"]}),l.jsx(gRe,{problemGroups:n})]})})]})}function wfe(e){const{title:t,children:n,href:r,onClick:o}=e;return l.jsx(se,{"aria-label":t,as:"a","data-testid":"logo",href:r,mode:"bleed",onClick:o,padding:0,children:n})}const oxn=xi("mod+".concat(Z3e)),ixn=xi("escape");function sxn(e){let{open:t,onClose:n,onOpen:r}=e;const{isTopLayer:o}=rl(),i=h.useCallback(()=>{n==null||n()},[n]),s=h.useCallback(a=>{oxn(a)&&(a.preventDefault(),t?i():r==null||r()),ixn(a)&&t&&o&&i()},[i,o,t,r]);is(s)}function TRe(e){let{children:t,hasValidTerms:n,onClose:r,onOpen:o,open:i}=e;const s=h.useRef(!1),{dispatch:a,searchCommandList:c,setOnClose:u,state:{result:d}}=Rt(),f=h.useCallback(()=>{var p;a({index:(p=c==null?void 0:c.getTopIndex())!=null?p:-1,type:"LAST_ACTIVE_INDEX_SET"}),r()},[a,r,c]);return sxn({onClose:f,onOpen:o,open:i}),h.useEffect(()=>{u(f)},[f,u]),h.useEffect(()=>{(!n||d.loaded)&&s.current&&a({index:0,type:"LAST_ACTIVE_INDEX_SET"})},[a,n,d.loaded]),h.useEffect(()=>{!n&&s.current&&!i&&a({type:"ORDERING_RESET"})},[a,n,i]),h.useEffect(()=>{s!=null&&s.current||(s.current=!0)},[]),i?l.jsx("div",{children:t}):null}function axn(e){return e.reduce((t,n)=>(t[n.type]=n,t),{})}function th(e,t){return t?e[t]:void 0}function lxn(e,t){var n;return(n=th(e,t))==null?void 0:n.initialValue}function gF(e,t){var n;return{fieldId:t,filterName:e.name,operatorType:((n=e==null?void 0:e.operators.find(r=>r.type==="item"))==null?void 0:n.name)||""}}function Nh(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,operatorDefinitions:o}=e;return r.filter(i=>PC({filter:i,filterDefinitions:n,fieldDefinitions:t,operatorDefinitions:o})).map(i=>{var s;return(s=th(o,i.operatorType))==null?void 0:s.groqFilter({fieldPath:cxn({filter:i,fieldDefinitions:t,filterDefinitions:n}),value:i==null?void 0:i.value})}).filter(i=>!ZWt(i)).filter(go).join(" && ")}function fd(e,t){return t!=null&&t.fieldId?e[t.fieldId]:void 0}function Xi(e){return[e.filterName,...e.fieldId?[e.fieldId]:[]].join("-")}function zh(e){let{fieldDefinitions:t,filters:n,types:r}=e;const o=r.map(c=>c.name),i=Object.values(t).filter(c=>n.map(u=>u==null?void 0:u.fieldId).includes(c.id)).filter(c=>c.documentTypes.length>0).map(c=>c.documentTypes),s=dk(...i),a=[];return o.length>0&&a.push(o),s.length>0&&a.push(s),dk(...a).sort()}function cxn(e){let{filter:t,fieldDefinitions:n,filterDefinitions:r}=e;const o=fd(n,t),i=Th(r,t.filterName);if(i)switch(i.type){case"field":return o==null?void 0:o.fieldPath;case"pinned":return i==null?void 0:i.fieldPath;default:return}}function PC(e){let{filter:t,filterDefinitions:n,fieldDefinitions:r,operatorDefinitions:o}=e;const i=Th(n,t.filterName),s=th(o,t.operatorType),a=fd(r,t);return!(!i||!s||t.fieldId&&!a||i.type==="field"&&(!(a!=null&&a.fieldPath)||!t.fieldId||!s.groqFilter({fieldPath:a.fieldPath,value:t.value}))||i.type==="pinned"&&!s.groqFilter({fieldPath:i.fieldPath,value:t.value}))}var Cfe=Object.freeze,uxn=Object.defineProperty,dxn=(e,t)=>Cfe(uxn(e,"raw",{value:Cfe(t||e.slice())})),_fe;const fxn=xi("escape"),hxn=500,pxn=P.div(_fe||(_fe=dxn([`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`])));function Pz(e){let{anchorElement:t,children:n,onClose:r}=e;const{isTopLayer:o}=rl(),i=h.useCallback(a=>{fxn(a)&&o&&r()},[o,r]);is(i);const s=mxn(t||null);return l.jsxs(l.Fragment,{children:[l.jsx(pxn,{onClick:r}),l.jsx(vh,{autoFocus:!1,returnFocus:!0,children:l.jsx(ee,{display:"flex",overflow:"hidden",radius:y1,style:{maxHeight:"min(calc(100vh - ".concat(s,"px - ").concat(IC,"px - ").concat(ew,"px), ").concat(hxn,"px"),zIndex:1},children:l.jsx(U,{children:n})})})]})}function S3(e){const t=e.getBoundingClientRect();return t.y+t.height+IC}function mxn(e){const[t,n]=h.useState(e&&S3(e)),r=h.useCallback(()=>{e&&n(S3(e))},[e]);return h.useEffect(()=>{e&&n(S3(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}var Sfe=Object.freeze,gxn=Object.defineProperty,ARe=(e,t)=>Sfe(gxn(e,"raw",{value:Sfe(t||e.slice())})),Efe,kfe;const vxn=P(M)(Efe||(Efe=ARe([`
  border-bottom: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border}),yxn=P(U)(kfe||(kfe=ARe([`
  box-sizing: border-box;
`]))),DRe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onChange:o,onClear:i,typeFilter:s}=t;const{state:{fullscreen:a}}=Rt();return l.jsx(vxn,{children:l.jsx(yxn,{align:"center",flex:1,padding:1,children:l.jsx(Tz,{"aria-label":r,autoComplete:"off",border:!1,clearButton:!!s,fontSize:a?2:1,icon:ti,muted:!0,onChange:o,onClear:i,placeholder:"Filter",ref:n,smallClearButton:!0,spellCheck:!1,radius:2,value:s})})})});function bxn(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,schema:o,titleFilter:i,types:s}=e;const a=Object.values(n).filter(u=>_xn(u,i)).map(u=>{const d=Th(r,u.filterName);return d?gF(d,u.id):null}).filter(go),c=wxn({fieldDefinitions:n,filterDefinitions:r,titleFilter:i});return t.length===0?[...c,...tw({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"All fields",id:"field"})]:[...c,...xxn({documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:a,schema:o,types:s})]}function tw(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,id:o,headerTitle:i,tone:s}=e;const a={title:i||"",tone:s||"default",type:"header"},c=r.map(u=>({fieldDefinition:fd(t,u),filterDefinition:Th(n,u.filterName),filter:u,group:o,tone:s||"default",type:"filter"}));return c.length>0?[...i?[a]:[],...c]:[]}function xxn(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:o,schema:i,types:s}=e;const a=o.filter(d=>{const f=fd(n,d);return kxn(t,f)}),c=t.length>1&&s.length>1?tw({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"Shared fields",id:"shared",tone:"primary"}):[],u=t.map(d=>{const f=i.get(d);return{title:(f==null?void 0:f.title)||cn(f==null?void 0:f.name)||"(Unknown type)",documentType:d}}).sort((d,f)=>d.title.localeCompare(f.title)).map(d=>{let{documentType:f,title:p}=d;const m=o.filter(v=>{const g=fd(n,v);return Cxn([f],g)});return tw({fieldDefinitions:n,filterDefinitions:r,filters:m,id:p,headerTitle:p})}).flat();return[...c,...u]}function wxn(e){let{fieldDefinitions:t,filterDefinitions:n,titleFilter:r}=e;const o=Object.values(n).filter(Exn).filter(s=>jfe(s,r)).map(s=>gF(s)),i=Object.values(n).filter(Sxn).filter(s=>jfe(s,r)).reduce((s,a)=>(s[a.group]=s[a.group]||[],s[a.group].push(gF(a)),s),{});return[...tw({fieldDefinitions:t,filterDefinitions:n,filters:o,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(i).flatMap(s=>{let[a,c]=s;return tw({fieldDefinitions:t,filterDefinitions:n,filters:c,headerTitle:a,id:a,tone:"primary"})})]}function Cxn(e,t){return t==null?void 0:t.documentTypes.some(n=>e.includes(n))}function _xn(e,t){return e.titlePath.join("/").toLowerCase().includes(t.toLowerCase())}function jfe(e,t){return e.title.toLowerCase().includes(t.toLowerCase())}function Sxn(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)<"u"}function Exn(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)>"u"}function kxn(e,t){return im(e,(t==null?void 0:t.documentTypes)||[]).length===0}function IRe(e){let{filter:t,maxLength:n}=e;const{state:{definitions:r}}=Rt(),o=h.useMemo(()=>{const i=Th(r.filters,t.filterName);switch(i==null?void 0:i.type){case"field":{const s=fd(r.fields,t);return s!=null&&s.titlePath?s.titlePath[s.titlePath.length-1]:null}case"pinned":return i.title;default:return null}},[r,t]);return o?n&&o.length>n?l.jsxs("span",{children:[o.slice(0,n),"…"]}):l.jsx("span",{children:o}):null}function jxn(e){let{filter:t}=e;var n;const{state:{definitions:r}}=Rt(),o=(n=Th(r.filters,t.filterName))==null?void 0:n.icon;return o?h.createElement(o):l.jsx(Al,{})}function ORe(e){let{filter:t,small:n=!0}=e;var r;const{state:{definitions:o}}=Rt(),i=fd(o.fields,t);return l.jsxs(oe,{space:n?2:3,children:[(i==null?void 0:i.titlePath)&&((r=i.titlePath)==null?void 0:r.length)>1&&l.jsx(M,{marginLeft:4,children:l.jsx(L,{muted:!0,size:n?0:1,children:i.titlePath.slice(0,-1).map((s,a)=>l.jsxs(ie.Fragment,{children:[l.jsx("span",{children:s}),a!==i.titlePath.length-2&&l.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:l.jsx(Uc,{})})]},a))})}),l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(M,{style:{flexShrink:0},children:l.jsx(L,{size:n?1:2,children:l.jsx(jxn,{filter:t})})}),l.jsx(L,{size:n?1:2,weight:"medium",children:l.jsx(IRe,{filter:t})})]})]})}function PRe(e){return h.isValidElement(e)?Txn(AGt(e)):typeof e=="string"?e:""}function Txn(e){var t;return((t=new DOMParser().parseFromString(e,"text/html"))==null?void 0:t.body.textContent)||""}const E3=10;function Axn(e){let{children:t,fieldDefinition:n,filterDefinition:r,visible:o}=e;const{state:{documentTypesNarrowed:i}}=Rt(),s=_n(),a=h.useMemo(()=>n!=null&&n.documentTypes?n.documentTypes.map(u=>{const d=s.get(u);return(d==null?void 0:d.title)||cn(d==null?void 0:d.name)}).filter(go).sort():[],[n==null?void 0:n.documentTypes,s]),c=h.useMemo(()=>{if(n!=null&&n.documentTypes){const u=n.documentTypes.map(f=>{const p=s.get(f);if(p){const m=xD(p,n.fieldPath);return(m==null?void 0:m.type.description)&&PRe(m==null?void 0:m.type.description)}return null}).filter(go).sort(),d=ho(u);if(d.length===1)return d[0]}},[n==null?void 0:n.documentTypes,n==null?void 0:n.fieldPath,s]);return l.jsx(at,{content:l.jsx(ee,{tone:"default",radius:2,style:{maxWidth:"250px"},children:l.jsxs(oe,{padding:3,space:4,children:[n&&l.jsxs(oe,{space:2,children:[l.jsx(Vt,{muted:!0,size:0,children:"Field name"}),l.jsx(qt,{children:l.jsx(ee,{tone:"caution",padding:1,radius:2,children:l.jsx(ir,{size:0,children:n==null?void 0:n.name})})})]}),c&&l.jsxs(oe,{space:3,children:[l.jsx(Vt,{muted:!0,size:0,children:"Field description"}),l.jsx(L,{muted:!0,size:0,children:Tfe(c)})]}),(r==null?void 0:r.description)&&l.jsx(L,{muted:!0,size:0,children:Tfe(r.description)}),!i.length&&a.length>0&&l.jsxs(oe,{space:2,children:[l.jsxs(U,{align:"center",gap:1,children:[l.jsx(Vt,{muted:!0,size:0,children:"Used in document types"}),l.jsx(ee,{padding:1,radius:2,tone:"transparent",children:l.jsx(L,{size:0,muted:!0,children:a.length})})]}),l.jsxs(L,{size:0,weight:"regular",muted:!0,children:[a.slice(0,E3).join(", "),(a==null?void 0:a.length)>E3?" +".concat(a.length-E3," more"):""]})]})]})}),disabled:!o,fallbackPlacements:["left"],placement:"right",portal:!0,children:t})}function Tfe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256;return e.length>t?"".concat(e.slice(0,t-1),"…"):e}const Dxn=ie.memo(function(t){let{item:n,onClose:r,...o}=t;const[i,s]=h.useState(!1),{dispatch:a,state:{filters:c}}=Rt(),u=h.useCallback(()=>{a({filter:n.filter,type:"TERMS_FILTERS_ADD"}),r==null||r()},[a,n.filter,r]),d=!!c.find(g=>Xi(g)===Xi(n.filter)),f=h.useRef(),p=h.useCallback(()=>{f.current=setTimeout(()=>s(!0),500)},[]),m=h.useCallback(()=>{s(!1),clearTimeout(f.current)},[]);h.useEffect(()=>()=>clearTimeout(f.current),[]);const v=!!(n.fieldDefinition||n.filterDefinition.description);return l.jsx(M,{...o,children:l.jsx(se,{disabled:d,fontSize:1,justify:"flex-start",mode:"bleed",onClick:d?void 0:u,onMouseEnter:p,onMouseLeave:m,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:n==null?void 0:n.tone,children:l.jsx(Axn,{fieldDefinition:n.fieldDefinition,filterDefinition:n.filterDefinition,visible:v&&i,children:l.jsx(M,{padding:3,children:l.jsx(ORe,{filter:n.filter})})})})})}),Ixn=ie.memo(function(t){let{item:n}=t;return l.jsx(M,{paddingTop:1,children:l.jsx(ee,{borderBottom:!0,padding:3,tone:n==null?void 0:n.tone,children:l.jsx(Vt,{muted:!0,size:0,textOverflow:"ellipsis",children:n.title})})})});function Oxn(e){let{onClose:t}=e;const[n,r]=h.useState(null),[o,i]=h.useState(""),s=h.useCallback(x=>i(x.currentTarget.value),[i]),a=h.useCallback(()=>i(""),[]),c=_n(),{state:{documentTypesNarrowed:u,definitions:d,filters:f,terms:{types:p}}}=Rt(),m=h.useMemo(()=>bxn({documentTypesNarrowed:u,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:c,titleFilter:o,types:p}),[u,d.fields,d.filters,c,o,p]),v=h.useCallback(x=>x.type==="filter"?l.jsx(Dxn,{item:x,onClose:t,paddingBottom:1}):x.type==="header"?l.jsx(Ixn,{item:x}):null,[t]),g=h.useCallback(x=>{const b=m[x];return b.type!=="filter"||!!f.find(w=>Xi(w)===Xi(b.filter))},[m,f]),y=h.useCallback(x=>{const b=m[x];switch(b.type){case"filter":return[...b.group?[b.group]:[],Xi(b.filter)].join("-");case"header":return"".concat(b.type,"-").concat(b.title);default:return x}},[m]);return l.jsxs(U,{direction:"column",style:{width:"300px"},children:[l.jsx(DRe,{ariaInputLabel:"Filter by title",onChange:s,onClear:a,ref:r,typeFilter:o}),l.jsxs(U,{children:[m.length>0&&l.jsx(Sh,{activeItemDataAttr:"data-hovered",ariaLabel:"Filters",autoFocus:"input",getItemDisabled:g,getItemKey:y,inputElement:n,itemHeight:45,items:m,overscan:20,padding:1,paddingBottom:0,renderItem:v}),m.length==0&&l.jsx(M,{padding:3,children:l.jsxs(L,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",o,"'"]})})]})]})}function Afe(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),{state:{fullscreen:o}}=Rt(),i=h.useCallback(()=>t(!1),[]),s=h.useCallback(()=>t(!0),[]);return l.jsx(Jt,{__unstable_margins:[IC,0,0,0],content:l.jsx(Pz,{anchorElement:n,onClose:i,children:l.jsx(Oxn,{onClose:i})}),open:e,placement:"bottom-start",radius:y1,portal:!0,children:l.jsx(se,{fontSize:1,icon:na,mode:"bleed",onClick:s,padding:o?3:2,ref:r,selected:e,space:2,text:"Add filter"})})}const Pxn=ie.memo(function(t){let{selected:n,type:r,...o}=t;var i,s;const{dispatch:a}=Rt(),c=h.useCallback(()=>{a({type:"TERMS_TYPE_ADD",schemaType:r})},[a,r]),u=h.useCallback(()=>{a({type:"TERMS_TYPE_REMOVE",schemaType:r})},[a,r]),d=h.useCallback(()=>{n?u():c()},[c,u,n]);return l.jsx(M,{...o,children:l.jsx(se,{fontSize:1,iconRight:n&&sa,justify:"flex-start",mode:"bleed",onClick:d,style:{width:"100%"},tabIndex:-1,text:(s=r.title)!=null?s:r.name,tone:n?"primary":"default"},(i=r.title)!=null?i:r.name)})});var Dfe=Object.freeze,Rxn=Object.defineProperty,$xn=(e,t)=>Dfe(Rxn(e,"raw",{value:Dfe(t||e.slice())})),Ife;const Mxn=P(M)(Ife||(Ife=$xn([`
  border-top: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border});function Fxn(){const[e,t]=h.useState(null),[n,r]=h.useState(""),o=h.useRef(null),i=_n(),{dispatch:s,state:{terms:{types:a}}}=Rt(),[c,u]=h.useState(a),d=Bxn(i,a,c,n),f=h.useCallback(b=>r(b.currentTarget.value),[r]),p=h.useCallback(()=>r(""),[]),m=h.useCallback(()=>{var b,w;u([]),s({type:"TERMS_TYPES_CLEAR"}),(b=o==null?void 0:o.current)==null||b.focusInputElement(),(w=o==null?void 0:o.current)==null||w.scrollToIndex(0)},[s]),v=h.useCallback(b=>{const w=d[b];switch(w.type){case"divider":return"".concat(w.type,"-").concat(b);case"header":return"".concat(w.type,"-").concat(w.title);case"item":return"".concat(w.type,"-").concat(w.item.name);default:return b}},[d]),g=h.useCallback(b=>b.type==="divider"?l.jsx(M,{paddingY:1,children:l.jsx(Ir,{})}):b.type==="header"?l.jsx(M,{margin:1,paddingBottom:2,paddingTop:3,children:l.jsx(Vt,{muted:!0,size:0,children:b.title})}):b.type==="item"?l.jsx(Pxn,{paddingBottom:1,selected:b.selected,type:b.item}):null,[]),y=h.useCallback(b=>d[b].type!=="item",[d]),x=h.useCallback(b=>{const w=d[b];return w.type==="item"&&w.selected},[d]);return l.jsxs(U,{direction:"column",style:{width:"250px"},children:[l.jsx(DRe,{ariaInputLabel:"Filter by document type",onChange:f,onClear:p,ref:t,typeFilter:n}),l.jsxs(U,{children:[d.length>0&&l.jsx(Sh,{activeItemDataAttr:"data-hovered",ariaLabel:"Document types",ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:y,getItemSelected:x,getItemKey:v,inputElement:e,itemHeight:37,items:d,overscan:20,padding:1,paddingBottom:0,ref:o,renderItem:g}),!d.length&&l.jsx(M,{padding:3,children:l.jsxs(L,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",n,"'"]})})]}),!n&&a.length>0&&l.jsx(Lxn,{onClick:m,selectedTypes:a})]})}function Lxn(e){let{onClick:t,selectedTypes:n}=e;return l.jsx(Mxn,{padding:1,children:l.jsx(oe,{children:l.jsx(se,{"aria-label":"Clear checked filters","data-name":"type-filter-button",disabled:n.length===0,fontSize:1,mode:"bleed",onClick:t,padding:3,text:"Clear",tone:"primary"})})})}function Bxn(e,t,n,r){return h.useMemo(()=>{const[o,i]=G9(f0n(e,r),u=>n.includes(u)),s=o.length>0,a=o.length>0,c=[];return s&&c.push({title:"Selected",type:"header"}),o.forEach(u=>c.push({item:u,selected:t.includes(u),type:"item"})),s&&a&&c.push({type:"divider"}),i.forEach(u=>c.push({item:u,selected:t.includes(u),type:"item"})),c},[e,t,n,r])}var Ofe=Object.freeze,Nxn=Object.defineProperty,zxn=(e,t)=>Ofe(Nxn(e,"raw",{value:Ofe(t||e.slice())})),Pfe;const Vxn=P(se)(e=>{let{theme:t}=e;const{regular:n}=t.sanity.fonts.text.weights;return he(Pfe||(Pfe=zxn([`
    [data-ui='Text'] {
      font-weight: `,`;
    }
  `])),n)}),Hxn=["top-start","bottom-start"];function Uxn(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),[o,i]=h.useState(null),{state:{fullscreen:s,terms:{types:a}}}=Rt(),c=h.useCallback(()=>t(!1),[]),u=h.useCallback(()=>t(!0),[]);lr(c,[n,o]);const d=h.useMemo(()=>Cz({types:a}),[a]);return l.jsx(Jt,{__unstable_margins:[IC,0,0,0],content:l.jsx(Pz,{anchorElement:n,onClose:c,children:l.jsx(Fxn,{})}),open:e,placement:"bottom-start",fallbackPlacements:Hxn,portal:!0,radius:y1,ref:i,children:l.jsx(Vxn,{fontSize:1,iconRight:ql,mode:"ghost",onClick:u,padding:s?3:2,ref:r,selected:e,style:{maxWidth:"100%"},text:d,tone:"default"})})}var Rfe=Object.freeze,Wxn=Object.defineProperty,Yxn=(e,t)=>Rfe(Wxn(e,"raw",{value:Rfe(t||e.slice())})),$fe;const k3=P(M)($fe||($fe=Yxn([`
  flex-shrink: `,`;
`])),e=>{let{$flexShrink:t=0}=e;return t});function RRe(e){let{filter:t,fontSize:n=1,showContent:r=!0}=e;const{state:{definitions:o,fullscreen:i}}=Rt(),s=th(o.operators,t.operatorType),a=s==null?void 0:s.buttonValueComponent;return l.jsxs(U,{align:"center",gap:1,children:[l.jsx(k3,{$flexShrink:i?1:0,children:l.jsx(sr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:l.jsx(IRe,{filter:t,maxLength:i?25:40})})}),r&&(s==null?void 0:s.buttonLabel)&&l.jsx(k3,{$flexShrink:0,children:l.jsx(sr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"regular",children:s.buttonLabel})}),r&&a&&l.jsx(k3,{$flexShrink:1,children:l.jsx(sr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:l.jsx(a,{value:t==null?void 0:t.value})})})]})}function qxn(e){return l.jsx(M,{...e,children:l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(sr,{tone:"critical",children:l.jsx(fa,{})}),l.jsxs(oe,{space:4,children:[l.jsx(sr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst displaying this filter."}),l.jsx(sr,{size:1,tone:"critical",children:"This may indicate invalid options defined in your schema."})]})]})})}function Gxn(e){let{onClick:t,operator:n,selected:r}=e;const o=h.useCallback(()=>t(n.type),[t,n.type]);return l.jsx(Ve,{onClick:o,padding:3,pressed:r,tone:"default",children:l.jsxs(U,{align:"center",justify:"space-between",gap:3,children:[l.jsx(M,{paddingRight:2,children:l.jsx(L,{size:1,weight:"regular",children:n.label})}),(n==null?void 0:n.icon)&&l.jsx(L,{muted:!0,size:1,children:h.createElement(n.icon)})]})})}function Kxn(e){let{filter:t,operator:n}=e;var r;const o=h.useId(),{dispatch:i,state:s}=Rt(),a=(r=Th(s.definitions.filters,t.filterName))==null?void 0:r.operators,c=h.useCallback(u=>{i({filterKey:Xi(t),operatorType:u,type:"TERMS_FILTERS_SET_OPERATOR"})},[i,t]);return!n||!a||a.length<=1?null:l.jsx(qt,{children:l.jsx(en,{button:l.jsx(se,{mode:"ghost",padding:3,children:l.jsxs(U,{align:"center",gap:2,justify:"space-between",children:[l.jsx(L,{size:s.fullscreen?2:1,weight:"regular",children:n.label}),l.jsx(M,{marginLeft:1,children:l.jsx(L,{size:1,children:l.jsx(ql,{})})})]})}),id:o||"",menu:l.jsx(Bt,{children:a.map((u,d)=>{if(u.type==="item"){const f=th(s.definitions.operators,u.name);return f?l.jsx(Gxn,{onClick:c,operator:f,selected:n.type===u.name},d):null}return u.type==="divider"?l.jsx(Ir,{},d):null})}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function Zxn(e){let{filter:t}=e;const[n,r]=h.useState(null),{dispatch:o,state:{definitions:i,fullscreen:s}}=Rt(),a=Th(i.filters,t.filterName),c=th(i.operators,t.operatorType),u=fd(i.fields,t),d=Xi(t),f=h.useCallback(()=>{o({filterKey:Xi(t),type:"TERMS_FILTERS_REMOVE"})},[o,t]),p=h.useCallback(g=>{o({filterKey:d,type:"TERMS_FILTERS_SET_VALUE",value:g})},[o,d]),m=h.useCallback(g=>{r(g)},[]),v=c==null?void 0:c.inputComponent;return n?l.jsx(qxn,{padding:4}):l.jsx(L0,{onCatch:m,children:l.jsx(vh,{autoFocus:!pm,returnFocus:!0,children:l.jsxs(U,{direction:"column-reverse",children:[v&&l.jsx(ee,{borderTop:!0,padding:3,children:l.jsx(v,{fieldDefinition:u,onChange:p,value:t.value},t.operatorType)}),l.jsx(ee,{padding:3,children:l.jsxs(oe,{space:3,children:[l.jsxs(U,{align:"flex-start",gap:3,justify:"space-between",children:[l.jsx(M,{paddingBottom:1,paddingLeft:1,paddingRight:2,paddingTop:s?2:1,children:l.jsx(ORe,{filter:t,small:!s})}),s&&l.jsx(se,{fontSize:2,icon:po,mode:"bleed",onClick:f,padding:2,tone:"critical"})]}),(a==null?void 0:a.description)&&l.jsx(ee,{border:!0,padding:3,radius:2,tone:"transparent",children:l.jsx(L,{muted:!0,size:1,children:a.description})}),l.jsx(Kxn,{filter:t,operator:c})]})})]})})})}var Mfe=Object.freeze,Xxn=Object.defineProperty,Qxn=(e,t)=>Mfe(Xxn(e,"raw",{value:Mfe(t||e.slice())})),Ffe;const Jxn=P(U)(Ffe||(Ffe=Qxn([`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`])));function ewn(e){let{filter:t}=e;return l.jsxs(Jxn,{direction:"column",children:[l.jsx(Zxn,{filter:t}),K3e]})}var Lfe=Object.freeze,twn=Object.defineProperty,jD=(e,t)=>Lfe(twn(e,"raw",{value:Lfe(t||e.slice())})),Bfe,Nfe,zfe,Vfe;const nwn=P(se)(Bfe||(Bfe=jD([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return"0 ".concat(ye(t.sanity.radius[2])," ").concat(ye(t.sanity.radius[2])," 0")}),rwn=P(ee)(Nfe||(Nfe=jD([`
  position: absolute;
  right: 0;
`]))),own=P.div(zfe||(zfe=jD([`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`]))),iwn=P(se)(Vfe||(Vfe=jD([`
  border: none;
  width: 100%;
`])));function swn(e){let{filter:t,initialOpen:n}=e;const[r,o]=h.useState(n),{dispatch:i,state:{definitions:s,fullscreen:a}}=Rt(),c=h.useCallback(()=>o(!1),[]),u=h.useCallback(()=>o(!0),[]),d=h.useCallback(()=>i({filterKey:Xi(t),type:"TERMS_FILTERS_REMOVE"}),[i,t]),f=h.useCallback(m=>{["Backspace","Delete"].includes(m.key)&&d()},[d]),p=PC({fieldDefinitions:s.fields,filter:t,filterDefinitions:s.filters,operatorDefinitions:s.operators});return l.jsx(Jt,{__unstable_margins:[IC,0,0,0],content:l.jsx(Pz,{onClose:c,children:l.jsx(ewn,{filter:t})}),constrainSize:!0,open:r,overflow:"auto",placement:"bottom-start",portal:!0,radius:y1,children:l.jsxs(own,{children:[l.jsx(ee,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:l.jsx(iwn,{mode:"bleed",onClick:u,onKeyDown:f,paddingLeft:a?3:2,paddingRight:a?3:5,paddingY:a?3:2,children:l.jsx(RRe,{filter:t,showContent:p})})}),!a&&l.jsx(rwn,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:l.jsx(nwn,{"aria-label":"Delete filter",fontSize:1,icon:Ii,mode:"bleed",onClick:d,onKeyDown:f,padding:2,radius:2})})]})})}function $Re(){const{dispatch:e,state:{filters:t,fullscreen:n,lastAddedFilter:r,terms:{types:o}}}=Rt(),i=h.useRef(!1),s=h.useCallback(()=>{e({type:"TERMS_FILTERS_CLEAR"}),e({type:"TERMS_TYPES_CLEAR"})},[e]),a=t.length>0||o.length>0;h.useEffect(()=>{i.current=!0},[]);const c=r&&Xi(r),u=()=>l.jsx(se,{fontSize:1,mode:"bleed",onClick:s,padding:n?3:2,text:"Clear filters",tone:"critical"});return l.jsxs(l.Fragment,{children:[l.jsxs(U,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[l.jsxs(U,{flex:1,gap:2,wrap:"wrap",children:[l.jsx(Uxn,{}),t==null?void 0:t.map(d=>{const f=Xi(d);return l.jsx(swn,{filter:d,initialOpen:i.current&&c===f},f)}),!n&&l.jsx(Afe,{})]}),a&&!n&&l.jsx(u,{})]}),n&&l.jsxs(U,{justify:"space-between",paddingBottom:2,paddingX:2,children:[l.jsx(Afe,{}),a&&l.jsx(u,{})]}),K3e]})}function awn(){return l.jsx(U,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:l.jsxs(qt,{space:3,children:[l.jsx(L,{muted:!0,children:"Use"}),l.jsx(L,{muted:!0,children:l.jsx(_j,{})}),l.jsx(L,{muted:!0,children:"to refine your search"})]})})}function lwn(e){let{availableCharacters:t,types:n}=e;const r=h.useMemo(()=>Cz({availableCharacters:t,types:n}),[t,n]);return l.jsx(ee,{border:!0,padding:2,radius:2,children:l.jsx(L,{muted:!0,size:1,children:r})})}var Hfe=Object.freeze,cwn=Object.defineProperty,uwn=(e,t)=>Hfe(cwn(e,"raw",{value:Hfe(t||e.slice())})),Ufe;const dwn=P(ee)(Ufe||(Ufe=uwn([`
  cursor: default;
`])));function fwn(e){let{filter:t}=e;return l.jsx(dwn,{border:!0,padding:2,radius:2,tone:"primary",children:l.jsx(RRe,{filter:t})})}var Wfe=Object.freeze,hwn=Object.defineProperty,TD=(e,t)=>Wfe(hwn(e,"raw",{value:Wfe(t||e.slice())})),Yfe,qfe,Gfe,Kfe;const pwn=40,MRe=P(se)(Yfe||(Yfe=TD([`
  border-radius: `,`;
  cursor: default;
  width: 100%;
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[2])}),mwn=P(M)(qfe||(qfe=TD([`
  flex-shrink: 3;
`]))),gwn=P(M)(Gfe||(Gfe=TD([`
  flex-shrink: 2;
`]))),vwn=P.div(Kfe||(Kfe=TD([`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    `,`:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`])),MRe);function ywn(e){let{index:t,maxVisibleTypePillChars:n=pwn,value:r,...o}=e;var i;const{dispatch:s,recentSearchesStore:a}=Rt(),c=n-r.query.length,u=h.useCallback(()=>{if(s({type:"TERMS_SET",filters:r==null?void 0:r.filters,terms:r}),a){const f=a==null?void 0:a.addSearch(r,r==null?void 0:r.filters);s({recentSearches:f,type:"RECENT_SEARCHES_SET"})}},[s,a,r]),d=h.useCallback(f=>{if(f.stopPropagation(),a){const p=a==null?void 0:a.removeSearchAtIndex(t);s({recentSearches:p,type:"RECENT_SEARCHES_SET"})}},[s,t,a]);return l.jsx(M,{...o,children:l.jsx(MRe,{mode:"bleed",onClick:u,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:l.jsxs(U,{align:"stretch",children:[l.jsxs(qt,{paddingY:2,children:[l.jsx(L,{muted:!0,size:1,children:l.jsx(j1e,{})}),l.jsx(L,{children:"​"})]}),l.jsxs(U,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[r.query&&l.jsx(gwn,{paddingY:2,children:l.jsx(L,{muted:!0,textOverflow:"ellipsis",children:r.query})}),r.types.length>0&&l.jsx(mwn,{children:l.jsx(lwn,{availableCharacters:c,types:r.types})}),(i=r==null?void 0:r.filters)==null?void 0:i.map((f,p)=>l.jsx(fwn,{filter:f},p))]}),l.jsx(U,{align:"center",children:l.jsx(vwn,{onClick:d,children:l.jsx(U,{padding:2,children:l.jsx(L,{size:1,children:l.jsx(Ii,{})})})})})]})})})}var Zfe=Object.freeze,bwn=Object.defineProperty,xwn=(e,t)=>Zfe(bwn(e,"raw",{value:Zfe(t||e.slice())})),Xfe;const wwn=36,Cwn=20,_wn=40,Swn=P(ee)(Xfe||(Xfe=xwn([`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`])));function FRe(e){let{inputElement:t}=e;const{dispatch:n,recentSearchesStore:r,state:{filtersVisible:o,fullscreen:i,recentSearches:s}}=Rt(),a=h.useRef(null),c=h.useCallback(()=>{var m;if(r){const v=r.removeSearch();n({recentSearches:v,type:"RECENT_SEARCHES_SET"})}(m=a==null?void 0:a.current)==null||m.focusInputElement()},[n,r]),u=Om(),d=h.useMemo(()=>u<2?Cwn:_wn,[u]),f=h.useCallback((m,v)=>{let{virtualIndex:g}=v;return l.jsx(ywn,{index:g,maxVisibleTypePillChars:d,paddingBottom:1,value:m})},[d]),p=!!s.length;return l.jsx(Swn,{borderTop:p||!p&&!o&&i,flex:1,children:s.length?l.jsxs(l.Fragment,{children:[l.jsx(M,{paddingBottom:2,paddingTop:4,paddingX:3,children:l.jsx(Vt,{muted:!0,size:1,children:"Recent searches"})}),l.jsx(M,{children:l.jsx(Sh,{activeItemDataAttr:"data-hovered",ariaLabel:"Recent searches",inputElement:t,initialIndex:0,itemHeight:wwn,items:s,paddingX:2,paddingY:1,renderItem:f})}),l.jsx(M,{paddingBottom:2,paddingTop:1,paddingX:2,children:l.jsx(se,{fontSize:1,justify:"flex-start",mode:"bleed",onClick:c,padding:2,tone:"default",children:l.jsx(L,{muted:!0,size:1,children:"Clear recent searches"})})})]}):!o&&i&&l.jsx(awn,{})})}var Qfe=Object.freeze,Ewn=Object.defineProperty,AD=(e,t)=>Qfe(Ewn(e,"raw",{value:Qfe(t||e.slice())})),Jfe,ehe,the,nhe;const kwn=Em(Jfe||(Jfe=AD([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),jwn=P(xw)(ehe||(ehe=AD([`
  animation: `,` 500ms linear infinite;
`])),kwn),Twn=P(M)(the||(the=AD([`
  position: relative;
`]))),Awn=P.div(nhe||(nhe=AD([`
  background: `,`;
  border-radius: 100%;
  height: 6px;
  position: absolute;
  right: 2px;
  top: 2px;
  width: 6px;
`])),e=>{let{theme:t}=e;var n;return(n=t.sanity.color.selectable)==null?void 0:n.primary.enabled.fg}),LRe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onClose:o}=t;const i=h.useRef(!1),{dispatch:s,state:{filters:a,filtersVisible:c,fullscreen:u,result:{loading:d},terms:{types:f,query:p}}}=Rt(),m=h.useCallback(()=>s({type:"FILTERS_VISIBLE_SET",visible:!c}),[s,c]),v=h.useCallback(x=>s({type:"TERMS_QUERY_SET",query:x.currentTarget.value}),[s]),g=h.useCallback(()=>{s({type:"TERMS_QUERY_SET",query:""})},[s]);h.useEffect(()=>{u||s({type:"FILTERS_VISIBLE_SET",visible:!0})},[s,u]),h.useEffect(()=>{i.current=!0},[]);const y=a.length>0||f.length>0;return l.jsx(ee,{flex:"none",children:l.jsxs(U,{align:"center",flex:1,gap:u?2:1,padding:u?2:1,children:[u&&l.jsx(ee,{children:l.jsx(se,{"aria-label":"Close search",icon:yw,mode:"bleed",onClick:o})}),l.jsx(M,{flex:1,children:l.jsx(Tz,{"aria-label":r,autoComplete:"off",background:u,border:!1,clearButton:!!p,fontSize:2,icon:d?jwn:ti,onChange:v,onClear:g,placeholder:"Search",radius:u?2:1,ref:n,smallClearButton:u,spellCheck:!1,value:p})}),u&&l.jsxs(Twn,{children:[l.jsx(se,{"aria-expanded":c,"aria-label":"Toggle filters",height:"fill",icon:_j,mode:"bleed",onClick:m,padding:3,selected:c,tone:"default"}),y&&l.jsx(Awn,{})]})]})})});function Dwn(){return l.jsx(Qr,{width:0,children:l.jsxs(oe,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[l.jsx(L,{align:"center",muted:!0,weight:"semibold",children:"No results found"}),l.jsx(L,{align:"center",muted:!0,size:1,children:"Try another keyword or adjust your filters"})]})})}function Iwn(){return l.jsxs(U,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[l.jsx(M,{marginBottom:1,children:l.jsx(sr,{tone:"critical",children:l.jsx(Mr,{})})}),l.jsx(sr,{size:2,tone:"critical",weight:"semibold",children:"Something went wrong while searching"}),l.jsx(sr,{size:1,tone:"critical",children:"Please try again or check your connection"})]})}const hp={createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},title:"Created: Oldest first"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},title:"Created: Newest first"},relevance:{customMeasurementLabel:"relevance",sort:{direction:"desc",field:"_updatedAt"},title:"Best match"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},title:"Updated: Oldest first"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},title:"Updated: Newest first"}};var rhe=Object.freeze,Own=Object.defineProperty,Pwn=(e,t)=>rhe(Own(e,"raw",{value:rhe(t||e.slice())})),ohe;const ihe=[hp.relevance,{type:"divider"},hp.createdAsc,hp.createdDesc,{type:"divider"},hp.updatedAsc,hp.updatedDesc],Rwn=P(U)(ohe||(ohe=Pwn([`
  box-sizing: border-box;
`])));function she(e){return e.type==="divider"}function $wn(e){let{ordering:t}=e;const{dispatch:n,state:{ordering:r}}=Rt(),o=h.useCallback(()=>{n({ordering:t,type:"ORDERING_SET"})},[n,t]),i=h.useMemo(()=>Ht(r,t),[r,t]);return l.jsx(Ve,{onClick:o,padding:3,pressed:i,tone:"default",children:l.jsx(U,{align:"center",justify:"space-between",paddingRight:2,children:l.jsx(L,{size:1,weight:"medium",children:t.title})})})}function Mwn(){const{state:{ordering:e}}=Rt(),t=h.useId(),n=ihe.find(r=>Ht(e,r)&&!she(r));return n?l.jsx(ee,{borderBottom:!0,children:l.jsx(Rwn,{align:"center",flex:1,padding:2,children:l.jsx(en,{button:l.jsx(se,{mode:"bleed",padding:2,children:l.jsxs(U,{align:"center",gap:1,justify:"space-between",children:[l.jsx(M,{marginRight:1,children:l.jsx(L,{size:1,children:l.jsx(k6,{})})}),l.jsx(qt,{space:2,children:l.jsx(L,{size:1,weight:"medium",children:n.title})})]})}),id:t||"",menu:l.jsx(Bt,{children:ihe.map((r,o)=>she(r)?l.jsx(Ir,{},o):l.jsx($wn,{ordering:r},o))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}var ahe=Object.freeze,Fwn=Object.defineProperty,Lwn=(e,t)=>ahe(Fwn(e,"raw",{value:ahe(t||e.slice())})),lhe;const Bwn=P(ee)(lhe||(lhe=Lwn([`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`])));function Nwn(e){let{data:t}=e;const{score:n}=t;let r="default";n<=.1?r="critical":n>=.5&&(r="primary");const o=t.stories.filter(i=>i.score>0);return l.jsx(l.Fragment,{children:l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(oe,{space:2,children:o.length?l.jsx(l.Fragment,{children:o.map(i=>l.jsxs(qt,{space:3,children:[l.jsx(ir,{size:0,weight:"semibold",children:i.path}),l.jsx(ir,{size:0,children:i.why})]},i.path))}):l.jsx(ir,{size:0,children:"No matches"})})}),placement:"bottom-start",portal:!0,children:l.jsx(Bwn,{padding:1,shadow:1,tone:r,children:l.jsxs(ir,{size:0,children:["score: ",n]})})})})}var che=Object.freeze,zwn=Object.defineProperty,Vwn=(e,t)=>che(zwn(e,"raw",{value:che(t||e.slice())})),uhe;const Hwn=59,Uwn=4,Wwn=P(U)(uhe||(uhe=Vwn([`
  opacity: `,`;
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`])),e=>{let{$loading:t}=e;return t?.5:1});function BRe(e){let{inputElement:t}=e;const{dispatch:n,onClose:r,recentSearchesStore:o,setSearchCommandList:i,state:{debug:s,filters:a,fullscreen:c,lastActiveIndex:u,result:d,terms:f}}=Rt(),p=!!d.hits.length,m=!d.hits.length&&d.loaded,v=d.error,g=h.useCallback(()=>{if(o){const x=o.addSearch(f,a);n({recentSearches:x,type:"RECENT_SEARCHES_SET"})}r==null||r()},[n,a,r,o,f]),y=h.useCallback(x=>l.jsxs(l.Fragment,{children:[l.jsx(wz,{documentId:On(x.hit._id)||"",documentType:x.hit._type,onClick:g,paddingBottom:2}),s&&l.jsx(Nwn,{data:x})]}),[s,g]);return l.jsx(U,{children:l.jsx(ee,{borderTop:c||!!(v||p||m),flex:1,children:l.jsxs(U,{direction:"column",height:"fill",children:[p&&l.jsx(Mwn,{}),l.jsx(Wwn,{$loading:d.loading,"aria-busy":d.loading,flex:1,children:v?l.jsx(Iwn,{}):l.jsxs(l.Fragment,{children:[p&&l.jsx(Sh,{activeItemDataAttr:"data-hovered",ariaLabel:"Search results",fixedHeight:!0,initialIndex:u,inputElement:t,itemHeight:Hwn,items:d.hits,overscan:Uwn,padding:2,paddingBottom:0,ref:i,renderItem:y}),m&&l.jsx(Dwn,{})]})})]})})})}var dhe=Object.freeze,Ywn=Object.defineProperty,NRe=(e,t)=>dhe(Ywn(e,"raw",{value:dhe(t||e.slice())})),fhe,hhe;const qwn=P(ee)(fhe||(fhe=NRe([`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`]))),Gwn=P(M)(hhe||(hhe=NRe([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`])));function Kwn(e){let{onClose:t,onOpen:n,open:r}=e;const[o,i]=h.useState(null),{scheme:s}=tu(),{state:{filtersVisible:a,terms:c}}=Rt(),u=wD({terms:c});return l.jsx(TRe,{hasValidTerms:u,onClose:t,onOpen:n,open:r,children:l.jsx(Rm,{children:l.jsx(vh,{autoFocus:!pm,returnFocus:!0,children:l.jsx(Gwn,{children:l.jsxs(qwn,{display:"flex",height:"fill",scheme:s,tone:"default",children:[l.jsx(LRe,{ariaInputLabel:u?"Search results":"Recent searches",onClose:t,ref:i}),a&&l.jsx(ee,{borderTop:!0,flex:"none",children:l.jsx($Re,{})}),u?l.jsx(BRe,{inputElement:o}):l.jsx(FRe,{inputElement:o})]})})})})})}var phe=Object.freeze,Zwn=Object.defineProperty,Rz=(e,t)=>phe(Zwn(e,"raw",{value:phe(t||e.slice())})),mhe,ghe,vhe;const Xwn=P(U)(mhe||(mhe=Rz([`
  position: absolute;
  right: 0;
  top: 0;

  & > :first-child {
    margin-right: 1px;
  }
`]))),Qwn=P(U)(ghe||(ghe=Rz([`
  min-width: 253px;
  max-width: 350px;
  position: relative;
`]))),Jwn=P($r)(vhe||(vhe=Rz([`
  padding-right: 60px;
`]))),eCn=h.forwardRef(function(t,n){let{onOpen:r}=t;const{dispatch:o,state:{terms:i}}=Rt(),s=h.useCallback(c=>{o({type:"TERMS_QUERY_SET",query:c.currentTarget.value}),r()},[o,r]),a=h.useCallback(c=>{c.key==="Enter"&&r()},[r]);return l.jsxs(Qwn,{align:"center",children:[l.jsx(Jwn,{"aria-autocomplete":"list","aria-expanded":"false",autoComplete:"off",icon:ti,"data-testid":"studio-search",onChange:s,onClick:r,onKeyDown:a,placeholder:"Search",radius:2,ref:n,role:"combobox",value:i.query}),l.jsxs(Xwn,{align:"center",height:"fill",marginRight:2,children:[l.jsx(j$,{children:u0n}),l.jsx(j$,{children:Z3e.toUpperCase()})]})]})});var yhe=Object.freeze,tCn=Object.defineProperty,rE=(e,t)=>yhe(tCn(e,"raw",{value:yhe(t||e.slice())})),bhe,xhe,whe,Che;const nCn=P.div(bhe||(bhe=rE([`
  background-color: `,`;
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.shadow.ambient}),rCn=P(ee)(Che||(Che=rE([`
  `,`
  display: flex !important;
  flex-direction: column;
  max-height: `,`;
  position: absolute;
  top: `,`px;
  width: min(calc(100vw - `,"px), ",`px);
`])),e=>{let{$position:t}=e;return t.x?he(xhe||(xhe=rE([`
          left: `,`px;
        `])),t.x):he(whe||(whe=rE([`
          left: 50%;
          transform: translateX(-50%);
        `])))},e=>{let{$position:t}=e;return"min(calc(100vh - ".concat(t.y,"px - ").concat(ew,"px), ").concat(d0n,"px)")},e=>{let{$position:t}=e;return t.y},ew*2,X3e);function oCn(e){let{disableFocusLock:t,onClose:n,onOpen:r,open:o,position:i}=e;const[s,a]=h.useState(null),[c,u]=h.useState(null),{isTopLayer:d,zIndex:f}=rl(),{scheme:p}=tu(),{onClose:m,state:{filtersVisible:v,terms:g}}=Rt(),y=wD({terms:g}),x=h.useCallback(()=>{d&&m&&o&&m()},[d,m,o]);return lr(x,[s]),l.jsx(TRe,{hasValidTerms:y,onClose:n,onOpen:r,open:o,children:l.jsx(Rm,{children:l.jsxs(vh,{autoFocus:!pm,disabled:t,returnFocus:!0,children:[l.jsx(nCn,{style:{zIndex:f}}),l.jsxs(rCn,{$position:i,overflow:"hidden",radius:y1,ref:a,scheme:p,shadow:2,style:{zIndex:f},children:[l.jsx(LRe,{ariaInputLabel:y?"Search results":"Recent searches",onClose:n,ref:u}),v&&l.jsx(ee,{borderTop:!0,flex:"none",children:l.jsx($Re,{})}),y?l.jsx(BRe,{inputElement:c}):l.jsx(FRe,{inputElement:c})]})]})})})}function iCn(){const[e,t]=h.useState(null),[n,r]=h.useState(!1),o=h.useCallback(()=>r(!1),[]),i=h.useCallback(()=>r(!0),[]),s=sCn(e);return l.jsxs(l.Fragment,{children:[l.jsx(eCn,{onOpen:i,ref:t}),s&&l.jsx(oCn,{onClose:o,onOpen:i,open:n,position:s})]})}function _he(e){const t=e.getBoundingClientRect();return{x:window.innerWidth-t.x>X3e?t.x-ew:null,y:t.y-ew}}function sCn(e){const[t,n]=h.useState(null),r=h.useCallback(()=>{e&&n(_he(e))},[e]);return h.useEffect(()=>{e&&n(_he(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}const aCn="search::recent",lCn=5,nw=2;function cCn(e){let{dataset:t,fieldDefinitions:n,filterDefinitions:r,operatorDefinitions:o,projectId:i,schema:s,user:a,version:c=nw}=e;if(!t||!i||!zRe||!a)return;const u="".concat(aCn,"__").concat(i,":").concat(t,":").concat(a.id);return{addSearch:(d,f)=>{const m=(f||[]).map(x=>({fieldId:x.fieldId,filterName:x.filterName,operatorType:x.operatorType,value:x.value})).filter(x=>PC({fieldDefinitions:n,filter:x,filterDefinitions:r,operatorDefinitions:o})),v={created:new Date().toISOString(),filters:m,terms:{query:d.query.trim(),typeNames:d.types.map(x=>x.name)}},g=JSON.stringify(Mi(v,"created")),y={version:c,recentSearches:[v,...Nb(u,c).recentSearches.filter(x=>JSON.stringify(Mi(x,"created"))!==g)].slice(0,lCn)};return window.localStorage.setItem(u,JSON.stringify(y)),by({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})},getRecentSearches:()=>by({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c}),removeSearch:()=>{const f={...Nb(u,c),recentSearches:[]};return window.localStorage.setItem(u,JSON.stringify(f)),by({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})},removeSearchAtIndex:d=>{const f=Nb(u,c);if(d<0||d>f.recentSearches.length)return by({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c});const p={...f,recentSearches:[...f.recentSearches.slice(0,d),...f.recentSearches.slice(d+1)]};return window.localStorage.setItem(u,JSON.stringify(p)),by({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})}}}function Nb(e,t){const n=zRe?window.localStorage.getItem(e):void 0;return n?JSON.parse(n):{version:t,recentSearches:[]}}function by(e){let{lsKey:t,schema:n,fieldDefinitions:r,filterDefinitions:o,operatorDefinitions:i,version:s}=e;const a=uCn({lsKey:t,storedSearch:Nb(t,s)});return dCn({studioSchema:n,storedSearch:a,lsKey:t,filterDefinitions:o,fieldDefinitions:r,operatorDefinitions:i,version:s}).recentSearches.filter(c=>!!c.terms).map((c,u)=>({__recent:{index:u,timestamp:new Date(c.created).getTime()},filters:c.filters,query:c.terms.query,types:c.terms.typeNames.map(d=>n.get(d)).filter(d=>!!(d&&d.jsonType==="object"))}))}function uCn(e){let{lsKey:t,storedSearch:n}=e;if(n.version!==nw){const r={version:nw,recentSearches:[]};return window.localStorage.setItem(t,JSON.stringify(r)),r}return n}function dCn(e){let{fieldDefinitions:t,filterDefinitions:n,lsKey:r,operatorDefinitions:o,storedSearch:i,studioSchema:s,version:a}=e;const c=CD(s).map(f=>f.name),u=i.recentSearches.filter(f=>f.terms.typeNames.every(p=>c.includes(p))&&f.filters.every(p=>PC({fieldDefinitions:t,filter:p,filterDefinitions:n,operatorDefinitions:o}))),d={version:nw,recentSearches:u};return d.recentSearches.length<i.recentSearches.length&&window.localStorage.setItem(r,JSON.stringify(d)),Nb(r,a)}const zRe=(()=>{const e="__tmp__can_use";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),fCn=3;function hCn(e,t){var n;const r=CD(e).map(a=>a.name),{documentTypes:o,objectTypes:i}=(((n=e._original)==null?void 0:n.types)||[]).filter(a=>She(a)?r.includes(a.name):!0).filter(a=>a.name!=="slug").filter(a=>!a.name.startsWith("sanity.")).reduce((a,c)=>(She(c)&&(a.documentTypes[c.name]=c),HRe(c)&&(a.objectTypes[c.name]=c),a),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}},s=Xvn(t);return gCn(s,o,i)}function pCn(e){return e.reduce((t,n)=>(t[n.id]=n,t),{})}function mCn(e){return[e.type,e.fieldPath,e.filterName,e.documentTypes.join(",")].join("-")}function gCn(e,t,n){function r(i){let{acc:s,defType:a,depth:c=0,documentType:u,prevFieldPath:d,prevTitlePath:f}=i;var p;const m=c<=fCn,v=a.name.startsWith("_"),g=a!=null&&a.title?PRe(a.title):cn(a.name),y=d?"".concat(d,".").concat(a.name):a.name,x=f?[...f,g]:[g];if(!m)return;const b=n[a.type],w=t[a.type],C=HRe(a)?a:null,_=w||b||C;if(_){(p=_==null?void 0:_.fields)==null||p.forEach(S=>r({acc:s,defType:S,depth:c+1,documentType:u,prevFieldPath:y,prevTitlePath:x}));return}e.includes(a.type)&&s.push({documentTypes:u&&!v?[u]:[],fieldPath:y,filterName:wCn(a),id:"",name:a.name,titlePath:x,title:g,type:a.type})}return Object.values(t).reduce((i,s)=>{const a=s.fields.reduce((c,u)=>(r({acc:c,defType:u,documentType:s.name}),c),[]);return i.push(...a),i},[]).reduce((i,s)=>{const a=i.findIndex(c=>c.fieldPath===s.fieldPath&&c.title===s.title&&c.type===s.type);return a>-1?i[a]={...i[a],documentTypes:[...i[a].documentTypes,...s.documentTypes]}:i.push(s),i},[]).map(vCn).sort(CCn)}function vCn(e){return{...e,id:mCn(e)}}function yCn(e){var t;return VRe(e)?e.of.every(n=>["boolean","number","string"].includes(n.type))&&((t=e.options)!=null&&t.list?e.options.list.length>0:!1):!1}function VRe(e){return e.type==="array"}function She(e){return e.type==="document"}function HRe(e){return e.type==="object"}function bCn(e){return e.type==="string"}function xCn(e){var t;return bCn(e)&&(t=e.options)!=null&&t.list?e.options.list.length>0:!1}function wCn(e){if(xCn(e))return"stringList";if(VRe(e)){if(e.of.some(t=>t.type==="reference"))return"arrayReferences";if(e.of.find(t=>t.type==="block"))return"portableText";if(yCn(e))return"arrayList"}return e.type}function CCn(e,t){const n=e.titlePath.slice(0,-1).join("/"),r=t.titlePath.slice(0,-1).join("/");return e.title.localeCompare(t.title)||n.localeCompare(r)||e.fieldPath.localeCompare(t.fieldPath)}function URe(e){return typeof e.__recent<"u"}const vF="core:studio:navbar:search:";nf(vF);function _Cn(e){const t="".concat(vF).concat(e);return nf&&nf.enabled(t)?nf(t):nf(vF)}function SCn(){return typeof window>"u"?!1:window.location.hash.slice(1).split(";").includes(c0n)}function ECn(e){let{currentUser:t,fullscreen:n,recentSearches:r=[],definitions:o}=e;return{currentUser:t,debug:SCn(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:n,lastActiveIndex:-1,ordering:hp.relevance,pageIndex:0,recentSearches:r,result:{error:null,hasMore:null,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:o}}const kCn=_Cn("reducer");function jCn(e,t){let n="🔍";switch(t.type.startsWith("SEARCH_REQUEST")&&(n="🚨"),t.type.startsWith("RECENT_SEARCHES")&&(n="💾"),kCn(n,t),t.type){case"FILTERS_VISIBLE_SET":return{...e,filtersVisible:t.visible};case"LAST_ACTIVE_INDEX_SET":return{...e,lastActiveIndex:t.index};case"ORDERING_RESET":return{...e,ordering:hp.relevance,terms:Vh(e.terms)};case"ORDERING_SET":return{...e,ordering:t.ordering,terms:Vh(e.terms)};case"PAGE_INCREMENT":return{...e,pageIndex:e.pageIndex+1,terms:Vh(e.terms)};case"RECENT_SEARCHES_SET":return{...e,recentSearches:t.recentSearches};case"SEARCH_CLEAR":return{...e,pageIndex:0,result:{...e.result,hasMore:null,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...e,result:{...e.result,error:null,hasMore:t.hits.length>0,hits:e.pageIndex>0?[...e.result.hits,...t.hits]:t.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...e,result:{...e.result,error:t.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...e,result:{...e.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const r={...t.filter,value:lxn(e.definitions.operators,t.filter.operatorType)},o=[...e.filters,r];return{...e,documentTypesNarrowed:zh({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,lastAddedFilter:r,terms:{...e.terms,filter:Nh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_CLEAR":{const r=[];return{...e,documentTypesNarrowed:zh({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,terms:{...e.terms,filter:Nh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_REMOVE":{const r=e.filters.findIndex(i=>Xi(i)===t.filterKey),o=[...e.filters.slice(0,r),...e.filters.slice(r+1)];return{...e,documentTypesNarrowed:zh({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,terms:{...e.terms,filter:Nh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_OPERATOR":{const r=e.filters.find(u=>Xi(u)===t.filterKey),o=th(e.definitions.operators,r==null?void 0:r.operatorType),i=th(e.definitions.operators,t.operatorType),s=i==null?void 0:i.initialValue,a=(o==null?void 0:o.inputComponent)!=(i==null?void 0:i.inputComponent),c=e.filters.map(u=>Xi(u)===t.filterKey?{...u,operatorType:t.operatorType,...a?{value:s}:{}}:u);return{...e,filters:c,terms:{...e.terms,filter:Nh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:c,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_VALUE":{const r=e.filters.map(o=>Xi(o)===t.filterKey?{...o,value:t.value}:o);return{...e,filters:r,terms:{...e.terms,filter:Nh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_QUERY_SET":return{...e,pageIndex:0,result:{...e.result,loaded:!1},terms:Vh({...e.terms,query:t.query})};case"TERMS_SET":{const r=t.filters||[],o=[...e.terms.types||[],...t.terms.types].sort(hF);return{...e,documentTypesNarrowed:zh({fieldDefinitions:e.definitions.fields,filters:r,types:o}),filters:r,lastAddedFilter:null,pageIndex:0,result:{...e.result,loaded:!1},terms:{...t.terms,filter:Nh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_TYPE_ADD":{const r=[...e.terms.types||[],t.schemaType].sort(hF),o=zh({fieldDefinitions:e.definitions.fields,filters:[],types:r}),i=e.filters.filter(s=>{const a=fd(e.definitions.fields,s);return a?a.documentTypes.length===0?!0:o.every(c=>a.documentTypes.findIndex(u=>u===c)>-1):!0});return{...e,documentTypesNarrowed:o,filters:i,pageIndex:0,result:{...e.result,loaded:!1},terms:Vh({...e.terms,filter:Nh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,operatorDefinitions:e.definitions.operators,filters:i}),types:r})}}case"TERMS_TYPE_REMOVE":{const r=(e.terms.types||[]).filter(o=>o!==t.schemaType);return{...e,documentTypesNarrowed:zh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:Vh({...e.terms,types:r})}}case"TERMS_TYPES_CLEAR":{const r=[];return{...e,documentTypesNarrowed:zh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:Vh({...e.terms,types:[]})}}default:return e}}function Vh(e){if(URe(e)){const{__recent:t,...n}=e;return n}return e}function TCn(e){let{children:t,fullscreen:n}=e;const r=h.useRef(null),[o,i]=h.useState(null),s=fr(sn),a=_n(),c=Yo(),{search:{operators:u,filters:d}}=$n(),{dataset:f,projectId:p}=s.config(),{fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g}=h.useMemo(()=>({fieldDefinitions:pCn(hCn(a,d)),filterDefinitions:Zvn(d),operatorDefinitions:axn(u)}),[d,u,a]),y=h.useMemo(()=>cCn({dataset:f,fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g,projectId:p,schema:a,user:c,version:nw}),[c,f,m,v,g,p,a]),x=h.useMemo(()=>y==null?void 0:y.getRecentSearches(),[y]),b=h.useMemo(()=>ECn({currentUser:c,fullscreen:n,recentSearches:x,definitions:{fields:m,operators:g,filters:v}}),[c,m,v,n,g,x]),[w,C]=h.useReducer(jCn,b),{documentTypesNarrowed:_,filters:S,ordering:E,pageIndex:j,result:k,terms:T}=w,A=h.useRef(!1),D=h.useRef(b.ordering),I=h.useRef(b.pageIndex),O=h.useRef(b.terms),{handleSearch:$,searchState:R}=Q3e({initialState:{...k,terms:T},onComplete:H=>C({hits:H,type:"SEARCH_REQUEST_COMPLETE"}),onError:H=>C({error:H,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>C({type:"SEARCH_REQUEST_START"}),schema:a}),V=wD({terms:T}),N=_.map(H=>a.get(H)),W=S.filter(H=>PC({fieldDefinitions:m,filter:H,filterDefinitions:v,operatorDefinitions:g})),q=h.useCallback(H=>{r.current=H},[]);return h.useEffect(()=>{const H=!Ht(E,D.current),Y=j!==I.current,X=!Ht(T,O.current);if(H||Y||X){const B=(E==null?void 0:E.customMeasurementLabel)||"".concat(E.sort.field," ").concat(E.sort.direction);$({options:{comments:[...URe(T)?["findability-recent-search:".concat(T.__recent.index)]:[],"findability-selected-types:".concat(T.types.length),"findability-sort:".concat(B),"findability-source: global","findability-filter-count:".concat(W.length)],limit:Yue,offset:j*Yue,skipSortByScore:E.ignoreScore,sort:[E.sort]},terms:{...T,...N?{types:N}:{}}}),I.current=j}D.current=E,O.current=T},[W.length,S,N,$,V,E,j,R.terms,T]),h.useEffect(()=>{!V&&(A!=null&&A.current)&&k.hits.length>0&&C({type:"SEARCH_CLEAR"}),A.current=!0},[C,V,k.hits,T.query,T.types]),l.jsx(Y3e.Provider,{value:{dispatch:C,onClose:r==null?void 0:r.current,recentSearchesStore:y,searchCommandList:o,setSearchCommandList:i,setOnClose:q,state:{...w,fullscreen:n}},children:t})}const WRe="3.20.0";function ACn(e){return e.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:["sanity@".concat(WRe)]},tag:"module.version-check",json:!0}).pipe(ue(n=>({...n})))}function DCn(){const e=fr({apiVersion:"1"}),t=h.useMemo(()=>ACn(e),[e]);return gIe(t)}function ICn(e){let{error:t,isLoading:n,value:r}=e;var o;const i=(o=r==null?void 0:r.resources)==null?void 0:o.sectionArray,s=r==null?void 0:r.latestVersion;return n?l.jsx(U,{align:"center",justify:"center",padding:3,children:l.jsx(ur,{})}):l.jsxs(l.Fragment,{children:[(r===void 0||t)&&l.jsx("div",{children:OCn}),!t&&(i==null?void 0:i.map(a=>a?l.jsx(PCn,{subSection:a},a._key):null)),l.jsxs(M,{padding:3,children:[l.jsxs(L,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:["Sanity Studio version ",WRe]}),!t&&s&&l.jsx(M,{paddingTop:2,children:l.jsxs(L,{size:1,muted:!0,textOverflow:"ellipsis",children:["Latest version is ",s]})})]})]})}const OCn=l.jsxs(l.Fragment,{children:[l.jsx(Ve,{as:"a",text:"Join our community",size:0,href:"https://www.sanity.io/exchange/community",target:"_blank",muted:!1}),l.jsx(Ve,{as:"a",text:"Help and support",size:0,href:"https://www.sanity.io/contact/support",target:"_blank",muted:!1}),l.jsx(Ve,{as:"a",text:"Contact sales",size:0,href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank",muted:!1}),l.jsx(Ir,{})]});function PCn(e){let{subSection:t}=e;var n;return l.jsxs(l.Fragment,{children:[t.sectionTitle&&l.jsx(ee,{padding:2,paddingTop:3,marginLeft:1,children:l.jsx(Vt,{muted:!0,size:1,children:t.sectionTitle})}),(n=t==null?void 0:t.items)==null?void 0:n.map(r=>{if(!r||!r.title)return null;switch(r._type){case"externalLink":return r.url?l.jsx(Ve,{as:"a",tone:"default",text:r.title,size:0,href:r.url,target:"_blank"},r._key):null;case"internalAction":return r.type?r.type==="show-welcome-modal"&&l.jsx(Ve,{text:r.title,size:0},r._key):null;default:return null}}),l.jsx(Ir,{})]})}var Ehe=Object.freeze,RCn=Object.defineProperty,$Cn=(e,t)=>Ehe(RCn(e,"raw",{value:Ehe(t||e.slice())})),khe;const MCn=P(Bt)(khe||(khe=$Cn([`
  max-width: 300px;
  min-width: 200px;
`])));function FCn(){const{scheme:e}=tu(),[t,n]=h.useState(!1),{value:r,error:o,isLoading:i}=DCn(),s=h.useCallback(()=>n(!0),[]),a=h.useCallback(()=>n(!1),[]);return l.jsx(U,{children:l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Help and resources "})}),scheme:e,placement:"bottom",portal:!0,disabled:t,children:l.jsx("div",{children:l.jsx(en,{button:l.jsx(se,{"aria-label":"Help and resources",icon:qv,mode:"bleed",fontSize:2}),id:"menu-button-resources",menu:l.jsx(MCn,{children:l.jsx(ICn,{error:o,isLoading:i,value:r})}),popover:{constrainSize:!0,placement:"bottom",portal:!0,scheme:e},onClose:a,onOpen:s})})})})}var jhe=Object.freeze,LCn=Object.defineProperty,$z=(e,t)=>jhe(LCn(e,"raw",{value:jhe(t||e.slice())})),The,Ahe,Dhe;const BCn=P(ss)(The||(The=$z([`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`]))),NCn=P(ee)(Ahe||(Ahe=$z([`
  line-height: 0;
`]))),zCn=P(U)(Dhe||(Dhe=$z([`
  width: max-content;
`])));function VCn(){const{name:e,tools:t,...n}=ec(),r=F0().theme,o=OC(),i=IT(),{scheme:s}=tu(),{href:a,onClick:c}=lSe({state:{}}),u=Om(),d=typeof i.tool=="string"?i.tool:void 0,f=Lbn(),{onSearchFullscreenOpenChange:p,searchFullscreenOpen:m,searchFullscreenPortalEl:v}=h.useContext(SRe),g=XCn(),y=qRe(),[x,b]=h.useState(!1),w=h.useRef(i),C=h.useRef(e);h.useEffect(()=>{(w.current.tool!==i.tool||e!==C.current)&&b(!1),w.current=i,C.current=e},[e,i]);const[_,S]=h.useState(null),[E,j]=h.useState(null),k=h.useMemo(()=>({brandingCenter:u<=1,resources:u>1,collapsedPresenceMenu:u<=1,loginStatus:u>1,searchFullscreen:u<=1,configIssues:u>1&&eu,workspaces:u>=3&&o.length>1,tools:u>=3}),[u,o.length]),T=typeof e=="string"&&e!=="root"?cn(e):null,A=n.title||T||"Studio";h.useEffect(()=>{p(m)},[m,p]),h.useEffect(()=>{p&&!k.searchFullscreen&&p(!1)},[p,k.searchFullscreen]);const D=h.useCallback(()=>{p(!0)},[p]),I=h.useCallback(()=>{p(!1),E==null||E.focus()},[p,E]),O=h.useCallback(()=>{b(!1),_==null||_.focus()},[_]),$=h.useCallback(()=>{b(!0)},[]);return l.jsxs(BCn,{zOffset:100,"data-search-open":m,children:[l.jsx(NCn,{"data-testid":"navbar","data-ui":"Navbar",padding:2,scheme:"dark",shadow:r.__legacy||s==="dark"?1:void 0,sizing:"border",children:l.jsxs(U,{align:"center",justify:"space-between",children:[l.jsxs(zCn,{align:"center",flex:k.brandingCenter?void 0:1,children:[!k.tools&&l.jsx(M,{marginRight:1,children:l.jsx(se,{mode:"bleed",icon:C6,onClick:$,ref:S})}),!k.brandingCenter&&l.jsx(M,{marginRight:1,children:l.jsx(wfe,{href:a,onClick:c,title:A,children:l.jsx(g,{title:A})})}),k.workspaces&&l.jsx(M,{marginRight:2,children:l.jsx(xRe,{collapsed:!0})}),l.jsx(M,{marginRight:k.brandingCenter?void 0:2,children:l.jsx(Fbn,{...f,modal:k.brandingCenter?"dialog":"popover"})}),l.jsx(Qu,{children:l.jsx(TCn,{fullscreen:k.searchFullscreen,children:l.jsxs(Xu,{element:document.body,children:[l.jsx(yd,{element:v,children:k.searchFullscreen&&l.jsx(Kwn,{onClose:I,onOpen:D,open:m})}),!k.searchFullscreen&&l.jsx(iCn,{})]})})}),k.tools&&l.jsx(ee,{flex:1,marginX:2,overflow:"visible",paddingRight:1,children:l.jsx(y,{activeToolName:d,closeSidebar:O,context:"topbar",isSidebarOpen:!1,tools:t})})]}),k.brandingCenter&&l.jsx(M,{marginX:1,children:l.jsx(wfe,{href:a,onClick:c,title:A,children:l.jsx(g,{title:A})})}),l.jsxs(U,{gap:2,children:[(k.configIssues||k.resources)&&l.jsx(ee,{borderRight:!0,children:l.jsxs(U,{gap:1,paddingX:2,children:[k.configIssues&&l.jsx(rxn,{}),k.resources&&l.jsx(FCn,{})]})}),l.jsxs(U,{align:"center",gap:1,children:[l.jsx(Gbn,{collapse:k.collapsedPresenceMenu}),k.tools&&l.jsx(bbn,{}),k.searchFullscreen&&l.jsx(se,{"aria-label":"Open search",icon:ti,mode:"bleed",onClick:D,ref:j})]})]})]})}),!k.tools&&l.jsx(nxn,{activeToolName:d,isOpen:x,onClose:O,tools:t})]})}const YRe=h.forwardRef(function(t,n){const{name:r,...o}=t,i=IT(h.useCallback(()=>({tool:r,[r]:void 0}),[r]));return l.jsx(DT,{state:i,...o,ref:n})});function HCn(e){const{activeToolName:t,tools:n}=e,{scheme:r}=tu(),[o,i]=h.useState(null);jIe({rootElement:o,navigation:["arrows"]});const s=h.useMemo(()=>({popover:{constrainSize:!0,portal:!0,scheme:r}}),[r]),a=h.useMemo(()=>n.map((c,u)=>{const d=(c==null?void 0:c.title)||cn(c.name)||void 0,f=h.forwardRef(function(m,v){return l.jsx(YRe,{...m,ref:v,name:c.name})});return l.jsx(yz,{as:f,"data-as":"a",collapsedProps:{tooltipText:c.title},icon:c.icon||Al,mode:"bleed",selected:t===c.name,text:d,tooltipProps:{scheme:r}},"".concat(c.name,"-").concat(u))}),[t,r,n]);return l.jsx(vz,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:s,ref:i,children:a})}function UCn(e){const{activeToolName:t,isVisible:n,tools:r}=e;return h.useMemo(()=>l.jsx(oe,{as:"ul",space:1,children:r.map(o=>{const i=(o==null?void 0:o.title)||cn(o.name)||void 0,s=h.forwardRef(function(c,u){return l.jsx(YRe,{...c,ref:u,name:o.name})});return l.jsx(oe,{as:"li",children:l.jsx(se,{as:s,icon:o.icon||W1e,justify:"flex-start",mode:"bleed",selected:t===o.name,tabIndex:n?0:-1,text:i})},o.name)})}),[t,n,r])}function WCn(e){const{context:t,isSidebarOpen:n,...r}=e;return t==="sidebar"?l.jsx(UCn,{isVisible:n,...r}):l.jsx(HCn,{...r})}function YCn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.toolMenu}function qCn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.navbar}function GCn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.layout}function KCn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.logo}function qRe(){return Jl({defaultComponent:WCn,pick:YCn})}function ZCn(){return Jl({defaultComponent:VCn,pick:qCn})}function XCn(){return Jl({defaultComponent:cyn,pick:KCn})}function QCn(){return Jl({defaultComponent:sbn,pick:GCn})}const Ihe=KGt.__sanityErrorChannel;function JCn(){const{push:e}=Wo();return h.useEffect(()=>{if(Ihe)return Ihe.subscribe(t=>{t.error&&(e_n(t.error)||(console.error(t.error),e({id:t.error.message,closable:!0,description:t.error.message,duration:5e3,title:"Uncaught error",status:"error"})))})},[e]),null}function e_n(e){return e instanceof Az||e instanceof pN||e instanceof La}function t_n(e){let{children:t,AuthenticateComponent:n=wRe,LoadingComponent:r=Bb,NotAuthenticatedComponent:o=CRe}=e;const[i,s]=h.useState(null);if(i)throw i;const[a,c]=h.useState("loading"),{activeWorkspace:u}=b1();return h.useEffect(()=>{var d,f;(f=(d=u.auth).handleCallbackUrl)==null||f.call(d).catch(s)},[u.auth]),h.useEffect(()=>{const d=u.auth.state.subscribe({next:f=>{let{authenticated:p,currentUser:m}=f;var v;if(((v=m==null?void 0:m.roles)==null?void 0:v.length)===0){c("unauthorized");return}c(p?"logged-in":"logged-out")},error:s});return()=>{d.unsubscribe()}},[u]),a==="loading"?l.jsx(r,{}):a==="unauthorized"?l.jsx(o,{}):a==="logged-out"?l.jsx(n,{}):l.jsx(l.Fragment,{children:t})}function n_n(e){let{children:t}=e;const n=b1().activeWorkspace.theme;if(n.__legacy){const r=n.__dark?"dark":"light";return l.jsx(kD.Provider,{value:!1,children:l.jsx(ED.Provider,{value:r,children:l.jsx(XE,{scheme:r,theme:n,tone:"transparent",children:l.jsx(Qu,{children:t})})})})}return l.jsx(XE,{theme:n,tone:"transparent",children:l.jsx(Qu,{children:t})})}const r_n={toast:[100,11e3]};var Ohe=Object.freeze,o_n=Object.defineProperty,GRe=(e,t)=>Ohe(o_n(e,"raw",{value:Ohe(t||e.slice())})),Phe,Rhe;P(U)(Phe||(Phe=GRe([""])));P(M).attrs({padding:4})(Rhe||(Rhe=GRe([""])));function i_n(e){const{basePath:t="/",tools:n}=e,r=Ci.create("/:tool",o=>{let i=n.find(s=>s.name===o.tool);return!i&&o.tool==="desk"&&(i=n.find(s=>s.name==="structure")),i?Ci.scope(i.name,"/",i.router):Ci.create("/")});return Ci.create(t,[Ci.intents("/intent"),r])}function Mz(e){const n={}.toolSwitcher||{},r=n.order||[],o=n.hidden||[];if(!r.length&&!o.length)return e;const i=e.reduce((c,u)=>{const d=u.title||"<unknown>";if(!u.name)return console.warn('Tool "'.concat(d,'" does not have the required "name" property')),c;if(c[u.name]){const p=c[u.name].tool.title;return console.warn('Tools with duplicate name "'.concat(u.name,'" found ("').concat(d,'" and "').concat(p,'")')),c}const f=r.indexOf(u.name);return c[u.name]={tool:u,index:f===-1?1/0:f},c},{}),s=c=>o.indexOf(c.name)===-1,a=e.filter(s);return a.sort((c,u)=>{const d=i[c.name],f=i[u.name],p=d?d.index:1/0,m=f?f.index:1/0;return p===m?0:p-m}),a}const s_n=["template"],a_n=["mode"];function l_n(e,t){const r=Mz(e)[0];return!t||t.tool||!r?t:Object.assign({},t,{tool:r.name})}function c_n(e,t){return t&&(Mz(e).find(n=>n.name===t.space)?{...t,tool:t.space,space:void 0}:t)}function u_n(e,t){return l_n(e,c_n(e,t))}function d_n(e,t,n){var r;const{intent:o,params:i,payload:s}=n;if(typeof o!="string")throw new Error("intent must be a string");if(!yt(i))throw new Error("intent params must be a string");const a=Mz(e),c=t!=null&&t.tool?a.find(m=>m.name===t.tool):null,u=c?a.filter(m=>m!==c):a;let d=[];o==="create"?d=s_n:o==="edit"&&(d=a_n);const f={score:-1,tool:null},{tool:p}=(c?[c,...u]:a).reduce((m,v)=>{if(!v||typeof v.canHandleIntent!="function")return m;const g=v.canHandleIntent(o,i,t&&t[v.name]);if(typeof g=="boolean")return g&&m.score<0?{score:0,tool:v}:m;if(!yt(g))return m;const y=d.reduce((x,b)=>b in i&&g[b]===!0?x+1:x,0);return y>m.score?{score:y,tool:v}:m},f);if(p!=null&&p.getIntentState){const m=p.getIntentState(o,i,t&&t[p.name],s),{_searchParams:v,...g}=m,y={...t,tool:p.name,[p.name]:g};return(r=p.router)!=null&&r.__unsafe_disableScopedSearchParams?y._searchParams=v:g._searchParams=v,{type:"state",isNotFound:!1,state:y}}return{type:"intent",isNotFound:!0,intent:{name:o,params:i}}}function f_n(e,t){return{type:"state",state:e.decode(t)||{},isNotFound:e.isNotFound(t)}}function h_n(e){let{children:t,LoadingComponent:n,workspace:r}=e;const{basePath:o,tools:i}=r,s=Fyn(),a=h.useMemo(()=>i_n({basePath:o,tools:i}),[o,i]),[c,u]=p_n(s,a,i);return c?l.jsx(Rgt,{onNavigate:u,router:a,state:c,children:t}):l.jsx(n,{})}function p_n(e,t,n){var r;const o=h.useMemo(()=>{const c=t.getBasePath(),u=new RegExp("^".concat(MB(c),"(\\/|$)"),"i"),d=f=>c==="/"?!0:u.test(f);return{subscribe:f=>e.listen(f),getSnapshot:()=>e.location.pathname+e.location.search,getServerSnapshot:()=>null,selector:f=>typeof f=="string"&&d(f)?f_n(t,f):null}},[e,t]),i=IB.useSyncExternalStoreWithSelector(o.subscribe,o.getSnapshot,o.getServerSnapshot,o.selector,Ht),s=h.useRef(i);h.useEffect(()=>{var c;if((i==null?void 0:i.type)==="state"&&!((c=i.state)!=null&&c.intent)){const u=u_n(n,i.state);u&&u!==i.state&&e.replace(t.encode(u))}},[i==null?void 0:i.state,i==null?void 0:i.type,e,t,n]),h.useEffect(()=>{const c=$he(i,t,n,s);c?e.replace(c):s.current=i},[i,e,t,n]);const a=h.useMemo(()=>c=>{let{path:u,replace:d}=c;const f=o.selector(u),p=$he(f,t,n,s),m=typeof p=="string"?p:u;d?e.replace(m):e.push(m)},[e,t,o,n]);return[(r=i==null?void 0:i.state)!=null?r:null,a]}function $he(e,t,n,r){var o,i;if((e==null?void 0:e.type)==="state"&&((o=e.state)!=null&&o.intent)){const s=d_n(n,((i=r.current)==null?void 0:i.type)==="state"?r.current.state:{},e.state);if((s==null?void 0:s.type)==="state")return t.encode(s.state)}return null}function m_n(e){let{children:t,LoadingComponent:n}=e;const[r,o]=h.useState(null);if(r)throw r;const{activeWorkspace:i}=b1(),[s,a]=h.useState(null);return h.useEffect(()=>{const c=oi(i.__internal.sources.map(u=>{let{source:d}=u;return d.pipe(In(f=>{if(f instanceof La)return be(f);throw f}))})).pipe(ue(u=>{const d=u.filter(f=>f instanceof La);if(d.length)throw new La({name:i.name,causes:d,type:"workspace"});return u}),ue(u=>{let[d,...f]=u;return{...i,...d,unstable_sources:[d,...f],type:"workspace"}})).subscribe({next:a,error:o});return()=>c.unsubscribe()},[i]),s?l.jsx(k0n,{workspace:s,children:l.jsx(_z,{source:s.unstable_sources[0],children:l.jsx(h_n,{LoadingComponent:n,workspace:s,children:t})})}):l.jsx(n,{})}function g_n(e){let{ConfigErrorsComponent:t,...n}=e;const[{error:r},o]=h.useState({error:null});if(r)throw r;return l.jsx(L0,{onCatch:o,children:l.jsx(m_n,{...n})})}Gp.registerLanguage(rYt);Gp.registerLanguage(dVe);Gp.registerLanguage(iYt);Gp.registerLanguage(aYt);Gp.registerLanguage(cYt);function v_n(e){let{children:t,config:n,basePath:r,onSchemeChange:o,scheme:i,unstable_history:s,unstable_noAuthBoundary:a}=e;const c=l.jsx(g_n,{LoadingComponent:Bb,ConfigErrorsComponent:Qyn,children:l.jsx(_Xt,{children:t})});return l.jsx(uyn,{onSchemeChange:o,scheme:i,children:l.jsxs(C8,{paddingY:7,zOffset:r_n.toast,children:[l.jsx(JCn,{}),l.jsx(_Re,{children:l.jsx(hyn,{config:n,basePath:r,children:l.jsx(Nyn,{unstable_history:s,NotFoundComponent:Dyn,LoadingComponent:Bb,children:l.jsx(n_n,{children:l.jsx(atn,{children:a?c:l.jsx(t_n,{LoadingComponent:Bb,AuthenticateComponent:wRe,NotAuthenticatedComponent:CRe,children:c})})})})})})]})})}function y_n(){const e=QCn();return l.jsx(e,{})}function Mhe(e){const{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_globalStyles:i,unstable_history:s,unstable_noAuthBoundary:a}=e;return l.jsxs(v_n,{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_history:s,unstable_noAuthBoundary:a,children:[i&&l.jsx(GXt,{}),l.jsx(y_n,{})]})}function b_n(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!e)throw new Error("Missing root element to mount application into");const r=typeof n=="boolean"?{reactStrictMode:n}:n,{reactStrictMode:o=!1,basePath:i}=r,s=mDe(e);return s.render(o?l.jsx(h.StrictMode,{children:l.jsx(Mhe,{config:t,basePath:i,unstable_globalStyles:!0})}):l.jsx(Mhe,{config:t,basePath:i,unstable_globalStyles:!0})),()=>s.unmount()}function fr(e){const t=$n();return e?t.getClient(e):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),t.getClient({apiVersion:"2021-06-07"}))}const Fhe="connecting";function x_n(e,t){const n=al();return vo(()=>n.pair.documentEvents(e,t).pipe(ue(r=>r.type),ue(r=>r!=="reconnect"),st(r=>r?be("connected"):as(200).pipe(z8("reconnecting"))),ii(Fhe),_r()),[n.pair,e,t],Fhe)}function KRe(){return $n().dataset}function nc(e,t){const n=al();return vo(()=>n.pair.editOperations(e,t),[t,n.pair,e])}function ZRe(e,t){const n=al();return vo(()=>n.pair.operationEvents(e,t),[n.pair,e,t])}function Fz(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";const r=al();return vo(()=>{const o=r.pair.editState(e,t).pipe(Ga());return n==="low"?pn(o.pipe(Ll(1)),o.pipe(u2e(1),B8(()=>as(1e3)))):r.pair.editState(e,t)},[r.pair,e,t,n])}function XRe(){return $n().projectId}function _n(){return $n().schema}const w_n={isSyncing:!0},Lhe={isSyncing:!1};function QRe(e,t){const n=al();return vo(()=>n.pair.consistencyStatus(e,t).pipe(ue(r=>r?Lhe:w_n)),[n.pair,t,e],Lhe)}function x1(){return $n().templates}const j3=1e3*5,Bhe=1e3*20,yF=1e3*60,k2=yF*60;function Qo(e){let{minimal:t,agoSuffix:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=C_n(e,{minimal:t,agoSuffix:n}),[,o]=h.useReducer(i=>i+1,0);return h.useEffect(()=>{let i;function s(a){i=window.setTimeout(()=>{o(),i=window.setTimeout(()=>s(a),a)},a)}return r.refreshInterval!==null&&s(r.refreshInterval),()=>{i!==null&&clearTimeout(i)}},[o,r.refreshInterval]),r.timestamp}function C_n(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e instanceof Date?e:new Date(e);if(!n.getTime())return{timestamp:"",refreshInterval:null};const r=Date.now(),o=sAt(r,n),i=cAt(r,n);if(o||i)return t.minimal&&i===0?{timestamp:ei(n,"MMM d"),refreshInterval:null}:t.minimal?{timestamp:ei(n,"MMM d, yyyy"),refreshInterval:null}:{timestamp:ei(n,"MMM d, yyyy, hh:mm a"),refreshInterval:null};const s=lAt(r,n),a=zr("week",s);if(s)return t.minimal?{timestamp:t.agoSuffix?"".concat(s,"w ago"):"".concat(s,"w"),refreshInterval:k2}:{timestamp:t.agoSuffix?"".concat(s," ").concat(a," ago"):"".concat(s," ").concat(a),refreshInterval:k2};const c=m5e(r,n),u=zr("days",c);if(c){if(t.minimal){const x=t.agoSuffix?"".concat(c,"d ago"):"".concat(c,"d");return{timestamp:c===1?"yesterday":x,refreshInterval:k2}}const y=t.agoSuffix?"".concat(c," ").concat(u," ago"):"".concat(c," ").concat(u);return{timestamp:c===1?"yesterday":y,refreshInterval:k2}}const d=nAt(r,n),f=zr("hour",d);if(d)return t.minimal?{timestamp:t.agoSuffix?"".concat(d,"h ago"):"".concat(d,"h"),refreshInterval:yF}:{timestamp:t.agoSuffix?"".concat(d," ").concat(f," ago"):"".concat(d," ").concat(f),refreshInterval:yF};const p=rAt(r,n),m=zr("minute",p);if(p)return t.minimal?{timestamp:t.agoSuffix?"".concat(p,"m ago"):"".concat(p,"m"),refreshInterval:Bhe}:{timestamp:t.agoSuffix?"".concat(p," ").concat(m," ago"):"".concat(p," ").concat(m),refreshInterval:Bhe};const v=aAt(r,n),g=zr("second",v);return v>10?t.minimal?{timestamp:t.agoSuffix?"".concat(v,"s ago"):"".concat(v,"s"),refreshInterval:j3}:{timestamp:t.agoSuffix?"".concat(v," ").concat(g," ago"):"".concat(v," ").concat(g),refreshInterval:j3}:{timestamp:"just now",refreshInterval:j3}}const __n={validation:[],isValidating:!1};function Lz(e,t){const n=al();return vo(()=>n.pair.validation(e,t),[n.pair,e,t],__n)}const Nhe={isLoading:!0,enabled:!0,features:[]};function S_n(e){let{versionedClient:t}=e;return t.observable.request({uri:"/features",tag:"features"})}let T3;function JRe(e){const t=fr(sn);return T3||(T3=S_n({versionedClient:t}).pipe(Ri())),vo(()=>T3.pipe(ue(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{isLoading:!1,enabled:!!(r!=null&&r.includes(e)),features:r}}),ii(Nhe),In(r=>(console.error(r),be({isLoading:!1,enabled:!0,features:[]})))),[e],Nhe)}const E_n=_h(e=>{let[t,n]=e;return Cr(t.getUser(n).catch(r=>(console.error(r),null)))});function w1(e){const t=Yz();return E_n(h.useMemo(()=>[t,e],[e,t]))}function Yo(){const{currentUser:e}=$n();return e}const zhe=e=>{const t=e.LOCAL,n=e.document.HEAD;return t&&{...t,_type:(n||t)._type,_rev:(n||t)._rev,_updatedAt:new Date().toISOString()}},Vhe=e=>({type:"snapshot",document:e}),Hhe=e=>e.document,k_n=e=>{const t=new uo,n=new P8(!0),r=new uo,o=new uo,i=new uo,s=new uo,a=x=>{const b=new sVt(x);return b.onMutation=w=>{let{mutation:C,remote:_}=w;r.next({type:"mutation",document:zhe(b),mutations:C.mutations,origin:_?"remote":"local"})},b.onRemoteMutation=w=>{i.next({type:"remoteMutation",head:b.document.HEAD,transactionId:w.transactionId,timestamp:w.timestamp,author:w.identity,effects:w.effects})},b.onRebase=(w,C,_)=>{o.next({type:"rebase",document:w,remoteMutations:C,localMutations:_})},b.onConsistencyChanged=w=>{n.next(w)},b.commitHandler=w=>s.next(w),b},c=e.pipe(qa((x,b)=>b.type==="snapshot"?(x&&x.commit(),a(b.document||null)):x===null?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',b.type),null):x,null),bt(x=>x!==null),_r(),El(1),Sl()),u=e.pipe(bt(x=>x.type==="mutation"),gb(c),ue(x=>{let[b,w]=x;return w.arrive(new $c(b)),zhe(w)})),d=t.pipe(gb(c),qn(x=>{let[b,w]=x;b.type==="mutation"&&w.add(new $c({mutations:b.mutations})),b.type==="commit"&&w.commit()}),om(Vr),Ga()),f=x=>t.next(x),p=x=>f({type:"mutation",mutations:x}),m=x=>p([x]),v=()=>{c.pipe(Ll(1),qn(x=>x.commit())).subscribe()},g=pn(c.pipe(ue(x=>x.LOCAL)),r.pipe(ue(Hhe)),o.pipe(ue(Hhe)),u).pipe(ue(Vhe),El(1),Sl()),y=pn(c.pipe(ue(x=>x.document.HEAD),ue(Vhe)),i).pipe(El(1),Sl());return{updates$:pn(g,d,r,o),consistency$:n.pipe(_r(),El(1),Sl()),remoteSnapshot$:y,commitRequest$:s,addMutation:m,addMutations:p,commit:v}},j_n=e=>t=>{const{_id:n,_rev:r,_updatedAt:o,...i}=t;return{_id:e,...i}},Uhe=(e,t)=>{const n=k_n(t),r=j_n(e),o={delete:{id:e}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:i=>i.map(s=>({patch:{...s,id:e}})),create:i=>({create:r(i)}),createIfNotExists:i=>({createIfNotExists:r(i)}),createOrReplace:i=>({createOrReplace:r(i)}),delete:()=>o,mutate:i=>n.addMutations(i),commit:()=>n.commit()}},T_n={type:"pending",phase:"begin"},A_n={type:"pending",phase:"end"};function D_n(e){return e.type==="mutation"}function I_n(e){return e.transactionTotalEvents>1}function O_n(e){const t=uB(e.filter(n=>n.type==="mutation"),n=>n.transactionId);return Object.values(t).every(n=>n.length===n[0].transactionTotalEvents)}function P_n(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{publishedId:r,draftId:o}=t;return No(()=>e.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:r,draftId:o},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"})).pipe(Z$(s=>s.type==="welcome"?i().pipe(Z$(a=>[Whe(o,a.draft),Whe(r,a.published)])):be(s)),qa((s,a)=>{if(!D_n(a))return{next:[a],buffer:[]};const c=s.buffer.length>0,u=I_n(a);if(!u&&!c)return{next:[a],buffer:[]};if(!u)return{next:[],buffer:s.buffer.concat(a)};const d=s.buffer.concat(a);return O_n(d)?{next:d.concat(A_n),buffer:[]}:{next:d.length===1?[T_n]:[],buffer:d}},{next:[],buffer:[]}),jt(s=>s.next));function i(){return e.observable.getDocuments([o,r],{tag:"document.snapshots"}).pipe(ue(s=>{let[a,c]=s;return{draft:a,published:c}}))}}function Whe(e,t){return{type:"snapshot",documentId:e,document:t}}const Yhe=e=>t=>t.type!=="reconnect"&&t.type!=="pending"&&t.documentId===e;function j2(e){return t=>({...t,version:e})}function R_n(e,t){const{resultRev:n,...r}=t;return e.dataRequest("mutate",r,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function $_n(e,t){return Cr(R_n(e,t.mutation.params)).pipe(qn({error:n=>{"statusCode"in n&&typeof n.statusCode=="number"&&n.statusCode>=400&&n.statusCode<=500?t.cancel(n):t.failure(n)},next:()=>t.success()}))}function e$e(e,t){const{publishedId:n,draftId:r}=t,o=P_n(e,t).pipe(Ga()),i=o.pipe(bt(d=>d.type==="reconnect")),s=Uhe(r,o.pipe(bt(Yhe(r)))),a=Uhe(n,o.pipe(bt(Yhe(n)))),c=o.pipe(bt(d=>d.type==="pending")),u=pn(s.commitRequest$,a.commitRequest$).pipe(jt(d=>$_n(e,d)),om(Vr),Ga());return{transactionsPendingEvents$:c,draft:{...s,events:pn(u,i,s.events).pipe(ue(j2("draft"))),consistency$:s.consistency$,remoteSnapshot$:s.remoteSnapshot$.pipe(ue(j2("draft")))},published:{...a,events:pn(u,i,a.events).pipe(ue(j2("published"))),consistency$:a.consistency$,remoteSnapshot$:a.remoteSnapshot$.pipe(ue(j2("published")))}}}function nu(e,t){const n=Object.create(null);return function(){const r=t(...arguments);return r in n||(n[r]=e(...arguments)),n[r]}}const eg=(e,t)=>{var n;return((n=e.get(t))==null?void 0:n.liveEdit)===!0};function RC(e,t,n){var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}const DD=nu((e,t,n)=>new _t(r=>{r.next(e$e(e,t))}).pipe(El(1),Sl()),RC);function M_n(e){return e.type==="snapshot"}function qhe(e){return{snapshots$:e.events.pipe(bt(M_n),ue(t=>t.document),El(1),Sl()),patch:e.patch,create:e.create,createIfNotExists:e.createIfNotExists,createOrReplace:e.createOrReplace,delete:e.delete,mutate:e.mutate,commit:e.commit}}const Bz=nu((e,t,n)=>DD(e,t,n).pipe(ue(r=>{let{published:o,draft:i,transactionsPendingEvents$:s}=r;return{transactionsPendingEvents$:s,published:qhe(o),draft:qhe(i)}}),El(1),Sl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),F_n={enabled:!0},Ghe={enabled:!1},t$e=nu((e,t,n)=>{const r=eg(e.schema,n);return Bz(e.client,t,n).pipe(st(o=>oi([o.draft.snapshots$,o.published.snapshots$,o.transactionsPendingEvents$.pipe(ue(i=>i.phase==="begin"?F_n:Ghe),ii(Ghe))])),ue(o=>{let[i,s,a]=o;return{id:t.publishedId,type:n,draft:i,published:s,liveEdit:r,ready:!0,transactionSyncLock:a}}),ii({id:t.publishedId,type:n,draft:null,published:null,liveEdit:r,ready:!1,transactionSyncLock:null}),El(1),Sl())},(e,t,n)=>RC(e.client,t,n)),n$e=nu((e,t,n)=>Bz(e.client,t,n).pipe(st(r=>oi([r.draft.snapshots$,r.published.snapshots$]).pipe(ue(o=>{let[i,s]=o;return{...e,idPair:t,typeName:n,snapshots:{draft:i,published:s},draft:r.draft,published:r.published}}))),El(1),Sl()),(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),Y5={disabled:e=>{let{snapshots:t}=e;return t.draft||t.published?!1:"NOTHING_TO_DELETE"},execute:e=>{let{client:t,schema:n,idPair:r,typeName:o}=e;const i=t.observable.transaction().delete(r.publishedId);return eg(n,o)?i.commit({tag:"document.delete"}):i.delete(r.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}};function bF(e){return hd(e)?e._strengthenOnPublish?Mi(e,["_strengthenOnPublish"].concat(e._strengthenOnPublish.weak?[]:["_weak"])):e:typeof e!="object"||!e?e:Array.isArray(e)?e.map(bF):Object.fromEntries(Object.entries(e).map(t=>{let[n,r]=t;return[n,bF(r)]}))}const r$e={disabled:e=>{let{schema:t,typeName:n,snapshots:r}=e;return eg(t,n)?"LIVE_EDIT_ENABLED":r.draft?!1:r.published?"ALREADY_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e;if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');const o=bF(Mi(r.draft,"_updatedAt")),i=t.observable.transaction();if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');return r.published?(i.patch(n.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:r.published._rev}),i.createOrReplace({...o,_id:n.publishedId,_type:r.draft._type})):i.create({...o,_id:n.publishedId,_type:r.draft._type}),i.delete(n.draftId),i.commit({tag:"document.publish",visibility:"async"})}},o$e={disabled:()=>!1,execute:function(e){let{schema:t,snapshots:n,idPair:r,draft:o,published:i,typeName:s}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=arguments.length>2?arguments[2]:void 0;eg(t,s)?i.mutate([i.createIfNotExists({_type:s,...c}),...i.patch(a)]):o.mutate([o.createIfNotExists({...c,...n.published,_id:r.draftId,_type:s}),...o.patch(a)])}},i$e={disabled:()=>!1,execute:e=>{let{draft:t,published:n}=e;return t.commit(),n.commit(),Vr}},s$e={disabled:e=>{let{snapshots:t}=e;return t.draft?t.published?!1:"NOT_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n}=e;return t.observable.transaction().delete(n.draftId).commit({tag:"document.discard-changes"})}},a$e={disabled:e=>{let{schema:t,snapshots:n,typeName:r}=e;return eg(t,r)?"LIVE_EDIT_ENABLED":n.published?!1:"NOT_PUBLISHED"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e,o=t.observable.transaction().delete(n.publishedId);return r.published&&(o=o.createIfNotExists({...Mi(r.published,"_updatedAt"),_id:n.draftId,_type:r.published._type})),o.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},L_n=["_createdAt","_updatedAt"],l$e={disabled:e=>{let{snapshots:t}=e;return t.published||t.draft?!1:"NOTHING_TO_DUPLICATE"},execute:(e,t)=>{let{schema:n,client:r,snapshots:o,typeName:i}=e;const s=o.draft||o.published;if(!s)throw new Error("cannot execute on empty document");return r.observable.create({...Mi(s,L_n),_id:eg(n,i)?t:li(t),_type:s._type},{tag:"document.duplicate"})}},c$e={disabled:()=>!1,execute:(e,t)=>{let{historyStore:n,schema:r,idPair:o,typeName:i}=e;const s=eg(r,i)?o.publishedId:o.draftId;return n.restore(o.publishedId,s,t)}},u$e=nu((e,t,n)=>DD(e,t,n).pipe(st(r=>{let{draft:o,published:i}=r;return oi([o.consistency$,i.consistency$])}),ue(r=>{let[o,i]=r;return o&&i}),_r(),El(1),Sl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)});function B_n(e){return typeof e>"u"?be(null):e}const N_n={del:Y5,delete:Y5,publish:r$e,patch:o$e,commit:i$e,discardChanges:s$e,unpublish:a$e,duplicate:l$e,restore:c$e},z_n=(e,t,n)=>{const r=N_n[e];return No(()=>pn(be(null),B_n(r.execute(t,...n)))).pipe(yit())},d$e=new uo;function f$e(e,t,n,r){d$e.next({operationName:e,idPair:t,typeName:n,extraArgs:r})}const V_n=["publish","unpublish","discardChanges","delete"],h$e=nu(e=>{const t=d$e.pipe(c2e(o=>o.idPair.publishedId),jt(o=>o.pipe(st(i=>n$e(e,i.idPair,i.typeName).pipe(Ll(1),st(s=>{const a=V_n.includes(i.operationName);a&&(s.published.commit(),s.draft.commit());const c=u$e(e.client,i.idPair,i.typeName).pipe(bt(Boolean));return(a?c.pipe(Ll(1)):be(!0)).pipe(st(()=>z_n(i.operationName,s,i.extraArgs)))}),ue(()=>({type:"success",args:i})),In(s=>be({type:"error",args:i,error:s})))))),Ga()),n=1e3,r=t.pipe(bt(o=>o.type==="success"&&o.args.operationName==="patch"),yx(n,Nc,{leading:!0,trailing:!0}),qn(o=>{f$e("commit",o.args.idPair,o.args.typeName,[])}));return pn(t,r.pipe(om(Vr)))},e=>{var t,n;const r=e.client.config();return"".concat((t=r.dataset)!=null?t:"","-").concat((n=r.projectId)!=null?n:"")}),H_n=nu((e,t,n)=>DD(e,t,n).pipe(st(r=>{let{published:o,draft:i}=r;return pn(o.remoteSnapshot$,i.remoteSnapshot$)})),RC),U_n={isValidating:!0,validation:[]};function W_n(e){return YAe(e,(t,n)=>(hd(n)&&t.add(n._ref),t),new Set)}const Y_n=[],q_n=(e,t)=>e(t).pipe(ue(n=>{let{published:r}=n;return r.available})),G_n=200,K_n=1e3;function A3(){return Ri({bufferSize:1,refCount:!0})}const Z_n=nu((e,t,n)=>{let{draftId:r,publishedId:o}=t;const i=t$e(e,{draftId:r,publishedId:o},n).pipe(ue(d=>{let{draft:f,published:p}=d;return f||p}),yx(G_n,Nc,{trailing:!0}),_r((d,f)=>(d==null?void 0:d._rev)===(f==null?void 0:f._rev)?!0:Ju(Mi(d,"_rev","_updatedAt"),Mi(f,"_rev","_updatedAt"))),A3()),a=i.pipe(ue(d=>W_n(d)),jt(d=>Cr(d))).pipe(c2e(d=>d,{duration:()=>as(1e3*60*30)}),jt(d=>d.pipe(pit(),jt(f=>q_n(e.observeDocumentPairAvailability,f).pipe(ue(p=>[f,p]))))),qa((d,f)=>{let[p,m]=f;return d[p]===m?d:{...d,[p]:m}},{}),_r(Ju),A3()),c=d=>{let{id:f}=d;return Co(a.pipe(l2e(p=>f in p),ue(p=>p[f])))},u=a.pipe(u2e(1),yx(K_n,Nc,{leading:!0,trailing:!0}));return oi([i,Hr(be(null),u)]).pipe(ue(d=>{let[f]=d;return f}),SB(d=>No(()=>d!=null&&d._type?Hr(be({isValidating:!0,revision:d._rev}),IQt(e.getClient,d,e.schema,{getDocumentExists:c}).pipe(ue(f=>({validation:f,isValidating:!1})))):be({validation:Y_n,isValidating:!1}))),qa((d,f)=>({...d,...f}),U_n),A3())},(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),X_n=nu((e,t,n)=>DD(e,t,n).pipe(st(r=>{let{draft:o,published:i}=r;return pn(o.events,i.events)})),RC);function uu(e){return{disabled:"NOT_READY",execute:()=>{throw new Error("Called ".concat(e," before it was ready."))}}}const Q_n={commit:uu("commit"),delete:uu("delete"),del:uu("del"),publish:uu("publish"),patch:uu("patch"),discardChanges:uu("discardChanges"),unpublish:uu("unpublish"),duplicate:uu("duplicate"),restore:uu("restore")},J_n=(e,t,n)=>function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return f$e(e,t,n,o)};function du(e,t,n){return{disabled:t.disabled(n),execute:J_n(e,n.idPair,n.typeName)}}function e2n(e){return{commit:du("commit",i$e,e),delete:du("delete",Y5,e),del:du("delete",Y5,e),publish:du("publish",r$e,e),patch:du("patch",o$e,e),discardChanges:du("discardChanges",s$e,e),unpublish:du("unpublish",a$e,e),duplicate:du("duplicate",l$e,e),restore:du("restore",c$e,e)}}const t2n=nu((e,t,n)=>{const r=h$e(e),i=n$e(e,t,n).pipe(ue(e2n));return Hr(be(Q_n),pn(r.pipe(jt(()=>Vr)),i)).pipe(Ri({refCount:!0,bufferSize:1}))},(e,t,n)=>RC(e.client,t,n)),n2n=(e,t,n,r)=>No(()=>e.observable.fetch(t,n,{tag:r.tag,filterResponse:!0,perspective:r.perspective})),r2n=(e,t,n,r)=>No(()=>e.listen(t,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:r.tag}));function Khe(e){return e.type==="welcome"}function o2n(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=typeof t=="string"?t:t.fetch,i=typeof t=="string"?t:t.listen,s=r2n(e,i,n,r).pipe(jt((f,p)=>p===0&&!Khe(f)?Xf(()=>new Error(f.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(f.type,'"'))):be(f)),Ga()),[a,c]=e2e(s,Khe),u=f=>!r.transitions||f.type!=="mutation"?!0:r.transitions.includes(f.transition),d=()=>n2n(e,o,n,r);return pn(a.pipe(Ll(1)),c.pipe(bt(u),yx(r.throttleTime||1e3,Nc,{leading:!0,trailing:!0}))).pipe(SB(f=>f.type==="mutation"&&f.visibility!=="query"?as(1200).pipe(jt(d)):d()))}function i2n(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"*";if(n&&n!=="*")return be(n);const r="*[_id in [$documentId, $draftId]]._type",o=On(t),i=li(o);return e.observable.fetch(r,{documentId:o,draftId:i}).pipe(ue(s=>s[0]))}function vm(e){return Sr(e)}const s2n=["_key","_ref","_weak","_type"];function a2n(e){return e&&e.length>0?'"'.concat(e,'"'):e}function Zhe(e,t){const n=r=>'Template "'.concat(t.id,'" initial value: ').concat(r);if(!vm(e))throw new Error(n("resolved to a non-object"));if(e._type&&t.schemaType!==e._type)throw new Error(n('includes "_type"-property ('.concat(e._type,") that does not match template (").concat(t.schemaType,")")));try{return xF(e)}catch(r){throw r.message=n(r.message),r}}function xF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Array.isArray(e))return e.map((o,i)=>{if(Array.isArray(o))throw new Error('multidimensional arrays are not supported (at path "'.concat(Lr(t),'")'));return xF(o,t.concat(i),!0)});if(!vm(e))return e;const r=n&&!e._key?{_key:lC()}:{};return t.length>0&&!e._type&&e._ref&&(r._type="reference"),e._ref&&l2n(e,t),Object.keys(e).reduce((o,i)=>(o[i]=xF(e[i],t.concat([i])),o),r)}function l2n(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e._type&&e.type)throw new Error('Reference is missing "_type", but has a "type" property at path "'.concat(Lr(t),'"'));const n=Object.keys(e).filter(r=>!s2n.includes(r));if(n.length>0){const r=n.length>1?"properties":"property";throw new Error("Disallowed ".concat(r," found in reference: ").concat(n.map(a2n).join(", "),' at path "').concat(Lr(t),'"'))}}function Nz(e,t){const n={...e,...t};return Object.keys(n).forEach(r=>{const o=t[r],i=e[r];vm(o)&&vm(i)&&(n[r]=Nz(i,o))}),n}function c2n(e){return vm(e)&&typeof e.serialize=="function"}async function ID(e,t,n){return typeof e=="function"?e(t,n):e}async function zz(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(c2n(t))return zz(e,t.serialize(),n,r);const{id:o,schemaType:i,value:s}=t;if(!s)throw new Error('Template "'.concat(o,'" has invalid "value" property'));let a=await ID(s,n,r);if(!vm(a))throw new Error('Template "'.concat(o,'" has invalid "value" property - must be a plain object or a resolver function returning a plain object'));vm(a)&&!Object.keys(a).length&&(a={_type:i}),a=Zhe(a,t);const c=e.get(i);if(!c)throw new Error('Could not find schema type with name "'.concat(i,'".'));const u=Nz(await OD(c,n,Vz,r)||{},a);return Zhe(u,t)}function u2n(e,t){const n=Is(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}const Vz=10;function OD(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vz,r=arguments.length>3?arguments[3]:void 0;return n<=0?Promise.resolve(void 0):Qa(e)?f2n(e,t,n,r):Wl(e)?d2n(e,t,n,r):ID(e.initialValue,t,r)}async function d2n(e,t,n,r){const o=await ID(e.initialValue,void 0,r);if(Array.isArray(o))return Promise.all(o.map(async i=>{const s=u2n(e,i);return Qa(s)?{...i,...await OD(s,t,n-1,r),_key:lC()}:i}))}async function f2n(e,t,n,r){const o={...await ID(e.initialValue,t,r)||{}},i={};await Promise.all(e.fields.map(async a=>{const c=await OD(a.type,t,n-1,r);c!=null&&(i[a.name]=c)}));const s=Nz(i,o);if(!L7(s))return e.name!=="object"&&(s._type=e.name),s}const Xhe={type:"loading"};function h2n(e,t,n,r,o){const i=n.observePaths({_type:"reference",_ref:li(r.documentId)},["_type"]),s=n.observePaths({_type:"reference",_ref:On(r.documentId)},["_type"]);return pn(i.pipe(ue(c=>({draft:c}))),s.pipe(ue(c=>({published:c})))).pipe(qa((c,u)=>({...c,...u}),{}),bt(c=>"draft"in c&&"published"in c),ue(c=>c.draft||c.published),_r((c,u)=>!!c!=!!u),N8(25)).pipe(st(c=>{if(c)return be({type:"success",value:null});if(!r.templateName)return be({isResolving:!1,initialValue:void 0});const u=t.find(f=>f.id===r.templateName);if(!u)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),be({isResolving:!1,initialValue:void 0});const d=Cr(zz(e,u,r.templateParams,o)).pipe(ue(f=>({isResolving:!1,initialValue:f}))).pipe(In(f=>(console.group("Failed to resolve initial value"),console.error(f),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),be({type:"error",error:f}))));return pn(be({isResolving:!0}),d).pipe(st(f=>{let{isResolving:p,initialValue:m,resolveError:v}=f;return be(v?{type:"error",message:"Failed to resolve initial value"}:p?Xhe:{type:"success",value:m})}))}),ii(Xhe),_r())}function xy(e){if(oN(e))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:e,draftId:li(e)}}function p2n(e){let{getClient:t,documentPreviewStore:n,historyStore:r,initialValueTemplates:o,schema:i}=e;const s=n.unstable_observeDocumentPairAvailability,a=t(sn),c={client:a,getClient:t,observeDocumentPairAvailability:s,historyStore:r,schema:i};return{checkoutPair(u){return e$e(a,u)},initialValue(u,d){return h2n(i,o,n,u,d)},listenQuery(u,d,f){return o2n(a,u,d,f)},resolveTypeForDocument(u,d){return i2n(a,u,d)},pair:{consistencyStatus(u,d){return u$e(c.client,xy(u),d)},documentEvents(u,d){return X_n(c.client,xy(u),d)},editOperations(u,d){return t2n(c,xy(u),d)},editState(u,d){return t$e(c,xy(u),d)},operationEvents(u,d){return h$e({client:a,historyStore:r,schema:i}).pipe(bt(f=>f.args.idPair.publishedId===u&&f.args.typeName===d),ue(f=>{const{operationName:p,idPair:m}=f.args;return f.type==="success"?{type:"success",op:p,id:m.publishedId}:{type:"error",op:p,id:m.publishedId,error:f.error}}))},validation(u,d){return Z_n(c,xy(u),d)}}}}const Qhe={isLoaded:!1,documentType:void 0};function m2n(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";const n=al(),r=On(e),o=!!(t&&t!=="*"),i=h.useMemo(()=>({documentType:t,isLoaded:!0}),[t]),[s,a]=h.useState(o?i:Qhe);return h.useEffect(()=>a(Qhe),[r,t]),h.useEffect(()=>{if(o)return;const c=n.resolveTypeForDocument(r,t).subscribe(u=>a({documentType:u,isLoaded:!0}));return()=>c.unsubscribe()},[n,r,t,o]),o?i:s}function g2n(e,t){const n=Vi(),r=h.useMemo(()=>e?n.observePaths({_type:"reference",_ref:e},t):be(void 0),[e,n,t]);return gIe(r)}function v2n(e){const{documentId:t,documentType:n,templateName:r,templateParams:o}=e,i=Fo(o),s=al(),a=Hz(),c=h.useMemo(()=>({_id:t,_type:n}),[t,n]),[u,d]=h.useState({loading:!1,error:null,value:c});return h.useEffect(()=>{const f={documentId:t,documentType:n,templateName:r,templateParams:i};if(!r){d({loading:!0,error:null,value:c});return}const m=s.initialValue(f,a).subscribe(v=>{v.type==="loading"&&d({loading:!0,error:null,value:c}),v.type==="success"&&d({loading:!1,error:null,value:v.value?{...c,...v.value}:c}),v.type==="error"&&d({loading:!1,error:v.error,value:c})});return d({loading:!0,error:null,value:c}),()=>m.unsubscribe()},[c,t,s,n,r,i,a]),u}function Hz(){const e=$n(),t=_n(),n=Yo(),r=XRe(),o=KRe(),i=e.getClient;return h.useMemo(()=>({projectId:r,dataset:o,getClient:i,schema:t,currentUser:n}),[i,t,n,r,o])}function Uz(){const e=Hz();return h.useCallback((t,n)=>OD(t,n,Vz,e),[e])}function y2n(e,t){const n=e.get(t);if(!n)throw new Error("No such schema type: ".concat(t));return n}function b2n(e){let{grantsStore:t,permission:n,draft:r,published:o,liveEdit:i}=e;const s=r||o,a=s===r?"draft":"published",{checkDocumentPermission:c}=t;switch(n){case"delete":return i?[["delete published document (live-edit)",c("update",o)]]:[["delete draft document",c("update",r)],["delete published document",c("update",o)]];case"discardDraft":return i?[]:[["delete draft document",c("update",r)]];case"publish":return i?[]:[["update published document at its current state",c("update",o)],["delete draft document",c("update",r)],["create published document from draft",c("create",r&&{...r,_id:On(r._id)})]];case"unpublish":return i?[]:[["update draft document at its current state",c("create",r)],["delete published document",c("update",o)],["create draft document from published version",c("create",o&&{...o,_id:li(o._id)})]];case"update":return i?[["update published document (live-edit)",c("update",o)]]:[["update ".concat(a," document"),c("update",s)]];case"duplicate":return i?[["create new published document from existing document (live-edit)",c("create",{...o,_id:"dummy-id"})]]:[["create new draft document from existing ".concat(a," document"),c("create",{...s,_id:li("dummy-id")})]];default:throw new Error("Could not match permission: ".concat(n))}}function x2n(e){let{client:t,grantsStore:n,schema:r,id:o,permission:i,type:s}=e;if(s==="*")return be({granted:!1,reason:"Type specified was `*`"});const a=!!y2n(r,s).liveEdit;return Bz(t,{draftId:li(o),publishedId:On(o)},s).pipe(st(c=>oi([c.draft.snapshots$,c.published.snapshots$]).pipe(ue(u=>{let[d,f]=u;return{draft:d,published:f}}))),st(c=>{let{draft:u,published:d}=c;const f=b2n({grantsStore:n,permission:i,draft:u,published:d,liveEdit:a}).map(p=>{let[m,v]=p;return v.pipe(ue(g=>{let{granted:y,reason:x}=g;return{granted:y,reason:y?"":"not allowed to ".concat(m,": ").concat(x),label:m,permission:i}}))});return f.length?oi(f).pipe(ue(p=>{const m=p.every(g=>g.granted),v=m?"":"Unable to ".concat(i,`:
	`).concat(p.filter(g=>!g.granted).map(g=>g.reason).join(`
	`));return{granted:m,reason:v}})):be({granted:!0,reason:""})}))}const w2n=_h(x2n);function Ah(e){let{id:t,type:n,permission:r,client:o,schema:i,grantsStore:s}=e;const a=fr(sn),c=_n(),u=qz(),d=h.useMemo(()=>o||a,[a,o]),f=h.useMemo(()=>i||c,[c,i]),p=h.useMemo(()=>s||u,[u,s]);return w2n(h.useMemo(()=>({client:d,schema:f,grantsStore:p,id:t,permission:r,type:n}),[d,p,t,r,f,n]))}function p$e(e){let{grantsStore:t,document:n,permission:r}=e;const{checkDocumentPermission:o}=t;return o(r,n)}const C2n=_h(p$e);function _2n(e){let{document:t,permission:n,...r}=e;const o=qz();return C2n({grantsStore:r.grantsStore||o,document:t,permission:n})}function m$e(e){return typeof e=="object"&&e!==null&&"serialize"in e?m$e(e.serialize()):e}function S2n(e){let{grantsStore:t,templateItems:n,templates:r,schema:o,context:i}=e;return n!=null&&n.length?oi(n.map(m$e).map(async s=>{const a=r.find(u=>u.id===s.templateId);if(!a)throw new Error('template not found: "'.concat(s.templateId,'"'));const c=await zz(o,a,s.parameters,i);return{template:a,item:s,resolvedInitialValue:c}}).map(s=>Cr(s).pipe(st(a=>{let{item:c,resolvedInitialValue:u,template:d}=a;const f=o.get(d.schemaType);if(!f)throw new Error('schema type not found: "'.concat(d.schemaType,'"'));const p=f==null?void 0:f.liveEdit,{initialDocumentId:m="dummy-id"}=c;return p$e({grantsStore:t,permission:"create",document:{_id:p?On(m):li(m),...u}}).pipe(ue(v=>{let{granted:g,reason:y}=v;const x=c.title||d.title;return{...c,granted:g,reason:y,resolvedInitialValue:u,template:d,title:x,subtitle:f.title===x?void 0:f.title,description:c.description||d.description,icon:c.icon||d.icon}}))})))):be([])}const E2n=_h(S2n);function Wz(e){let{templateItems:t,...n}=e;const r=_n(),o=x1(),i=qz(),s=Hz();return E2n({templateItems:t,grantsStore:n.grantsStore||i,schema:n.schema||r,templates:n.templates||o,context:s})}const Jhe="_debug_",k2n=typeof window>"u"?be({}):Ps(window,"hashchange"),g$e=Hr(be(0),k2n).pipe(ue(()=>typeof document>"u"?"#":document.location.hash),_r(),ue(e=>e.substring(1).split(";").filter(t=>t.toLowerCase().startsWith(Jhe)).map(t=>t.substring(Jhe.length)))),j2n=g$e.pipe(ue(e=>e.find(t=>t.startsWith("roles="))),ue(e=>(e==null?void 0:e.split("roles=")[1].split(",").map(t=>t.trim()))||[])),T2n=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],epe=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],A2n=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],D2n=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],tpe=[{filter:'_id in path("**")',permissions:["read","history"]}],I2n=[{filter:"!locked",permissions:["read","create","update"]}],O2n=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],npe={administrator:T2n,editor:epe,developer:A2n,contributor:D2n,viewer:tpe,restricted:O2n,requiresApproval:I2n,read:tpe,write:epe},P2n=j2n.pipe(ue(e=>e.length?e.filter(t=>!!t&&t in npe).flatMap(t=>npe[t]||[]):null));async function R2n(e,t,n){return await e.request({uri:"/projects/".concat(t,"/datasets/").concat(n,"/acl"),tag:"acl.get",withCredentials:!0})}function $2n(e){const t={};return e!==null&&(t.identity=e.id),t}const D3=new Map;async function M2n(e,t,n){D3.has(t)||D3.set(t,iDe("*[".concat(t,"]")));const r=D3.get(t),o=$2n(e),{identity:i}=o,s={...o},a=await(await JAe(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}function F2n(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=No(()=>be(r.config())).pipe(st(s=>{let{projectId:a,dataset:c}=s;if(!a||!c)throw new Error("Missing projectId or dataset");return R2n(r,a,c)})),i=P2n.pipe(st(s=>s?be(s):o),El(1),QHt(1e3));return{checkDocumentPermission(s,a){return i.pipe(st(c=>L2n(n,c,s,a)),_r(Ju))}}}async function L2n(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await M2n(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}async function B2n(e,t){const n=t?{headers:{Authorization:"Bearer ".concat(t)}}:{credentials:"include"},r=await fetch(e,n);return N2n(r)}function N2n(e){const t=e.body;if(!t)throw new Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(o){n=t.getReader();const i=new TextDecoder;let s="";n.read().then(function a(c){if(c.done){if(r)return;if(s=s.trim(),s.length===0){o.close();return}o.enqueue(JSON.parse(s)),o.close();return}s+=i.decode(c.value,{stream:!0});const u=s.split(`
`);for(let d=0;d<u.length-1;++d){const f=u[d].trim();if(f.length!==0)try{o.enqueue(JSON.parse(f))}catch(p){o.error(p),r=!0,n.cancel();return}}return s=u[u.length-1],n.read().then(a).catch(d=>o.error(d))}).catch(a=>o.error(a))},cancel(){r=!0,n.cancel()}})}function rpe(e){return{id:e,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function z2n(e,t){const n=t.events.findIndex(r=>e.id===r.transactionId);return n>=0?n+1:t.rev?t.rev===e.id?0:-1:0}function ope(e,t){if(e.hasAttrs=!0,t){if(e.attrs={...t},typeof e.attrs._rev!="string")throw new Error("snapshot has no _rev");e.rev=e.attrs._rev,delete e.attrs._rev}else e.attrs=null,e.rev=null;e.events=[]}class V2n{constructor(t){this.earliestTransactionId=null,this.timeline=t,this._states={draft:rpe(t.draftId),published:rpe(t.publishedId)}}appendRemoteSnapshotEvent(t){const n=this._states[t.version];if(t.type==="snapshot"){this._maybeInvalidateHistory(),ope(n,t.document);return}t.type==="remoteMutation"&&(n.aligned?(this._apply(n,t),this.timeline.addRemoteMutation(t)):n.hasAttrs?n.events.push(t):ope(n,t.head))}prependHistoryEvent(t){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const n of Object.values(this._states))if(!n.aligned){const r=z2n(t,n);r>=0&&this._alignAtIndex(n,r)}this.timeline.addTranslogEntry(t),this.earliestTransactionId=t.id}didReachEarliestEntry(){for(const t of Object.values(this._states))if(!t.aligned){if(t.attrs!==null)throw new Error("unable to find translog entry to align to");this._alignAtIndex(t,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(t=>t.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(t,n){for(const r of t.events.slice(0,n))this._apply(t,r);for(const r of t.events.slice(n))this._apply(t,r),this.timeline.addRemoteMutation(r);t.events=[],t.aligned=!0}get _isComplete(){return Object.values(this._states).every(t=>t.hasAttrs)}_apply(t,n){t.attrs=C4(t.attrs,n.effects.apply),t.rev=n.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const t of Object.values(this._states))t.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}class H2n{constructor(t,n,r,o){this.timeline=t,this.start=r,this.end=o,this.doc=n}same(t,n){return this.start===t&&this.end===n}endAttributes(){return ipe(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return ipe(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function ipe(e){return e.draft||e.published}const U2n=50;class W2n{constructor(t){this.version=0,this.selectionState="inactive",this._fetchMore=!1,this._fetchAtLeast=0,this._isRunning=!1,this._isSuspended=!1,this._didErr=!1,this._since=null,this._sinceTime=null,this._rev=null,this._revTime=null,this.timeline=t.timeline,this.client=t.client,this.handler=t.handler,this._aligner=new V2n(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(t,n){n!==this._rev&&this.setRevTime(n),t!==this._since&&this.setSinceTime(t);let r=10;if(this._sinceTime==="loading"||this._revTime==="loading"||!this._aligner.isAligned)this.selectionState="loading";else if(this._sinceTime==="invalid"||this._revTime==="invalid")this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const o=this._revTime||this.timeline.lastChunk();this._sinceTime.index>o.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,o)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",r=0);this._fetchAtLeast=r,this.start()}setLoadMore(t){this._fetchMore=t,this.start()}get sinceTime(){return this._sinceTime&&typeof this._sinceTime=="object"?this._sinceTime:null}get revTime(){return this._revTime&&typeof this._revTime=="object"?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&(this.selectionState==="range"||this.selectionState==="rev")}findRangeForNewRev(t){const n=this.timeline.isLatestChunk(t)?null:this.timeline.createTimeId(t);if(!this._since)return[null,n];const r=this.sinceTime;return r&&r.index<t.index?[this._since,n]:["@lastPublished",n]}findRangeForNewSince(t){const n=this.revTime;return n&&t.index<n.index?[this.timeline.createTimeId(t),this._rev]:[this.timeline.createTimeId(t),null]}setRevTime(t){this._rev=t,this._revTime=t?this.timeline.parseTimeId(t):null,this._since==="@lastPublished"&&(this._since=null,this._sinceTime=null)}setSinceTime(t){t==="@lastPublished"?typeof this._revTime=="string"?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=t?this.timeline.parseTimeId(t):null,this._since=t}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(t,n){this._reconstruction&&this._reconstruction.same(t,n)||(this._reconstruction=new H2n(this.timeline,this._aligner.currentDocument,t,n))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const t=this.currentDiff();if(t){if(t.type==="null")return null;if(t.type!=="object")throw new Error("ObjectDiff expected, got ".concat(t.type))}return t}handleRemoteMutation(t){this._aligner.appendRemoteSnapshotEvent(t),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var t;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&(this.selectionState==="loading"||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(r){this._didErr=!0,(t=this.handler)==null||t.call(this,r,this);return}await this.tick()}}async fetchMoreTransactions(){const t=this.timeline.publishedId,n=this.timeline.draftId,r=this.client.config(),o=U2n;let i="tag=sanity.studio.desk.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=".concat(o),s=this._aligner.earliestTransactionId;s&&(i+="&toTransaction=".concat(s));const a=this.client.getUrl("/data/history/".concat(r.dataset,"/transactions/").concat(t,",").concat(n,"?").concat(i)),u=(await B2n(a,r.token)).getReader();let d=0;for(;;){const f=await u.read();if(f.done)break;if("error"in f.value)throw new Error(f.value.error.description||f.value.error.type);if(d++,f.value.id!==s){if(this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(f.value),s=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory||(d<o&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var t;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,(t=this.handler)==null||t.call(this,null,this)}}function Y2n(e,t){return e&&t?e.author===t.author&&e.chunk===t.chunk:!e&&!t}function spe(e){return e.draft||e.published}class q2n{constructor(t,n,r,o){this.type="array",this.elements=[],this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.length=t.elements.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=q5(this.content.elements[t],this.value[t],this.extractor))}annotationAt(t){const n=this.content.metas[t];return this.extractor.fromMeta(n)}}class G2n{constructor(t,n,r,o){this.type="object",this.fields={},this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.keys=Object.keys(t.fields)}get(t){const n=this.fields[t];if(n)return n;const r=this.content.fields[t];if(r)return this.fields[t]=q5(r,this.value[t],this.extractor)}}class K2n{constructor(t,n,r,o){this.type="string",this.content=t,this.value=n,this.annotation=r,this.extractor=o}sliceAnnotation(t,n){const r=[];let o=0;function i(s,a){if(r.length>0){const c=r[r.length-1];if(Y2n(c.annotation,a)){c.text+=s;return}}r.push({text:s,annotation:a})}for(const s of this.content.parts){const a=s.value.length,c=Math.max(0,t-o);if(c<a){const u=Math.min(a,n-o);if(u<=0)break;i(s.value.slice(c,u),this.extractor.fromValue(s))}o+=a}return r}}function q5(e,t,n){const r=n.fromValue(e);if(e.content)switch(e.content.type){case"array":return new q2n(e.content,t,r,n);case"object":return new G2n(e.content,t,r,n);case"string":return new K2n(e.content,t,r,n)}return DB(t,r)}function ape(e,t,n){return n?wF(e,n.transactionIndex+1,n.chunk.index):t?wF(e,t.start,t.index):null}function lpe(e,t){return t?wF(e,t.transactionIndex,t.chunk.index):null}function wF(e,t,n){const r=e.transactionByIndex(t);if(!r)return null;const o=e.chunkByTransactionIndex(t,n);return o?{chunk:o,timestamp:r.timestamp,author:r.author}:null}function Z2n(e,t,n,r,o,i){const s=q5(n,r,{fromValue(c){return ape(e,t,c.endMeta)},fromMeta(c){return ape(e,t,c)}}),a=q5(o,i,{fromValue(c){return lpe(e,c.startMeta)},fromMeta(c){return lpe(e,c)}});return MA(s,a)}class T2{constructor(){this._postive=[],this._negative=[]}addToEnd(t){t.index=this._postive.length,this._postive.push(t)}addToBeginning(t){if(this.length==0){this.addToEnd(t);return}t.index=-(this._negative.length+1),this._negative.push(t)}mergeAtEnd(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.lastIdx,o=n(this.get(r),t);Array.isArray(o)?(this.set(r,o[0]),this.addToEnd(o[1])):this.set(r,o)}mergeAtBeginning(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.firstIdx,o=n(t,this.get(r));Array.isArray(o)?(this.set(r,o[1]),this.addToBeginning(o[0])):this.set(r,o)}removeFromEnd(){this._postive.length===0?this._negative.shift():this._postive.pop()}has(t){return t>=0?t<this._postive.length:-(t+1)<this._negative.length}get(t){return t>=0?this._postive[t]:this._negative[-(t+1)]}set(t,n){t>=0?(n.index=t,this._postive[t]=n):(n.index=t,this._negative[-(t+1)]=n)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}function X2n(e){return e==="create"||e==="editDraft"}const Q2n=5*60*1e3;function J2n(e,t){return Date.parse(t)-Date.parse(e)<Q2n}function cpe(e,t){if(e.end!==t.start)throw new Error("chunks are not next to each other");const n=dpe(e.draftState,t.draftState),r=dpe(e.publishedState,t.publishedState);if(e.type==="delete"&&t.type==="editDraft")return[e,{...t,type:"create",draftState:n,publishedState:r}];if(t.type==="delete"){if(n==="missing"&&r==="present")return[e,{...t,type:"discardDraft",draftState:n,publishedState:r}];if(n==="present"&&r==="missing")return[e,{...t,type:"unpublish",draftState:n,publishedState:r}]}if(X2n(e.type)&&t.type==="editDraft"&&J2n(e.endTimestamp,t.startTimestamp)){const o=new Set;for(const i of e.authors)o.add(i);for(const i of t.authors)o.add(i);return{index:0,id:t.id,type:e.type,start:e.start,end:t.end,startTimestamp:e.startTimestamp,endTimestamp:t.endTimestamp,authors:o,draftState:n,publishedState:r}}return[e,{...t,draftState:n,publishedState:r}]}function upe(e){const t=!!e;return e&&CF(e==null?void 0:e.apply)?"deleted":t?"upsert":"unedited"}function eSn(e){const t=upe(e.draftEffect),n=upe(e.publishedEffect);if(n==="unedited"){if(t==="deleted")return"delete";if(t==="upsert")return"editDraft"}if(n==="deleted")return"delete";if(n==="upsert"){if(t==="unedited")return"editLive";if(t==="deleted")return"publish";if(t==="upsert")return"editLive"}return"editLive"}function I3(e){const t=!!e.draftEffect,n=!!e.publishedEffect,r=e.draftEffect&&CF(e.draftEffect.apply),o=e.publishedEffect&&CF(e.publishedEffect.apply),i=eSn(e);return{index:0,id:e.id,type:i,start:e.index,end:e.index+1,startTimestamp:e.timestamp,endTimestamp:e.timestamp,authors:new Set([e.author]),draftState:t?r?"missing":"present":"unknown",publishedState:n?o?"missing":"present":"unknown"}}function dpe(e,t){return t==="unknown"?e:t}function CF(e){return e[0]===0&&e[1]===null}let tSn=class{constructor(t){this.reachedEarliestEntry=!1,this._transactions=new T2,this._chunks=new T2,this._possiblePendingTransactions=new Map,this.publishedId=t.publishedId,this.draftId="drafts.".concat(t.publishedId),t.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:t.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(t){const n=[],r=this._chunks.firstIdx,o=this._chunks.lastIdx;for(let i=o;i>=r;i--)n.push(t(this._chunks.get(i),i));return n}reset(){this._transactions=new T2,this._chunks=new T2,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(t){this._trace&&this._trace.push({type:"addRemoteMutation",event:t});const n=this._possiblePendingTransactions.get(t.transactionId),r=n?n.transaction:{index:0,id:t.transactionId,timestamp:t.timestamp.toISOString(),author:t.author};t.version==="draft"?r.draftEffect=t.effects:r.publishedEffect=t.effects,n?(this._possiblePendingTransactions.delete(t.transactionId),this._invalidateTransactionFrom(n.idx)):(this._transactions.addToEnd(r),this._possiblePendingTransactions.set(t.transactionId,{transaction:r,idx:this._transactions.lastIdx}))}addTranslogEntry(t){this._trace&&this._trace.push({type:"addTranslogEntry",event:t}),this._transactions.addToBeginning({index:0,id:t.id,author:t.author,timestamp:t.timestamp,draftEffect:t.effects[this.draftId],publishedEffect:t.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const t=this._chunks.last;if(this._recreateTransactionsFrom<t.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const t=this._transactions.firstIdx,n=this._transactions.lastIdx,r=this._chunks.length>0?this._chunks.last.end:t;for(let i=r;i<=n;i++){const s=this._transactions.get(i);this._chunks.mergeAtEnd(I3(s),cpe)}if(this._chunks.length==0)return;const o=this._chunks.first.start;for(let i=o-1;i>=t;i--){const s=this._transactions.get(i);this._chunks.mergeAtBeginning(I3(s),cpe)}}_invalidateTransactionFrom(t){(this._recreateTransactionsFrom===void 0||t<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=t)}_createInitialChunk(){var t;if(this.reachedEarliestEntry){if(((t=this._chunks.first)==null?void 0:t.type)==="initial")return;const n=this._transactions.first;if(!n)return;const r=I3(n);r.type="initial",r.id="@initial",r.end=r.start,this._chunks.addToBeginning(r)}}parseTimeId(t){if(this._chunks.length===0)return this.reachedEarliestEntry?"invalid":"loading";const n=t.split("/",3),r=n.shift(),o=n.shift(),i=Number(r);for(let s=this._chunks.lastIdx;s>=this._chunks.firstIdx;s--){const a=this._chunks.get(s);if(a.id===o)return a;if(Date.parse(a.endTimestamp)+60*60*1e3<i)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(t){for(let n=t?t.index-1:this._chunks.lastIdx;n>=this._chunks.firstIdx;n--){const r=this._chunks.get(n);if(r.type==="publish"||r.type==="initial")return r}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(t){return t===this._chunks.last}createTimeId(t){return"".concat(t.endTimestamp.valueOf(),"/").concat(t.id)}lastChunk(){return this._chunks.last}transactionByIndex(t){return this._transactions.has(t)?this._transactions.get(t):null}chunkByTransactionIndex(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(;;){const o=this._chunks.get(r);if(!o)throw new Error("transaction does not belong in any chunk");if(t>=o.end)r++;else if(t<o.start)r--;else return o}}replayBackwardsBetween(t,n,r){let o=r.draft,i=r.published;for(let s=n;s>=t;s--){const a=this._transactions.get(s);a.draftEffect&&(o=C4(o,a.draftEffect.revert)),a.publishedEffect&&(i=C4(i,a.publishedEffect.revert))}return{draft:o,published:i}}replayBackwardsUntil(t,n){return this.replayBackwardsBetween(t,this._transactions.lastIdx,n)}calculateDiff(t,n,r,o){let i=pl.wrap(t.draft,null),s=pl.wrap(t.published,null);const a=nSn(i,s),c=spe(t);let u=null;for(let p=r;p<=o;p++){const m=this._chunks.get(p);u||(u=m);for(let v=m.start;v<m.end;v++){const g=this._transactions.get(v),y={chunk:m,transactionIndex:v},x=i,b=s;g.draftEffect&&(i=pl.applyPatch(i,g.draftEffect.apply,y)),g.publishedEffect&&(s=pl.applyPatch(s,g.publishedEffect.apply,y));const w=pl.getType(x)!=="null",C=pl.getType(i)!=="null";pl.getType(s)!=="null"&&!C&&(s=pl.rebaseValue(x,s)),C&&!w&&(i=pl.rebaseValue(b,i))}}const d=pl.getType(i)==="null"?s:i,f=spe(n);return Z2n(this,u,a,c,d,f)}};function nSn(e,t){return pl.getType(e)==="null"?t:e}const fpe=Object.create(null),rSn=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Array.isArray(t)?t:[t],{time:o,revision:i}=n;if(o&&i)throw new Error("getHistory can't handle both time and revision parameters");const s=e.config().dataset;let a="/data/history/".concat(s,"/documents/").concat(r.join(","));if(i)a="".concat(a,"?revision=").concat(i);else{const c=o||new Date().toISOString();a="".concat(a,"?time=").concat(c)}return e.request({url:a})},v$e=(e,t,n)=>{const r=On(t),o=li(t),i="".concat(r,"@").concat(n),s=fpe[i];if(s)return s;const a=e.config().dataset,c="/data/history/".concat(a,"/documents/").concat(r,",").concat(o,"?revision=").concat(n),u=e.request({url:c}).then(d=>{const f=d.documents||[],p=f.find(v=>v._id===r);return f.find(v=>v._id===o)||p});return fpe[i]=u,u},oSn=e=>{let{client:t,documentId:n,documentType:r}=e;const o=new tSn({enableTrace:eu,publishedId:n});return new W2n({client:t,documentId:n,documentType:r,timeline:o})},iSn=async(e,t)=>{const n=Array.isArray(t)?t:[t],r=e.config().dataset,o={excludeContent:"true",includeIdentifiedDocumentsOnly:"true"},i="/data/history/".concat(r,"/transactions/").concat(n.join(","));return(await e.request({url:i,query:o})).toString("utf8").split(`
`).filter(Boolean).map(c=>JSON.parse(c))},sSn=e=>YAe(e,(t,n)=>hd(n)&&!t.includes(n._ref)?[...t,n._ref]:t,[]);function _F(e,t){return Array.isArray(e)?t(e.map(n=>_F(n,t)).filter(n=>typeof n<"u")):yt(e)?t(Object.keys(e).reduce((n,r)=>{const o=_F(e[r],t);return typeof o<"u"&&(n[r]=o),n},{})):t(e)}const aSn=(e,t)=>_F(e,n=>hd(n)?t(n):n),lSn=(e,t)=>aSn(e,n=>t[n._ref]?n:void 0);function cSn(e,t,n,r){return Cr(v$e(e,t,r)).pipe(jt(o=>{if(!o)throw new Error("Unable to find document with ID ".concat(t," at revision ").concat(r));const i=sSn(o).map(s=>'"'.concat(s,'": defined(*[_id=="').concat(s,'"]._id)')).join(",");return e.observable.fetch("{".concat(i,"}")).pipe(ue(s=>lSn(o,s)))}),ue(o=>{const{_updatedAt:i,...s}=o;return{...s,_id:n}}),jt(o=>e.observable.createOrReplace(o,{visibility:"async"})))}function uSn(e){let{client:t}=e;return{getDocumentAtRevision:(n,r)=>v$e(t,n,r),getHistory:(n,r)=>rSn(t,n,r),getTransactions:n=>iSn(t,n),restore:(n,r,o)=>cSn(t,n,r,o),getTimelineController:oSn}}const hpe={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function dSn(e){let{documentId:t,documentType:n,onError:r,rev:o,since:i}=e;const s=b$e(),a=h.useRef(null),c=h.useRef(hpe),u=fr(sn),d=h.useMemo(()=>s.getTimelineController({client:u,documentId:t,documentType:n}),[u,t,n,s]),f=h.useMemo(()=>new P8(d),[d]);return h.useEffect(()=>(d.setRange(i||null,o||null),f.next(d),d.handler=(m,v)=>{m?f.error(m):setTimeout(()=>{v.setRange(i||null,o||null),f.next(v)},0)},d.resume(),()=>d.suspend()),[o,i,d,f]),h.useEffect(()=>(a.current||(a.current=H_n(u,{draftId:"drafts.".concat(t),publishedId:t},n).subscribe(m=>{d.handleRemoteMutation(m)})),()=>{a.current&&(a.current.unsubscribe(),a.current=null)}),[u,d,t,n]),h.useMemo(()=>({findRangeForRev:m=>d.findRangeForNewRev(m),findRangeForSince:m=>d.findRangeForNewSince(m),loadMore:()=>{d.setLoadMore(!0),c.current.isLoading=!0},getSnapshot:()=>c.current,subscribe:m=>{const v=f.pipe(qn(g=>g.setLoadMore(!1)),ue(g=>{var y;const x=g.timeline.mapChunks(_=>_),b=x.filter(_=>!["delete","initial"].includes(_.type)),w=!g.timeline.reachedEarliestEntry,C=!["invalid","loading"].includes(g.selectionState);return{chunks:x,diff:g.sinceTime?g.currentObjectDiff():null,isLoading:!1,isPristine:C?x.length===0&&w===!1:null,hasMoreChunks:!g.timeline.reachedEarliestEntry,lastNonDeletedRevId:(y=b==null?void 0:b[0])==null?void 0:y.id,onOlderRevision:g.onOlderRevision(),realRevChunk:g.realRevChunk,revTime:g.revTime,selectionState:g.selectionState,sinceAttributes:g.sinceAttributes(),sinceTime:g.sinceTime,timelineDisplayed:g.displayed(),timelineReady:C}}),_r(a6),In(g=>(r==null||r(g),be(hpe))),qn(g=>{c.current=g}),qn(m)).subscribe();return()=>v.unsubscribe()}}),[d,r,f])}function ao(e,t){return IB.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,null,t)}const fSn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],hSn=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],pSn=No(()=>as(0,1e4)).pipe(om(fSn),ue((e,t)=>({type:"state",userId:e,sessionId:e+t,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:nWt(hSn)}]})),Ri()),mSn=e=>{if(e.type==="rollCall")return{type:"rollCall",userId:e.i,sessionId:e.session};if(e.type==="state"){const{sessionId:t,locations:n}=e.m;return{type:"state",userId:e.i,sessionId:t,timestamp:new Date().toISOString(),locations:n}}if(e.type==="disconnect")return{type:"disconnect",userId:e.i,sessionId:e.m.session,timestamp:new Date().toISOString()};throw new Error("Got unknown presence event: ".concat(JSON.stringify(e)))},gSn=(e,t)=>{const n=e.request("presence").pipe(ue(mSn)),r=o=>o.type==="rollCall"?e.request("presence_rollcall",{session:t}):o.type==="state"?e.request("presence_announce",{data:{locations:o.locations,sessionId:t}}):o.type==="disconnect"?e.request("presence_disconnect",{session:t}):Vr;return[n.pipe(Ga()),r]},y$e="presence_session_id",vSn=()=>swt(16);function ySn(){try{return window.sessionStorage.getItem(y$e)}catch{}return null}function bSn(e){try{window.sessionStorage.setItem(y$e,e)}catch{}return e}const A2=ySn()||bSn(vSn());function xSn(e){const{bifur:t,connectionStatusStore:n,userStore:r}=e,[o,i]=gSn(t,A2),s=new P8([]),a=s.pipe(_r()),c=A=>{s.next(A)},u=A=>i({type:"state",locations:A}),d=()=>i({type:"rollCall"}),f=o.pipe(bt(A=>A.type==="rollCall"),bt(A=>A.sessionId!==A2)),m=as(0,3e4),v=No(()=>pn(a,f)).pipe(st(()=>m),gb(s),ue(A=>{let[,D]=A;return D}),lit(200),st(A=>u(A)),om(Vr),Ga()),g=No(()=>d()).pipe(om(Vr)),y=n.connectionStatus$.pipe(ue(A=>A.type),bt(A=>A==="connected"||A==="error"),_r()),x=g$e.pipe(ue(A=>A.find(D=>D.startsWith("presence="))),ue(A=>(A==null?void 0:A.split("presence=")[1].split(",").map(D=>D.trim()))||[])),b=x.pipe(bt(A=>A.includes("fake_others")),qn(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),wit(pSn)),w=x.pipe(ue(A=>A.includes("show_own"))),C=pn(g,o).pipe(bt(A=>A.type==="state"||A.type==="disconnect")),_=A=>({lastActiveAt:A.timestamp,locations:A.locations,sessionId:A.sessionId,userId:A.userId}),S=pn(C,b).pipe(qa((A,D)=>D.type==="disconnect"?Mi(A,D.sessionId):{...A,[D.sessionId]:_(D)},{})),E=y.pipe(st(A=>A==="connected"?pn(S,v):J_e),ue(A=>Object.values(A)),st(A=>{const D=ho(A.map(I=>I.userId));return Cr(r.getUsers(D)).pipe(ue(I=>A.map(O=>({user:I.find($=>$.id===O.userId),session:O})).filter(j)))}),d2e(Ps(window,"beforeunload").pipe(st(()=>i({type:"disconnect"})))),Ri({refCount:!0,bufferSize:1}));function j(A){return!!(A.user&&A.session)}const k=E.pipe(ue(A=>{const D=uB(A.map(I=>I.session),I=>I.userId);return Object.keys(D).map(I=>{var O;return{user:(O=A.find($=>$.user.id===I))==null?void 0:O.user,sessions:D[I]}})}),gb(w),ue(A=>{let[D,I]=A;return D.filter(O=>I?!0:!O.sessions.some(R=>R.sessionId===A2))}),ue(A=>A.map(D=>{var I;return{user:D.user,status:"online",lastActiveAt:(I=D.sessions.sort()[0])==null?void 0:I.lastActiveAt,locations:Tn((D.sessions||[]).map(O=>O.locations||[])).map(O=>({type:O.type,documentId:O.documentId,path:O.path,lastActiveAt:O.lastActiveAt})).reduce((O,$)=>O.concat($),[])}})));return{setLocation:c,reportLocations:u,debugPresenceParam$:x,globalPresence$:k,documentPresence:A=>E.pipe(gb(w),st(D=>{let[I,O]=D;return Cr(I).pipe(bt($=>O||$.session.sessionId!==A2),bit($=>($.session.locations||[]).filter(R=>R.documentId===A).map(R=>({user:$.user,lastActiveAt:$.session.lastActiveAt,path:R.path||[],sessionId:$.session.sessionId}))),r2e())}))}}function wSn(){const[e,t]=h.useState([]),n=Gz();return h.useEffect(()=>{const r=n.globalPresence$.subscribe(t);return()=>{r.unsubscribe()}},[n]),e}function $C(e){const t=Gz(),[n,r]=h.useState([]);return h.useEffect(()=>{const o=t.documentPresence(e).subscribe(r);return()=>{o.unsubscribe()}},[e,t]),n}function CSn(e){const{client:t}=e,n=t.config().projectId,r=t.withConfig({apiVersion:"2021-12-15"});function o(){return r.observable.request({url:"/projects/".concat(n)})}function i(){return r.observable.request({url:"/projects/".concat(n,"/datasets")})}return{get:o,getDatasets:i}}const _Sn=(e,t)=>{try{return JSON.parse(e)}catch(n){return console.warn("Failed to parse settings: ".concat(n.message)),t}},SSn=(e,t)=>{const n=localStorage.getItem(e);return be(n===null?t:_Sn(n,t))},ESn=(e,t)=>(typeof t>"u"||t===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)),be(t)),kSn={get:SSn,set:ESn},G5=Object.create(null),jSn=(e,t)=>be(e in G5?G5[e]:t),TSn=(e,t)=>(typeof t>"u"||t===null?delete G5[e]:G5[e]=t,be(t)),ASn={get:jSn,set:TSn};let wy=null;function DSn(){if(wy!==null)return wy;const e="__test__";try{localStorage.setItem(e,e),localStorage.removeItem(e),wy=!0}catch{wy=!1}return wy}function ISn(){return DSn()?kSn:ASn}function OSn(){const e=ISn(),t=new uo,n=(a,c)=>"".concat(a,"::").concat(c),r=t.pipe(st(a=>e.set(a.key,a.value).pipe(ue(c=>({key:a.key,value:c}))))),o=(a,c)=>pn(e.get(a,c),r.pipe(bt(u=>u.key===a),ue(u=>u.value))),i=(a,c)=>{t.next({key:a,value:c})},s=a=>({forKey:c=>{const u=n(a,c);return{listen:d=>o(u,d),set:d=>i(u,d),del:()=>i(u,void 0)}},listen:(c,u)=>o(n(a,c),u),set:(c,u)=>i(n(a,c),u),del:c=>i(n(a,c),void 0),forNamespace:c=>s(n(a,c))});return{forNamespace:s}}const PSn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function RSn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=new hWt(async s=>{const a=await r.request({uri:"/users/".concat(s.join(",")),withCredentials:!0,tag:"users.get"}),u=(Array.isArray(a)?a:[a]).reduce((d,f)=>(f!=null&&f.id&&(d[f.id]=f),d),{});return s.map(d=>u[d]||null)},{batchScheduleFn:s=>yWt(s)}),i=n&&{id:n.id,displayName:n.name,imageUrl:n.profileImage};return o.prime("me",i),i!=null&&i.id&&o.prime(i.id,i),PSn.forEach(s=>o.prime(s.id,s)),{getUser:async s=>{try{return await o.load(s)}catch(a){if(a.statusCode===403)return Promise.resolve(null);throw a}},getUsers:async s=>(await o.loadMany(s)).filter(c=>yt(c)&&typeof c.id=="string")}}function Yz(){const{getClient:e,currentUser:t}=$n(),n=Td(),r=e(sn);return h.useMemo(()=>{const o=n.get({namespace:"userStore",dependencies:[r,t]})||RSn({client:r,currentUser:t});return n.set({namespace:"userStore",dependencies:[r,t],value:o}),o},[r,t,n])}function qz(){const{getClient:e}=$n(),t=e(sn),n=Yo(),r=Td();return h.useMemo(()=>{const o=r.get({namespace:"grantsStore",dependencies:[t,n]})||F2n({client:t,currentUser:n});return r.set({namespace:"grantsStore",dependencies:[t,n],value:o}),o},[t,n,r])}function b$e(){const e=fr(sn),t=Td();return h.useMemo(()=>{const n=t.get({namespace:"historyStore",dependencies:[e]})||uSn({client:e});return t.set({namespace:"historyStore",dependencies:[e],value:n}),n},[e,t])}function Vi(){const e=fr(sn),t=Td();return h.useMemo(()=>{const n=t.get({namespace:"documentPreviewStore",dependencies:[e]})||ien({client:e});return t.set({namespace:"documentPreviewStore",dependencies:[e],value:n}),n},[e,t])}function al(){const e=$n().getClient,t=_n(),n=x1(),r=Td(),o=b$e(),i=Vi();return h.useMemo(()=>{const s=r.get({namespace:"documentStore",dependencies:[e,i,o,t]})||p2n({getClient:e,documentPreviewStore:i,historyStore:o,initialValueTemplates:n,schema:t});return r.set({namespace:"documentStore",dependencies:[e,i,o,t],value:s}),s},[e,i,o,r,t,n])}function $Sn(){const{bifur:e}=$n().__internal,t=Td();return h.useMemo(()=>{const n=t.get({namespace:"connectionStatusStore",dependencies:[e]})||qXt({bifur:e});return t.set({namespace:"connectionStatusStore",dependencies:[e],value:n}),n},[e,t])}function Gz(){const{__internal:{bifur:e}}=$n(),t=Td(),n=Yz(),r=$Sn();return h.useMemo(()=>{const o=t.get({namespace:"presenceStore",dependencies:[e,r,n]})||xSn({bifur:e,connectionStatusStore:r,userStore:n});return t.set({namespace:"presenceStore",dependencies:[e,r,n],value:o}),o},[e,r,t,n])}function MSn(){const e=fr(sn),t=Td();return h.useMemo(()=>{const n=t.get({namespace:"projectStore",dependencies:[e]})||CSn({client:e});return t.set({namespace:"projectStore",dependencies:[e],value:n}),n},[e,t])}function FSn(){const e=Td(),t=ec();return h.useMemo(()=>{const n=e.get({dependencies:[t],namespace:"settingsStore"})||OSn();return e.set({dependencies:[t],namespace:"settingsStore",value:n}),n},[e,t])}const LSn=/[^\p{Alpha}\p{White_Space}]/gu,BSn=new RegExp("\\p{White_Space}+","u"),NSn={small:0,medium:1,large:2};function zSn(e){const t=e.replace(LSn,"").split(BSn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function Za(e){const{user:t,...n}=e;return yt(t)?n.withTooltip?l.jsx(VSn,{...n,user:t}):l.jsx(x$e,{...n,user:t}):l.jsx(HSn,{...e,user:t})}function VSn(e){const{user:{displayName:t}}=e;return l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t})}),placement:"top",portal:!0,children:l.jsx("div",{style:{display:"inline-block"},children:l.jsx(x$e,{...e})})})}const x$e=h.forwardRef(function(t,n){const{user:r,animateArrowFrom:o,position:i,size:s,status:a,tone:c,...u}=t,[d,f]=h.useState(null),p=etn(r.id),m=d||r==null?void 0:r.imageUrl;return l.jsx($Ce,{animateArrowFrom:o,arrowPosition:i,color:p.name,"data-legacy-tone":c,initials:(r==null?void 0:r.displayName)&&zSn(r.displayName),src:m,onImageLoadError:f,ref:n,size:typeof s=="string"?NSn[s]:s,status:a,title:r==null?void 0:r.displayName,...u})});function HSn(e){let{user:t,...n}=e;const[r]=w1(t);return r?l.jsx(Za,{...n,user:r}):null}var ppe=Object.freeze,USn=Object.defineProperty,WSn=(e,t)=>ppe(USn(e,"raw",{value:ppe(t||e.slice())})),mpe;const YSn=P(d8)(e=>{let{theme:t}=e;const n=t.sanity.color.dark?50:700,r=t.sanity.color.dark?700:100,o=pe.purple[r].hex,i=pe.purple[n].hex;return he(mpe||(mpe=WSn([`
    background-color: `,`;
    box-shadow: inset 0 0 0 1px `,`;
    color: `,`;
  `])),o,o,i)});function qSn(e){const{fontSize:t=1,children:n="Beta",...r}=e;return l.jsx(YSn,{...r,fontSize:t,children:n})}function ap(e,t,n){var r;if(t.length===0)return{...e||{},value:n};const[o,...i]=t,s=Pr(o)?o._key:String(o),a=(r=e==null?void 0:e.children)!=null?r:{};return{value:e==null?void 0:e.value,children:{...a,[s]:ap(a[s]||{},i,n)}}}const Kz=20,GSn=3,vf={name:"all-fields",title:"All fields",hidden:!1};function KSn(e){return Qa(e.schemaType)}function ZSn(e){return JF(e.schemaType)}function XSn(e,t){return[...t.map((n,r)=>({type:"expandPath",path:t.slice(0,r+1)})),...w$e(e,t)]}function w$e(e,t){return t.length===0?[]:KSn(e)?C$e(e,t):ZSn(e)?_$e(e,t):[]}function C$e(e,t){var n,r;if(t.length===0)return[];const[o,...i]=t,s=e._allMembers.find(v=>v.kind==="fieldSet"&&v.fieldSet.members.some(g=>g.kind==="field"&&g.name===o)),c=(s?s.fieldSet.members:e._allMembers).find(v=>v!==null&&v.kind==="field"&&v.name===o),u=e.schemaType.fields.find(v=>v.name===o),d=(n=e.groups.find(v=>v.selected))==null?void 0:n.name,f=(r=(e.schemaType.groups||[]).find(v=>v.default))==null?void 0:r.name,p=d&&(d===vf.name||u&&Zw(u.group).includes(d)),m=[];return p||m.push({type:"setSelectedGroup",path:e.path,groupName:f||vf.name}),s&&m.push({type:"expandFieldSet",path:s.fieldSet.path}),c&&(rz(c)?m.push(..._$e(c.field,i)):yPe(c)&&m.push(...C$e(c.field,i))),m}function _$e(e,t){if(t.length===0)return[];const[n,...r]=t;if(!Pr(n))throw new Error("Expected path segment to be an object with a _key property");const o=e.members.find(i=>i.key===n._key);return o?w$e(o.item,r):[]}function lo(e,t){const{currentUser:n,document:r,parent:o,value:i}=t;return typeof e=="boolean"||e===void 0?!!e:e({document:r,parent:o,value:i,currentUser:n})===!0}function QSn(e,t){const n=Is(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}function JSn(e,t){const n=Is(t);return e==null?void 0:e.of.find(r=>r.name===n||r.jsonType===n)}function Zz(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if((e==null?void 0:e.collapsible)===!1||(e==null?void 0:e.collapsable)===!1)return{collapsible:!1,collapsed:!1};const n=typeof(e==null?void 0:e.collapsed)=="boolean"?e.collapsed:t>=GSn?!0:void 0;return{collapsible:(e==null?void 0:e.collapsible)===!0||(e==null?void 0:e.collapsable)===!0||n===!0?!0:void 0,collapsed:n}}function S$e(e,t,n){return n.name===vf.name?!0:t===void 0?!1:e.length===0&&n.name===vf.name?!0:Zw(t).includes(n.name)}function gpe(e){return typeof e>"u"||yt(e)}function eEn(e){return typeof e>"u"||Array.isArray(e)}function tEn(e){return typeof e>"u"||Array.isArray(e)}function nEn(e){return e.length===0||e.every(t=>yt(t))}function rEn(e){const t=new Set;return e.reduce((n,r,o)=>(t.has(r._key)&&n.push([o,r._key]),t.add(r._key),n),[])}function oEn(e){return"_key"in e}function iEn(e){return e==null?void 0:e.every(t=>yt(t)&&oEn(t))}function Lv(e,t){return Array.isArray(e)&&typeof t>"u"||Array.isArray(t)&&typeof e>"u"?!1:e&&!t?!0:!Ht(e,t)}function vpe(e){var t,n,r,o,i,s,a,c,u,d,f,p,m,v,g,y,x,b;const{parent:w,field:C,index:_}=e,S=_m([...w.path,C.name]),E=fln(C.type,w.level+1),j=w.value,k=w.comparisonValue;if(!gpe(j))throw new Error("Unexpected non-object value");const T=C.group?Zw(C.group):[],A=S$e(w.groups,C.group,w.selectedGroup);if(Qa(C.type)){const D=j==null?void 0:j[C.name],I=yt(k)?k==null?void 0:k[C.name]:void 0;if(!gpe(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:Is(D),value:D}};const O={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(lo(C.type.hidden,O))return{kind:"hidden",key:"field-".concat(C.name),name:C.name,index:_};const R=w.readOnly||lo(C.type.readOnly,O),V=(n=(t=w.fieldGroupState)==null?void 0:t.children)==null?void 0:n[C.name],N=(o=(r=w.collapsedPaths)==null?void 0:r.children)==null?void 0:o[C.name],W=(s=(i=w.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[C.name],q=Xz({schemaType:C.type,currentUser:w.currentUser,parent:w.value,document:w.document,value:D,changed:Lv(D,I),comparisonValue:I,presence:w.presence,validation:w.validation,fieldGroupState:V,path:S,level:E,focusPath:w.focusPath,openPath:w.openPath,collapsedPaths:N,collapsedFieldSets:W,readOnly:R,changesOpen:w.changesOpen});if(q===null)return null;const H=Zz(C.type.options,E),Y=N?N.value:H.collapsed;return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:Si(S,w.openPath),field:q,collapsed:Y,collapsible:H.collapsible}}else if(Wl(C.type)){const D=j==null?void 0:j[C.name],I=yt(k)?k==null?void 0:k[C.name]:void 0;if(JF(C.type)){const O=typeof D<"u";if(O&&!eEn(D)){const H=Is(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:H,value:D}}}if(O&&!nEn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MIXED_ARRAY",schemaType:C.type,value:D}};if(O&&!iEn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MISSING_KEYS",value:D,schemaType:C.type}};const $=O?rEn(D):[];if($.length>0)return{kind:"error",key:C.name,fieldName:C.name,error:{type:"DUPLICATE_KEYS",duplicates:$,schemaType:C.type}};const R=(c=(a=w.fieldGroupState)==null?void 0:a.children)==null?void 0:c[C.name],V=(d=(u=w.collapsedPaths)==null?void 0:u.children)==null?void 0:d[C.name],N=(p=(f=w.collapsedFieldSets)==null?void 0:f.children)==null?void 0:p[C.name],W=w.readOnly||lo(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),q=aEn({schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,changed:Lv(D,I),comparisonValue:I,fieldGroupState:R,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:V,collapsedFieldSets:N,level:E,path:S,readOnly:W});return q===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:Si(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:q}}else{if(!tEn(D)){const W=Is(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:W,value:D}}}const O=(v=(m=w.fieldGroupState)==null?void 0:m.children)==null?void 0:v[C.name],$=(y=(g=w.collapsedPaths)==null?void 0:g.children)==null?void 0:y[C.name],R=(b=(x=w.collapsedFieldSets)==null?void 0:x.children)==null?void 0:b[C.name],V=w.readOnly||lo(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),N=sEn({changed:Lv(D,I),comparisonValue:I,schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,fieldGroupState:O,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:$,collapsedFieldSets:R,level:E,path:S,readOnly:V});return N===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:Si(S,w.openPath),collapsible:!1,collapsed:!1,field:N}}}else{const D=j==null?void 0:j[C.name],I=yt(k)?k==null?void 0:k[C.name]:void 0,O={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(lo(C.type.hidden,O))return null;const R=w.readOnly||lo(C.type.readOnly,O),V=E$e({...w,comparisonValue:I,value:D,schemaType:C.type,path:S,readOnly:R});return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:Si(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:V}}}function Xz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var n;if(e.level===Kz)return null;const r={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser},o=e.readOnly||lo(e.schemaType.readOnly,r),i=e.schemaType.groups||[],s=(n=i.find(b=>b.default)||vf)==null?void 0:n.name,a=[vf,...i].flatMap(b=>{var w;const C=lo(b.hidden,r),_=b.name===(((w=e.fieldGroupState)==null?void 0:w.value)||s),S=e.changesOpen?b.name===vf.name:_,E=e.changesOpen?!S:!1;return C?[]:[{disabled:E,icon:b==null?void 0:b.icon,name:b.name,selected:S,title:b.title}]}),c=a.find(b=>b.selected),d=(e.schemaType.fieldsets?e.schemaType.fieldsets:e.schemaType.fields.map(b=>({single:!0,field:b}))).flatMap((b,w)=>{var C,_,S,E;if(b.single){const O=b.field,$=vpe({field:O,parent:{...e,readOnly:o,groups:a,selectedGroup:c},index:w});return $?[$]:[]}const j=b.fields.map(O=>O.name),k=lo(b.hidden,{currentUser:e.currentUser,document:e.document,parent:e.value,value:St(e.value,j)}),T=lo(b.readOnly,{currentUser:e.currentUser,document:e.document,parent:e.value,value:St(e.value,j)}),A=b.fields.flatMap(O=>{if(k)return[{kind:"hidden",key:"field-".concat(O.name),name:O.name,index:w}];const $=vpe({field:O,parent:{...e,readOnly:o||T,groups:a,selectedGroup:c},index:w});return $?[$]:[]}),D=Zz(b.options,e.level),I=(S=(_=(((C=e.collapsedFieldSets)==null?void 0:C.children)||{})[b.name])==null?void 0:_.value)!=null?S:D.collapsed;return[{kind:"fieldSet",key:"fieldset-".concat(b.name),_inSelectedGroup:S$e(a,b.group,c),groups:b.group?Zw(b.group):[],fieldSet:{path:_m(e.path.concat(b.name)),name:b.name,title:b.title,description:b.description,hidden:!1,level:e.level+1,members:A.filter(O=>O.kind!=="hidden"),collapsible:D==null?void 0:D.collapsible,collapsed:I,columns:(E=b==null?void 0:b.options)==null?void 0:E.columns}}]}),f=i.length>0,p=e.presence.filter(b=>vn(b.path,e.path)),m=p.length?p:hn,v=e.validation.filter(b=>vn(b.path,e.path)).map(b=>({level:b.level,message:b.item.message,path:b.path})),g=d.filter(b=>b.kind!=="hidden");if(g.length===0&&t)return null;const y=f?a.flatMap(b=>b.name===vf.name||g.some(C=>C.kind==="error"?!1:C.kind==="field"?C.groups.includes(b.name):C.groups.includes(b.name)||C.fieldSet.members.some(_=>_.kind!=="error"&&_.groups.includes(b.name)))?b:[]):[],x=g.flatMap(b=>{if(b.kind==="error")return[b];if(b.kind==="field")return b.inSelectedGroup?[b]:[];const w=b.fieldSet.members.filter(C=>C.kind!=="field"||C.inSelectedGroup);return w.length>0?[{...b,fieldSet:{...b.fieldSet,members:w}}]:[]});return{value:e.value,changed:Lv(e.value,e.comparisonValue),schemaType:e.schemaType,readOnly:o,path:e.path,id:Lr(e.path),level:e.level,focused:vn(e.path,e.focusPath),focusPath:s6(e.path,e.focusPath),presence:m,validation:v,_allMembers:d,members:x,groups:y}}function sEn(e){if(e.level===Kz)return null;const t={comparisonValue:e.comparisonValue,value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(lo(e.schemaType.hidden,t))return null;const r=e.readOnly||lo(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>vn(u.path,e.path)),s=i.length?i:hn,a=e.validation.filter(u=>vn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),c=o.flatMap((u,d)=>cEn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:vn(e.path,e.focusPath),focusPath:s6(e.path,e.focusPath),path:e.path,id:Lr(e.path),level:e.level,validation:a,presence:s,members:c}}function aEn(e){if(e.level===Kz)return null;const t={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(lo(e.schemaType.hidden,t))return null;const r=e.readOnly||lo(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>vn(u.path,e.path)),s=i.length?i:hn,a=e.validation.filter(u=>vn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),c=o.flatMap((u,d)=>lEn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:vn(e.path,e.focusPath),focusPath:s6(e.path,e.focusPath),path:e.path,id:Lr(e.path),level:e.level,validation:a,presence:s,members:c}}function lEn(e){var t,n,r,o,i,s,a;const{arrayItem:c,parent:u,index:d}=e,f=QSn(u.schemaType,c),p=c._key;if(!f){const j=Is(c);return{kind:"error",key:p,index:d,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:j,value:c,validTypes:u.schemaType.of}}}const m=_m([...u.path,{_key:p}]),v=u.level+1,g={value:u.value,parent:e.parent,document:u.document,currentUser:u.currentUser},y=u.readOnly||lo(u.schemaType.readOnly,g),x=(n=(t=u.fieldGroupState)==null?void 0:t.children)==null?void 0:n[p],b=(o=(r=u.collapsedPaths)==null?void 0:r.children)==null?void 0:o[p],w=(s=(i=u.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[p],C=Array.isArray(u.comparisonValue)&&u.comparisonValue.find(j=>j._key===c._key)||void 0,_=Xz({schemaType:f,level:v,document:u.document,value:c,comparisonValue:C,changed:Lv(c,C),path:m,focusPath:u.focusPath,openPath:u.openPath,currentUser:u.currentUser,collapsedPaths:b,collapsedFieldSets:w,presence:u.presence,validation:u.validation,fieldGroupState:x,readOnly:y},!1),S=Zz(f.options,v),E=(a=b==null?void 0:b.value)!=null?a:S.collapsed;return{kind:"item",key:p,index:d,open:Si(m,u.openPath),collapsed:E,collapsible:!0,parentSchemaType:u.schemaType,item:_}}function cEn(e){var t,n;const{arrayItem:r,parent:o,index:i}=e,s=JSn(o.schemaType,r),a=_m([...o.path,i]),c=(t=o.value)==null?void 0:t[i],u=(n=o.comparisonValue)==null?void 0:n[i],d=o.level+1,f="".concat((s==null?void 0:s.name)||"invalid-type","-").concat(String(i));if(!s)return{kind:"error",key:f,index:i,error:{type:"INVALID_ITEM_TYPE",validTypes:o.schemaType.of,resolvedValueType:Is(s),value:c}};const p=o.readOnly||lo(s.readOnly,{value:c,parent:o.value,document:o.document,currentUser:o.currentUser}),m=E$e({...o,path:a,schemaType:s,level:d,value:c,comparisonValue:u,readOnly:p});return{kind:"item",key:f,index:i,parentSchemaType:o.schemaType,open:vn(a,o.openPath),item:m}}function E$e(e){const t=e.presence.filter(o=>vn(o.path,e.path)),n=t.length?t:hn,r=e.validation.filter(o=>vn(o.path,e.path)).map(o=>({level:o.level,message:o.item.message,path:o.path}));return{schemaType:e.schemaType,changed:Lv(e.value,e.comparisonValue),value:e.value,level:e.level,id:Lr(e.path),readOnly:e.readOnly,focused:vn(e.path,e.focusPath),path:e.path,presence:n,validation:r}}function uEn(e){return Xz(e)}function dEn(e,t){let{comparisonValue:n,value:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,openPath:c,presence:u,validation:d,readOnly:f,changesOpen:p}=t;const m=Yo(),v=h.useRef(null);return h.useLayoutEffect(()=>{v.current=null},[e]),h.useMemo(()=>{const g=uEn({schemaType:e,document:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,value:r,comparisonValue:n,focusPath:a,openPath:c,readOnly:f,path:_m([]),level:0,currentUser:m,presence:u,validation:d,changesOpen:p}),y=AN(v.current,g);return v.current=y,y},[e,r,o,i,s,n,a,c,f,m,u,d,p])}function fEn(e){return e.map(mEn)}function SF(e,t){return Tn(t.map(n=>pEn(e,n)))}const hEn=e=>t=>!e.includes(t);function pEn(e,t){return Tn(Object.keys(t).filter(hEn(["id","ifRevisionID","query"])).map(n=>{if(n==="unset")return t.unset.map(r=>({type:"unset",path:vg(r),origin:e}));if(n==="insert"){const r="before"in t.insert?"before":"after";return{type:"insert",position:r,path:vg(t.insert[r]),items:t.insert.items,origin:e}}return Object.keys(t[n]).map(r=>n==="set"?{type:"set",path:vg(r),value:t[n][r],origin:e}:n==="inc"||n==="dec"?{type:n,path:vg(r),value:t[n][r],origin:e}:n==="setIfMissing"?{type:"setIfMissing",path:vg(r),value:t[n][r],origin:e}:n==="diffMatchPatch"?{type:n,path:vg(r),value:t[n][r],origin:e}:(console.warn(new Error("Unsupported patch type: ".concat(n))),null)).filter(Boolean)}))}function mEn(e){if(e.patchType!==mm&&e.type)throw new Error('Patch is missing "patchType" - import and use "'.concat(e.type,'()" from "sanity/form"'));if(e.patchType!==mm)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const t=FAe(e.path||[]);if(e.type==="insert"){const{position:n,items:r}=e;return{insert:{[n]:t,items:r}}}if(e.type==="unset")return{unset:[t]};if(!e.type)throw new Error("Missing patch type in patch ".concat(JSON.stringify(e)));return t?{[e.type]:{[t]:e.value}}:{[e.type]:e.value}}h.memo(function(t){const{transform:n}=t,r=ga(),o=h.useCallback(s=>{const a=s.patches,c=n(a);r.onChange(ft.from(c))},[r,n]),i=h.useMemo(()=>({...r,onChange:o}),[r,o]);return l.jsx(TN.Provider,{value:i,children:t.children})});Gf.fonts.code.family,Gf.fonts.text.family,vc.hex,ka.hex,jy[500].hex,ka.hex,vc.hex,Y2[500].hex,Y2[500].hex,Y2[500].hex,lR[500].hex,jy[500].hex,uR[500].hex,cR[500].hex,jy[500].hex,jy[500].hex,uR[500].hex,cR[500].hex,lR[500].hex,vc.hex,ka.hex;({...Gf});const gEn=yN(e=>{const{name:t,title:n,icon:r,...o}=e||{};return{name:"@sanity/vision",tools:[{name:t||"vision",title:n||"Vision",icon:r||x6,component:h.lazy(()=>w9(()=>import("./SanityVision-oM6_d46E-4cee0d5b.js"),[])),options:o,router:Ci.create("/*")}]}});var PD={},vEn=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},yEn=vEn,ype={"text/plain":"Text","text/html":"Url",default:"Text"},bEn="Copy to clipboard: #{key}, Enter";function xEn(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function wEn(e,t){var n,r,o,i,s,a,c=!1;t||(t={}),n=t.debug||!1;try{o=yEn(),i=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=ype[t.format]||ype.default;window.clipboardData.setData(f,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),s.addRange(i);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");c=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),r=xEn("message"in t?t.message:bEn),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(i):s.removeAllRanges()),a&&document.body.removeChild(a),o()}return c}var CEn=wEn;function EF(e){"@babel/helpers - typeof";return EF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EF(e)}Object.defineProperty(PD,"__esModule",{value:!0});PD.CopyToClipboard=void 0;var D2=k$e(h),_En=k$e(CEn),SEn=["text","onCopy","options","children"];function k$e(e){return e&&e.__esModule?e:{default:e}}function bpe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function xpe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bpe(Object(n),!0).forEach(function(r){Qz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bpe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EEn(e,t){if(e==null)return{};var n=kEn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kEn(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function jEn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wpe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TEn(e,t,n){return t&&wpe(e.prototype,t),n&&wpe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function AEn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kF(e,t)}function kF(e,t){return kF=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},kF(e,t)}function DEn(e){var t=OEn();return function(){var r=K5(e),o;if(t){var i=K5(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return IEn(this,o)}}function IEn(e,t){if(t&&(EF(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j$e(e)}function j$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OEn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function K5(e){return K5=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},K5(e)}function Qz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T$e=function(e){AEn(n,e);var t=DEn(n);function n(){var r;jEn(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Qz(j$e(r),"onClick",function(a){var c=r.props,u=c.text,d=c.onCopy,f=c.children,p=c.options,m=D2.default.Children.only(f),v=(0,_En.default)(u,p);d&&d(u,v),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(a)}),r}return TEn(n,[{key:"render",value:function(){var o=this.props;o.text,o.onCopy,o.options;var i=o.children,s=EEn(o,SEn),a=D2.default.Children.only(i);return D2.default.cloneElement(a,xpe(xpe({},s),{},{onClick:this.onClick}))}}]),n}(D2.default.PureComponent);PD.CopyToClipboard=T$e;Qz(T$e,"defaultProps",{onCopy:void 0,options:void 0});var PEn=PD,jF=PEn.CopyToClipboard;jF.CopyToClipboard=jF;var REn=jF;const $En=Ie(REn);var MEn=ih,FEn=el,LEn="[object Number]";function BEn(e){return typeof e=="number"||FEn(e)&&MEn(e)==LEn}var NEn=BEn;const zEn=Ie(NEn);function Cpe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function _pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cpe(Object(n),!0).forEach(function(r){VEn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cpe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VEn(e,t,n){return t=HEn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HEn(e){var t=UEn(e,"string");return typeof t=="symbol"?t:String(t)}function UEn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z5(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function A$e(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function D$e(e){return A$e(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function I$e(e){return e._type==="@list"}function O$e(e){return e._type==="@span"}function P$e(e){return e._type==="@text"}const Spe=["strong","em","code","underline","strike-through"];function WEn(e,t,n){if(!Z5(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),o={};return r.forEach(i=>{o[i]=1;for(let s=t+1;s<n.length;s++){const a=n[s];if(a&&Z5(a)&&Array.isArray(a.marks)&&a.marks.indexOf(i)!==-1)o[i]++;else break}}),r.sort((i,s)=>YEn(o,i,s))}function YEn(e,t,n){const r=e[t],o=e[n];if(r!==o)return o-r;const i=Spe.indexOf(t),s=Spe.indexOf(n);return i!==s?i-s:t.localeCompare(n)}function qEn(e){var t;const{children:n,markDefs:r=[]}=e;if(!n||!n.length)return[];const o=n.map(WEn),i={_type:"@span",children:[],markType:"<unknown>"};let s=[i];for(let a=0;a<n.length;a++){const c=n[a];if(!c)continue;const u=o[a]||[];let d=1;if(s.length>1)for(d;d<s.length;d++){const p=((t=s[d])==null?void 0:t.markKey)||"",m=u.indexOf(p);if(m===-1)break;u.splice(m,1)}s=s.slice(0,d);let f=s[s.length-1];if(f){for(const p of u){const m=r.find(y=>y._key===p),v=m?m._type:p,g={_type:"@span",_key:c._key,children:[],markDef:m,markType:v,markKey:p};f.children.push(g),s.push(g),f=g}if(Z5(c)){const p=c.text.split(`
`);for(let m=p.length;m-- >1;)p.splice(m,0,`
`);f.children=f.children.concat(p.map(m=>({_type:"@text",text:m})))}else f.children=f.children.concat(c)}}return i.children}function GEn(e,t){const n=[];let r;for(let o=0;o<e.length;o++){const i=e[o];if(i){if(!D$e(i)){n.push(i),r=void 0;continue}if(!r){r=I2(i,o,t),n.push(r);continue}if(KEn(i,r)){r.children.push(i);continue}if((i.level||1)>r.level){const s=I2(i,o,t);if(t==="html"){const a=r.children[r.children.length-1],c=_pe(_pe({},a),{},{children:[...a.children,s]});r.children[r.children.length-1]=c}else r.children.push(s);r=s;continue}if((i.level||1)<r.level){const s=n[n.length-1],a=s&&TF(s,i);if(a){r=a,r.children.push(i);continue}r=I2(i,o,t),n.push(r);continue}if(i.listItem!==r.listItem){const s=n[n.length-1],a=s&&TF(s,{level:i.level||1});if(a&&a.listItem===i.listItem){r=a,r.children.push(i);continue}else{r=I2(i,o,t),n.push(r);continue}}console.warn("Unknown state encountered for block",i),n.push(i)}}return n}function KEn(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function I2(e,t,n){return{_type:"@list",_key:"".concat(e._key||"".concat(t),"-parent"),mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function TF(e,t){const n=t.level||1,r=t.listItem||"normal",o=typeof t.listItem=="string";if(I$e(e)&&(e.level||1)===n&&o&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const i=e.children[e.children.length-1];return i&&!Z5(i)?TF(i,t):void 0}function R$e(e){let t="";return e.children.forEach(n=>{P$e(n)?t+=n.text:O$e(n)&&(t+=R$e(n))}),t}const ZEn="html",XEn=["block","list","listItem","marks","types"],QEn=["listItem"],JEn=["_key"];function Epe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function wc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Epe(Object(n),!0).forEach(function(r){ekn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Epe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ekn(e,t,n){return t=tkn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tkn(e){var t=nkn(e,"string");return typeof t=="symbol"?t:String(t)}function nkn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AF(e,t){if(e==null)return{};var n=rkn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rkn(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function okn(e,t){const n=AF(t,XEn);return wc(wc({},e),{},{block:Cy(e,t,"block"),list:Cy(e,t,"list"),listItem:Cy(e,t,"listItem"),marks:Cy(e,t,"marks"),types:Cy(e,t,"types")},n)}function Cy(e,t,n){const r=t[n],o=e[n];return typeof r=="function"||r&&typeof o=="function"?r:r?wc(wc({},o),r):o}const ikn=e=>{let{children:t,value:n}=e;return l.jsx("a",{href:n==null?void 0:n.href,children:t})},skn={textDecoration:"underline"},akn={em:e=>{let{children:t}=e;return l.jsx("em",{children:t})},strong:e=>{let{children:t}=e;return l.jsx("strong",{children:t})},code:e=>{let{children:t}=e;return l.jsx("code",{children:t})},underline:e=>{let{children:t}=e;return l.jsx("span",{style:skn,children:t})},"strike-through":e=>{let{children:t}=e;return l.jsx("del",{children:t})},link:ikn},lkn={number:e=>{let{children:t}=e;return l.jsx("ol",{children:t})},bullet:e=>{let{children:t}=e;return l.jsx("ul",{children:t})}},ckn=e=>{let{children:t}=e;return l.jsx("li",{children:t})},MC=(e,t)=>"[@portabletext/react] Unknown ".concat(e,", specify a component for it in the `components.").concat(t,"` prop"),$$e=e=>MC('block type "'.concat(e,'"'),"types"),ukn=e=>MC('mark type "'.concat(e,'"'),"marks"),dkn=e=>MC('block style "'.concat(e,'"'),"block"),fkn=e=>MC('list style "'.concat(e,'"'),"list"),hkn=e=>MC('list item style "'.concat(e,'"'),"listItem");function pkn(e){console.warn(e)}const kpe={display:"none"},mkn=e=>{let{value:t,isInline:n}=e;const r=$$e(t._type);return n?l.jsx("span",{style:kpe,children:r}):l.jsx("div",{style:kpe,children:r})},gkn=e=>{let{markType:t,children:n}=e;return l.jsx("span",{className:"unknown__pt__mark__".concat(t),children:n})},vkn=e=>{let{children:t}=e;return l.jsx("p",{children:t})},ykn=e=>{let{children:t}=e;return l.jsx("ul",{children:t})},bkn=e=>{let{children:t}=e;return l.jsx("li",{children:t})},xkn=()=>l.jsx("br",{}),wkn={normal:e=>{let{children:t}=e;return l.jsx("p",{children:t})},blockquote:e=>{let{children:t}=e;return l.jsx("blockquote",{children:t})},h1:e=>{let{children:t}=e;return l.jsx("h1",{children:t})},h2:e=>{let{children:t}=e;return l.jsx("h2",{children:t})},h3:e=>{let{children:t}=e;return l.jsx("h3",{children:t})},h4:e=>{let{children:t}=e;return l.jsx("h4",{children:t})},h5:e=>{let{children:t}=e;return l.jsx("h5",{children:t})},h6:e=>{let{children:t}=e;return l.jsx("h6",{children:t})}},jpe={types:{},block:wkn,marks:akn,list:lkn,listItem:ckn,hardBreak:xkn,unknownType:mkn,unknownMark:gkn,unknownList:ykn,unknownListItem:bkn,unknownBlockStyle:vkn};function Ckn(e){let{value:t,components:n,listNestingMode:r,onMissingComponent:o=pkn}=e;const i=o||Skn,s=Array.isArray(t)?t:[t],a=GEn(s,r||ZEn),c=h.useMemo(()=>n?okn(jpe,n):jpe,[n]),u=h.useMemo(()=>_kn(c,i),[c,i]),d=a.map((f,p)=>u({node:f,index:p,isInline:!1,renderNode:u}));return l.jsx(l.Fragment,{children:d})}const _kn=(e,t)=>{function n(f){const{node:p,index:m,isInline:v}=f,g=p._key||"node-".concat(m);return I$e(p)?i(p,m,g):D$e(p)?o(p,m,g):O$e(p)?s(p,m,g):r(p)?d(p,m,g,v):A$e(p)?a(p,m,g,v):P$e(p)?c(p,g):u(p,m,g,v)}function r(f){return f._type in e.types}function o(f,p,m){const v=Tpe({node:f,index:p,isInline:!1,renderNode:n}),g=e.listItem,x=(typeof g=="function"?g:g[f.listItem])||e.unknownListItem;if(x===e.unknownListItem){const w=f.listItem||"bullet";t(hkn(w),{type:w,nodeType:"listItemStyle"})}let b=v.children;if(f.style&&f.style!=="normal"){const w=AF(f,QEn);b=n({node:w,index:p,isInline:!1,renderNode:n})}return l.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:b},m)}function i(f,p,m){const v=f.children.map((b,w)=>n({node:b._key?b:wc(wc({},b),{},{_key:"li-".concat(p,"-").concat(w)}),index:w,isInline:!1,renderNode:n})),g=e.list,x=(typeof g=="function"?g:g[f.listItem])||e.unknownList;if(x===e.unknownList){const b=f.listItem||"bullet";t(fkn(b),{nodeType:"listStyle",type:b})}return l.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:v},m)}function s(f,p,m){const{markDef:v,markType:g,markKey:y}=f,x=e.marks[g]||e.unknownMark,b=f.children.map((w,C)=>n({node:w,index:C,isInline:!0,renderNode:n}));return x===e.unknownMark&&t(ukn(g),{nodeType:"mark",type:g}),l.jsx(x,{text:R$e(f),value:v,markType:g,markKey:y,renderNode:n,children:b},m)}function a(f,p,m,v){const g=Tpe({node:f,index:p,isInline:v,renderNode:n}),y=AF(g,JEn),x=y.node.style||"normal",w=(typeof e.block=="function"?e.block:e.block[x])||e.unknownBlockStyle;return w===e.unknownBlockStyle&&t(dkn(x),{nodeType:"blockStyle",type:x}),l.jsx(w,wc(wc({},y),{},{value:y.node,renderNode:n}),m)}function c(f,p){if(f.text===`
`){const m=e.hardBreak;return m?l.jsx(m,{},p):`
`}return f.text}function u(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n};t($$e(f._type),{nodeType:"block",type:f._type});const y=e.unknownType;return l.jsx(y,wc({},g),m)}function d(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n},y=e.types[f._type];return y?l.jsx(y,wc({},g),m):null}return n};function Tpe(e){const{node:t,index:n,isInline:r,renderNode:o}=e,s=qEn(t).map((a,c)=>o({node:a,isInline:!0,index:c,renderNode:o}));return{_key:t._key||"block-".concat(n),children:s,index:n,isInline:r,node:t}}function Skn(){}var Ekn=Mke,kkn=k9,jkn=kkn(function(e,t,n){return t=t.toLowerCase(),e+(n?Ekn(t):t)}),Tkn=jkn;const Ape=Ie(Tkn);var Akn=k9,Dkn=Akn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ikn=Dkn;const Okn=Ie(Ikn);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Dpe=Object.getOwnPropertySymbols,Pkn=Object.prototype.hasOwnProperty,Rkn=Object.prototype.propertyIsEnumerable;function $kn(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Mkn(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Fkn=Mkn()?Object.assign:function(e,t){for(var n,r=$kn(e),o,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var s in n)Pkn.call(n,s)&&(r[s]=n[s]);if(Dpe){o=Dpe(n);for(var a=0;a<o.length;a++)Rkn.call(n,o[a])&&(r[o[a]]=n[o[a]])}}return r},O2=Fkn,Lkn={};function hl(e,t,n,r,o,i,s,a){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,s,a],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var Ipe="mixins";function Bkn(e,t,n){var r=[],o={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},i={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},s={displayName:function(C,_){C.displayName=_},mixins:function(C,_){if(_)for(var S=0;S<_.length;S++)c(C,_[S])},childContextTypes:function(C,_){C.childContextTypes=O2({},C.childContextTypes,_)},contextTypes:function(C,_){C.contextTypes=O2({},C.contextTypes,_)},getDefaultProps:function(C,_){C.getDefaultProps?C.getDefaultProps=f(C.getDefaultProps,_):C.getDefaultProps=_},propTypes:function(C,_){C.propTypes=O2({},C.propTypes,_)},statics:function(C,_){u(C,_)},autobind:function(){}};function a(C,_){var S=o.hasOwnProperty(_)?o[_]:null;x.hasOwnProperty(_)&&hl(S==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",_),C&&hl(S==="DEFINE_MANY"||S==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",_)}function c(C,_){if(_){hl(typeof _!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),hl(!t(_),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var S=C.prototype,E=S.__reactAutoBindPairs;_.hasOwnProperty(Ipe)&&s.mixins(C,_.mixins);for(var j in _)if(_.hasOwnProperty(j)&&j!==Ipe){var k=_[j],T=S.hasOwnProperty(j);if(a(T,j),s.hasOwnProperty(j))s[j](C,k);else{var A=o.hasOwnProperty(j),D=typeof k=="function",I=D&&!A&&!T&&_.autobind!==!1;if(I)E.push(j,k),S[j]=k;else if(T){var O=o[j];hl(A&&(O==="DEFINE_MANY_MERGED"||O==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",O,j),O==="DEFINE_MANY_MERGED"?S[j]=f(S[j],k):O==="DEFINE_MANY"&&(S[j]=p(S[j],k))}else S[j]=k}}}}function u(C,_){if(_)for(var S in _){var E=_[S];if(_.hasOwnProperty(S)){var j=S in s;hl(!j,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',S);var k=S in C;if(k){var T=i.hasOwnProperty(S)?i[S]:null;hl(T==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",S),C[S]=f(C[S],E);return}C[S]=E}}}function d(C,_){hl(C&&_&&typeof C=="object"&&typeof _=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var S in _)_.hasOwnProperty(S)&&(hl(C[S]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",S),C[S]=_[S]);return C}function f(C,_){return function(){var E=C.apply(this,arguments),j=_.apply(this,arguments);if(E==null)return j;if(j==null)return E;var k={};return d(k,E),d(k,j),k}}function p(C,_){return function(){C.apply(this,arguments),_.apply(this,arguments)}}function m(C,_){var S=_.bind(C);return S}function v(C){for(var _=C.__reactAutoBindPairs,S=0;S<_.length;S+=2){var E=_[S],j=_[S+1];C[E]=m(C,j)}}var g={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},x={replaceState:function(C,_){this.updater.enqueueReplaceState(this,C,_)},isMounted:function(){return!!this.__isMounted}},b=function(){};O2(b.prototype,e.prototype,x);function w(C){var _=function(E,j,k){this.__reactAutoBindPairs.length&&v(this),this.props=E,this.context=j,this.refs=Lkn,this.updater=k||n,this.state=null;var T=this.getInitialState?this.getInitialState():null;hl(typeof T=="object"&&!Array.isArray(T),"%s.getInitialState(): must return an object or null",_.displayName||"ReactCompositeComponent"),this.state=T};_.prototype=new b,_.prototype.constructor=_,_.prototype.__reactAutoBindPairs=[],r.forEach(c.bind(null,_)),c(_,g),c(_,C),c(_,y),_.getDefaultProps&&(_.defaultProps=_.getDefaultProps()),hl(_.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var S in o)_.prototype[S]||(_.prototype[S]=null);return _}return w}var Nkn=Bkn,X5=h,zkn=Nkn;if(typeof X5>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var Vkn=new X5.Component().updater,RD=zkn(X5.Component,X5.isValidElement,Vkn),Hkn=Date.now||Ukn;function Ukn(){return new Date().getTime()}var Ope=Hkn,Wkn=function(t,n,r){var o,i,s,a,c;n==null&&(n=100);function u(){var d=Ope()-a;d<n&&d>0?o=setTimeout(u,n-d):(o=null,r||(c=t.apply(s,i),o||(s=i=null)))}return function(){s=this,i=arguments,a=Ope();var f=r&&!o;return o||(o=setTimeout(u,n)),f&&(c=t.apply(s,i),s=i=null),c}},Ykn=qkn;function qkn(e){for(var t=Gkn(e),n=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<t.length;s+=16){var a=n,c=r,u=o,d=i;n=gi(n,r,o,i,t[s+0],7,-680876936),i=gi(i,n,r,o,t[s+1],12,-389564586),o=gi(o,i,n,r,t[s+2],17,606105819),r=gi(r,o,i,n,t[s+3],22,-1044525330),n=gi(n,r,o,i,t[s+4],7,-176418897),i=gi(i,n,r,o,t[s+5],12,1200080426),o=gi(o,i,n,r,t[s+6],17,-1473231341),r=gi(r,o,i,n,t[s+7],22,-45705983),n=gi(n,r,o,i,t[s+8],7,1770035416),i=gi(i,n,r,o,t[s+9],12,-1958414417),o=gi(o,i,n,r,t[s+10],17,-42063),r=gi(r,o,i,n,t[s+11],22,-1990404162),n=gi(n,r,o,i,t[s+12],7,1804603682),i=gi(i,n,r,o,t[s+13],12,-40341101),o=gi(o,i,n,r,t[s+14],17,-1502002290),r=gi(r,o,i,n,t[s+15],22,1236535329),n=vi(n,r,o,i,t[s+1],5,-165796510),i=vi(i,n,r,o,t[s+6],9,-1069501632),o=vi(o,i,n,r,t[s+11],14,643717713),r=vi(r,o,i,n,t[s+0],20,-373897302),n=vi(n,r,o,i,t[s+5],5,-701558691),i=vi(i,n,r,o,t[s+10],9,38016083),o=vi(o,i,n,r,t[s+15],14,-660478335),r=vi(r,o,i,n,t[s+4],20,-405537848),n=vi(n,r,o,i,t[s+9],5,568446438),i=vi(i,n,r,o,t[s+14],9,-1019803690),o=vi(o,i,n,r,t[s+3],14,-187363961),r=vi(r,o,i,n,t[s+8],20,1163531501),n=vi(n,r,o,i,t[s+13],5,-1444681467),i=vi(i,n,r,o,t[s+2],9,-51403784),o=vi(o,i,n,r,t[s+7],14,1735328473),r=vi(r,o,i,n,t[s+12],20,-1926607734),n=yi(n,r,o,i,t[s+5],4,-378558),i=yi(i,n,r,o,t[s+8],11,-2022574463),o=yi(o,i,n,r,t[s+11],16,1839030562),r=yi(r,o,i,n,t[s+14],23,-35309556),n=yi(n,r,o,i,t[s+1],4,-1530992060),i=yi(i,n,r,o,t[s+4],11,1272893353),o=yi(o,i,n,r,t[s+7],16,-155497632),r=yi(r,o,i,n,t[s+10],23,-1094730640),n=yi(n,r,o,i,t[s+13],4,681279174),i=yi(i,n,r,o,t[s+0],11,-358537222),o=yi(o,i,n,r,t[s+3],16,-722521979),r=yi(r,o,i,n,t[s+6],23,76029189),n=yi(n,r,o,i,t[s+9],4,-640364487),i=yi(i,n,r,o,t[s+12],11,-421815835),o=yi(o,i,n,r,t[s+15],16,530742520),r=yi(r,o,i,n,t[s+2],23,-995338651),n=bi(n,r,o,i,t[s+0],6,-198630844),i=bi(i,n,r,o,t[s+7],10,1126891415),o=bi(o,i,n,r,t[s+14],15,-1416354905),r=bi(r,o,i,n,t[s+5],21,-57434055),n=bi(n,r,o,i,t[s+12],6,1700485571),i=bi(i,n,r,o,t[s+3],10,-1894986606),o=bi(o,i,n,r,t[s+10],15,-1051523),r=bi(r,o,i,n,t[s+1],21,-2054922799),n=bi(n,r,o,i,t[s+8],6,1873313359),i=bi(i,n,r,o,t[s+15],10,-30611744),o=bi(o,i,n,r,t[s+6],15,-1560198380),r=bi(r,o,i,n,t[s+13],21,1309151649),n=bi(n,r,o,i,t[s+4],6,-145523070),i=bi(i,n,r,o,t[s+11],10,-1120210379),o=bi(o,i,n,r,t[s+2],15,718787259),r=bi(r,o,i,n,t[s+9],21,-343485551),n=yf(n,a),r=yf(r,c),o=yf(o,u),i=yf(i,d)}return P2(n)+P2(r)+P2(o)+P2(i)}var Ppe="0123456789abcdef";function Jz(e,t){var n=e&1|t&1,r=e>>>1|t>>>1;return r<<1|n}function DF(e,t){var n=e&1^t&1,r=e>>>1^t>>>1;return r<<1|n}function Q5(e,t){var n=e&1&(t&1),r=e>>>1&t>>>1;return r<<1|n}function yf(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function P2(e){var t="",n;for(n=0;n<=3;n++)t+=Ppe.charAt(e>>n*8+4&15)+Ppe.charAt(e>>n*8&15);return t}function Gkn(e){var t=(e.length+8>>6)+1,n=new Array(t*16),r;for(r=0;r<t*16;r++)n[r]=0;for(r=0;r<e.length;r++)n[r>>2]|=e.charCodeAt(r)<<(e.length*8+r)%4*8;n[r>>2]|=128<<(e.length*8+r)%4*8;var o=e.length*8;return n[t*16-2]=o&255,n[t*16-2]|=(o>>>8&255)<<8,n[t*16-2]|=(o>>>16&255)<<16,n[t*16-2]|=(o>>>24&255)<<24,n}function Kkn(e,t){return e<<t|e>>>32-t}function $D(e,t,n,r,o,i){return yf(Kkn(yf(yf(t,e),yf(r,i)),o),n)}function gi(e,t,n,r,o,i,s){return $D(Jz(Q5(t,n),Q5(~t,r)),e,t,o,i,s)}function vi(e,t,n,r,o,i,s){return $D(Jz(Q5(t,r),Q5(n,~r)),e,t,o,i,s)}function yi(e,t,n,r,o,i,s){return $D(DF(DF(t,n),r),e,t,o,i,s)}function bi(e,t,n,r,o,i,s){return $D(DF(n,Jz(t,~r)),e,t,o,i,s)}var Zkn=Math.ceil(Math.random()*10),Xkn=function(){return++Zkn},eV=function(e){return Object.prototype.toString.call(e).slice(8,-1)},Qkn=eV;function Jkn(e){var t=Qkn(e);return t!=="Object"&&t!=="Array"}var M$e=Jkn,e5n=h,t5n=RD,R2=e5n.createElement,n5n=t5n({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||t===-1)return R2("span",null,e.string);var n=e.highlight.source.length,r=e.string.substr(t,n);return R2("span",null,e.string.split(e.highlight).map(function(o,i){return R2("span",{key:i},i>0?R2("span",{className:"json-inspector__hl"},r):null,o)}))}}),r5n=h,o5n=RD,i5n=Ykn,s5n=Xkn,F$e=eV,oE=M$e,a5n=n5n,_a=r5n.createElement,l5n=".root.",L$e=o5n({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+s5n(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},r=this._onClick.bind(this,n);return _a("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},_a("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),_a("label",{className:"json-inspector__line",htmlFor:e,onClick:r},_a("div",{className:"json-inspector__flatpath"},n.path),_a("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=F$e(e);switch(t){case"Array":var n=e.length;return _a("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[…] ":"[] ")+c5n(n));case"Object":var r=Object.keys(e).length;return _a("span",{className:"json-inspector__value json-inspector__value_helper"},(r>0?"{…} ":"{} ")+u5n(r));default:return _a("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!oE(n)?Object.keys(n).map(function(r){var o=n[r],i=!this.state.original||(e.verboseShowOriginal?e.query:!1);return _a(L$e,{data:o,label:r,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:i?e.getOriginal:null,key:d5n(r,o),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var e=this.props;return oE(e.data)||this.state.original||!e.getOriginal||!e.query||O3(this.keypath(),e.query)?null:_a("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return typeof this.props.interactiveLabel=="function"?_a(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!O3(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(l5n.length)},data:function(){return this.state.original||this.props.data},format:function(e){return _a(a5n,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),oE(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return e.root?!0:e.query?!O3(t,e.query)&&typeof e.getOriginal=="function":e.isExpanded(t,e.data)}});function c5n(e){return e+(e===1?" item":" items")}function u5n(e){return e+(e===1?" property":" properties")}function d5n(e,t){if(oE(t)){var n=i5n(String(t));return e+":"+n}else return e+"["+F$e(t)+"]"}function O3(e,t){return e.indexOf(t)!==-1}var f5n=L$e,B$e=function(){},h5n=h,p5n=RD,m5n=h5n.createElement,g5n=B$e,v5n=p5n({getDefaultProps:function(){return{onChange:g5n}},render:function(){return m5n("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}}),N$e=function(e){return Object.keys(e).length===0},y5n=Object.keys,b5n=M$e,x5n=N$e,w5n=function(e,t){t||(t={cacheResults:!0});var n={};return function(r){if(!t.cacheResults)return iE(e,r,t);var o;if(!n[r]){for(var i=r.length-1;i>0;i-=1)if(o=r.substr(0,i),n[o]){n[r]=iE(n[o],r,t);break}}return n[r]||(n[r]=iE(e,r,t)),n[r]}};function iE(e,t,n){return y5n(e).reduce(function(r,o){var i=e[o],s;return b5n(i)?(P3(t,o,n)||P3(t,i,n))&&(r[o]=i):P3(t,o,n)?r[o]=i:(s=iE(i,t,n),x5n(s)||Object.assign(r,C5n(o,s))),r},{})}function P3(e,t,n){if(t){var r=String(t),o=e;return n.ignoreCase&&(r=r.toLowerCase(),o=o.toLowerCase()),r.indexOf(o)!==-1}}function C5n(e,t){var n={};return n[e]=t,n}var _5n=eV,R3=".";function IF(e,t){var n=t.split(R3),r=n.shift();if(!r)return e;var o=_5n(e);if(o==="Array"&&e[Rpe(r)])return IF(e[Rpe(r)],n.join(R3));if(o==="Object"&&e[r])return IF(e[r],n.join(R3))}function Rpe(e){return parseInt(e,10)}var S5n=IF,E5n=h,k5n=RD,j5n=Wkn,_y=E5n.createElement,T5n=f5n,A5n=v5n,D5n=w5n,I5n=N$e,O5n=S5n,P5n=B$e,R5n=k5n({getDefaultProps:function(){return{data:null,search:A5n,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:P5n,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=t.query!==""&&e.validateQuery(t.query),r=n?t.filterer(t.query):e.data,o=n&&I5n(r);return _y("div",{className:"json-inspector "+e.className},this.renderToolbar(),o?_y("div",{className:"json-inspector__not-found"},"Nothing found"):_y(T5n,{data:r,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return _y("div",{className:"json-inspector__toolbar"},_y(e,{onChange:j5n(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions);var t=typeof e.query=="string"&&e.query!==this.state.query;t&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:D5n(e,t)})},getOriginal:function(e){return O5n(this.props.data,e)}});const $5n=Ie(R5n);var M5n=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),r=Object.create(null);function o(i,s){n[i]=s,t++,t>=e&&(t=0,r=n,n=Object.create(null))}return{has:function(i){return n[i]!==void 0||r[i]!==void 0},remove:function(i){n[i]!==void 0&&(n[i]=void 0),r[i]!==void 0&&(r[i]=void 0)},get:function(i){var s=n[i];if(s!==void 0)return s;if((s=r[i])!==void 0)return o(i,s),s},set:function(i,s){n[i]!==void 0?n[i]=s:o(i,s)},clear:function(){n=Object.create(null),r=Object.create(null)}}};const F5n=Ie(M5n);function tV(e){let{children:t,ms:n=0}=e;const[r,o]=h.useState(n<=0);return h.useEffect(()=>{if(n<=0)return;const i=setTimeout(()=>o(!0),n);return()=>{clearTimeout(i)}},[n]),!r||!t?l.jsx(l.Fragment,{}):typeof t=="function"?t():t}function z$e(e){const{document:t}=e,r=_n().get(t._type),{error:o,value:i}=xN({schemaType:r,value:t});return r?o?l.jsxs(l.Fragment,{children:["Error: ",o.message]}):l.jsx(l.Fragment,{children:(i==null?void 0:i.title)||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):l.jsxs("code",{children:["Unknown schema type: ",t._type]})}const nV=e=>{const{actions:t,children:n,actionProps:r,onActionComplete:o}=e;return l.jsx(wIe,{onReset:o,hooks:t,args:r,children:n})},L5n=e=>{const{badges:t,children:n,badgeProps:r,...o}=e;return l.jsx(wIe,{...o,hooks:t,args:r,children:n})};function B5n(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}const N5n=5e3;let $3;const V$e=()=>($3||($3=Ps(document,"visibilitychange").pipe(ii(null),ue(()=>document.visibilityState==="visible"),_r(),st(e=>e?as(0,N5n):Vr),Ri({refCount:!0,bufferSize:1}))),$3);function z5n(e,t){let{versionedClient:n}=t;const r=li(e),o=On(e),i={uri:n.getDataUrl("doc","".concat(r,",").concat(o)),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return n.observable.request(i).pipe(ue(s=>{let{omitted:a}=s;const c=a.filter(u=>u.reason==="existence");if(c.length!==2)return c.length===0||c.some(u=>u.id===r)?o:r}))}function V5n(e,t){const{versionedClient:n}=t;return V$e().pipe(st(()=>z5n(e,t)),st(r=>{if(!r)return be({totalCount:0,references:[]});const o=n.config().dataset;return n.observable.request({url:"/data/references/".concat(o,"/documents/").concat(r,"/to?excludeInternalReferences=true&excludePaths=true"),tag:"use-referring-documents.external"}).pipe(In(i=>{if(B5n(i)&&i.statusCode===404)return be({totalCount:0,references:[]});throw i}))}))}const H5n=_h(e=>{let[t,n]=e;const r="*[references($documentId)][0...100]{_id,_type}",o="count(*[references($documentId)])",i='{"references":'.concat(r,',"totalCount":').concat(o,"}"),s="*[references($documentId)]";return n.listenQuery({fetch:i,listen:s},{documentId:t},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3})}),U5n=_h(e=>{let[t,n]=e;return V$e().pipe(st(()=>V5n(t,{versionedClient:n})))});function W5n(e){const t=fr(sn),n=al(),r=On(e),[o,i]=H5n(h.useMemo(()=>[r,n],[n,r])),[s,a]=U5n(h.useMemo(()=>[r,t],[r,t])),c=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>f.projectId).filter(Boolean))).sort(),[s==null?void 0:s.references]),u=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>(f==null?void 0:f.datasetName)||"").filter(f=>!!f&&f!==""))).sort(),[s==null?void 0:s.references]),d=h.useMemo(()=>!!(s!=null&&s.references.some(f=>typeof f.datasetName!="string")),[s==null?void 0:s.references]);return{totalCount:((o==null?void 0:o.totalCount)||0)+((s==null?void 0:s.totalCount)||0),projectIds:c,datasetNames:u,hasUnknownDatasetNames:d,internalReferences:o,crossDatasetReferences:s,isLoading:i||a}}function Y5n(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=t?"Published":"Not published",o=Qo(n||"",{minimal:!0,agoSuffix:!0});return l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t?"Published ".concat(o):"Not published"})}),children:l.jsx(sr,{tone:"positive",dimmed:!t,muted:!t,size:1,children:l.jsx(D0,{"aria-label":r})})})}function q5n(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=Qo(n||"",{minimal:!0,agoSuffix:!0});return l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t?"Edited ".concat(r):"No unpublished edits"})}),children:l.jsx(sr,{tone:"caution",dimmed:!t,muted:!t,size:1,children:l.jsx(Hu,{})})})}function H$e(e){const{icon:t,layout:n,presence:r,schemaType:o,value:i}=e,s=yt(i.title)&&h.isValidElement(i.title)||WT(i.title)||zEn(i.title)?i.title:null,{draft:a,published:c,isLoading:u}=vo(()=>KA(e.documentPreviewStore,o,i._id,s),[e.documentPreviewStore,o,i._id,s]),d=u?null:l.jsxs(qt,{space:4,children:[r&&r.length>0&&l.jsx(YN,{presence:r}),l.jsx(Y5n,{document:c}),l.jsx(q5n,{document:a})]});return l.jsx(kh,{...CN({value:i,draft:a,published:c}),isPlaceholder:u,icon:t,layout:n,status:d})}function ps(){throw new Error("Pane is missing router context")}const MD=h.createContext({index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>ps(),ChildLink:()=>ps(),ReferenceChildLink:()=>ps(),handleEditReference:()=>ps(),ParameterizedLink:()=>ps(),replaceCurrent:()=>ps(),closeCurrentAndAfter:()=>ps(),closeCurrent:()=>ps(),duplicateCurrent:()=>ps(),setView:()=>ps(),setParams:()=>ps(),setPayload:()=>ps(),navigateIntent:()=>ps(),createPathWithParams:()=>ps()}),G5n=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o}=h.useContext(MD),i=h.useMemo(()=>r.slice(0,o),[o,r]),s=h.useMemo(()=>({panes:i}),[i]);return l.jsx(DT,{...t,ref:n,state:s})}),U$e=h.createContext(null);function C1(){const e=h.useContext(U$e);if(!e)throw new Error("PaneLayout: missing context value");return e}const K5n=h.forwardRef(function(t,n){const{childId:r,childPayload:o,childParameters:i,...s}=t,{routerPanesState:a,groupIndex:c}=h.useContext(MD);return l.jsx(DT,{...s,ref:n,state:{panes:[...a.slice(0,c+1),[{id:r,params:i,payload:o}]]}})}),l6n=h.forwardRef(function(t,n){let{documentId:r,documentType:o,parentRefPath:i,children:s,template:a,...c}=t;return l.jsx(K5n,{...c,ref:n,childId:r,childPayload:a==null?void 0:a.params,childParameters:{type:o,parentRefPath:Lr(i),...a&&{template:a==null?void 0:a.id}},children:s})}),c6n=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o,siblingIndex:i}=h.useContext(MD),{params:s,payload:a,...c}=t,u=Fo(s),d=Fo(a),f=h.useMemo(()=>{const p=r[o],m=p[i],v={...m,params:u??m.params,payload:d??m.payload},g=[...p.slice(0,i),v,...p.slice(i+1)];return{panes:[...r.slice(0,o),g,...r.slice(o+1)]}},[r,o,u,d,i]);return l.jsx(DT,{ref:n,...c,state:f})});function ru(){return h.useContext(MD)}const $pe=[];function Z5n(e){const{onClick:t,type:n,value:r}=e,o=On(r==null?void 0:r._id),i=$C(o),s=Vi(),{ReferenceChildLink:a}=ru(),c=h.useCallback(function(d){return l.jsx(a,{documentId:r==null?void 0:r._id,documentType:n==null?void 0:n.name,parentRefPath:$pe,...d})},[a,n==null?void 0:n.name,r==null?void 0:r._id]);return l.jsx(Np,{__unstable_focusRing:!0,as:c,"data-as":"a",onClick:t,padding:2,radius:2,children:l.jsx(H$e,{documentPreviewStore:s,icon:n==null?void 0:n.icon,layout:"default",presence:(i==null?void 0:i.length)>0?i:$pe,schemaType:n,value:r})})}var Mpe=Object.freeze,X5n=Object.defineProperty,FC=(e,t)=>Mpe(X5n(e,"raw",{value:Mpe(t||e.slice())})),Fpe,Lpe,Bpe,Npe,zpe;const W$e=P(M)(Fpe||(Fpe=FC([`
  margin-left: auto;
`]))),Q5n=P.details(Lpe||(Lpe=FC([`
  flex: none;

  &[open] `,` {
    transform: rotate(180deg);
  }
`])),W$e),J5n=P.summary(Bpe||(Bpe=FC([`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`]))),ejn=P.table(Npe||(Npe=FC([`
  width: 100%;
  text-align: left;
  padding: 0 `,`;
  border-collapse: collapse;

  th {
    padding: `,`;
  }

  td {
    padding: 0 `,`;
  }

  tr > *:last-child {
    text-align: right;
  }
`])),e=>{let{theme:t}=e;return ye(t.sanity.space[2])},e=>{let{theme:t}=e;return ye(t.sanity.space[1])},e=>{let{theme:t}=e;return ye(t.sanity.space[1])}),tjn=P(U)(zpe||(zpe=FC([`
  min-height: 35px;
`]))),Vpe=e=>{const t=e.totalCount-e.references.length;return t?l.jsxs(qt,{space:2,children:[l.jsxs(L,{size:1,muted:!0,children:[t," other reference",t===1?"":"s"," not shown"," "]}),l.jsx(at,{portal:!0,placement:"top",content:l.jsx(Qr,{width:0,children:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"We can't show metadata about these references because no token with access to the datasets they are in was found."})})}),children:l.jsx(L,{size:1,muted:!0,children:l.jsx(km,{})})})]}):null};function njn(e){let{crossDatasetReferences:t,internalReferences:n,documentTitle:r,totalCount:o,action:i,datasetNames:s,hasUnknownDatasetNames:a,onReferenceLinkClick:c}=e;const u=_n(),d=Wo(),f=h.useCallback(y=>{const x=u.get(y._type);return x?l.jsx(Z5n,{type:x,value:y,onClick:c}):l.jsx(M,{padding:2,children:l.jsx(kh,{icon:Al,title:"Preview Unavailable",subtitle:"ID: ".concat(y._id),layout:"default"})})},[u,c]);if((n==null?void 0:n.totalCount)===0&&(t==null?void 0:t.totalCount)===0)return l.jsxs(L,{as:"p",children:["Are you sure you want to ",i," ",l.jsxs("strong",{children:["“",r,"”"]}),"?"]});const p=t.totalCount===1?"1 document":"".concat(t.totalCount.toLocaleString()," documents"),m=[...s,...a?["unavailable"]:[]],v=m.length===1?"another dataset":"".concat(m.length," datasets");let g="Dataset".concat(m.length===1?"":"s",": ").concat(m.join(", "));return a&&m.length===1&&(g="Unavailable dataset"),l.jsxs(ee,{children:[l.jsx(ee,{padding:3,radius:2,tone:"caution",marginBottom:4,flex:"none",children:l.jsxs(U,{children:[l.jsx(L,{"aria-hidden":"true",size:1,children:l.jsx(Mr,{})}),l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(L,{size:1,children:o===1?l.jsxs(l.Fragment,{children:["1 document refers to “",r,"”"]}):l.jsxs(l.Fragment,{children:[o.toLocaleString()," documents refer to “",r,"”"]})})})]})}),l.jsx(M,{flex:"none",marginBottom:4,children:l.jsxs(L,{children:["You may not be able to ",i," “",r,"” because the following documents refer to it:"]})}),l.jsx(ee,{radius:2,shadow:1,marginBottom:4,flex:"auto",children:l.jsxs(U,{direction:"column",children:[n.totalCount>0&&l.jsxs(oe,{as:"ul",padding:2,space:3,"data-testid":"internal-references",children:[n==null?void 0:n.references.map(y=>l.jsx(M,{as:"li",children:f(y)},y._id)),n.totalCount>n.references.length&&l.jsx(M,{as:"li",padding:3,children:l.jsx(Vpe,{...n})})]}),t.totalCount>0&&l.jsxs(Q5n,{"data-testid":"cross-dataset-references",style:{borderTop:n.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[l.jsx(J5n,{children:l.jsx(ee,{as:"a",margin:2,radius:2,shadow:1,paddingY:1,children:l.jsxs(U,{align:"center",margin:2,children:[l.jsx(M,{marginLeft:3,marginRight:4,children:l.jsx(L,{size:3,children:l.jsx(v6,{})})}),l.jsxs(U,{marginRight:4,direction:"column",children:[l.jsx(M,{marginBottom:2,children:l.jsxs(L,{children:[p," in ",v]})}),l.jsx(M,{children:l.jsx(L,{title:g,textOverflow:"ellipsis",size:1,muted:!0,children:g})})]}),l.jsx(W$e,{children:l.jsx(L,{muted:!0,children:l.jsx(tl,{})})})]})})}),l.jsxs(M,{overflow:"auto",paddingBottom:2,paddingX:2,children:[l.jsxs(ejn,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:l.jsx(Vt,{muted:!0,size:0,style:{minWidth:"5rem"},children:"Project ID"})}),l.jsx("th",{children:l.jsx(Vt,{muted:!0,size:0,children:"Dataset"})}),l.jsx("th",{children:l.jsx(Vt,{muted:!0,size:0,children:"Document ID"})})]})}),l.jsx("tbody",{children:t.references.filter(y=>"projectId"in y).map((y,x)=>{let{projectId:b,datasetName:w,documentId:C}=y;return l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx(L,{size:1,children:b})}),l.jsx("td",{children:l.jsx(L,{size:1,children:w||"unavailable"})}),l.jsx("td",{children:l.jsxs(tjn,{align:"center",gap:2,justify:"flex-end",children:[l.jsx(L,{textOverflow:"ellipsis",size:1,children:C||"unavailable"}),C&&l.jsx($En,{text:C,onCopy:()=>{d.push({title:"Copied document ID to clipboard!",status:"success"})},children:l.jsx(se,{title:"Copy ID to clipboard",mode:"bleed",icon:Vu,fontSize:0})})]})})]},"".concat(C,"-").concat(x))})})]}),l.jsx(M,{padding:2,children:l.jsx(Vpe,{...t})})]})]})]})}),l.jsx(M,{flex:"none",children:l.jsxs(L,{children:["If you ",i," this document, documents that refer to it will no longer be able to access it."]})})]})}var Hpe=Object.freeze,rjn=Object.defineProperty,Y$e=(e,t)=>Hpe(rjn(e,"raw",{value:Hpe(t||e.slice())})),Upe,Wpe;const ojn=P(M).attrs({padding:4})(Upe||(Upe=Y$e([`
  box-sizing: border-box;
`]))),ijn=P(U).attrs({align:"center",direction:"column",justify:"center"})(Wpe||(Wpe=Y$e([`
  height: 300px;
`])));function sjn(e){let{id:t,type:n,action:r="delete",onCancel:o,onConfirm:i}=e;const s="deletion-confirmation-".concat(h.useId()),{internalReferences:a,crossDatasetReferences:c,isLoading:u,totalCount:d,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m}=W5n(t),v="".concat(r.substring(0,1).toUpperCase()).concat(r.substring(1)),g=l.jsx(z$e,{document:h.useMemo(()=>({_id:t,_type:n}),[t,n])}),y=!u;return l.jsx(Li,{width:1,id:s,header:"".concat(v," document?"),footer:l.jsxs(Qt,{columns:y?2:1,gap:2,paddingX:4,paddingY:3,children:[l.jsx(se,{mode:"ghost",onClick:o,text:"Cancel"}),y&&l.jsx(se,{"data-testid":"confirm-delete-button",text:d>0?"".concat(v," anyway"):"".concat(v," now"),tone:"critical",onClick:i})]}),onClose:o,onClickOutside:o,children:l.jsx(ojn,{children:c&&a&&!u?l.jsx(njn,{crossDatasetReferences:c,internalReferences:a,documentTitle:g,isLoading:u,totalCount:d,action:r,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m,onReferenceLinkClick:o}):l.jsxs(ijn,{"data-testid":"loading-container",children:[l.jsx(ur,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Looking for referring documents…"})})]})})})}function q$e(e){const t=h.useId(),[n,r]=h.useState(null),o=h.useCallback(()=>r(null),[]);return n?l.jsx(Li,{id:"dialog-error-".concat(t),"data-testid":"confirm-delete-error-dialog",header:"Error",footer:l.jsx(U,{paddingX:4,paddingY:3,direction:"column",children:l.jsx(se,{mode:"ghost",text:"Retry",onClick:o})}),onClose:e.onCancel,children:l.jsx(M,{padding:4,children:l.jsx(L,{children:"An error occurred while loading referencing documents."})})}):l.jsx(L0,{onCatch:r,children:l.jsx(sjn,{...e})})}const ajn={constrainSize:!0,placement:"left-start",portal:!0};function J5(e){const{disabled:t,isAfterGroup:n,node:r}=e;return r.type==="divider"?l.jsx(Ir,{}):r.type==="group"?r.children.length===0?null:r.expanded?l.jsxs(l.Fragment,{children:[n&&l.jsx(Ir,{}),r.title&&l.jsx(M,{padding:2,paddingBottom:1,children:l.jsx(Vt,{muted:!0,size:0,children:r.title})}),r.children.map((o,i)=>{var s;return l.jsx(J5,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})]}):l.jsxs(l.Fragment,{children:[n&&l.jsx(Ir,{}),l.jsx(w8,{disabled:t,icon:r.icon,popover:ajn,text:r.title,children:r.children.map((o,i)=>{var s;return l.jsx(J5,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})]}):l.jsxs(l.Fragment,{children:[n&&l.jsx(Ir,{}),l.jsx(ljn,{disabled:t,node:r})]})}function ljn(e){const{node:t}=e;return t.intent?l.jsx(ujn,{...e,intent:t.intent}):l.jsx(cjn,{...e})}function cjn(e){var t;const{disabled:n,node:r}=e,o=typeof r.disabled=="object"&&l.jsx(L,{size:1,children:r.disabled.reason});return l.jsx(bC,{content:o,placement:"left",children:l.jsx(Ve,{disabled:n||!!r.disabled,hotkeys:(t=r.hotkey)==null?void 0:t.split("+"),icon:r.icon,iconRight:r.iconRight||r.selected&&sa,onClick:r.onAction,pressed:r.selected,text:r.title,tone:r.tone})})}function ujn(e){var t;const{disabled:n,intent:r,node:o}=e,i=typeof o.disabled=="object"&&l.jsx(L,{size:1,children:o.disabled.reason}),s=Uw({intent:r.type,params:r.params}),a=h.useCallback(c=>{s.onClick(c),o.onAction()},[s,o]);return l.jsx(bC,{content:i,placement:"left",children:l.jsx(Ve,{as:"a",disabled:n||!!o.disabled,hotkeys:(t=o.hotkey)==null?void 0:t.split("+"),href:s.href,icon:o.icon,iconRight:o.selected?sa:void 0,onClick:a,pressed:o.selected,text:o.title,tone:o.tone})})}const djn={constrainSize:!0,placement:"bottom",portal:!0};function OF(e,t){return e.some(n=>n.type==="item"&&n.tone===t||n.type==="group"&&OF(n.children,t))}function G$e(e){const{nodes:t}=e,n=h.useId(),r=OF(t,"critical"),o=OF(t,"caution");return l.jsx(en,{button:l.jsx(Eh,{icon:Ao,mode:"bleed",title:"Show menu",tone:r?"critical":o?"caution":void 0}),id:n,menu:l.jsx(Bt,{children:t.map((i,s)=>{var a;const c=((a=t[s-1])==null?void 0:a.type)==="group";return l.jsx(J5,{isAfterGroup:c,node:i},i.key)})}),popover:djn})}const fjn=!1,Bv=51,Nv=Bv*4,K$e=h.createContext(null);var Ype=Object.freeze,hjn=Object.defineProperty,pjn=(e,t)=>Ype(hjn(e,"raw",{value:Ype(t||e.slice())})),qpe;const mjn=P(ss)(qpe||(qpe=pjn([`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`])));function gjn(e){let{disabled:t,element:n}=e;const{resize:r}=C1(),[o,i]=h.useState(!1),s=h.useCallback(a=>{if(!n)return;i(!0),a.preventDefault();const c=a.pageX;r("start",n,0);const u=f=>{f.preventDefault();const p=f.pageX-c;r("move",n,p)},d=f=>{f.preventDefault(),i(!1),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),r("end",n,0)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},[n,r]);return l.jsx(mjn,{"data-disabled":t?"":void 0,"data-dragging":o?"":void 0,onMouseDown:s})}var Gpe=Object.freeze,vjn=Object.defineProperty,yjn=(e,t)=>Gpe(vjn(e,"raw",{value:Gpe(t||e.slice())})),Kpe;const bjn=P(ee)(Kpe||(Kpe=yjn([`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`]))),FD=h.forwardRef(function(t,n){var r,o,i;const{children:s,currentMinWidth:a,currentMaxWidth:c,flex:u=1,id:d,minWidth:f,maxWidth:p,selected:m=!1,...v}=t,[g,y]=h.useState(null),{collapse:x,collapsed:b,expand:w,expandedElement:C,mount:_,panes:S}=C1(),E=S.find(z=>z.element===g),j=E&&S.indexOf(E),k=typeof j=="number"?S[j+1]:void 0,T=j===S.length-1,A=b?!1:(E==null?void 0:E.collapsed)||!1,D=(k==null?void 0:k.collapsed)||!1,I=cr(n),O=(r=E==null?void 0:E.flex)!=null?r:u,$=(o=E==null?void 0:E.currentMinWidth)!=null?o:a,R=(i=E==null?void 0:E.currentMaxWidth)!=null?i:c,V=h.useCallback(z=>{y(z),I.current=z},[I]);h.useEffect(()=>{if(g)return _(g,{currentMinWidth:a,currentMaxWidth:c,flex:u,id:d,minWidth:f,maxWidth:p})},[a,c,u,d,f,p,_,g]);const N=h.useCallback(()=>{g&&x(g)},[x,g]),W=h.useCallback(()=>{g&&w(g)},[w,g]),q=h.useMemo(()=>({collapse:N,collapsed:b?!1:A,expand:W,index:j,isLast:T,rootElement:g}),[A,N,W,T,b,j,g]),H=h.useMemo(()=>{if(!b)return A?Bv:$===0||T?f||Nv:$||f||Nv},[A,$,T,b,f]),Y=h.useMemo(()=>{if(A)return Bv;if(!(b&&T))return T?p?R??p:void 0:R??p},[A,R,T,b,p]),X=b&&!T,B=h.useMemo(()=>!T&&!b&&l.jsx(ad,{zOffset:"paneResizer",children:l.jsx(gjn,{disabled:A||D,element:g})}),[A,T,b,D,g]),K=h.useMemo(()=>({flex:O,minWidth:H,maxWidth:Y===1/0?void 0:Y}),[O,H,Y]);return l.jsxs(l.Fragment,{children:[l.jsx(ad,{zOffset:"pane",children:l.jsx(K$e.Provider,{value:q,children:l.jsxs(bjn,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:X,id:d,overflow:b?void 0:"hidden",...v,"data-pane-collapsed":A?"":void 0,"data-pane-index":j,"data-pane-selected":m?"":void 0,ref:V,style:K,children:[fjn,l.jsx(Xu,{element:g,children:!X&&l.jsx(U,{direction:"column",height:"fill",children:s})})]})})}),B]})});function Dh(){const e=h.useContext(K$e);if(!e)throw new Error("Pane: missing context value");return e}var Zpe=Object.freeze,xjn=Object.defineProperty,wjn=(e,t)=>Zpe(xjn(e,"raw",{value:Zpe(t||e.slice())})),Xpe;const Z$e=P(ee)(Xpe||(Xpe=wjn([`
  position: relative;
  outline: none;
`])));Z$e.displayName="PaneContent__root";const LD=h.forwardRef(function(t,n){const{as:r,children:o,overflow:i,padding:s,...a}=t,{collapsed:c}=Dh(),{collapsed:u}=C1();return l.jsx(Z$e,{"data-testid":"pane-content",forwardedAs:r,...a,flex:1,hidden:c,overflow:u?void 0:i,padding:s,ref:n,tone:"inherit",children:o})});var Qpe=Object.freeze,Cjn=Object.defineProperty,X$e=(e,t)=>Qpe(Cjn(e,"raw",{value:Qpe(t||e.slice())})),Jpe,eme;const _jn=P(ss)(Jpe||(Jpe=X$e([`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),Sjn=P(ee)(eme||(eme=X$e([`
  padding-bottom: env(safe-area-inset-bottom);
`]))),Ejn=h.forwardRef(function(t,n){const{children:r,padding:o}=t,{collapsed:i}=Dh();return l.jsx(ad,{zOffset:"paneFooter",children:l.jsx(_jn,{"data-testid":"pane-footer",hidden:i,ref:n,children:l.jsx(Sjn,{tone:"inherit",children:l.jsx(M,{padding:o,children:r})})})})});var tme=Object.freeze,kjn=Object.defineProperty,_1=(e,t)=>tme(kjn(e,"raw",{value:tme(t||e.slice())})),nme,rme,ome,ime,sme,ame;const jjn=P(ss)(nme||(nme=_1([`
  line-height: 0;
  position: sticky;
  top: 0;

  &:not([data-collapsed]):after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),Tjn=P(U)(rme||(rme=_1([`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`]))),Ajn=P(ee)(e=>{let{theme:t}=e;const{fg:n,bg:r}=t.sanity.color.card.enabled;return he(ome||(ome=_1([`
    background-color: `,`;

    [data-ui='Text'] {
      color: `,`;
    }
  `])),r,n)}),Djn=P(Pi)(ime||(ime=_1([`
  width: 66%;
  max-width: 175px;
`]))),Ijn=P(L)(sme||(sme=_1([`
  cursor: default;
  outline: none;
`]))),Ojn=P(M)(e=>{let{theme:t}=e;const{color:n,space:r}=t.sanity;return he(ame||(ame=_1([`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: `,`px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, `,`, var(--card-bg-color));
      width: `,`px;
      pointer-events: none;
    }
  `])),r[3],Dt(n.base.bg,0),r[3])}),rV=h.forwardRef(function(t,n){const{actions:r,backButton:o,contentAfter:i,loading:s,subActions:a,tabs:c,tabIndex:u,title:d}=t,{collapse:f,collapsed:p,expand:m,rootElement:v}=Dh(),g=fh(v||null),y=h.useMemo(()=>({width:p?(g==null?void 0:g.height)||window.innerHeight:void 0}),[p,g]),x=h.useCallback(()=>{p||f()},[f,p]),b=h.useCallback(()=>{p&&m()},[p,m]),w=!!(!p&&(c||a));return l.jsx(Qu,{zOffset:100,children:l.jsx(jjn,{"data-collapsed":p?"":void 0,"data-testid":"pane-header",ref:n,children:l.jsx(ad,{zOffset:"paneHeader",children:l.jsxs(ee,{"data-collapsed":p?"":void 0,tone:"inherit",children:[l.jsxs(Tjn,{onClick:b,padding:2,sizing:"border",style:y,children:[o&&l.jsx(M,{flex:"none",padding:1,children:o}),l.jsxs(Ajn,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",marginRight:r?1:0,onClick:x,paddingLeft:o?1:3,paddingY:3,tabIndex:u,children:[s&&l.jsx(Djn,{animated:!0,radius:1}),!s&&l.jsx(Ijn,{textOverflow:"ellipsis",weight:"semibold",children:d})]}),r&&l.jsx(U,{align:"center",hidden:p,children:l.jsx(ad,{zOffset:"paneHeader",children:r})})]}),w&&l.jsxs(U,{align:"center",hidden:p,overflow:"auto",paddingBottom:3,paddingX:3,paddingTop:1,children:[l.jsx(Ojn,{flex:1,marginRight:a?3:0,children:c}),a&&a]}),!p&&i&&i]})})})})});function Q$e(e){const{node:t,padding:n}=e;return t.type==="item"?l.jsx(Pjn,{node:t,padding:n}):t.type==="group"?l.jsx($jn,{node:t,padding:n}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',t),null)}function Pjn(e){var t;const{node:n,padding:r}=e;if(n.intent)return l.jsx(Rjn,{...e,intent:n.intent});const o=typeof n.disabled=="object"&&l.jsx(L,{size:1,children:n.disabled.reason});return l.jsx(bC,{content:o,placement:"bottom",children:l.jsx(Eh,{disabled:!!n.disabled,hotkey:(t=n.hotkey)==null?void 0:t.split("+"),icon:n.icon,label:o?void 0:n.title,onClick:n.onAction,padding:r,selected:n.selected,tone:n.tone})})}function Rjn(e){var t;const{intent:n,node:r,padding:o}=e,i=typeof r.disabled=="object"&&l.jsx(L,{size:1,children:r.disabled.reason}),s=Uw({intent:n.type,params:n.params}),a=h.useCallback(c=>{s.onClick(c),r.onAction()},[s,r]);return l.jsx(bC,{content:i,placement:"bottom",children:l.jsx(Eh,{as:"a",disabled:!!r.disabled,hotkey:(t=r.hotkey)==null?void 0:t.split("+"),href:s.href,icon:r.icon,label:i?void 0:r.title,onClick:a,padding:o,selected:r.selected,tone:r.tone})})}function $jn(e){var t;const{node:n,padding:r}=e;return l.jsx(en,{button:l.jsx(Eh,{disabled:n.disabled,icon:(t=n.icon)!=null?t:Al,label:n.title,padding:r}),id:h.useId(),menu:l.jsx(Bt,{children:n.children.map((o,i)=>{var s;return l.jsx(J5,{disabled:!!n.disabled,isAfterGroup:((s=n.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})})}var lme=Object.freeze,Mjn=Object.defineProperty,Fjn=(e,t)=>lme(Mjn(e,"raw",{value:lme(t||e.slice())})),cme;const Ljn=P(ee)(cme||(cme=Fjn([`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`])));function Bjn(e,t,n,r){var o,i;const s={flex:e.left.flex+e.right.flex,width:e.left.width+e.right.width},a=(o=t.minWidth)!=null?o:Nv,c=(i=n.minWidth)!=null?i:Nv,u=Math.min(t.maxWidth||1/0,s.width-c),d=Math.min(n.maxWidth||1/0,s.width-a);let f=a-e.left.width;const p=e.right.width-d;f<p&&(f=p);let m=e.right.width-c;const v=u-e.left.width;m>v&&(m=v);const g=Math.min(Math.max(r,f),m),y=e.left.width+g,x=e.right.width-g,b=y/s.width*s.flex,w=x/s.width*s.flex;return{leftFlex:b,leftW:y,rightFlex:w,rightW:x}}function Njn(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const ume=[];function zjn(e,t){const n=new WeakMap;for(const o of t)n.set(o,Njn(e,o));const r=(o,i)=>{const s=n.get(o)||ume,a=n.get(i)||ume,c=Math.max(s.length,a.length);for(let u=0;u<c;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function Vjn(){const e=[],t=[],n=new WeakMap,r=new Set,o={};let i=null,s=0,a=null,c=new Map,u=!1;function d(b){r.add(b),a===b&&(a=null),x()}function f(b){r.delete(b),a=b,x()}function p(b,w){return n.set(b,{...w,original:w}),t.push(b),i&&zjn(i,t),f(b),()=>{const C=t.indexOf(b);C>-1&&t.splice(C,1),n.delete(b),x()}}function m(b,w,C){var _,S,E,j;const k=t.indexOf(w),T=n.get(w);if(!T)return;const A=t[k+1],D=n.get(A);if(D){if(b==="start"&&(u=!0,o.left={element:w,flex:T.flex||1,width:w.offsetWidth},o.right={element:A,flex:D.flex||1,width:A.offsetWidth},x()),b==="move"&&o.left&&o.right){c=new Map;const{leftW:I,rightW:O,leftFlex:$,rightFlex:R}=Bjn(o,T,D,C);c.set(w,{flex:$,width:I}),c.set(A,{flex:R,width:O}),x()}if(b==="end"){u=!1;const I=c.get(w),O=c.get(A);n.set(w,{...T,currentMinWidth:0,currentMaxWidth:(_=T.maxWidth)!=null?_:1/0,flex:(S=I==null?void 0:I.flex)!=null?S:T.flex}),n.set(A,{...D,currentMinWidth:0,currentMaxWidth:(E=T.maxWidth)!=null?E:1/0,flex:(j=O==null?void 0:O.flex)!=null?j:D.flex}),c=new Map,delete o.left,delete o.right,x()}}}function v(b){i=b}function g(b){s=b,x()}function y(b){return e.push(b),()=>{const w=e.push(b);w>-1&&e.splice(w,1)}}return{collapse:d,expand:f,mount:p,resize:m,setRootElement:v,setRootWidth:g,subscribe:y};function x(){var b,w,C,_;if(!s)return;const S=[];for(const I of t)I!==a&&S.unshift(I);a&&S.unshift(a);const E=new WeakMap,j=S.length,k=S[0],T=(j-1)*Bv;let A=s-T;for(const I of S){const O=n.get(I);if(!O)continue;const $=O.currentMinWidth||O.minWidth||Nv,R=I===k,V=r.has(I),N=$>A,W=R?!1:V||N,q=c.get(I);E.set(I,{element:I,collapsed:W,currentMinWidth:(b=q==null?void 0:q.width)!=null?b:O.currentMinWidth,currentMaxWidth:(w=q==null?void 0:q.width)!=null?w:O.currentMaxWidth,flex:(_=(C=q==null?void 0:q.flex)!=null?C:O.flex)!=null?_:1}),W?A-=Bv:A-=$-Bv}const D=[];for(const I of t){const O=E.get(I);O&&D.push(O)}for(const I of e)I({expandedElement:a||t[t.length-1]||null,panes:D,resizing:u})}}function u6n(e){const{children:t,minWidth:n,onCollapse:r,onExpand:o,...i}=e,s=h.useMemo(()=>Vjn(),[]),[a,c]=h.useState(null),u=fh(a),d=(u==null?void 0:u.width)||0,f=d===void 0||!n?void 0:d<n,[p,m]=h.useState({expandedElement:null,panes:[],resizing:!1});h.useEffect(()=>s.setRootElement(a),[s,a]),h.useEffect(()=>s.setRootWidth(d),[s,d]),h.useEffect(()=>s.subscribe(m),[s]),h.useEffect(()=>{f!==void 0&&(f&&r&&r(),!f&&o&&o())},[f,r,o]);const v=h.useMemo(()=>({collapse:s.collapse,collapsed:f,expand:s.expand,expandedElement:p.expandedElement,mount:s.mount,panes:p.panes,resize:s.resize,resizing:p.resizing}),[f,s,p.expandedElement,p.panes,p.resizing]);return l.jsx(U$e.Provider,{value:v,children:l.jsx(Ljn,{"data-ui":"PaneLayout",...i,"data-collapsed":f?"":void 0,"data-resizing":p.resizing?"":void 0,"data-mounted":d?"":void 0,ref:c,children:t})})}function oV(e){return(e.type==="item"||e.type==="group")&&e.renderAsButton}const J$e=cSt(oV);function eMe(e){var t,n;const{fieldActions:r=[],menuItems:o,menuItemGroups:i}=e,s=[];let a=0;for(let d=0;d<r.length;d+=1){const f=r[d];s.push(tMe(f,"".concat(d,"-").concat(f.type)))}a+=s.length;const c=[];for(const d of i)c.find(p=>p.key===d.id)||c.push({type:"group",key:d.id,children:[],expanded:!0,renderAsButton:!1,title:d.title});const u=[];for(let d=0;d<o.length;d+=1){const f=o[d];let p=f.group&&c.find(m=>m.key===f.group);f.group&&!p&&(p={type:"group",key:f.group,expanded:!0,icon:f.icon,title:f.group,children:[],renderAsButton:!1},c.push(p)),p?p.children.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(t=f.showAsAction)!=null?t:!1,selected:f.selected,title:f.title,tone:f.tone}):u.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(n=f.showAsAction)!=null?n:!1,selected:f.selected,title:f.title,tone:f.tone})}return[...u,...c,...s]}function tMe(e,t){var n,r,o;return e.type==="divider"?{type:"divider",key:t}:e.type==="group"?{type:"group",key:t,children:e.children.map((i,s)=>tMe(i,"".concat(t,"-").concat(s,"-").concat(i.type))),disabled:e.disabled,expanded:(n=e.expanded)!=null?n:!0,icon:e.icon,title:e.title,renderAsButton:(r=e.renderAsButton)!=null?r:!1}:{type:"item",key:t,intent:e.intent,disabled:e.disabled,icon:e.icon,iconRight:e.iconRight,onAction:e.onAction,renderAsButton:(o=e.renderAsButton)!=null?o:!1,selected:e.selected,title:e.title,tone:e.tone}}const Hjn=h.forwardRef(function(t,n){const{intent:r,...o}=t,i=h.useMemo(()=>h.forwardRef(function(a,c){return l.jsx(Nm,{...a,intent:r.type,params:r.params,ref:c})}),[r]);return t.disabled?l.jsx(se,{...t,as:"a",role:"link","aria-disabled":"true"}):l.jsx(se,{...o,as:i,"data-as":"a",ref:n})});function M3(e){let{reveal:t,loading:n,children:r}=e;const o=Yo();return t?l.jsx(at,{content:n?l.jsx(M,{padding:2,children:l.jsx(L,{children:"Loading…"})}):l.jsx(Vc,{currentUser:o}),portal:!0,children:l.jsx("div",{children:r})}):l.jsx(l.Fragment,{children:r})}const Ujn={constrainSize:!0,placement:"bottom",portal:!0},dme=(e,t,n)=>{var r;const o=(r=t.find(s=>s.id===n.templateId))==null?void 0:r.schemaType;if(!o)return null;const i={template:n.templateId,type:o,id:n.initialDocumentId};return{type:"create",params:n.parameters?[i,n.parameters]:i}};function Wjn(e){let{templateItems:t}=e;const n=_n(),r=x1(),[o,i]=Wz({templateItems:t}),s=h.useMemo(()=>!i&&(o==null?void 0:o.every(c=>!c.granted)),[i,o]),a=h.useMemo(()=>o?o.reduce((c,u)=>(c[u.id]=u,c),{}):{},[o]);if(s)return l.jsx(M3,{reveal:!0,loading:i,children:l.jsx(se,{"aria-label":"Insufficient permissions",icon:Ap,mode:"bleed",disabled:!0,"data-testid":"action-intent-button"})});if(t.length===1){const c=t[0],u=a[c.id],d=!(u!=null&&u.granted),f=dme(n,r,c);return f?l.jsx(M3,{reveal:d,loading:i,children:l.jsx(Hjn,{"aria-label":c.title,icon:c.icon||Ap,intent:f,mode:"bleed",disabled:d,"data-testid":"action-intent-button"})}):null}return l.jsx(en,{button:l.jsx(se,{icon:Ap,mode:"bleed","data-testid":"multi-action-intent-button"}),id:"create-menu",menu:l.jsxs(Bt,{children:[l.jsx(M,{paddingX:3,paddingTop:3,paddingBottom:2,children:l.jsx(Vt,{muted:!0,children:"Create"})}),t.map((c,u)=>{const d=a[c.id],f=!(d!=null&&d.granted),p=dme(n,r,c),m=r.find(g=>g.id===c.templateId);if(!m||!p)return null;const v=h.forwardRef((g,y)=>f?l.jsx("button",{type:"button",disabled:!0,...g,ref:y}):l.jsx(Nm,{...g,intent:p.type,params:p.params,ref:y}));return v.displayName="Link",l.jsx(M3,{reveal:f,loading:i,children:l.jsx(Ve,{as:v,"data-as":f?"button":"a",text:c.title||m.title,"aria-label":f?"Insufficient permissions":c.title||m.title,disabled:f,"data-testid":"action-intent-button-".concat(u)})},c.id)})]}),popover:Ujn})}function Yjn(e){return e!=null}const qjn=e=>{const t=r=>typeof r!="object"||!r?r:Array.isArray(r)?r.map(t):Object.entries(r).sort((o,i)=>{let[s]=o,[a]=i;return s.localeCompare(a,"en")});return JSON.stringify(t((r=>JSON.parse(JSON.stringify(r)))(e)))},Gjn=h.memo(function(t){const{initialValueTemplateItems:n=hn,menuItems:r=hn,menuItemGroups:o=hn,actionHandlers:i=qGt}=t,s=x1(),a=h.useCallback(m=>{if(typeof m.action=="string"&&!(m.action in i))return console.warn("No handler for action:",m.action),!1;const v=typeof m.action=="function"?m.action:typeof m.action=="string"?i[m.action]:null;return v?(v(m.params),!0):!1},[i]),c=h.useMemo(()=>eMe({actionHandler:a,menuItemGroups:o,menuItems:r.filter(m=>{var v;return((v=m.intent)==null?void 0:v.type)!=="create"})}),[a,o,r]),u=h.useMemo(()=>c.filter(oV),[c]),d=h.useMemo(()=>c.filter(J$e),[c]),f=h.useMemo(()=>r.map((m,v)=>{var g;if(((g=m.intent)==null?void 0:g.type)!=="create")return null;const{params:y}=m.intent;if(!y)return null;const x=Array.isArray(y)?y[0]:y,b=Array.isArray(y)?y[1]:void 0,w=x.template||x.type;if(!w)return null;const C=s.find(S=>S.id===w);if(!C)return null;const _=x.id;return{item:m,template:C,templateParams:b,menuItemIndex:v,initialDocumentId:_}}).filter(Yjn).map(m=>{let{initialDocumentId:v,item:g,template:y,menuItemIndex:x,templateParams:b}=m;return{id:"menuItem".concat(x),initialDocumentId:v,templateId:y.id,type:"initialValueTemplateItem",title:g.title||y.title,icon:g.icon,description:y.description,parameters:b,schemaType:y.schemaType}}),[r,s]),p=h.useMemo(()=>Qf([...f,...n],m=>qjn([m.initialDocumentId,m.templateId,m.parameters])),[f,n]);return l.jsxs(U,{gap:1,children:[p.length>0&&l.jsx(Wjn,{templateItems:p}),u.map(m=>l.jsx(Q$e,{node:m},m.key)),d.length>0&&l.jsx(G$e,{nodes:d})]})}),Kjn=(e,t)=>({title:l.jsxs("em",{children:["No schema found for type ",l.jsx("code",{children:t})]}),subtitle:l.jsxs("em",{children:["Document: ",l.jsx("code",{children:e})]}),media:()=>l.jsx(Mr,{})});function Zjn(e){const{layout:t,value:n}=e;return l.jsx(kh,{...Kjn(n._id,n._type),layout:t})}function fme(e,t,n){return e===!1?!1:e||t&&t.icon||n||!1}function Xjn(e){const{icon:t,id:n,layout:r="default",pressed:o,schemaType:i,selected:s,title:a,value:c,margin:u,marginBottom:d,marginTop:f}=e,p=_n(),m=Vi(),{ChildLink:v}=ru(),g=$C(n),y=!!(i&&i.name&&p.get(i.name)),[x,b]=h.useState(!1),w=h.useMemo(()=>c&&xFe(c)?!i||!y?l.jsx(Zjn,{value:c}):l.jsx(H$e,{documentPreviewStore:m,icon:fme(t,i,Nf),layout:r,schemaType:i,value:c,presence:g}):l.jsx(kh,{status:l.jsx(L,{muted:!0,children:l.jsx(Uc,{})}),icon:fme(t,i,M1e),layout:r,title:a}),[m,y,t,r,i,a,c,g]),C=h.useMemo(()=>function(E){return l.jsx(v,{...E,childId:n})},[v,n]),_=h.useCallback(S=>{if(S.metaKey){b(!1);return}b(!0)},[]);return h.useEffect(()=>b(!1),[s]),l.jsx(Np,{__unstable_focusRing:!0,as:C,"data-as":"a","data-ui":"PaneItem",margin:u,marginBottom:d,marginTop:f,onClick:_,padding:2,pressed:o,radius:2,selected:s||x,sizing:"border",tabIndex:-1,tone:"inherit",children:w})}const nMe=h.createContext(null);function hr(){const e=h.useContext(nMe);if(!e)throw new Error("DocumentPane: missing context value");return e}const Qjn={NOTHING_TO_DELETE:"This document doesn’t yet exist or is already deleted"},rMe=e=>{let{id:t,type:n,draft:r,onComplete:o}=e;const{setIsDeleting:i}=hr(),{delete:s}=nc(t,n),[a,c]=h.useState(!1),[u,d]=h.useState(!1),f=h.useCallback(()=>{d(!1),o()},[o]),p=h.useCallback(()=>{c(!0),d(!1),i(!0),s.execute(),o()},[s,o,i]),m=h.useCallback(()=>{d(!0)},[]),[v,g]=Ah({id:t,type:n,permission:"delete"}),y=Yo();return!g&&!(v!=null&&v.granted)?{tone:"critical",icon:po,disabled:!0,label:"Delete",title:l.jsx(Vc,{operationLabel:"delete this document",currentUser:y})}:{tone:"critical",icon:po,disabled:a||!!s.disabled||g,title:s.disabled&&Qjn[s.disabled]||"",label:a?"Deleting…":"Delete",shortcut:"Ctrl+Alt+D",onHandle:m,dialog:u&&{type:"custom",component:l.jsx(q$e,{action:"delete",id:(r==null?void 0:r._id)||t,type:n,onCancel:f,onConfirm:p})}}};rMe.action="delete";const Jjn={NO_CHANGES:"This document has no unpublished changes",NOT_PUBLISHED:"This document is not published"},oMe=e=>{let{id:t,type:n,published:r,liveEdit:o,onComplete:i}=e;const{discardChanges:s}=nc(t,n),[a,c]=h.useState(!1),[u,d]=Ah({id:t,type:n,permission:"discardDraft"}),f=Yo(),p=h.useCallback(()=>{s.execute(),i()},[s,i]),m=h.useCallback(()=>{c(!0)},[]),v=h.useMemo(()=>a&&{type:"confirm",tone:"critical",onCancel:i,onConfirm:p,message:l.jsx(l.Fragment,{children:"Are you sure you want to discard all changes since last published?"})},[p,a,i]);return!r||o?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:Uu,disabled:!0,label:"Discard changes",title:l.jsx(Vc,{operationLabel:"discard changes in this document",currentUser:f})}:{tone:"critical",icon:Uu,disabled:!!s.disabled||d,title:s.disabled&&Jjn[s.disabled]||"",label:"Discard changes",onHandle:m,dialog:v}};oMe.action="discardChanges";const eTn={NOTHING_TO_DUPLICATE:"This document doesn’t yet exist so there‘s nothing to duplicate"},iMe=e=>{let{id:t,type:n,onComplete:r}=e;const{duplicate:o}=nc(t,n),{navigateIntent:i}=Gl(),[s,a]=h.useState(!1),[c,u]=Ah({id:t,type:n,permission:"duplicate"}),d=Yo(),f=h.useCallback(()=>{const p=wd();a(!0),o.execute(p),i("edit",{id:p,type:n}),r()},[o,i,r,n]);return!u&&!(c!=null&&c.granted)?{icon:Vu,disabled:!0,label:"Duplicate",title:l.jsx(Vc,{operationLabel:"duplicate this document",currentUser:d})}:{icon:Vu,disabled:s||!!o.disabled||u,label:s?"Duplicating…":"Duplicate",title:o.disabled&&eTn[o.disabled]||"",onHandle:f}};iMe.action="duplicate";const iV=e=>{let{id:t,type:n,revision:r,onComplete:o}=e;const{restore:i}=nc(t,n),s=ZRe(t,n),{navigateIntent:a}=Gl(),c=h.useRef(s),[u,d]=h.useState(!1),f=h.useCallback(()=>{i.execute(r),o()},[i,r,o]);h.useEffect(()=>{!s||s===c.current||(s.type==="success"&&s.op==="restore"&&a("edit",{id:t,type:n}),c.current=s)},[s,t,a,n]);const p=h.useCallback(()=>{d(!0)},[]),m=h.useMemo(()=>u?{type:"confirm",tone:"critical",onCancel:o,onConfirm:f,message:l.jsx(l.Fragment,{children:"Are you sure you want to restore this document?"})}:null,[f,u,o]),v=r==="@initial";return r===void 0?null:{label:"Restore",color:"primary",onHandle:p,title:v?"You can't restore to the initial version":"Restore to this version",icon:S6,dialog:m,disabled:v}};iV.action="restore";const tTn={LIVE_EDIT_ENABLED:"Cannot publish since liveEdit is enabled for this document type",ALREADY_PUBLISHED:"Already published",NO_CHANGES:"No unpublished changes",NOT_READY:"Operation not ready"};function nTn(e,t){return e==="ALREADY_PUBLISHED"&&t?l.jsx(l.Fragment,{children:l.jsxs("span",{children:["Published ",t]})}):tTn[e]}const sMe=e=>{var t;const{id:n,type:r,liveEdit:o,draft:i,published:s}=e,[a,c]=h.useState(null),{publish:u}=nc(n,r),d=Lz(n,r),f=QRe(n,r),{changesOpen:p,onHistoryOpen:m,documentId:v,documentType:g}=hr(),y=Fz(v,g),x=((y==null?void 0:y.draft)||(y==null?void 0:y.published)||{})._rev,b=d.validation.some(wFe),[w,C]=h.useState(!1),_=f.isSyncing,S=d.isValidating,[E,j]=Ah({id:n,type:r,permission:"publish"}),k=Yo(),T=Qo((s==null?void 0:s._updatedAt)||"",{minimal:!0,agoSuffix:!0}),A=u.disabled?nTn(u.disabled,T)||"":b?"There are validation errors that need to be fixed before this document can be published":"",D=!!i,I=h.useCallback(()=>{u.execute(),c("publishing")},[u]);h.useEffect(()=>{const R=d.isValidating===!1&&d.revision!==x;!w||_||!R||(b||I(),C(!1))},[_,I,b,w,d.revision,x,S,d.isValidating]),h.useEffect(()=>{const R=a==="publishing"&&!D;R&&p&&m();const V=R?"published":null,W=setTimeout(()=>{c(V)},R?200:4e3);return()=>clearTimeout(W)},[p,a,D,m]);const O=h.useCallback(()=>{f.isSyncing||d.isValidating||d.revision!==x?C(!0):I()},[f.isSyncing,d.isValidating,d.revision,x,I]);if(o)return{tone:"positive",label:"Publish",title:"Live Edit is enabled for this content type and publishing happens automatically as you make changes",disabled:!0};if(!j&&!(E!=null&&E.granted))return{tone:"positive",label:"Publish",title:l.jsx(Vc,{operationLabel:"publish this document",currentUser:k}),disabled:!0};const $=!!(w||(t=y==null?void 0:y.transactionSyncLock)!=null&&t.enabled||a==="publishing"||a==="published"||b||u.disabled);return{disabled:$||j,tone:"positive",label:a==="published"?"Published":w||a==="publishing"?"Publishing…":"Publish",icon:a==="published"?sa:D0,title:w?"Waiting for tasks to finish before publishing":a==="published"||a==="publishing"?null:A,shortcut:$||w?null:"Ctrl+Alt+P",onHandle:O}};sMe.action="publish";const rTn={NOT_PUBLISHED:"This document is not published"},aMe=e=>{let{id:t,type:n,draft:r,onComplete:o,liveEdit:i}=e;const{unpublish:s}=nc(t,n),[a,c]=h.useState(!1),[u,d]=Ah({id:t,type:n,permission:"unpublish"}),f=Yo(),p=h.useCallback(()=>{c(!1),o()},[o]),m=h.useCallback(()=>{c(!1),s.execute(),o()},[o,s]),v=h.useMemo(()=>a?{type:"dialog",onClose:o,content:l.jsx(q$e,{id:(r==null?void 0:r._id)||t,type:n,action:"unpublish",onCancel:p,onConfirm:m})}:null,[r,t,p,m,a,o,n]);return i?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:pE,label:"Unpublish",title:l.jsx(Vc,{operationLabel:"unpublish this document",currentUser:f}),disabled:!0}:{tone:"critical",icon:pE,disabled:!!s.disabled||d,label:"Unpublish",title:s.disabled?rTn[s.disabled]:"",onHandle:()=>c(!0),dialog:v}};aMe.action="unpublish";const oTn=e=>{const{liveEdit:t}=e;return t?{label:"Live",color:"danger"}:null},iTn=!1,lMe={},d6n=Symbol("LOADING_PANE"),cMe="documentPanelPortalElement",uMe={activePanes:[]};function f6n(e){uMe.activePanes=e}function sTn(e,t,n,r){var o;const i=(n==null?void 0:n.panes)||[],s=uMe.activePanes||[],a=t.id||wd(),c=e==="create"&&t.template;for(let u=s.length-1;u>=0;u--){const d=s[u];if(typeof d=="object"&&((o=d.canHandleIntent)!=null&&o.call(d,e,t,{pane:d,index:u})||d.type==="documentList"&&d.schemaTypeName===t.type&&d.options.filter==="_type == $type")){const f=c?{template:t.template}:lMe;return{panes:i.slice(0,u).concat([[{id:a,params:f,payload:r}]])}}}return{intent:e,params:t,payload:r}}const aTn={};function lTn(e){try{return JSON.parse(decodeURIComponent(e))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function cTn(e){return(e||[]).map(t=>t.map(bTn).join("|")).map(encodeURIComponent).join(";")}function uTn(e){return JSON.stringify(e)}function dTn(e){return xTn(decodeURIComponent(e))}function fTn(e){return cTn(e)}const hTn=Ci.create("/",[Ci.intents("/intent"),Ci.create("/edit/:type/:editDocumentId",[Ci.create({path:"/:params",transform:{params:{toState:lTn,toPath:uTn}}})]),Ci.create({path:"/:panes",children:[Ci.create("/:action",Ci.create("/:legacyEditDocumentId"))],transform:{panes:{toState:dTn,toPath:fTn}}})]),pTn=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,mTn=e=>/^[a-z0-9]+=[^=]+/i.test(e),gTn=e=>/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e),dMe=["view","since","rev","inspect","comment"],vTn=Boolean;function yTn(e,t){return e.reduce((n,r)=>{if(mTn(r)){const o=r.slice(0,r.indexOf("=")),i=r.slice(o.length+1);n.params={...n.params,[decodeURIComponent(o)]:decodeURIComponent(i)}}else gTn(r)?n.payload=CTn(r):console.warn("Unknown pane segment: %s - skipping",r);return n},{...t,params:aTn,payload:void 0})}function bTn(e,t,n){const{payload:r,params:o={},id:i}=e,[s]=n,a=e===s,c=t!==0&&i===s.id,u=typeof r>"u"?void 0:btoa(JSON.stringify(r)),d=Object.entries(o).filter(f=>{var p;const[m,v]=f;if(!v)return!1;if(a)return!0;const g=(p=s.params)==null?void 0:p[m];return!(v===g&&!dMe.includes(m))}).map(f=>{let[p,m]=f;return"".concat(encodeURIComponent(p),"=").concat(encodeURIComponent(m))});return[c?"":i].concat([d.length>0&&d,u].filter(vTn).flat()).join(",")||","}function xTn(e){return e.indexOf(",{")!==-1?wTn(e):e.split(";").map(t=>{const[n,...r]=t.split("|").map(o=>{const[i,...s]=o.split(",");return yTn(s,{id:i})});return[n,...r.map(o=>({...n,...o,id:o.id||n.id,params:{...Mi(n.params,dMe),...o.params},payload:o.payload||n.payload}))]}).filter(t=>t.length>0)}function wTn(e){const t=[];let n=e;for(;n.length;){const[r,o,i]=n.match(pTn)||[];if(!r){n=n.slice(1);continue}const s=i&&fMe(i);t.push({id:o,payload:s}),n=n.slice(r.length)}return[t]}function fMe(e){try{return JSON.parse(e)}catch(t){console.warn("Failed to parse parameters: ".concat(t.message));return}}function CTn(e){return e?fMe(atob(e)):void 0}const _Tn=320,STn=600,PF=320,ETn=540,kTn={},RF="inspect:",jTn=[{id:"inspectors"},{id:"links"}],$F="sanity/desk/history",TTn="sanity/desk/validation",zb="sanity/desk/comments";var hme=Object.freeze,ATn=Object.defineProperty,DTn=(e,t)=>hme(ATn(e,"raw",{value:hme(t||e.slice())})),pme;const mme=P($Ce)(pme||(pme=DTn([`
  svg > ellipse {
    stroke: transparent;
  }
`]))),ITn=/[^\p{Alpha}\p{White_Space}]/gu,OTn=new RegExp("\\p{White_Space}+","u");function PTn(e){const t=e.replace(ITn,"").split(OTn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function BD(e){const{user:t,...n}=e,r=t,o=h.useMemo(()=>PTn((r==null?void 0:r.displayName)||""),[r==null?void 0:r.displayName]);return r?l.jsx(mme,{initials:o,src:r==null?void 0:r.imageUrl,title:r==null?void 0:r.displayName,...n}):l.jsx(mme,{...n})}const hMe=25,RTn={minWidth:hMe};function sE(){return l.jsx("div",{style:RTn})}var gme=Object.freeze,$Tn=Object.defineProperty,MTn=(e,t)=>gme($Tn(e,"raw",{value:gme(t||e.slice())})),vme;const FTn={open:500,close:0},yme=P.span(e=>{let{theme:t}=e;var n,r,o;const{regular:i}=(n=t.sanity.fonts)==null?void 0:n.text.weights,{hovered:s}=(r=t.sanity.color)==null?void 0:r.card,{bg:a}=((o=t.sanity.color.selectable)==null?void 0:o.caution.pressed)||{};return he(vme||(vme=MTn([`
    font-weight: `,`;
    color: var(--card-link-fg-color);
    border-radius: 2px;
    background-color: `,`;
    padding: 1px;
    box-sizing: border-box;

    &[data-active='true'] {
      background-color: `,`;
    }
  `])),i,s.bg,a)});function pMe(e){const{selected:t,userId:n}=e,[r,o]=w1(n),i=Yo();return!r||o?l.jsx(yme,{children:"@Loading"}):l.jsx(at,{portal:!0,open:t,delay:FTn,content:l.jsxs(U,{align:"center",padding:2,gap:2,children:[l.jsx(U,{children:l.jsx(BD,{user:r})}),l.jsx(L,{size:1,children:r.displayName})]}),children:l.jsxs(yme,{"data-selected":t,"data-active":(i==null?void 0:i.id)===n,children:["@",r.displayName]})})}var bme=Object.freeze,LTn=Object.defineProperty,BTn=(e,t)=>bme(LTn(e,"raw",{value:bme(t||e.slice())})),xme;const NTn=P(L)(xme||(xme=BTn([`
  word-break: break-word;
`])));function Vs(e){const{children:t}=e;return l.jsx(NTn,{size:1,children:t})}var wme=Object.freeze,zTn=Object.defineProperty,VTn=(e,t)=>wme(zTn(e,"raw",{value:wme(t||e.slice())})),Cme;const HTn=P(oe)(()=>he(Cme||(Cme=VTn([`
    & > [data-ui='Text']:not(:first-child) {
      margin-top: 1em; // todo: improve
    }

    & > [data-ui='Text']:has(> span:empty) {
      display: none;
    }
  `])))),UTn=[],WTn={block:{normal:e=>{let{children:t}=e;return l.jsx(Vs,{children:t})},h1:e=>{let{children:t}=e;return l.jsx(Vs,{children:t})},h2:e=>{let{children:t}=e;return l.jsx(Vs,{children:t})},h3:e=>{let{children:t}=e;return l.jsx(Vs,{children:t})},h4:e=>{let{children:t}=e;return l.jsx(Vs,{children:t})},h5:e=>{let{children:t}=e;return l.jsx(Vs,{children:t})},h6:e=>{let{children:t}=e;return l.jsx(Vs,{children:t})},blockquote:e=>{let{children:t}=e;return l.jsx(Vs,{children:t})},code:e=>{let{children:t}=e;return l.jsx(Vs,{children:t})}},list:{bullet:e=>{let{children:t}=e;return t},number:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},checkmarks:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})}},listItem:{bullet:e=>{let{children:t}=e;return l.jsx(Vs,{children:t})},number:e=>{let{children:t}=e;return l.jsx(Vs,{children:t})},checkmarks:e=>{let{children:t}=e;return l.jsx(Vs,{children:t})}},marks:{strong:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},em:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},code:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},underline:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},strikeThrough:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},link:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})}},types:{mention:e=>{var t;return l.jsx(pMe,{userId:(t=e==null?void 0:e.value)==null?void 0:t.userId,selected:!1})}}};function YTn(e){const{blocks:t}=e;return l.jsx(HTn,{children:l.jsx(Ckn,{value:t||UTn,components:WTn})})}const qTn=B0e({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),GTn=B0e({type:"block",name:"block",of:[qTn],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}),KTn=kFe({type:"array",name:"body",of:[GTn]}),ZTn=H9.compile({name:"comments",types:[KTn]}),XTn=ZTn.get("body"),QTn=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:l.jsx("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),JTn=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[l.jsx("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2})]})}),eAn=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"add-comment",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[l.jsx("path",{d:"M12.3368 5.97917H6.89453C5.78996 5.97917 4.89453 6.8746 4.89453 7.97917V13.4881C4.89453 14.5926 5.78996 15.4881 6.89453 15.4881H8.69808V19.2916L12.5016 15.4881H16.207C17.3115 15.4881 18.207 14.5926 18.207 13.4881V11.7158",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18.2081 2.08333V9.87058M14.3145 5.97695H22.1017",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),tAn=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:n,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:l.jsx("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"})})});function mMe(e){const t=h.useRef(e);return h.useMemo(()=>!Ht(t.current,e),[e])}function LC(e){return e?e==null?void 0:e.some(t=>{var n;return oh(t)&&((n=(t==null?void 0:t.children)||[])==null?void 0:n.some(r=>ta(r)?r.text:r.userId))}):!1}const gMe=ie.createContext(null);function nAn(e){const{children:t,expandOnFocus:n=!1,focused:r,focusOnMount:o=!1,mentionOptions:i,onMentionMenuOpenChange:s,value:a,readOnly:c}=e,u=bo(),[d,f]=h.useState(!1),[p,m]=h.useState(""),[v,g]=h.useState(null),y=h.useMemo(()=>LC(a),[a]),x=mMe(a),b=h.useCallback(()=>{c||Se.focus(u)},[u,c]),w=h.useCallback(()=>{f(!1),m(""),g(null)},[]),C=h.useCallback(()=>{f(!0),m(""),f(!0),g(Se.getSelection(u))},[u]),_=h.useCallback(k=>{const T=Se.getSelection(u),A=T?T.focus.offset:0,D=Se.focusChild(u),I=ta(D)&&D||void 0,O=k.inputType==="insertText",$=k.inputType==="deleteContentBackward",R=O&&k.data==="@",V=(I==null?void 0:I.text.substring(0,A).lastIndexOf("@"))||0,N=(I==null?void 0:I.text.substring(A-1,A))===" ",W=O&&k.data===" "&&!p;if(R&&(A<1||N)){C();return}if(W||$&&((I==null?void 0:I.text.length)===1||V===((I==null?void 0:I.text.length)||0)-1)){w();return}if(ta(D)){let q=D.text.substring(V+1,A);O&&(q+=k.data),$&&(q=q.substring(0,q.length-1)),m(q)}},[w,u,p,C]),S=h.useCallback(()=>{f(!0),Se.focus(u),Se.insertChild(u,u.schemaTypes.span,{text:"@"}),g(Se.getSelection(u))},[u]);zi(d,()=>s==null?void 0:s(d));const E=h.useCallback(k=>{var T;const A=u.schemaTypes.inlineObjects.find(O=>O.name==="mention"),[D,I]=v&&Se.findByPath(u,v.focus.path)||[];if(D&&ta(D)&&I&&A){Se.focus(u);const O=(T=Se.getSelection(u))==null?void 0:T.focus.offset;typeof O<"u"&&(Se.delete(u,{anchor:{path:I,offset:D.text.lastIndexOf("@")},focus:{path:I,offset:O}},{mode:"selected"}),Se.insertChild(u,A,{userId:k}),Se.insertChild(u,u.schemaTypes.span,{text:" "}))}},[u,v]),j=h.useMemo(()=>({canSubmit:y,closeMentions:w,editor:u,expandOnFocus:n,focused:r,focusEditor:b,focusOnMount:o,hasChanges:x,insertAtChar:S,insertMention:E,mentionOptions:i,mentionsMenuOpen:d,mentionsSearchTerm:p,onBeforeInput:_,openMentions:C,readOnly:!!c,value:a}),[y,w,u,n,r,b,o,x,S,E,i,d,p,_,C,c,a]);return l.jsx(gMe.Provider,{value:j,children:t})}function vMe(){const e=h.useContext(gMe);if(!e)throw new Error("useCommentInputContext must be used within a CommentInputProvider");return e}var _me=Object.freeze,rAn=Object.defineProperty,oAn=(e,t)=>_me(rAn(e,"raw",{value:_me(t||e.slice())})),Sme;const iAn=P(U)(Sme||(Sme=oAn([""]))),sAn={width:"50%"};function aAn(e){const{user:t,onSelect:n}=e,[r]=w1(t.id),o=l.jsx(BD,{user:r,status:t.canBeMentioned?void 0:"inactive"}),i=r?l.jsx(L,{size:1,textOverflow:"ellipsis",title:r.displayName,children:r.displayName}):l.jsx(Pi,{size:1,style:sAn}),s=h.useCallback(()=>{n(t.id)},[n,t.id]);return l.jsx(ee,{as:"button",disabled:!t.canBeMentioned,onClick:s,padding:2,radius:2,children:l.jsxs(U,{align:"center",gap:3,children:[l.jsxs(iAn,{align:"center",gap:2,flex:1,children:[o,l.jsx(M,{children:i})]}),!t.canBeMentioned&&l.jsx(d8,{fontSize:1,mode:"outline",children:"Unauthorized"})]})})}const Eme=[],lAn=P(oe)({maxWidth:"220px"}),kme=41,cAn=4,uAn=7,dAn=P(U)({maxHeight:kme*uAn+cAn*2+kme/2}),fAn=ie.forwardRef(function(t,n){const{loading:r,onSelect:o,options:i=[],inputElement:s}=t,[a,c]=h.useState(""),u=h.useRef(null);h.useImperativeHandle(n,()=>({setSearchTerm(v){c(v)}}),[]);const d=h.useCallback(v=>l.jsx(aAn,{user:v,onSelect:o}),[o]),f=h.useCallback(v=>{var g;return!((g=i==null?void 0:i[v])!=null&&g.canBeMentioned)},[i]),p=h.useMemo(()=>{var v;if(!a)return i||Eme;const g=eZ(a).toLocaleLowerCase(),y=i==null?void 0:i.map(b=>({...b,displayName:eZ(b.displayName||"").toLocaleLowerCase()}));return((v=y==null?void 0:y.filter(b=>{var w;return(w=b==null?void 0:b.displayName)==null?void 0:w.includes(g)}))==null?void 0:v.sort((b,w)=>{var C,_;const S=(C=b.displayName)==null?void 0:C.startsWith(g),E=(_=w.displayName)==null?void 0:_.startsWith(g);return S&&!E?-1:!S&&E?1:0}))||Eme},[i,a]);if(r)return l.jsx(lAn,{children:l.jsx(U,{align:"center",justify:"center",padding:4,children:l.jsx(ur,{muted:!0,size:1})})});const m=s||void 0;return l.jsxs(U,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[p.length===0&&l.jsx(M,{padding:5,children:l.jsx(L,{align:"center",size:1,muted:!0,children:"No users found"})}),p.length>0&&l.jsx(dAn,{direction:"column",flex:1,overflow:"hidden",children:l.jsx(Sh,{activeItemDataAttr:"data-hovered",ariaLabel:"List of users to mention",fixedHeight:!0,getItemDisabled:f,inputElement:m,itemHeight:41,items:p,padding:1,ref:u,renderItem:d})})]})}),hAn=e=>{const{children:t}=e;return l.jsx(Vs,{children:t})},pAn=e=>{const{children:t,value:n,selected:r}=e;return n._type==="mention"&&n.userId?l.jsx(pMe,{selected:r,userId:n==null?void 0:n.userId}):t},mAn={passive:!0};function gAn(e){const{disabled:t,rootElement:n}=e,[r,o]=h.useState(null),i=h.useMemo(()=>r?{getBoundingClientRect:()=>r}:null,[r]),s=h.useCallback(()=>{if(t){o(null);return}const a=window.getSelection();if(!a||!a.isCollapsed||a.rangeCount===0)return;const c=a.getRangeAt(0);if(!(n==null?void 0:n.contains(c.commonAncestorContainer))){o(null);return}const d=c==null?void 0:c.getBoundingClientRect();d&&o(d)},[t,n]);return h.useEffect(()=>(document.addEventListener("selectionchange",s,mAn),()=>{document.removeEventListener("selectionchange",s)}),[s]),i}var jme=Object.freeze,vAn=Object.defineProperty,sV=(e,t)=>jme(vAn(e,"raw",{value:jme(t||e.slice())})),Tme,Ame,Dme;const yAn={outline:"none"},bAn=P(oe)(()=>he(Tme||(Tme=sV([`
    & > div:first-child {
      [data-slate-node='element']:not(:last-child) {
        margin-bottom: 1em; // todo: improve
      }
    }
  `])))),xAn=P.span(()=>he(Ame||(Ame=sV([`
    overflow: hidden;
    text-overflow: ellipsis;
    text-wrap: nowrap;
    display: block;
  `])))),wAn=P(Jt)(e=>{let{theme:t}=e;const{space:n,radius:r}=t.sanity;return he(Dme||(Dme=sV([`
    &[data-placement='bottom'] {
      transform: translateY(`,`px);
    }

    &[data-placement='top'] {
      transform: translateY(-`,`px);
    }

    [data-ui='Popover__wrapper'] {
      border-radius: `,`px;
      display: flex;
      flex-direction: column;
      overflow: clip;
      overflow: hidden;
      position: relative;
      width: 300px; // todo: improve
    }
  `])),n[1],n[1],r[3])});function CAn(e){const{focusLock:t,placeholder:n="Create a new comment",onFocus:r,onBlur:o,onKeyDown:i,onSubmit:s}=e,[a,c]=h.useState(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=r1(),{canSubmit:m,closeMentions:v,insertMention:g,mentionOptions:y,mentionsMenuOpen:x,mentionsSearchTerm:b,onBeforeInput:w,value:C}=vMe(),_=h.useCallback(()=>l.jsx(xAn,{children:n}),[n]);lr(h.useCallback(()=>{x&&v()},[v,x]),[a]),h.useEffect(()=>{var k;(k=f.current)==null||k.setSearchTerm(b)},[b]),h.useEffect(()=>{x&&p&&!Ht(p.anchor,p.focus)&&v()},[x,v,p]),is(k=>{k.code==="Escape"&&x&&v()});const S=gAn({disabled:!x,rootElement:u.current}),E=h.useCallback(k=>{switch(k.key){case"Enter":if(k.shiftKey)break;if(k.preventDefault(),k.stopPropagation(),x){v();break}s&&m&&s();break;case"Escape":case"ArrowLeft":case"ArrowRight":x&&(k.preventDefault(),k.stopPropagation(),v());break}i&&i(k)},[m,v,x,i,s]),j=h.useMemo(()=>{if(p)return;const k=(C||[]).slice(-1)[0],T=oh(k)?k.children.slice(-1)[0]:void 0;if(!T)return;const A={path:[{_key:k._key},"children",{_key:T._key}],offset:ta(T)?T.text.length:0};return{focus:A,anchor:A}},[C,p]);return l.jsxs(l.Fragment,{children:[l.jsx(yd,{element:u.current,children:l.jsx(wAn,{arrow:!1,constrainSize:!0,content:l.jsx(fAn,{ref:f,loading:y.loading,onSelect:g,options:y.data||[],inputElement:d.current}),disabled:!x,fallbackPlacements:["bottom","top"],open:x,placement:"bottom",portal:!0,ref:c,referenceElement:S})}),l.jsx(bAn,{ref:u,"data-ui":"EditableWrapStack",children:l.jsx(oAe,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:w,onBlur:o,onFocus:r,onKeyDown:E,ref:d,renderBlock:hAn,renderChild:pAn,renderPlaceholder:_,selection:j,style:yAn,tabIndex:t?0:void 0})})]})}var Ime=Object.freeze,_An=Object.defineProperty,aV=(e,t)=>Ime(_An(e,"raw",{value:Ime(t||e.slice())})),Ome,Pme,Rme;const aE=P(M)(Ome||(Ome=aV([`
  max-height: 20vh;
  overflow-y: auto;
`]))),SAn=P(Ir)({height:20,width:1}),$me=P(se).attrs({fontSize:1,padding:2})(Pme||(Pme=aV([`
  /* border-radius: 50%; */
`]))),EAn=P(ee)(e=>{let{theme:t}=e;const n=t.sanity.radius[2];return he(Rme||(Rme=aV([`
    border-radius: `,`px;

    &:not([data-expand-on-focus='false'], :focus-within) {
      background: transparent;
      box-shadow: unset;
    }

    &[data-focused='true']:focus-within {
      `,` {
        min-height: 1em;
      }

      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    &:focus-within {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='false'] {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='true'] {
      [data-ui='CommentInputActions']:not([hidden]) {
        display: none;
      }

      &:focus-within {
        [data-ui='CommentInputActions'] {
          display: flex;
        }
      }
    }
  `])),n,aE,aE,aE)});function kAn(e){const{currentUser:t,focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a,withAvatar:c}=e,[u]=w1(t.id),{canSubmit:d,expandOnFocus:f,focused:p,hasChanges:m,insertAtChar:v,openMentions:g,readOnly:y}=vMe(),x=c?l.jsx(BD,{user:u}):null,b=h.useCallback(w=>{w.stopPropagation(),v(),g()},[v,g]);return l.jsxs(U,{align:"flex-start",gap:2,children:[x,l.jsx(EAn,{"data-expand-on-focus":f&&!d?"true":"false","data-focused":p?"true":"false",flex:1,shadow:1,sizing:"border",tone:y?"transparent":"default",children:l.jsxs(oe,{children:[l.jsx(aE,{paddingX:1,paddingY:2,sizing:"border",children:l.jsx(CAn,{focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a})}),l.jsxs(U,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:[l.jsx($me,{"aria-label":"Mention user","data-testid":"comment-mention-button",disabled:y,icon:JTn,mode:"bleed",onClick:b}),l.jsx(SAn,{}),l.jsx($me,{"aria-label":"Send comment",disabled:!d||!m||y,icon:QTn,mode:m&&d?"default":"bleed",onClick:s,tone:m&&d?"primary":"default"})]})]})})]})}const jAn=9999999;function TAn(e){const{onClose:t,onConfirm:n}=e,r=hh(),o=h.useCallback(s=>{s.stopPropagation(),t()},[t]),i=h.useCallback(s=>{s.stopPropagation(),n()},[n]);return l.jsx(jCe,{tone:"default",children:l.jsx(yd,{__unstable_elements:{boundary:r.element},children:l.jsx(L$,{zOffset:jAn,children:l.jsx(Li,{portal:"boundary",header:"Discard comment?",id:"discard-comment-dialog",onClose:t,width:0,onClickOutside:t,footer:l.jsxs(Qt,{columns:2,padding:2,gap:2,children:[l.jsx(se,{text:"Cancel",mode:"ghost",onClick:o}),l.jsx(se,{onClick:i,text:"Discard",tone:"critical"})]}),children:l.jsx(oe,{padding:4,children:l.jsx(L,{children:"Do you want to discard the comment?"})})})})})})}const F3=[],AAn={behavior:"smooth",block:"center",inline:"center"},ND=h.forwardRef(function(t,n){const{currentUser:r,expandOnFocus:o,focusLock:i=!1,focusOnMount:s,mentionOptions:a,onBlur:c,onChange:u,onDiscardCancel:d,onDiscardConfirm:f,onFocus:p,onKeyDown:m,onMentionMenuOpenChange:v,onSubmit:g,placeholder:y,readOnly:x,value:b=F3,withAvatar:w=!0}=t,[C,_]=h.useState(!1),S=h.useRef(null),E=h.useRef(null),[j,k]=h.useState(!1),T=h.useRef(null),A=h.useRef(null),D=h.useRef(null),[I,O]=h.useState(c5()),$=h.useCallback(()=>{requestAnimationFrame(()=>{S.current&&Se.focus(S.current)})},[]),R=h.useCallback(()=>{O(c5())},[]),V=h.useCallback(X=>{if(X.type==="ready"&&s&&$(),X.type==="focus"&&_(!0),X.type==="blur"&&_(!1),X.type==="patch"&&S.current){const B=Se.getValue(S.current);u(B||F3)}},[s,u,$]),N=h.useCallback(()=>{var X;(X=E.current)==null||X.scrollIntoView(AAn)},[]),W=h.useCallback(()=>{g(),R(),$(),N()},[g,$,R,N]),q=h.useCallback(()=>{f(),R()},[f,R]),H=h.useMemo(()=>({open:()=>{k(!0)},close:()=>{k(!1),$()}}),[$]);h.useImperativeHandle(n,()=>({focus:$,blur(){S.current&&Se.blur(S.current)},scrollTo:N,reset:R,discardDialogController:H}),[H,$,R,N]);const Y=h.useCallback(X=>{if(!i)return;const B=X.target,K=D.current;if(K&&B===T.current){p8(K);return}K&&B===A.current&&nm(K)},[i]);return l.jsxs(l.Fragment,{children:[j&&l.jsx(TAn,{onClose:d,onConfirm:q}),l.jsx(oe,{ref:E,"data-testid":"comment-input",onFocus:Y,children:l.jsx(Se,{onChange:V,readOnly:x,ref:S,schemaType:XTn,value:b||F3,children:l.jsxs(nAn,{expandOnFocus:o,focused:C,focusOnMount:s,mentionOptions:a,onMentionMenuOpenChange:v,readOnly:x,value:b,children:[i&&l.jsx("div",{ref:T,tabIndex:0}),l.jsx(oe,{ref:D,children:l.jsx(kAn,{currentUser:r,focusLock:i,onBlur:c,onFocus:p,onKeyDown:m,onSubmit:W,placeholder:y,withAvatar:w})}),i&&l.jsx("div",{ref:A,tabIndex:0})]})},I)})]})}),L3=3;var Mme=Object.freeze,DAn=Object.defineProperty,IAn=(e,t)=>Mme(DAn(e,"raw",{value:Mme(t||e.slice())})),Fme;const OAn={open:500},PAn=P(L)(Fme||(Fme=IAn([`
  min-width: max-content;
`])));function RAn(e){const{children:t,text:n}=e;return l.jsx(at,{delay:OAn,portal:!0,placement:"top",content:l.jsx(PAn,{size:1,children:n}),padding:2,children:l.jsx(U,{children:t})})}var Lme=Object.freeze,$An=Object.defineProperty,MAn=(e,t)=>Lme($An(e,"raw",{value:Lme(t||e.slice())})),Bme;const FAn={open:500},LAn={placement:"bottom-end",portal:!1},BAn=P(ee)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return he(Bme||(Bme=MAn([`
    gap: `,`px;
    padding: `,`px;

    &:empty {
      display: none;
    }
  `])),n[1]/2,n[1]/2)});function NAn(e){const{canDelete:t,canEdit:n,isParent:r,onCopyLink:o,onDeleteStart:i,onEditStart:s,onMenuClose:a,onMenuOpen:c,onStatusChange:u,readOnly:d,status:f,...p}=e,m=!!(o||i||s);return l.jsx(XCe,{delay:FAn,children:l.jsx(U,{"data-root-menu":r?"true":"false",...p,children:l.jsxs(BAn,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[r&&l.jsx(RAn,{text:f==="open"?"Mark as resolved":"Re-open",children:l.jsx(se,{"aria-label":"Mark comment as resolved",disabled:d,fontSize:1,icon:f==="open"?xj:hE,mode:"bleed",onClick:u,padding:2})}),l.jsx(en,{id:"comment-actions-menu",button:l.jsx(se,{"aria-label":"Open comment actions menu",disabled:d,fontSize:1,hidden:!m,icon:Ao,mode:"bleed",padding:2}),onOpen:c,onClose:a,menu:l.jsxs(Bt,{children:[l.jsx(Ve,{fontSize:1,hidden:!n,icon:Hu,onClick:s,text:"Edit comment"}),l.jsx(Ve,{fontSize:1,hidden:!t,icon:po,onClick:i,text:"Delete comment",tone:"critical"}),l.jsx(Ir,{hidden:!t&&!n}),l.jsx(Ve,{fontSize:1,hidden:!o,icon:zf,onClick:o,text:"Copy link to comment"})]}),popover:LAn})]})})})}var Nme=Object.freeze,zAn=Object.defineProperty,S1=(e,t)=>Nme(zAn(e,"raw",{value:Nme(t||e.slice())})),zme,Vme,Hme,Ume,Wme,Yme;const Xy=P(ss)(zme||(zme=S1([""])));function VAn(e){const{children:t}=e,n=h.useCallback(r=>{r.stopPropagation()},[]);return l.jsx(Xy,{onClick:n,children:t})}const HAn={width:"50%"},qme=P(L)(e=>{let{theme:t}=e;const n=t.sanity.color.dark,r=pe.gray[n?200:800].hex;return he(Vme||(Vme=S1([`
    min-width: max-content;
    --card-fg-color: `,`;
    color: var(--card-fg-color);
  `])),r)}),UAn=P(oe)(Hme||(Hme=S1([`
  transition: opacity 200ms ease;

  &[data-muted='true'] {
    transition: unset;
    opacity: 0.5;
  }
`]))),WAn=P(U)(Ume||(Ume=S1([`
  min-height: `,`px;
`])),hMe),YAn=P(ee)(Wme||(Wme=S1([`
  // Add not on hover
  &:not(:hover) {
    background-color: transparent;
  }
`]))),qAn=P(oe)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return he(Yme||(Yme=S1([`
    position: relative;

    // Only show the floating layer on hover when hover is supported.
    // Else, the layer is always visible.
    @media (hover: hover) {
      `,` {
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;

        transform: translate(`,"px, -",`px);
      }

      `,` {
        &:focus-within {
          opacity: 1;
        }
      }

      &:hover {
        `,` {
          opacity: 1;
        }
      }
    }

    &[data-menu-open='true'] {
      `,` {
        opacity: 1;
      }
    }
  `])),Xy,n[1],n[1],Xy,Xy,Xy)}),GAn={agoSuffix:!0};function Gme(e){const{canDelete:t,canEdit:n,comment:r,currentUser:o,hasError:i,isParent:s,isRetrying:a,mentionOptions:c,onCopyLink:u,onCreateRetry:d,onDelete:f,onEdit:p,onInputKeyDown:m,onStatusChange:v,readOnly:g}=e,{_createdAt:y,authorId:x,message:b,_id:w,lastEditedAt:C}=r,[_]=w1(x),[S,E]=h.useState(b),[j,k]=h.useState(!1),[T,A]=h.useState(null),D=h.useRef(b),[I,O]=h.useState(!1),$=mMe(S),R=h.useMemo(()=>LC(S),[S]),V=h.useRef(null),N=y?new Date(y):new Date,W=Qo(N,GAn),q=ei(N,"PPPPp"),H=C?ei(new Date(C),"PPPPp"):null,Y=i||a,X=h.useCallback(()=>O(!0),[]),B=h.useCallback(()=>O(!1),[]),K=h.useCallback(()=>u==null?void 0:u(w),[w,u]),z=h.useCallback(Ae=>{Ae.stopPropagation(),d==null||d(w)},[w,d]),Z=h.useCallback(()=>f(w),[w,f]),Q=h.useCallback(()=>{k(!1),E(D.current)},[]),ne=h.useCallback(()=>{var Ae;if(!R||!$){Q();return}(Ae=V.current)==null||Ae.discardDialogController.open()},[Q,$,R]),G=h.useCallback(Ae=>{Ae.isDefaultPrevented()||(Ae.key==="Escape"&&(Ae.preventDefault(),Ae.stopPropagation(),ne()),m&&m(Ae))},[m,ne]),J=h.useCallback(()=>{var Ae;(Ae=V.current)==null||Ae.discardDialogController.close()},[]),re=h.useCallback(()=>{var Ae;(Ae=V.current)==null||Ae.discardDialogController.close(),Q()},[Q]),fe=h.useCallback(()=>{p(w,{message:S}),k(!1)},[w,p,S]),le=h.useCallback(()=>{v==null||v(w,r.status==="open"?"resolved":"open")},[w,r.status,v]),ge=h.useCallback(()=>{k(Ae=>!Ae)},[]),we=h.useCallback(()=>O(!1),[]),ce=h.useCallback(()=>{$||Q()},[Q,$]),ve=h.useCallback(Ae=>{Ae.key==="Escape"&&!$&&Q()},[Q,$]);zi(j,we),lr(ce,[T]);const $e=_!=null&&_.displayName?l.jsx(L,{size:1,weight:"semibold",textOverflow:"ellipsis",title:_.displayName,children:_.displayName}):l.jsx(Pi,{size:1,style:HAn});return l.jsxs(qAn,{"data-menu-open":I?"true":"false",onKeyDown:ve,ref:A,space:4,children:[l.jsxs(UAn,{space:1,"data-muted":Y,children:[l.jsxs(U,{align:"center",gap:L3,flex:1,children:[l.jsx(BD,{user:_}),l.jsx(U,{align:"center",paddingBottom:1,sizing:"border",flex:1,children:l.jsxs(U,{align:"flex-end",gap:2,children:[l.jsx(M,{flex:1,children:$e}),!Y&&l.jsxs(U,{align:"center",gap:1,children:[l.jsx(qme,{muted:!0,size:0,title:q,children:W}),H&&l.jsx(qme,{muted:!0,size:0,title:H,children:"(edited)"})]})]})}),!j&&!Y&&l.jsx(VAn,{children:l.jsx(NAn,{canDelete:t,canEdit:n,isParent:s,onCopyLink:K,onDeleteStart:Z,onEditStart:ge,onMenuClose:B,onMenuOpen:X,onStatusChange:le,readOnly:g,status:r.status})})]}),j&&l.jsxs(U,{align:"flex-start",gap:2,children:[l.jsx(sE,{}),l.jsx(oe,{flex:1,children:l.jsx(ND,{currentUser:o,focusOnMount:!0,mentionOptions:c,onChange:E,onDiscardCancel:J,onDiscardConfirm:re,onKeyDown:G,onSubmit:fe,readOnly:g,ref:V,value:S,withAvatar:!1})})]}),!j&&l.jsxs(U,{gap:L3,children:[l.jsx(sE,{}),l.jsx(YTn,{blocks:b})]})]}),Y&&l.jsxs(WAn,{gap:L3,children:[l.jsx(sE,{}),l.jsxs(U,{align:"center",gap:1,flex:1,children:[l.jsxs(L,{muted:!0,size:1,children:[i&&"Failed to send.",a&&"Posting..."]}),l.jsx(U,{hidden:a,children:l.jsx(YAn,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:z,padding:1,radius:2,tone:"primary",children:l.jsx(L,{size:1,muted:!0,children:"Retry"})})})]})]})]})}var Kme=Object.freeze,KAn=Object.defineProperty,ZAn=(e,t)=>Kme(KAn(e,"raw",{value:Kme(t||e.slice())})),Zme;const yMe=P(ee).attrs(e=>{let{tone:t}=e;return{padding:3,radius:3,sizing:"border",tone:t||"transparent"}})(Zme||(Zme=ZAn([`
  // ...
`])));var Xme=Object.freeze,XAn=Object.defineProperty,lV=(e,t)=>Xme(XAn(e,"raw",{value:Xme(t||e.slice())})),Qme,Jme,ege;const Sy=[],Ey=5,QAn=P(yMe)(e=>{let{theme:t}=e;const{hovered:n}=t.sanity.color.button.bleed.default;return he(Qme||(Qme=lV([`
    position: relative;

    &:has(> [data-ui='GhostButton']:focus:focus-visible) {
      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    // When hovering over the thread root we want to display the parent comments menu.
    // The data-root-menu attribute is used to target the menu and is applied in
    // the CommentsListItemLayout component.
    &:not([data-active='true']) {
      @media (hover: hover) {
        &:hover {
          --card-bg-color: `,`;

          [data-root-menu='true'] {
            opacity: 1;
          }
        }
      }
    }
  `])),n.bg2)}),JAn=P(se)(e=>{let{theme:t}=e;const{medium:n}=t.sanity.fonts.text.weights;return he(Jme||(Jme=lV([`
    font-weight: `,`;
  `])),n)}),eDn=P(se)(ege||(ege=lV([`
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  left: 0;
`]))),tDn=ie.memo(function(t){var n,r;const{canReply:o,currentUser:i,isSelected:s,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onKeyDown:p,onPathSelect:m,onReply:v,onStatusChange:g,parentComment:y,readOnly:x,replies:b=Sy}=t,[w,C]=h.useState(Sy),[_,S]=h.useState(!0),E=h.useRef(!1),j=h.useRef(null),k=h.useMemo(()=>LC(w),[w]),T=h.useCallback(()=>{const H={fieldPath:y.target.path.field,message:w,parentCommentId:y._id,status:(y==null?void 0:y.status)||"open",threadId:y.threadId};v==null||v(H),C(Sy)},[v,y._id,y==null?void 0:y.status,y.target.path.field,y.threadId,w]),A=h.useCallback(()=>{var H;if(!k){C(Sy);return}(H=j.current)==null||H.discardDialogController.open()},[k]),D=h.useCallback(H=>{H.isDefaultPrevented()||H.key==="Escape"&&(H.preventDefault(),H.stopPropagation(),A())},[A]),I=h.useCallback(()=>{var H;(H=j.current)==null||H.discardDialogController.close()},[]),O=h.useCallback(()=>{var H,Y;C(Sy),(H=j.current)==null||H.discardDialogController.close(),(Y=j.current)==null||Y.focus()},[]),$=h.useCallback(H=>{H.stopPropagation(),m==null||m({fieldPath:y.target.path.field,origin:"inspector",threadId:y.threadId})},[m,y.target.path.field,y.threadId]),R=h.useCallback(H=>{H.stopPropagation(),S(!1),E.current=!0},[]),V=h.useMemo(()=>_?b==null?void 0:b.slice(-Ey):b,[b,_]),N=h.useMemo(()=>b?b.length>Ey:!1,[b]),W=h.useMemo(()=>"".concat((b==null?void 0:b.length)-Ey," more ").concat((b==null?void 0:b.length)-Ey===1?"comment":"comments"),[b==null?void 0:b.length]);h.useEffect(()=>{b.length>Ey&&!E.current&&S(!0)},[b]);const q=h.useMemo(()=>V.map(H=>{var Y,X;return l.jsx(oe,{as:"li","data-comment-id":H._id,children:l.jsx(Gme,{canDelete:H.authorId===i.id,canEdit:H.authorId===i.id,comment:H,currentUser:i,hasError:((Y=H._state)==null?void 0:Y.type)==="createError",isRetrying:((X=H._state)==null?void 0:X.type)==="createRetrying",mentionOptions:a,onInputKeyDown:D,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,readOnly:x})},H._id)}),[i,D,a,c,u,d,f,x,V]);return l.jsx(oe,{space:2,children:l.jsxs(QAn,{"data-active":s?"true":"false",onClick:$,tone:s?"primary":void 0,children:[l.jsx(eDn,{"data-ui":"GhostButton","aria-label":"Go to field"}),l.jsxs(oe,{as:"ul",paddingBottom:o?void 0:1,space:4,children:[l.jsx(oe,{as:"li","data-comment-id":y._id,children:l.jsx(Gme,{canDelete:y.authorId===i.id,canEdit:y.authorId===i.id,comment:y,currentUser:i,hasError:((n=y._state)==null?void 0:n.type)==="createError",isParent:!0,isRetrying:((r=y._state)==null?void 0:r.type)==="createRetrying",mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onInputKeyDown:p,onStatusChange:g,readOnly:x})}),N&&!E.current&&l.jsxs(U,{gap:1,paddingY:1,sizing:"border",children:[l.jsx(sE,{}),l.jsx(JAn,{fontSize:1,iconRight:tl,mode:"bleed",onClick:R,padding:2,space:2,text:W})]}),q,o&&l.jsx(ND,{currentUser:i,expandOnFocus:!0,mentionOptions:a,onChange:C,onDiscardCancel:I,onDiscardConfirm:O,onKeyDown:D,onSubmit:T,placeholder:"Reply",readOnly:x,ref:j,value:w})]})]})})}),nDn={close:0,open:500},tge=l.jsx(L,{muted:!0,children:l.jsx(Uc,{})}),B3=(e,t)=>l.jsx(M,{as:"li",children:l.jsx(L,{textOverflow:"ellipsis",size:1,weight:"semibold",children:e})},"".concat(e,"-").concat(t));function rDn(e){const{titlePath:t,maxLength:n}=e,r=h.useMemo(()=>{const i=t.length,s=Math.ceil(n/2),a=Math.floor(n/2);return n&&i>n?[...t.slice(0,s-1),t.slice(s-1,i-a),...t.slice(i-a)]:t},[n,t]),o=h.useMemo(()=>r.map((i,s)=>{const a="".concat(i,"-").concat(s),c=s<r.length-1;return Array.isArray(i)?l.jsxs(h.Fragment,{children:[l.jsx(at,{delay:nDn,content:l.jsx(oe,{space:2,padding:2,children:i.map(B3)}),children:l.jsx(M,{children:B3("...",s)})}),c&&tge]},a):l.jsxs(h.Fragment,{children:[B3(i,s),c&&tge]},a)}),[r]);return l.jsx(U,{align:"center",as:"ol",gap:2,children:o})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const oDn=4,nge=0,rge=1,iDn=2;function E1(e){let t=e.length;for(;--t>=0;)e[t]=0}const sDn=0,bMe=1,aDn=2,lDn=3,cDn=258,cV=29,BC=256,rw=BC+1+cV,zv=30,uV=19,xMe=2*rw+1,kp=15,N3=16,uDn=7,dV=256,wMe=16,CMe=17,_Me=18,MF=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),lE=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),dDn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),SMe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fDn=512,wu=new Array((rw+2)*2);E1(wu);const Vb=new Array(zv*2);E1(Vb);const ow=new Array(fDn);E1(ow);const iw=new Array(cDn-lDn+1);E1(iw);const fV=new Array(cV);E1(fV);const ej=new Array(zv);E1(ej);function z3(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let EMe,kMe,jMe;function V3(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const TMe=e=>e<256?ow[e]:ow[256+(e>>>7)],sw=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},ks=(e,t,n)=>{e.bi_valid>N3-n?(e.bi_buf|=t<<e.bi_valid&65535,sw(e,e.bi_buf),e.bi_buf=t>>N3-e.bi_valid,e.bi_valid+=n-N3):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},jc=(e,t,n)=>{ks(e,n[t*2],n[t*2+1])},AMe=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},hDn=e=>{e.bi_valid===16?(sw(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},pDn=(e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,f,p,m,v,g=0;for(p=0;p<=kp;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<xMe;u++)d=e.heap[u],p=n[n[d*2+1]*2+1]+1,p>c&&(p=c,g++),n[d*2+1]=p,!(d>r)&&(e.bl_count[p]++,m=0,d>=a&&(m=s[d-a]),v=n[d*2],e.opt_len+=v*(p+m),i&&(e.static_len+=v*(o[d*2+1]+m)));if(g!==0){do{for(p=c-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(p=c;p!==0;p--)for(d=e.bl_count[p];d!==0;)f=e.heap[--u],!(f>r)&&(n[f*2+1]!==p&&(e.opt_len+=(p-n[f*2+1])*n[f*2],n[f*2+1]=p),d--)}},DMe=(e,t,n)=>{const r=new Array(kp+1);let o=0,i,s;for(i=1;i<=kp;i++)o=o+n[i-1]<<1,r[i]=o;for(s=0;s<=t;s++){let a=e[s*2+1];a!==0&&(e[s*2]=AMe(r[a]++,a))}},mDn=()=>{let e,t,n,r,o;const i=new Array(kp+1);for(n=0,r=0;r<cV-1;r++)for(fV[r]=n,e=0;e<1<<MF[r];e++)iw[n++]=r;for(iw[n-1]=r,o=0,r=0;r<16;r++)for(ej[r]=o,e=0;e<1<<lE[r];e++)ow[o++]=r;for(o>>=7;r<zv;r++)for(ej[r]=o<<7,e=0;e<1<<lE[r]-7;e++)ow[256+o++]=r;for(t=0;t<=kp;t++)i[t]=0;for(e=0;e<=143;)wu[e*2+1]=8,e++,i[8]++;for(;e<=255;)wu[e*2+1]=9,e++,i[9]++;for(;e<=279;)wu[e*2+1]=7,e++,i[7]++;for(;e<=287;)wu[e*2+1]=8,e++,i[8]++;for(DMe(wu,rw+1,i),e=0;e<zv;e++)Vb[e*2+1]=5,Vb[e*2]=AMe(e,5);EMe=new z3(wu,MF,BC+1,rw,kp),kMe=new z3(Vb,lE,0,zv,kp),jMe=new z3(new Array(0),dDn,0,uV,uDn)},IMe=e=>{let t;for(t=0;t<rw;t++)e.dyn_ltree[t*2]=0;for(t=0;t<zv;t++)e.dyn_dtree[t*2]=0;for(t=0;t<uV;t++)e.bl_tree[t*2]=0;e.dyn_ltree[dV*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},OMe=e=>{e.bi_valid>8?sw(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},oge=(e,t,n,r)=>{const o=t*2,i=n*2;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]},H3=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&oge(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!oge(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},ige=(e,t,n)=>{let r,o,i=0,s,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,o=e.pending_buf[e.sym_buf+i++],r===0?jc(e,o,t):(s=iw[o],jc(e,s+BC+1,t),a=MF[s],a!==0&&(o-=fV[s],ks(e,o,a)),r--,s=TMe(r),jc(e,s,n),a=lE[s],a!==0&&(r-=ej[s],ks(e,r,a)));while(i<e.sym_next);jc(e,dV,t)},FF=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,a,c=-1,u;for(e.heap_len=0,e.heap_max=xMe,s=0;s<i;s++)n[s*2]!==0?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,o&&(e.static_len-=r[u*2+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)H3(e,n,s);u=i;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],H3(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[u*2]=n[s*2]+n[a*2],e.depth[u]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=u,e.heap[1]=u++,H3(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],pDn(e,t),DMe(n,c,e.bl_count)},sge=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=s,s=t[(r+1)*2+1],!(++a<c&&i===s)&&(a<u?e.bl_tree[i*2]+=a:i!==0?(i!==o&&e.bl_tree[i*2]++,e.bl_tree[wMe*2]++):a<=10?e.bl_tree[CMe*2]++:e.bl_tree[_Me*2]++,a=0,o=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))},age=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),r=0;r<=n;r++)if(i=s,s=t[(r+1)*2+1],!(++a<c&&i===s)){if(a<u)do jc(e,i,e.bl_tree);while(--a!==0);else i!==0?(i!==o&&(jc(e,i,e.bl_tree),a--),jc(e,wMe,e.bl_tree),ks(e,a-3,2)):a<=10?(jc(e,CMe,e.bl_tree),ks(e,a-3,3)):(jc(e,_Me,e.bl_tree),ks(e,a-11,7));a=0,o=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}},gDn=e=>{let t;for(sge(e,e.dyn_ltree,e.l_desc.max_code),sge(e,e.dyn_dtree,e.d_desc.max_code),FF(e,e.bl_desc),t=uV-1;t>=3&&e.bl_tree[SMe[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},vDn=(e,t,n,r)=>{let o;for(ks(e,t-257,5),ks(e,n-1,5),ks(e,r-4,4),o=0;o<r;o++)ks(e,e.bl_tree[SMe[o]*2+1],3);age(e,e.dyn_ltree,t-1),age(e,e.dyn_dtree,n-1)},yDn=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return nge;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return rge;for(n=32;n<BC;n++)if(e.dyn_ltree[n*2]!==0)return rge;return nge};let lge=!1;const bDn=e=>{lge||(mDn(),lge=!0),e.l_desc=new V3(e.dyn_ltree,EMe),e.d_desc=new V3(e.dyn_dtree,kMe),e.bl_desc=new V3(e.bl_tree,jMe),e.bi_buf=0,e.bi_valid=0,IMe(e)},PMe=(e,t,n,r)=>{ks(e,(sDn<<1)+(r?1:0),3),OMe(e),sw(e,n),sw(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},xDn=e=>{ks(e,bMe<<1,3),jc(e,dV,wu),hDn(e)},wDn=(e,t,n,r)=>{let o,i,s=0;e.level>0?(e.strm.data_type===iDn&&(e.strm.data_type=yDn(e)),FF(e,e.l_desc),FF(e,e.d_desc),s=gDn(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&t!==-1?PMe(e,t,n,r):e.strategy===oDn||i===o?(ks(e,(bMe<<1)+(r?1:0),3),ige(e,wu,Vb)):(ks(e,(aDn<<1)+(r?1:0),3),vDn(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),ige(e,e.dyn_ltree,e.dyn_dtree)),IMe(e),r&&OMe(e)},CDn=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(iw[n]+BC+1)*2]++,e.dyn_dtree[TMe(t)*2]++),e.sym_next===e.sym_end);var _Dn=bDn,SDn=PMe,EDn=wDn,kDn=CDn,jDn=xDn,TDn={_tr_init:_Dn,_tr_stored_block:SDn,_tr_flush_block:EDn,_tr_tally:kDn,_tr_align:jDn};const ADn=(e,t,n,r)=>{let o=e&65535|0,i=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do o=o+t[r++]|0,i=i+o|0;while(--s);o%=65521,i%=65521}return o|i<<16|0};var aw=ADn;const DDn=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},IDn=new Uint32Array(DDn()),ODn=(e,t,n,r)=>{const o=IDn,i=r+n;e^=-1;for(let s=r;s<i;s++)e=e>>>8^o[(e^t[s])&255];return e^-1};var Oo=ODn,ym={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},tg={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:PDn,_tr_stored_block:LF,_tr_flush_block:RDn,_tr_tally:Mf,_tr_align:$Dn}=TDn,{Z_NO_FLUSH:Ff,Z_PARTIAL_FLUSH:MDn,Z_FULL_FLUSH:FDn,Z_FINISH:Ra,Z_BLOCK:cge,Z_OK:Zo,Z_STREAM_END:uge,Z_STREAM_ERROR:Mc,Z_DATA_ERROR:LDn,Z_BUF_ERROR:U3,Z_DEFAULT_COMPRESSION:BDn,Z_FILTERED:NDn,Z_HUFFMAN_ONLY:$2,Z_RLE:zDn,Z_FIXED:VDn,Z_DEFAULT_STRATEGY:HDn,Z_UNKNOWN:UDn,Z_DEFLATED:zD}=tg,WDn=9,YDn=15,qDn=8,GDn=29,KDn=256,BF=KDn+1+GDn,ZDn=30,XDn=19,QDn=2*BF+1,JDn=15,Yt=3,bf=258,Fc=bf+Yt+1,eIn=32,_0=42,hV=57,NF=69,zF=73,VF=91,HF=103,jp=113,Qy=666,Qi=1,k1=2,bm=3,j1=4,tIn=3,Tp=(e,t)=>(e.msg=ym[t],t),dge=e=>e*2-(e>4?9:0),Jd=e=>{let t=e.length;for(;--t>=0;)e[t]=0},nIn=e=>{let t,n,r,o=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=o?n-o:0;while(--t);t=o,r=t;do n=e.prev[--r],e.prev[r]=n>=o?n-o:0;while(--t)};let rIn=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,Lf=rIn;const Hs=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},ea=(e,t)=>{RDn(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Hs(e.strm)},fn=(e,t)=>{e.pending_buf[e.pending++]=t},ky=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},UF=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),o===0?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),e.state.wrap===1?e.adler=aw(e.adler,t,o,n):e.state.wrap===2&&(e.adler=Oo(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},RMe=(e,t)=>{let n=e.max_chain_length,r=e.strstart,o,i,s=e.prev_length,a=e.nice_match;const c=e.strstart>e.w_size-Fc?e.strstart-(e.w_size-Fc):0,u=e.window,d=e.w_mask,f=e.prev,p=e.strstart+bf;let m=u[r+s-1],v=u[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(o=t,!(u[o+s]!==v||u[o+s-1]!==m||u[o]!==u[r]||u[++o]!==u[r+1])){r+=2,o++;do;while(u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&r<p);if(i=bf-(p-r),r=p-bf,i>s){if(e.match_start=t,s=i,i>=a)break;m=u[r+s-1],v=u[r+s]}}while((t=f[t&d])>c&&--n!==0);return s<=e.lookahead?s:e.lookahead},S0=e=>{const t=e.w_size;let n,r,o;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Fc)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),nIn(e),r+=t),e.strm.avail_in===0)break;if(n=UF(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Yt)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=Lf(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=Lf(e,e.ins_h,e.window[o+Yt-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<Yt)););}while(e.lookahead<Fc&&e.strm.avail_in!==0)},$Me=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,o,i,s=0,a=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,o=e.strstart-e.block_start,r>o+e.strm.avail_in&&(r=o+e.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&t!==Ra||t===Ff||r!==o+e.strm.avail_in)))break;s=t===Ra&&r===o+e.strm.avail_in?1:0,LF(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Hs(e.strm),o&&(o>r&&(o=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+o),e.strm.next_out),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o,e.block_start+=o,r-=o),r&&(UF(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?j1:t!==Ff&&t!==Ra&&e.strm.avail_in===0&&e.strstart===e.block_start?k1:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(UF(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,o=e.strstart-e.block_start,(o>=n||(o||t===Ra)&&t!==Ff&&e.strm.avail_in===0&&o<=i)&&(r=o>i?i:o,s=t===Ra&&e.strm.avail_in===0&&r===o?1:0,LF(e,e.block_start,r,s),e.block_start+=r,Hs(e.strm)),s?bm:Qi)},W3=(e,t)=>{let n,r;for(;;){if(e.lookahead<Fc){if(S0(e),e.lookahead<Fc&&t===Ff)return Qi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Yt&&(e.ins_h=Lf(e,e.ins_h,e.window[e.strstart+Yt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Fc&&(e.match_length=RMe(e,n)),e.match_length>=Yt)if(r=Mf(e,e.strstart-e.match_start,e.match_length-Yt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Yt){e.match_length--;do e.strstart++,e.ins_h=Lf(e,e.ins_h,e.window[e.strstart+Yt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Lf(e,e.ins_h,e.window[e.strstart+1]);else r=Mf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(ea(e,!1),e.strm.avail_out===0))return Qi}return e.insert=e.strstart<Yt-1?e.strstart:Yt-1,t===Ra?(ea(e,!0),e.strm.avail_out===0?bm:j1):e.sym_next&&(ea(e,!1),e.strm.avail_out===0)?Qi:k1},xg=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<Fc){if(S0(e),e.lookahead<Fc&&t===Ff)return Qi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Yt&&(e.ins_h=Lf(e,e.ins_h,e.window[e.strstart+Yt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Yt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Fc&&(e.match_length=RMe(e,n),e.match_length<=5&&(e.strategy===NDn||e.match_length===Yt&&e.strstart-e.match_start>4096)&&(e.match_length=Yt-1)),e.prev_length>=Yt&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-Yt,r=Mf(e,e.strstart-1-e.prev_match,e.prev_length-Yt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=Lf(e,e.ins_h,e.window[e.strstart+Yt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Yt-1,e.strstart++,r&&(ea(e,!1),e.strm.avail_out===0))return Qi}else if(e.match_available){if(r=Mf(e,0,e.window[e.strstart-1]),r&&ea(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Qi}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Mf(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Yt-1?e.strstart:Yt-1,t===Ra?(ea(e,!0),e.strm.avail_out===0?bm:j1):e.sym_next&&(ea(e,!1),e.strm.avail_out===0)?Qi:k1},oIn=(e,t)=>{let n,r,o,i;const s=e.window;for(;;){if(e.lookahead<=bf){if(S0(e),e.lookahead<=bf&&t===Ff)return Qi;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Yt&&e.strstart>0&&(o=e.strstart-1,r=s[o],r===s[++o]&&r===s[++o]&&r===s[++o])){i=e.strstart+bf;do;while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<i);e.match_length=bf-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Yt?(n=Mf(e,1,e.match_length-Yt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Mf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(ea(e,!1),e.strm.avail_out===0))return Qi}return e.insert=0,t===Ra?(ea(e,!0),e.strm.avail_out===0?bm:j1):e.sym_next&&(ea(e,!1),e.strm.avail_out===0)?Qi:k1},iIn=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(S0(e),e.lookahead===0)){if(t===Ff)return Qi;break}if(e.match_length=0,n=Mf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(ea(e,!1),e.strm.avail_out===0))return Qi}return e.insert=0,t===Ra?(ea(e,!0),e.strm.avail_out===0?bm:j1):e.sym_next&&(ea(e,!1),e.strm.avail_out===0)?Qi:k1};function lc(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const Jy=[new lc(0,0,0,0,$Me),new lc(4,4,8,4,W3),new lc(4,5,16,8,W3),new lc(4,6,32,32,W3),new lc(4,4,16,16,xg),new lc(8,16,32,32,xg),new lc(8,16,128,128,xg),new lc(8,32,128,256,xg),new lc(32,128,258,1024,xg),new lc(32,258,258,4096,xg)],sIn=e=>{e.window_size=2*e.w_size,Jd(e.head),e.max_lazy_match=Jy[e.level].max_lazy,e.good_match=Jy[e.level].good_length,e.nice_match=Jy[e.level].nice_length,e.max_chain_length=Jy[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Yt-1,e.match_available=0,e.ins_h=0};function aIn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=zD,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(QDn*2),this.dyn_dtree=new Uint16Array((2*ZDn+1)*2),this.bl_tree=new Uint16Array((2*XDn+1)*2),Jd(this.dyn_ltree),Jd(this.dyn_dtree),Jd(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(JDn+1),this.heap=new Uint16Array(2*BF+1),Jd(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*BF+1),Jd(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const NC=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==_0&&t.status!==hV&&t.status!==NF&&t.status!==zF&&t.status!==VF&&t.status!==HF&&t.status!==jp&&t.status!==Qy?1:0},MMe=e=>{if(NC(e))return Tp(e,Mc);e.total_in=e.total_out=0,e.data_type=UDn;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?hV:t.wrap?_0:jp,e.adler=t.wrap===2?0:1,t.last_flush=-2,PDn(t),Zo},FMe=e=>{const t=MMe(e);return t===Zo&&sIn(e.state),t},lIn=(e,t)=>NC(e)||e.state.wrap!==2?Mc:(e.state.gzhead=t,Zo),LMe=(e,t,n,r,o,i)=>{if(!e)return Mc;let s=1;if(t===BDn&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>WDn||n!==zD||r<8||r>15||t<0||t>9||i<0||i>VDn||r===8&&s!==1)return Tp(e,Mc);r===8&&(r=9);const a=new aIn;return e.state=a,a.strm=e,a.status=_0,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Yt-1)/Yt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=i,a.method=n,FMe(e)},cIn=(e,t)=>LMe(e,t,zD,YDn,qDn,HDn),uIn=(e,t)=>{if(NC(e)||t>cge||t<0)return e?Tp(e,Mc):Mc;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Qy&&t!==Ra)return Tp(e,e.avail_out===0?U3:Mc);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Hs(e),e.avail_out===0)return n.last_flush=-1,Zo}else if(e.avail_in===0&&dge(t)<=dge(r)&&t!==Ra)return Tp(e,U3);if(n.status===Qy&&e.avail_in!==0)return Tp(e,U3);if(n.status===_0&&n.wrap===0&&(n.status=jp),n.status===_0){let o=zD+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=$2||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,o|=i<<6,n.strstart!==0&&(o|=eIn),o+=31-o%31,ky(n,o),n.strstart!==0&&(ky(n,e.adler>>>16),ky(n,e.adler&65535)),e.adler=1,n.status=jp,Hs(e),n.pending!==0)return n.last_flush=-1,Zo}if(n.status===hV){if(e.adler=0,fn(n,31),fn(n,139),fn(n,8),n.gzhead)fn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),fn(n,n.gzhead.time&255),fn(n,n.gzhead.time>>8&255),fn(n,n.gzhead.time>>16&255),fn(n,n.gzhead.time>>24&255),fn(n,n.level===9?2:n.strategy>=$2||n.level<2?4:0),fn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(fn(n,n.gzhead.extra.length&255),fn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Oo(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=NF;else if(fn(n,0),fn(n,0),fn(n,0),fn(n,0),fn(n,0),fn(n,n.level===9?2:n.strategy>=$2||n.level<2?4:0),fn(n,tIn),n.status=jp,Hs(e),n.pending!==0)return n.last_flush=-1,Zo}if(n.status===NF){if(n.gzhead.extra){let o=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=a,Hs(e),n.pending!==0)return n.last_flush=-1,Zo;o=0,i-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=zF}if(n.status===zF){if(n.gzhead.name){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o)),Hs(e),n.pending!==0)return n.last_flush=-1,Zo;o=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,fn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=VF}if(n.status===VF){if(n.gzhead.comment){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o)),Hs(e),n.pending!==0)return n.last_flush=-1,Zo;o=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,fn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Oo(e.adler,n.pending_buf,n.pending-o,o))}n.status=HF}if(n.status===HF){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Hs(e),n.pending!==0))return n.last_flush=-1,Zo;fn(n,e.adler&255),fn(n,e.adler>>8&255),e.adler=0}if(n.status=jp,Hs(e),n.pending!==0)return n.last_flush=-1,Zo}if(e.avail_in!==0||n.lookahead!==0||t!==Ff&&n.status!==Qy){let o=n.level===0?$Me(n,t):n.strategy===$2?iIn(n,t):n.strategy===zDn?oIn(n,t):Jy[n.level].func(n,t);if((o===bm||o===j1)&&(n.status=Qy),o===Qi||o===bm)return e.avail_out===0&&(n.last_flush=-1),Zo;if(o===k1&&(t===MDn?$Dn(n):t!==cge&&(LF(n,0,0,!1),t===FDn&&(Jd(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Hs(e),e.avail_out===0))return n.last_flush=-1,Zo}return t!==Ra?Zo:n.wrap<=0?uge:(n.wrap===2?(fn(n,e.adler&255),fn(n,e.adler>>8&255),fn(n,e.adler>>16&255),fn(n,e.adler>>24&255),fn(n,e.total_in&255),fn(n,e.total_in>>8&255),fn(n,e.total_in>>16&255),fn(n,e.total_in>>24&255)):(ky(n,e.adler>>>16),ky(n,e.adler&65535)),Hs(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Zo:uge)},dIn=e=>{if(NC(e))return Mc;const t=e.state.status;return e.state=null,t===jp?Tp(e,LDn):Zo},fIn=(e,t)=>{let n=t.length;if(NC(e))return Mc;const r=e.state,o=r.wrap;if(o===2||o===1&&r.status!==_0||r.lookahead)return Mc;if(o===1&&(e.adler=aw(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){o===0&&(Jd(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const i=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,S0(r);r.lookahead>=Yt;){let c=r.strstart,u=r.lookahead-(Yt-1);do r.ins_h=Lf(r,r.ins_h,r.window[c+Yt-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=Yt-1,S0(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Yt-1,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=i,r.wrap=o,Zo};var hIn=cIn,pIn=LMe,mIn=FMe,gIn=MMe,vIn=lIn,yIn=uIn,bIn=dIn,xIn=fIn,wIn="pako deflate (from Nodeca project)",Hb={deflateInit:hIn,deflateInit2:pIn,deflateReset:mIn,deflateResetKeep:gIn,deflateSetHeader:vIn,deflate:yIn,deflateEnd:bIn,deflateSetDictionary:xIn,deflateInfo:wIn};const CIn=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var _In=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)CIn(n,r)&&(e[r]=n[r])}}return e},SIn=e=>{let t=0;for(let r=0,o=e.length;r<o;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,o=0,i=e.length;r<i;r++){let s=e[r];n.set(s,o),o+=s.length}return n},VD={assign:_In,flattenChunks:SIn};let BMe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{BMe=!1}const lw=new Uint8Array(256);for(let e=0;e<256;e++)lw[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;lw[254]=lw[254]=1;var EIn=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,o,i,s=e.length,a=0;for(o=0;o<s;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),i=0,o=0;i<a;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const kIn=(e,t)=>{if(t<65534&&e.subarray&&BMe)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var jIn=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,o;const i=new Array(n*2);for(o=0,r=0;r<n;){let s=e[r++];if(s<128){i[o++]=s;continue}let a=lw[s];if(a>4){i[o++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|e[r++]&63,a--;if(a>1){i[o++]=65533;continue}s<65536?i[o++]=s:(s-=65536,i[o++]=55296|s>>10&1023,i[o++]=56320|s&1023)}return kIn(i,o)},TIn=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+lw[e[n]]>t?n:t},cw={string2buf:EIn,buf2string:jIn,utf8border:TIn};function AIn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var NMe=AIn;const zMe=Object.prototype.toString,{Z_NO_FLUSH:DIn,Z_SYNC_FLUSH:IIn,Z_FULL_FLUSH:OIn,Z_FINISH:PIn,Z_OK:tj,Z_STREAM_END:RIn,Z_DEFAULT_COMPRESSION:$In,Z_DEFAULT_STRATEGY:MIn,Z_DEFLATED:FIn}=tg;function zC(e){this.options=VD.assign({level:$In,method:FIn,chunkSize:16384,windowBits:15,memLevel:8,strategy:MIn},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new NMe,this.strm.avail_out=0;let n=Hb.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==tj)throw new Error(ym[n]);if(t.header&&Hb.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=cw.string2buf(t.dictionary):zMe.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Hb.deflateSetDictionary(this.strm,r),n!==tj)throw new Error(ym[n]);this._dict_set=!0}}zC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?PIn:DIn,typeof e=="string"?n.input=cw.string2buf(e):zMe.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===IIn||i===OIn)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(o=Hb.deflate(n,i),o===RIn)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=Hb.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===tj;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};zC.prototype.onData=function(e){this.chunks.push(e)};zC.prototype.onEnd=function(e){e===tj&&(this.result=VD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function pV(e,t){const n=new zC(t);if(n.push(e,!0),n.err)throw n.msg||ym[n.err];return n.result}function LIn(e,t){return t=t||{},t.raw=!0,pV(e,t)}function BIn(e,t){return t=t||{},t.gzip=!0,pV(e,t)}var NIn=zC,zIn=pV,VIn=LIn,HIn=BIn,UIn=tg,WIn={Deflate:NIn,deflate:zIn,deflateRaw:VIn,gzip:HIn,constants:UIn};const M2=16209,YIn=16191;var qIn=function(t,n){let r,o,i,s,a,c,u,d,f,p,m,v,g,y,x,b,w,C,_,S,E,j,k,T;const A=t.state;r=t.next_in,k=t.input,o=r+(t.avail_in-5),i=t.next_out,T=t.output,s=i-(n-t.avail_out),a=i+(t.avail_out-257),c=A.dmax,u=A.wsize,d=A.whave,f=A.wnext,p=A.window,m=A.hold,v=A.bits,g=A.lencode,y=A.distcode,x=(1<<A.lenbits)-1,b=(1<<A.distbits)-1;e:do{v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=g[m&x];t:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C===0)T[i++]=w&65535;else if(C&16){_=w&65535,C&=15,C&&(v<C&&(m+=k[r++]<<v,v+=8),_+=m&(1<<C)-1,m>>>=C,v-=C),v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=y[m&b];n:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C&16){if(S=w&65535,C&=15,v<C&&(m+=k[r++]<<v,v+=8,v<C&&(m+=k[r++]<<v,v+=8)),S+=m&(1<<C)-1,S>c){t.msg="invalid distance too far back",A.mode=M2;break e}if(m>>>=C,v-=C,C=i-s,S>C){if(C=S-C,C>d&&A.sane){t.msg="invalid distance too far back",A.mode=M2;break e}if(E=0,j=p,f===0){if(E+=u-C,C<_){_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}}else if(f<C){if(E+=u+f-C,C-=f,C<_){_-=C;do T[i++]=p[E++];while(--C);if(E=0,f<_){C=f,_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}}}else if(E+=f-C,C<_){_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}for(;_>2;)T[i++]=j[E++],T[i++]=j[E++],T[i++]=j[E++],_-=3;_&&(T[i++]=j[E++],_>1&&(T[i++]=j[E++]))}else{E=i-S;do T[i++]=T[E++],T[i++]=T[E++],T[i++]=T[E++],_-=3;while(_>2);_&&(T[i++]=T[E++],_>1&&(T[i++]=T[E++]))}}else if(C&64){t.msg="invalid distance code",A.mode=M2;break e}else{w=y[(w&65535)+(m&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){A.mode=YIn;break e}else{t.msg="invalid literal/length code",A.mode=M2;break e}else{w=g[(w&65535)+(m&(1<<C)-1)];continue t}break}}while(r<o&&i<a);_=v>>3,r-=_,v-=_<<3,m&=(1<<v)-1,t.next_in=r,t.next_out=i,t.avail_in=r<o?5+(o-r):5-(r-o),t.avail_out=i<a?257+(a-i):257-(i-a),A.hold=m,A.bits=v};const wg=15,fge=852,hge=592,pge=0,Y3=1,mge=2,GIn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),KIn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ZIn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),XIn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),QIn=(e,t,n,r,o,i,s,a)=>{const c=a.bits;let u=0,d=0,f=0,p=0,m=0,v=0,g=0,y=0,x=0,b=0,w,C,_,S,E,j=null,k;const T=new Uint16Array(wg+1),A=new Uint16Array(wg+1);let D=null,I,O,$;for(u=0;u<=wg;u++)T[u]=0;for(d=0;d<r;d++)T[t[n+d]]++;for(m=c,p=wg;p>=1&&T[p]===0;p--);if(m>p&&(m=p),p===0)return o[i++]=1<<24|64<<16|0,o[i++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<p&&T[f]===0;f++);for(m<f&&(m=f),y=1,u=1;u<=wg;u++)if(y<<=1,y-=T[u],y<0)return-1;if(y>0&&(e===pge||p!==1))return-1;for(A[1]=0,u=1;u<wg;u++)A[u+1]=A[u]+T[u];for(d=0;d<r;d++)t[n+d]!==0&&(s[A[t[n+d]]++]=d);if(e===pge?(j=D=s,k=20):e===Y3?(j=GIn,D=KIn,k=257):(j=ZIn,D=XIn,k=0),b=0,d=0,u=f,E=i,v=m,g=0,_=-1,x=1<<m,S=x-1,e===Y3&&x>fge||e===mge&&x>hge)return 1;for(;;){I=u-g,s[d]+1<k?(O=0,$=s[d]):s[d]>=k?(O=D[s[d]-k],$=j[s[d]-k]):(O=32+64,$=0),w=1<<u-g,C=1<<v,f=C;do C-=w,o[E+(b>>g)+C]=I<<24|O<<16|$|0;while(C!==0);for(w=1<<u-1;b&w;)w>>=1;if(w!==0?(b&=w-1,b+=w):b=0,d++,--T[u]===0){if(u===p)break;u=t[n+s[d]]}if(u>m&&(b&S)!==_){for(g===0&&(g=m),E+=f,v=u-g,y=1<<v;v+g<p&&(y-=T[v+g],!(y<=0));)v++,y<<=1;if(x+=1<<v,e===Y3&&x>fge||e===mge&&x>hge)return 1;_=b&S,o[_]=m<<24|v<<16|E-i|0}}return b!==0&&(o[E+b]=u-g<<24|64<<16|0),a.bits=m,0};var Ub=QIn;const JIn=0,VMe=1,HMe=2,{Z_FINISH:gge,Z_BLOCK:eOn,Z_TREES:F2,Z_OK:xm,Z_STREAM_END:tOn,Z_NEED_DICT:nOn,Z_STREAM_ERROR:Xa,Z_DATA_ERROR:UMe,Z_MEM_ERROR:WMe,Z_BUF_ERROR:rOn,Z_DEFLATED:vge}=tg,HD=16180,yge=16181,bge=16182,xge=16183,wge=16184,Cge=16185,_ge=16186,Sge=16187,Ege=16188,kge=16189,nj=16190,fu=16191,q3=16192,jge=16193,G3=16194,Tge=16195,Age=16196,Dge=16197,Ige=16198,L2=16199,B2=16200,Oge=16201,Pge=16202,Rge=16203,$ge=16204,Mge=16205,K3=16206,Fge=16207,Lge=16208,gr=16209,YMe=16210,qMe=16211,oOn=852,iOn=592,sOn=15,aOn=sOn,Bge=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function lOn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ng=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<HD||t.mode>qMe?1:0},GMe=e=>{if(ng(e))return Xa;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=HD,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(oOn),t.distcode=t.distdyn=new Int32Array(iOn),t.sane=1,t.back=-1,xm},KMe=e=>{if(ng(e))return Xa;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,GMe(e)},ZMe=(e,t)=>{let n;if(ng(e))return Xa;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Xa:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,KMe(e))},XMe=(e,t)=>{if(!e)return Xa;const n=new lOn;e.state=n,n.strm=e,n.window=null,n.mode=HD;const r=ZMe(e,t);return r!==xm&&(e.state=null),r},cOn=e=>XMe(e,aOn);let Nge=!0,Z3,X3;const uOn=e=>{if(Nge){Z3=new Int32Array(512),X3=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ub(VMe,e.lens,0,288,Z3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ub(HMe,e.lens,0,32,X3,0,e.work,{bits:5}),Nge=!1}e.lencode=Z3,e.lenbits=9,e.distcode=X3,e.distbits=5},QMe=(e,t,n,r)=>{let o;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),r-=o,r?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0},dOn=(e,t)=>{let n,r,o,i,s,a,c,u,d,f,p,m,v,g,y=0,x,b,w,C,_,S,E,j;const k=new Uint8Array(4);let T,A;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ng(e)||!e.output||!e.input&&e.avail_in!==0)return Xa;n=e.state,n.mode===fu&&(n.mode=q3),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,f=a,p=c,j=xm;e:for(;;)switch(n.mode){case HD:if(n.wrap===0){n.mode=q3;break}for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,k[0]=u&255,k[1]=u>>>8&255,n.check=Oo(n.check,k,2,0),u=0,d=0,n.mode=yge;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=gr;break}if((u&15)!==vge){e.msg="unknown compression method",n.mode=gr;break}if(u>>>=4,d-=4,E=(u&15)+8,n.wbits===0&&(n.wbits=E),E>15||E>n.wbits){e.msg="invalid window size",n.mode=gr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?kge:fu,u=0,d=0;break;case yge:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==vge){e.msg="unknown compression method",n.mode=gr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=gr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Oo(n.check,k,2,0)),u=0,d=0,n.mode=bge;case bge:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,n.check=Oo(n.check,k,4,0)),u=0,d=0,n.mode=xge;case xge:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Oo(n.check,k,2,0)),u=0,d=0,n.mode=wge;case wge:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Oo(n.check,k,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=Cge;case Cge:if(n.flags&1024&&(m=n.length,m>a&&(m=a),m&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+m),E)),n.flags&512&&n.wrap&4&&(n.check=Oo(n.check,r,m,i)),a-=m,i+=m,n.length-=m),n.length))break e;n.length=0,n.mode=_ge;case _ge:if(n.flags&2048){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Oo(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Sge;case Sge:if(n.flags&4096){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Oo(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.comment=null);n.mode=Ege;case Ege:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=gr;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=fu;break;case kge:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}e.adler=n.check=Bge(u),u=0,d=0,n.mode=nj;case nj:if(n.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,nOn;e.adler=n.check=1,n.mode=fu;case fu:if(t===eOn||t===F2)break e;case q3:if(n.last){u>>>=d&7,d-=d&7,n.mode=K3;break}for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=jge;break;case 1:if(uOn(n),n.mode=L2,t===F2){u>>>=2,d-=2;break e}break;case 2:n.mode=Age;break;case 3:e.msg="invalid block type",n.mode=gr}u>>>=2,d-=2;break;case jge:for(u>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=gr;break}if(n.length=u&65535,u=0,d=0,n.mode=G3,t===F2)break e;case G3:n.mode=Tge;case Tge:if(m=n.length,m){if(m>a&&(m=a),m>c&&(m=c),m===0)break e;o.set(r.subarray(i,i+m),s),a-=m,i+=m,c-=m,s+=m,n.length-=m;break}n.mode=fu;break;case Age:for(;d<14;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=gr;break}n.have=0,n.mode=Dge;case Dge:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.lens[D[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},j=Ub(JIn,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid code lengths set",n.mode=gr;break}n.have=0,n.mode=Ige;case Ige:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[u&(1<<n.lenbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(w<16)u>>>=x,d-=x,n.lens[n.have++]=w;else{if(w===16){for(A=x+2;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(u>>>=x,d-=x,n.have===0){e.msg="invalid bit length repeat",n.mode=gr;break}E=n.lens[n.have-1],m=3+(u&3),u>>>=2,d-=2}else if(w===17){for(A=x+3;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=3+(u&7),u>>>=3,d-=3}else{for(A=x+7;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=11+(u&127),u>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=gr;break}for(;m--;)n.lens[n.have++]=E}}if(n.mode===gr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=gr;break}if(n.lenbits=9,T={bits:n.lenbits},j=Ub(VMe,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid literal/lengths set",n.mode=gr;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},j=Ub(HMe,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,j){e.msg="invalid distances set",n.mode=gr;break}if(n.mode=L2,t===F2)break e;case L2:n.mode=B2;case B2:if(a>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,qIn(e,p),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,n.mode===fu&&(n.back=-1);break}for(n.back=0;y=n.lencode[u&(1<<n.lenbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(b&&!(b&240)){for(C=x,_=b,S=w;y=n.lencode[S+((u&(1<<C+_)-1)>>C)],x=y>>>24,b=y>>>16&255,w=y&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,n.length=w,b===0){n.mode=Mge;break}if(b&32){n.back=-1,n.mode=fu;break}if(b&64){e.msg="invalid literal/length code",n.mode=gr;break}n.extra=b&15,n.mode=Oge;case Oge:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Pge;case Pge:for(;y=n.distcode[u&(1<<n.distbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(!(b&240)){for(C=x,_=b,S=w;y=n.distcode[S+((u&(1<<C+_)-1)>>C)],x=y>>>24,b=y>>>16&255,w=y&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,b&64){e.msg="invalid distance code",n.mode=gr;break}n.offset=w,n.extra=b&15,n.mode=Rge;case Rge:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=gr;break}n.mode=$ge;case $ge:if(c===0)break e;if(m=p-c,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=gr;break}m>n.wnext?(m-=n.wnext,v=n.wsize-m):v=n.wnext-m,m>n.length&&(m=n.length),g=n.window}else g=o,v=s-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do o[s++]=g[v++];while(--m);n.length===0&&(n.mode=B2);break;case Mge:if(c===0)break e;o[s++]=n.length,c--,n.mode=B2;break;case K3:if(n.wrap){for(;d<32;){if(a===0)break e;a--,u|=r[i++]<<d,d+=8}if(p-=c,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Oo(n.check,o,p,s-p):aw(n.check,o,p,s-p)),p=c,n.wrap&4&&(n.flags?u:Bge(u))!==n.check){e.msg="incorrect data check",n.mode=gr;break}u=0,d=0}n.mode=Fge;case Fge:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=gr;break}u=0,d=0}n.mode=Lge;case Lge:j=tOn;break e;case gr:j=UMe;break e;case YMe:return WMe;case qMe:default:return Xa}return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,(n.wsize||p!==e.avail_out&&n.mode<gr&&(n.mode<K3||t!==gge))&&QMe(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Oo(n.check,o,p,e.next_out-p):aw(n.check,o,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===fu?128:0)+(n.mode===L2||n.mode===G3?256:0),(f===0&&p===0||t===gge)&&j===xm&&(j=rOn),j},fOn=e=>{if(ng(e))return Xa;let t=e.state;return t.window&&(t.window=null),e.state=null,xm},hOn=(e,t)=>{if(ng(e))return Xa;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,xm):Xa},pOn=(e,t)=>{const n=t.length;let r,o,i;return ng(e)||(r=e.state,r.wrap!==0&&r.mode!==nj)?Xa:r.mode===nj&&(o=1,o=aw(o,t,n,0),o!==r.check)?UMe:(i=QMe(e,t,n,n),i?(r.mode=YMe,WMe):(r.havedict=1,xm))};var mOn=KMe,gOn=ZMe,vOn=GMe,yOn=cOn,bOn=XMe,xOn=dOn,wOn=fOn,COn=hOn,_On=pOn,SOn="pako inflate (from Nodeca project)",Cu={inflateReset:mOn,inflateReset2:gOn,inflateResetKeep:vOn,inflateInit:yOn,inflateInit2:bOn,inflate:xOn,inflateEnd:wOn,inflateGetHeader:COn,inflateSetDictionary:_On,inflateInfo:SOn};function EOn(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var kOn=EOn;const JMe=Object.prototype.toString,{Z_NO_FLUSH:jOn,Z_FINISH:TOn,Z_OK:uw,Z_STREAM_END:Q3,Z_NEED_DICT:J3,Z_STREAM_ERROR:AOn,Z_DATA_ERROR:zge,Z_MEM_ERROR:DOn}=tg;function VC(e){this.options=VD.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new NMe,this.strm.avail_out=0;let n=Cu.inflateInit2(this.strm,t.windowBits);if(n!==uw)throw new Error(ym[n]);if(this.header=new kOn,Cu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=cw.string2buf(t.dictionary):JMe.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Cu.inflateSetDictionary(this.strm,t.dictionary),n!==uw)))throw new Error(ym[n])}VC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?TOn:jOn,JMe.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=Cu.inflate(n,s),i===J3&&o&&(i=Cu.inflateSetDictionary(n,o),i===uw?i=Cu.inflate(n,s):i===zge&&(i=J3));n.avail_in>0&&i===Q3&&n.state.wrap>0&&e[n.next_in]!==0;)Cu.inflateReset(n),i=Cu.inflate(n,s);switch(i){case AOn:case zge:case J3:case DOn:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===Q3))if(this.options.to==="string"){let c=cw.utf8border(n.output,n.next_out),u=n.next_out-c,d=cw.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===uw&&a===0)){if(i===Q3)return i=Cu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};VC.prototype.onData=function(e){this.chunks.push(e)};VC.prototype.onEnd=function(e){e===uw&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=VD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function mV(e,t){const n=new VC(t);if(n.push(e),n.err)throw n.msg||ym[n.err];return n.result}function IOn(e,t){return t=t||{},t.raw=!0,mV(e,t)}var OOn=VC,POn=mV,ROn=IOn,$On=mV,MOn=tg,FOn={Inflate:OOn,inflate:POn,inflateRaw:ROn,ungzip:$On,constants:MOn};const{Deflate:LOn,deflate:BOn,deflateRaw:NOn,gzip:zOn}=WIn,{Inflate:VOn,inflate:HOn,inflateRaw:UOn,ungzip:WOn}=FOn;var YOn=LOn,qOn=BOn,GOn=NOn,KOn=zOn,ZOn=VOn,XOn=HOn,QOn=UOn,JOn=WOn,ePn=tg,e4e={Deflate:YOn,deflate:qOn,deflateRaw:GOn,gzip:KOn,Inflate:ZOn,inflate:XOn,inflateRaw:QOn,ungzip:JOn,constants:ePn};function tPn(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function t4e(e,t){return E0(e)?e[Number(t)]:e[t]}function n4e(e,t){if(e){var n=t.shift(),r=t4e(e,n);return t.length&&(E0(r)||dw(r))?n4e(r,t):r}}function E0(e){return Array.isArray(e)}function dw(e){return e&&typeof e=="object"}function eR(e,t,n){if(E0(e)){e[Number(t)]=n;return}if(dw(e)){e[t]=n;return}throw new Error("shallowClone: target must be an object or an array")}function Vge(e){if(E0(e))return e.slice(0);if(dw(e))return tPn({},e);throw new Error("shallowClone: source must be an object or an array")}function nPn(e,t){return t?n4e(e,t.split("/")):e}function rPn(e,t,n){if(!t){if(E0(n)||dw(n))return n;throw new Error("set: cannot replace value with a non-record value")}if(nPn(e,t)===n)return e;for(var r=Vge(e),o=t.split("/"),i=e,s=r;o.length;){var a=o.shift();if(o.length){var c=t4e(i,a);if(c===void 0&&(c={},eR(i,a,c)),!E0(c)&&!dw(c))throw new Error('set: path is not targeting an object nor an array: "'+t+'"');i=c;var u=Vge(i);eR(s,a,u),s=u}else eR(s,a,n)}return r}const Vv=[],WF={},oPn="auto",iPn=1,rj=[{name:"auto",title:"Full",rect:{width:"auto"}},{name:"768",title:"768px",rect:{width:768}},{name:"375",title:"375px",rect:{width:375,height:667}},{name:"320",title:"320px",rect:{width:320,height:568}}],Hge=[{value:.5,title:"50%"},{value:.75,title:"75%"},{value:1,title:"100%"},{value:1.5,title:"150%"},{value:2,title:"200%"},{value:3,title:"300%"}];function r4e(){const e=new Set;return{publish(t){for(const n of e)n(t)},subscribe(t){return e.add(t),()=>{e.delete(t)}}}}const sPn={parse(e){const t=new URLSearchParams("?"+e),n={};return t.forEach((r,o)=>{n[o]=r}),n},stringify(e){return Object.entries(e).map(t=>{let[n,r]=t;return"".concat(n,"=").concat(r)}).join("&")}};function aPn(e,t){const n=t.split("/").slice(1).filter(Boolean),r=n.join("/");if(n.length===0)return{scope:null,story:null};for(const o of e)for(const i of o.stories){const s=[o.name,i.name].filter(Boolean).join("/");if(r===s)return{scope:o,story:i}}return{scope:null,story:null}}function o4e(e){const{baseUrl:t="/frame/",path:n,payload:r,scheme:o,viewport:i,zoom:s}=e;return[t,"?path=".concat(encodeURIComponent(n)),"&scheme=".concat(o),"&viewport=".concat(i),"&zoom=".concat(s),...Object.entries(r).map(a=>{let[c,u]=a;return"&".concat(c,"=").concat(u)})].join("")}const i4e=h.createContext(null);function T1(){const e=h.useContext(i4e);if(!e)throw new Error("Props: missing context value");return e}const lPn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=T1();return l.jsxs(U,{as:"label",padding:3,children:[l.jsx(M,{marginRight:2,style:{lineHeight:0},children:l.jsx(rT,{checked:r||!1,onChange:i=>o(n.name,i.currentTarget.checked)})}),l.jsx(M,{paddingY:1,children:l.jsx(L,{size:1,weight:"semibold",children:n.name})})]})}),cPn=h.memo(function(t){const{schema:n,value:r=""}=t,{setPropValue:o}=T1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx($r,{fontSize:[2,2,1],onChange:i=>o(n.name,Number(i.currentTarget.value)),padding:2,value:r})})]})}),uPn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=T1(),i=h.useMemo(()=>{const s=Object.entries(n.options);for(const[a,c]of s)if(c===r)return a;return""},[n,r]);return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Kf,{fontSize:[2,2,1],onChange:s=>{const a=s.currentTarget.value,c=n.options[a];o(n.name,c)},padding:2,radius:2,value:String(i||""),children:Object.entries(n.options).map(s=>{let[a]=s;return l.jsx("option",{value:a,children:a},a)})})})]})}),dPn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=T1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx($r,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),padding:2,value:r||""})})]})}),fPn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=T1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(GCe,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),rows:4,value:r||""})})]})});function hPn(e){const{schema:t,value:n}=e;return t.type==="boolean"?l.jsx(lPn,{schema:t,value:n}):t.type==="number"?l.jsx(cPn,{schema:t,value:n}):t.type==="select"?l.jsx(uPn,{schema:t,value:n}):t.type==="string"?l.jsx(dPn,{schema:t,value:n}):t.type==="text"?l.jsx(fPn,{schema:t,value:n}):l.jsx(M,{padding:2,children:l.jsxs(L,{size:1,weight:"semibold",children:["Unknown Prop type:"," ",l.jsxs("code",{children:[t.name,": ",t.type]})]})})}const pPn=h.memo(function(){const{schemas:t,value:n}=T1();return l.jsxs(M,{padding:2,children:[t.length===0&&l.jsx(M,{padding:2,children:l.jsx(L,{muted:!0,size:[2,2,1],children:"No properties"})}),t.length>0&&t.map((r,o)=>l.jsx(hPn,{schema:r,value:n[r.name]===void 0?r.defaultValue:n[r.name]},o))]})}),Hv=Ht,s4e=h.createContext(null);function ll(){const e=h.useContext(s4e);if(!e)throw new Error("Workshop: missing context value");return e}const mPn=typeof window>"u"?e=>Buffer.from(e,"binary").toString("base64"):window.btoa,gPn=typeof window>"u"?e=>Buffer.from(e,"base64").toString("binary"):window.atob;function vPn(e){let t="";for(let n=0,{length:r}=e;n<r;n++)t+=String.fromCharCode(e[n]);return mPn(t)}function yPn(e){const t=gPn(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}function bPn(e){if(e.length===0)return"";const t=yPn(e);return e4e.inflate(t,{to:"string"})}function xPn(e){if(e.length===0)return"";const t=e4e.deflate(e);return vPn(t)}function wPn(e){return xPn(JSON.stringify(e))}function Uge(e){try{return JSON.parse(bPn(e))}catch{return{}}}function CPn(e,t){if(t.type==="workshop/props/setValue")return{...e,value:t.value};if(t.type==="workshop/props/registerProp")return{...e,schemas:e.schemas.concat([t.schema])};if(t.type==="workshop/props/unregisterProp"){const n={...e.value};return delete n[t.name],{...e,schemas:e.schemas.filter(r=>r.name!==t.name),value:n}}return t.type==="workshop/props/setPropValue"?{...e,value:{...e.value,[t.name]:t.value}}:e}const _Pn=h.memo(function(t){const{children:n}=t,{channel:r,broadcast:o,payload:i}=ll(),s=i.value,a=h.useRef(s),[{schemas:c,value:u},d]=h.useState({schemas:[],value:Uge(String(s))||{}}),f=h.useCallback(g=>{o({type:"workshop/props/registerProp",schema:g})},[o]),p=h.useCallback(g=>{o({type:"workshop/props/unregisterProp",name:g})},[o]),m=h.useCallback((g,y)=>{o({type:"workshop/props/setPropValue",name:g,value:y})},[o]),v=h.useMemo(()=>({registerProp:f,schemas:c,setPropValue:m,unregisterProp:p,value:u}),[f,c,m,p,u]);return h.useEffect(()=>r.subscribe(g=>{d(y=>{const x=CPn(y,g);return Hv(y,x)?y:x})}),[r]),h.useEffect(()=>{const g=wPn(u);a.current!==g&&(a.current=g,o({type:"workshop/setPayloadValue",key:"value",value:g}))},[o,u]),h.useEffect(()=>{a.current!==s&&(a.current=s,d(g=>({...g,value:Uge(String(s))||{}})))},[s]),l.jsx(i4e.Provider,{value:v,children:n})});function SPn(){return{name:"props",title:"Properties",inspector:pPn,provider:_Pn}}const a4e=h.memo(function(t){const{broadcast:n,children:r,channel:o,config:i,frameReady:s,origin:a,path:c,payload:u,scheme:d,viewport:f="auto",zoom:p=1}=t,{plugins:m=Vv,collections:v=Vv,frameUrl:g="/frame/",scopes:y,title:x="Workshop"}=i;if(!u)throw new Error("missing `payload` property");const b=h.useMemo(()=>[SPn(),...m],[m]),{scope:w,story:C}=h.useMemo(()=>aPn(y,c),[c,y]),_=h.useMemo(()=>({plugins:b,broadcast:n,channel:o,collections:v,frameReady:s,frameUrl:g,origin:a,path:c,payload:u,scheme:d,scope:w,scopes:y,story:C,title:x,viewport:f,zoom:p}),[b,n,o,v,s,g,a,c,u,d,w,y,C,x,f,p]);let S=r;for(const E of b)E.provider&&(S=h.createElement(E.provider,{options:E.options||WF},S));return l.jsx(s4e.Provider,{value:_,children:S})});function l4e(e,t){if(t.type==="workshop/frameReady")return{...e,frameReady:!0};if(t.type==="workshop/setState")return Hv(e,t.value)?e:t.value;if(t.type==="workshop/setZoom")return e.zoom===t.value?e:{...e,zoom:t.value};if(t.type==="workshop/setViewport")return e.viewport===t.value?e:{...e,viewport:t.value};if(t.type==="workshop/toggleScheme")return{...e,scheme:e.scheme==="light"?"dark":"light"};if(t.type==="workshop/setScheme")return e.scheme===t.value?e:{...e,scheme:t.value};if(t.type==="workshop/setPath")return e.path===t.value?e:{...e,path:t.value};if(t.type==="workshop/setPayload")return Hv(e.payload,t.value)?e:{...e,payload:t.value};if(t.type==="workshop/setPayloadValue"){const n={...e.payload,[t.key]:t.value};return Hv(e.payload,n)?e:{...e,payload:n}}return e}const Wge=(()=>{try{return{}.ROOT_PATH}catch{return}})(),EPn=/http:\/\/([^:/\s]+)(:[0-9]+)?/g,kPn=/\/@fs\//g,jPn=/\?([a-z]{1})=([0-9]+)/g;function Yge(e){let t=decodeURIComponent(e);return t=e.replace(EPn,"").replace(kPn,"/").replace(jPn,""),Wge?TPn(t,Wge+"/"):t}function TPn(e,t){const n=new RegExp(t.replace(/\//g,"\\/"),"g");return e.replace(n,"")}const APn=h.memo(function(){const{story:t}=ll(),[n,r]=h.useState({error:null,errorInfo:null}),o=h.useCallback(s=>{let{error:a,info:c}=s;r({error:a,errorInfo:c})},[]),i=h.useCallback(()=>{r({error:null,errorInfo:null})},[]);return t?n.error?l.jsx(ee,{as:"main",height:"fill",overflow:"auto",tone:"critical",children:l.jsx(IPn,{error:n.error,errorInfo:n.errorInfo,onRetry:i})}):l.jsxs(l.Fragment,{children:[l.jsx("h1",{hidden:!0,children:t.title}),l.jsx(h.Suspense,{fallback:l.jsx(DPn,{story:t}),children:l.jsx(ee,{as:"main",height:"fill",children:l.jsx(L0,{onCatch:o,children:h.createElement(t.component)})})})]}):l.jsx(l.Fragment,{})}),DPn=h.memo(function(t){const{story:n}=t;return l.jsxs(l.Fragment,{children:[l.jsxs("h1",{hidden:!0,children:["Loading ",l.jsx("em",{children:n.title}),"…"]}),l.jsx(U,{align:"center",as:"main",height:"fill",justify:"center",children:l.jsx(ur,{muted:!0})})]})}),IPn=h.memo(function(t){const{error:n,errorInfo:r,onRetry:o}=t;return l.jsx(M,{padding:4,children:l.jsxs(oe,{space:4,children:[l.jsx(Uo,{as:"h1",size:[1,1,2],children:n.message}),l.jsx(M,{children:l.jsx(se,{onClick:o,text:"Retry"})}),n.stack&&l.jsx(ir,{size:1,children:Yge(n.stack)}),r&&l.jsx(ir,{size:1,children:"Component stack:"+Yge(r.componentStack)})]})})});function c4e(e){return Array.isArray(e)}function u4e(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function OPn(){const e=new Set;let t=[],n=null;function r(){n&&clearInterval(n),n=setTimeout(()=>{window.parent.postMessage(t),t=[],n=null},0)}function o(a){const c=a.data;if(c4e(c)){for(const u of c)if(u4e(u)&&typeof u.type=="string"&&u.type.startsWith("workshop/"))for(const d of e)d(u)}}function i(){window.addEventListener("message",o,!1)}function s(){window.removeEventListener("message",o,!1)}return{message:{publish(a){t.push(a),r()},subscribe(a){return e.add(a),e.size===1&&i(),()=>{e.delete(a),e.size===0&&s()}}}}}function PPn(){const e=typeof window>"u"?{}:sPn.parse(window.location.search.slice(1)),{path:t="/",scheme:n,viewport:r,zoom:o,...i}=e;return{frameReady:!1,path:t,payload:i,scheme:typeof n=="string"?n:"light",viewport:typeof r=="string"?r:"auto",zoom:typeof o=="string"?Number(o):1}}h.memo(function(t){const{config:n,setScheme:r}=t,o=h.useMemo(()=>OPn(),[]),i=h.useMemo(()=>r4e(),[]),[s,a]=h.useState(null),[c,u]=h.useState(null),d=h.useCallback(b=>{i.publish(b),o.message.publish(b)},[i,o]),[{frameReady:f,path:p,payload:m,scheme:v,viewport:g,zoom:y},x]=h.useState(()=>PPn());return h.useEffect(()=>i.subscribe(b=>x(w=>l4e(w,b))),[i]),h.useEffect(()=>o.message.subscribe(i.publish),[i,o]),h.useEffect(()=>r(v),[r,v]),h.useEffect(()=>d({type:"workshop/frameReady"}),[d]),l.jsx(C8,{children:l.jsx(Xu,{element:s,children:l.jsx(yd,{element:c,children:l.jsx(a4e,{broadcast:d,config:n,channel:i,frameReady:f,origin:"frame",path:p,payload:m,scheme:v,viewport:g,zoom:y,children:l.jsxs(ee,{height:"fill",ref:a,children:[l.jsx(APn,{}),l.jsx("div",{"data-portal":"",ref:u})]})})})})})});var qge=Object.freeze,RPn=Object.defineProperty,$Pn=(e,t)=>qge(RPn(e,"raw",{value:qge(t||e.slice())})),Gge;y1e(Gge||(Gge=$Pn([`
  body {
    background-color: `,`;
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.base.bg});var Kge=Object.freeze,MPn=Object.defineProperty,FPn=(e,t)=>Kge(MPn(e,"raw",{value:Kge(t||e.slice())})),Zge;const LPn=h.memo(mx),BPn=P(ee)(Zge||(Zge=FPn([`
  line-height: 0;

  @media screen and (max-width: `,`px) {
    text-align: center;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]-1}),NPn=h.memo(function(t){const{currentTabId:n,onTabChange:r,tabs:o}=t,i=h.useMemo(()=>({flex:"none",position:"sticky",top:0}),[]),s=h.useMemo(()=>o.map(a=>l.jsx(zPn,{onTabChange:r,selected:a.id===n,tab:a},a.id)),[n,r,o]);return l.jsx(ss,{style:i,children:l.jsx(BPn,{padding:2,shadow:1,children:l.jsx(aT,{space:1,children:s})})})});function zPn(e){const{onTabChange:t,selected:n,tab:r}=e,o=h.useCallback(()=>{t(r.id)},[t,r]);return l.jsx(LPn,{"aria-controls":"".concat(r.id,"-panel"),fontSize:[2,2,1],id:r.id,label:r.label,onClick:o,selected:n,tone:r.tone})}var Xge=Object.freeze,VPn=Object.defineProperty,HPn=(e,t)=>Xge(VPn(e,"raw",{value:Xge(t||e.slice())})),Qge;const UPn=P(ee)(Qge||(Qge=HPn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-left: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),Jge=h.memo(function(t){return h.createElement(t.component,{options:t.options})}),WPn=h.memo(function(t){const{expanded:n}=t,{plugins:r}=ll(),o=h.useMemo(()=>r.filter(d=>d.inspector).map(d=>({id:d.name,label:d.title,tone:void 0,plugin:d})),[r]),[i,s]=h.useState(o.length>0?o[0].id:null),a=o.find(d=>d.id===i),c=o.length>1,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return l.jsx(UPn,{display:u,flex:1,children:l.jsxs(U,{direction:"column",height:"fill",children:[c&&l.jsx(NPn,{currentTabId:i,onTabChange:s,tabs:o}),c&&o.map(d=>l.jsx(i_e,{"aria-labelledby":"".concat(d.id,"-tab"),flex:1,hidden:d.id!==i,id:"".concat(d.id,"-panel"),overflow:"auto",children:d.plugin.inspector&&l.jsx(Jge,{component:d.plugin.inspector,options:d.plugin.options||WF})},d.id)),!c&&(a==null?void 0:a.plugin.inspector)&&l.jsx(M,{flex:1,overflow:"auto",children:l.jsx(Jge,{component:a.plugin.inspector,options:a.plugin.options||WF})})]})})}),eve=vw;function YPn(){const{broadcast:e,scope:t,story:n,title:r}=ll(),o=h.useCallback(i=>{i.preventDefault(),e({type:"workshop/setPath",value:"/"})},[e]);return l.jsx(qPn,{onHomeClick:o,scopeTitle:t==null?void 0:t.title,storyTitle:n==null?void 0:n.title,title:r})}const qPn=h.memo(function(t){const{onHomeClick:n,scopeTitle:r,storyTitle:o,title:i}=t;return l.jsxs(b8,{separator:l.jsx(L,{muted:!0,size:[2,2,1],children:"/"}),space:2,children:[l.jsx(L,{size:[2,2,1],weight:"bold",children:l.jsx("a",{href:"/",onClick:n,style:{color:"inherit"},children:i})}),r&&l.jsx(L,{align:"center",size:[2,2,1],children:r}),o&&l.jsx(L,{size:[2,2,1],children:o})]})}),GPn=h.memo(function(){const{frameUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}=ll(),a=h.useMemo(()=>n==="/"?void 0:o4e({baseUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}),[t,n,r,o,i,s]);return l.jsx(se,{as:a?"a":"button",disabled:!a,fontSize:1,href:a,iconRight:sh,mode:"ghost",padding:2,rel:"noopener noreferrer",target:"_blank",text:"Open story"})});function KPn(){const{broadcast:e,scheme:t}=ll(),n=h.useCallback(()=>{e({type:"workshop/toggleScheme"})},[e]);return l.jsx(ZPn,{dark:t==="dark",onToggleScheme:n})}const ZPn=h.memo(function(t){const{dark:n,onToggleScheme:r}=t;return l.jsx(se,{fontSize:1,icon:n?_6:j6,mode:"bleed",onClick:r,padding:2})}),XPn=h.memo(function(){const{broadcast:t,story:n,viewport:r}=ll(),o=h.useCallback(i=>{t({type:"workshop/setViewport",value:i})},[t]);return l.jsx(JPn,{disabled:!n,setViewport:o,viewport:r})}),QPn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},JPn=h.memo(function(t){var n;const{disabled:r,setViewport:o,viewport:i}=t;return l.jsx(en,{button:l.jsx(se,{disabled:r,fontSize:1,iconRight:ql,mode:"ghost",padding:2,style:{minWidth:80},text:(n=rj.find(s=>s.name===i))==null?void 0:n.title}),id:"viewport-menu",menu:l.jsx(Bt,{children:rj.map(s=>l.jsx(Ve,{fontSize:1,onClick:()=>o(s.name),padding:2,selected:s.name===i,text:s.title},s.name))}),popover:QPn})});function e3n(){const{broadcast:e,story:t,zoom:n}=ll(),r=h.useCallback(o=>e({type:"workshop/setZoom",value:o}),[e]);return l.jsx(n3n,{disabled:!t,setZoom:r,zoom:n})}const t3n={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},n3n=h.memo(function(t){var n;const{disabled:r,setZoom:o,zoom:i}=t;return l.jsx(en,{button:l.jsx(se,{disabled:r,fontSize:1,iconRight:ql,mode:"ghost",padding:2,style:{minWidth:80},text:(n=Hge.find(s=>s.value===i))==null?void 0:n.title}),id:"zoom-menu",menu:l.jsx(Bt,{children:Hge.map(s=>l.jsx(Ve,{fontSize:1,onClick:()=>o(s.value),padding:2,selected:s.value===i,text:s.title},s.value))}),popover:t3n})}),r3n=h.memo(function(t){const{inspectorExpanded:n,navigatorExpanded:r,onInspectorToggle:o,onNavigatorToggle:i}=t,s=Om(),{story:a,title:c}=ll();return l.jsx(ee,{borderBottom:!0,flex:"none",padding:2,style:{lineHeight:0},children:l.jsxs(U,{gap:1,children:[l.jsx(M,{display:["block","block","none"],flex:"none",children:l.jsx(se,{"aria-label":"Open navigator",fontSize:[2,2,1],icon:C6,mode:"bleed",onClick:i,padding:2,selected:r})}),l.jsxs(U,{flex:1,justify:["center","center","flex-start"],padding:2,sizing:"border",style:{minWidth:250},children:[s<2&&l.jsx(L,{weight:"bold",children:(a==null?void 0:a.title)||c}),s>=2&&l.jsx(YPn,{})]}),l.jsx(M,{display:["block","block","none"],flex:"none",children:l.jsx(se,{"aria-label":"Open inspector",fontSize:[2,2,1],icon:_j,mode:"bleed",onClick:o,padding:2,selected:n})}),l.jsx(M,{display:["none","none","block"],flex:"none",children:l.jsxs(qt,{space:1,children:[l.jsx(GPn,{}),l.jsx(XPn,{}),l.jsx(e3n,{}),l.jsx(KPn,{})]})})]})})});function d4e(e,t,n){if(t.__scope__){const s=t.__scope__;return s.name==="@@root@@"?s.stories.map(a=>({type:"story",...a})):[{type:"scope",name:s.name||"@@root@@",title:s.title||"(root)",scope:s}]}const r=e.find(s=>s.name===n),i=Object.entries(t).filter(s=>{let[a]=s;return a!=="__scope__"}).flatMap(s=>{let[a,c]=s;return d4e((r==null?void 0:r.children)||[],c,a)});return[{type:"list",name:n,title:(r==null?void 0:r.title)||n,items:i}]}function o3n(e,t){const n={};for(const i of t){const s=i.name||"@@root@@",a=n[s]||{name:s,title:i.title,stories:[]},c={...a,name:s,stories:a.stories.concat(i.stories)};n[s]=c}let r={};for(const i of Object.values(n))r=rPn(r,i.name||"@@root@@",{__scope__:i});const o={type:"list",name:"@@root@@",items:[]};for(const[i,s]of Object.entries(r))o.items.push(...d4e(e,s,i));return o}const i3n=h.memo(function(t){const{matches:n,onStoryClick:r}=t;return l.jsx(oe,{space:1,children:n.map(o=>{let{scope:i,story:s}=o;return l.jsx(ee,{as:"a","data-path":"/".concat(i.name,"/").concat(s.name),href:"/".concat(i.name,"/").concat(s.name),onClick:r,padding:2,radius:2,children:l.jsx(L,{size:1,textOverflow:"ellipsis",children:[i.title||"",s.title].filter(Boolean).join(" / ")})},"".concat(i.name,"/").concat(s.name))})})}),s3n=h.memo(function(t){const{items:n}=t;return l.jsx(c_e,{space:1,children:l.jsx(f4e,{items:n})})}),f4e=h.memo(function(t){const{basePath:n="",items:r}=t,{broadcast:o,path:i,scope:s,story:a}=ll(),c=h.useCallback(u=>{u.preventDefault();const f=u.currentTarget.getAttribute("data-path");f&&o({type:"workshop/setPath",value:f})},[o]);return h.useMemo(()=>r.length===0?null:l.jsx(l.Fragment,{children:r.map((u,d)=>{if(u.type==="list"){const f="".concat(n,"/").concat(u.name);return l.jsx(a3n,{expanded:i.startsWith(f+"/"),item:u,path:f},u.name||d)}return u.type==="story"?l.jsx(gx,{"data-path":"/".concat(u.name||""),fontSize:[2,2,1],href:"/".concat(u.name||""),onClick:c,padding:2,selected:(a==null?void 0:a.component)===u.component,text:u.title},u.name):u.type==="scope"?l.jsx(l3n,{currentStory:a,expanded:u.scope===s,item:u,onStoryClick:c},u.name):l.jsx(gx,{text:"unknown"},d)})}),[n,s,a,c,r,i])}),a3n=h.memo(function(t){const{expanded:n,item:r,path:o}=t,i=h.useMemo(()=>l.jsx(f4e,{basePath:o,items:r.items}),[r,o]);return l.jsx(gx,{expanded:n,fontSize:[2,2,1],padding:2,text:r.title,weight:"semibold",children:i})}),l3n=h.memo(function(t){const{currentStory:n,expanded:r,item:o,onStoryClick:i}=t,s=h.useMemo(()=>o.scope.stories.map(a=>l.jsx(gx,{"data-path":"/".concat(o.scope.name,"/").concat(a.name),fontSize:[2,2,1],href:"/".concat(o.scope.name,"/").concat(a.name),onClick:i,padding:2,selected:n===a,text:a.title},a.name)),[n,o,i]);return l.jsx(gx,{expanded:r,fontSize:[2,2,1],padding:2,text:o.title,weight:"semibold",children:s})});var tve=Object.freeze,c3n=Object.defineProperty,u3n=(e,t)=>tve(c3n(e,"raw",{value:tve(t||e.slice())})),nve;const d3n=P(ee)(nve||(nve=u3n([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-right: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),f3n={flex:"none"},h3n={lineHeight:0},p3n=[2,2,1],m3n=h.memo(function(t){const{collections:n=[],expanded:r}=t,{broadcast:o,scopes:i}=ll(),s=h.useMemo(()=>o3n(n,i),[n,i]),[a,c]=h.useState(""),u=h.useMemo(()=>{var m;if(!a)return Vv;const v=a.toLowerCase(),g=[];for(const y of i)for(const x of y.stories)((m=y.title)!=null&&m.toLowerCase().includes(v)||x.title.toLowerCase().includes(v))&&g.push({scope:y,story:x});return g},[a,i]),d=h.useCallback(m=>c(m.currentTarget.value),[]),f=h.useCallback(()=>c(""),[]),p=h.useCallback(m=>{m.preventDefault();const g=m.currentTarget.getAttribute("data-path");g&&(o({type:"workshop/setPath",value:g}),c(""))},[o]);return l.jsx(g3n,{expanded:r,matches:u,menu:s,onSearchQueryChange:d,onSearchQueryClear:f,onStoryClick:p,query:a})}),g3n=h.memo(function(t){const{expanded:n,matches:r,menu:o,onSearchQueryChange:i,onSearchQueryClear:s,onStoryClick:a,query:c}=t,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return l.jsx(d3n,{display:u,flex:1,children:l.jsxs(U,{direction:"column",height:"fill",children:[l.jsx(ss,{style:f3n,children:l.jsx(ee,{padding:2,shadow:1,style:h3n,children:l.jsx($r,{border:!1,clearButton:!!c,fontSize:p3n,icon:ti,onChange:i,onClear:s,padding:2,placeholder:"Stories",radius:2,space:2,value:c})})}),l.jsxs(ee,{flex:1,overflow:"auto",children:[c&&r.length>0&&l.jsx(M,{padding:2,children:l.jsx(i3n,{matches:r,onStoryClick:a})}),!c&&o.type==="list"&&l.jsx(M,{padding:2,children:l.jsx(s3n,{items:o.items})})]})]})})});var rve=Object.freeze,v3n=Object.defineProperty,y3n=(e,t)=>rve(v3n(e,"raw",{value:rve(t||e.slice())})),ove;const b3n=P.iframe(ove||(ove=y3n([`
  display: block;
  border: 0;
  height: 100%;
  width: 100%;
`]))),x3n=h.memo(function(t){const{frameRef:n,hidden:r}=t,{frameReady:o,frameUrl:i,path:s,payload:a,scheme:c,title:u,viewport:d,zoom:f}=ll(),p=rj.find(w=>w.name===d)||rj[0],m=p==null?void 0:p.rect.width,v=p==null?void 0:p.rect.height,[g]=h.useState(()=>o4e({baseUrl:i,path:s,payload:a,scheme:c,viewport:d,zoom:f})),y=h.useMemo(()=>({maxWidth:m==="auto"?void 0:"".concat((m||1)*f,"px"),maxHeight:v?"".concat((v||1)*f,"px"):void 0}),[m,v,f]),x=h.useMemo(()=>r?"none":"block",[r]),b=h.useMemo(()=>({transform:"scale(".concat(f,")"),transformOrigin:"0 0",width:"".concat(100/f,"%"),height:"".concat(100/f,"%")}),[f]);return l.jsx(ee,{display:x,flex:1,overflow:"hidden",tone:"transparent",children:l.jsxs(U,{align:"center",height:"fill",justify:"center",sizing:"border",children:[s==="/"&&l.jsx(Qr,{width:0,children:l.jsxs(oe,{padding:4,space:4,children:[l.jsx(Uo,{align:"center",children:u}),l.jsx(L,{align:"center",muted:!0,children:"Browse workshop stories in the navigator to the left."})]})}),!o&&s!=="/"&&l.jsx(ur,{muted:!0}),l.jsx(Qr,{height:"fill",hidden:!o||s==="/",style:y,width:"auto",children:l.jsx(ee,{height:"fill",shadow:1,children:l.jsx(b3n,{ref:n,src:g,style:b})})})]})})});function w3n(){const e=new Set;let t=null,n=[],r=null;function o(){r&&clearInterval(r),r=setTimeout(()=>{var c;(c=t==null?void 0:t.contentWindow)==null||c.postMessage(n,window.location.origin),n=[],r=null},0)}function i(c){const u=c.data;if(c4e(u)){for(const d of u)if(u4e(d)&&typeof d.type=="string"&&d.type.startsWith("workshop/"))for(const f of e)f(d)}}function s(){t!=null&&t.contentWindow&&window.addEventListener("message",i)}function a(c){c!=null&&c.contentWindow&&window.removeEventListener("message",i)}return{message:{publish(c){n.push(c),o()},subscribe(c){return e.add(c),()=>{e.delete(c)}}},setElement(c){const u=t;t=c,c?s():u&&a(u)}}}function ive(e,t,n){const r=e.path,o=e.query||{},{scheme:i,viewport:s,zoom:a,...c}=o;return{frameReady:n||!1,path:r,payload:c,scheme:t||(typeof i=="string"?i:"light"),viewport:typeof s=="string"?s:"auto",zoom:typeof a=="number"?a:1}}function sve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{payload:n,scheme:r,viewport:o,zoom:i}=e,s={scheme:r};if(o&&o!==oPn&&(s.viewport=o),i&&i!==iPn&&(s.zoom=i),t)for(const[a,c]of Object.entries(n))["schema","viewport","zoom"].includes(a)?console.warn('Workshop: the payload cannot contain a property named "'.concat(a,'" (protected name)')):s[a]=c;return s}h.memo(function(t){var n,r;const{config:o,locationStore:i,onSchemeChange:s,scheme:a}=t,c=(r=(n=o.features)==null?void 0:n.navbar)!=null?r:!0,u=h.useMemo(()=>r4e(),[]),d=h.useMemo(()=>w3n(),[]),[f,p]=h.useState(null),[m,v]=h.useState(null),[{frameReady:g,path:y,payload:x,scheme:b,viewport:w,zoom:C},_]=h.useState(()=>ive(i.get(),a)),S=Om(),[E,j]=h.useState(!1),[k,T]=h.useState(!1),A=h.useRef(g),D=h.useRef(b),I=h.useRef(y),O=h.useRef({scheme:b,viewport:w,zoom:C,...x}),$=h.useCallback(H=>{u.publish(H),d.message.publish(H)},[u,d]),R=h.useMemo(()=>eve(H=>i.push(H),150),[i]),V=h.useMemo(()=>eve(H=>i.replace(H),150),[i]),N=h.useCallback(()=>{j(H=>!H),T(!1)},[]),W=h.useCallback(()=>{j(!1),T(H=>!H)},[]),q=h.useRef(S);return h.useEffect(()=>{q.current<2&&S>=2&&(j(!1),T(!1)),q.current=S},[S]),h.useEffect(()=>{j(!1)},[y]),h.useEffect(()=>()=>R.cancel(),[R]),h.useEffect(()=>()=>V.cancel(),[V]),h.useEffect(()=>u.subscribe(H=>{_(Y=>{const X=l4e(Y,H),B=!Hv(Y,X);if(B){if(H.type==="workshop/setPath"){if(I.current!==X.path){I.current=X.path;const K=sve(X,!1);R({path:X.path,query:K})}}else if(H.type!=="workshop/setState"){const K=sve(X);Hv(O.current,K)||(O.current=K,V({path:X.path,query:K}))}}return B?X:Y})}),[R,V,u,i]),h.useEffect(()=>d.message.subscribe(u.publish),[u,d]),h.useEffect(()=>{A.current=g},[g]),h.useEffect(()=>i.subscribe(H=>{const Y=ive(H,void 0,g);$({type:"workshop/setState",value:Y})}),[$,g,i]),h.useEffect(()=>{D.current=b,s(b)},[s,b]),h.useEffect(()=>{a&&D.current!==a&&(D.current=a,$({type:"workshop/setScheme",value:a}))},[$,a]),o.scopes?l.jsx(a4e,{config:o,broadcast:$,channel:u,frameReady:g,origin:"main",path:y,payload:x,scheme:b,viewport:w,zoom:C,children:l.jsx(C8,{children:l.jsx(Xu,{element:f,children:l.jsx(yd,{element:m,children:l.jsxs(U,{"data-boundary":"",direction:"column",height:"fill",ref:p,style:{minWidth:320},children:[c&&l.jsx(r3n,{inspectorExpanded:k,navigatorExpanded:E,onInspectorToggle:W,onNavigatorToggle:N}),l.jsxs(U,{flex:1,children:[l.jsx(m3n,{collections:o.collections,expanded:E}),l.jsx(x3n,{frameRef:d.setElement,hidden:E||k}),l.jsx(WPn,{expanded:k})]}),l.jsx("div",{"data-portal":"",ref:v})]})})})})}):l.jsx(l.Fragment,{children:"No scopes"})});function C3n(e){const{currentUser:t,fieldName:n,mentionOptions:r,onBlur:o,onFocus:i,onKeyDown:s,onNewThreadCreate:a,readOnly:c}=e,[u,d]=h.useState(Vv),f=h.useRef(null),p=h.useCallback(()=>{a==null||a(u),d(Vv)},[a,u]),m=h.useMemo(()=>LC(u),[u]),v=h.useCallback(()=>{var w;m&&((w=f.current)==null||w.discardDialogController.open())},[m]),g=h.useCallback(w=>{w.isDefaultPrevented()||(w.key==="Escape"&&(w.preventDefault(),w.stopPropagation(),v()),s&&s(w))},[s,v]),y=h.useCallback(()=>{var w,C;d(Vv),(w=f.current)==null||w.discardDialogController.close(),(C=f.current)==null||C.focus()},[]),x=h.useCallback(()=>{var w;(w=f.current)==null||w.discardDialogController.close()},[]),b=l.jsxs(l.Fragment,{children:["Add comment to ",l.jsx("b",{children:n})]});return l.jsx(ND,{currentUser:t,expandOnFocus:!0,mentionOptions:r,onBlur:o,onChange:d,onDiscardCancel:x,onDiscardConfirm:y,onKeyDown:g,onFocus:i,onSubmit:p,placeholder:b,readOnly:c,ref:f,value:u})}var ave=Object.freeze,_3n=Object.defineProperty,h4e=(e,t)=>ave(_3n(e,"raw",{value:ave(t||e.slice())})),lve,cve;const S3n=P(U)(lve||(lve=h4e([`
  min-height: 25px;
`]))),E3n=P(se)(e=>{let{theme:t}=e;const n=t.sanity.color.base.fg;return he(cve||(cve=h4e([`
    --card-fg-color: `,`;

    // The width is needed to make the text ellipsis work
    // in the breadcrumbs component
    max-width: 100%;
  `])),n)});function k3n(e){const{breadcrumbs:t,canCreateNewThread:n,children:r,currentUser:o,fieldPath:i,isSelected:s,mentionOptions:a,onNewThreadCreate:c,onPathSelect:u,readOnly:d}=e,f=h.useCallback(y=>{const x={fieldPath:i,message:y,parentCommentId:void 0,status:"open",threadId:wd()};c==null||c(x)},[c,i]),p=h.useCallback(y=>{y.stopPropagation(),u==null||u({fieldPath:i,origin:"inspector",threadId:null})},[i,u]),m=h.useCallback(y=>{y.stopPropagation(),y.detail!==0&&(u==null||u({fieldPath:i,origin:"inspector",threadId:null}))},[i,u]),v=h.useMemo(()=>(t==null?void 0:t.map(y=>y.title))||[],[t]),g=v[v.length-1];return l.jsxs(oe,{space:2,children:[l.jsx(S3n,{align:"center",gap:2,paddingRight:1,sizing:"border",children:l.jsx(oe,{flex:1,children:l.jsx(U,{align:"center",children:l.jsx(E3n,{"aria-label":"Go to ".concat(g," field"),mode:"bleed",onClick:p,padding:2,children:l.jsx(rDn,{maxLength:3,titlePath:v})})})})}),n&&l.jsx(yMe,{onClick:m,tone:s?"primary":void 0,children:l.jsx(C3n,{currentUser:o,fieldName:g,mentionOptions:a,onNewThreadCreate:f,readOnly:d})}),l.jsx(oe,{space:2,children:r})]})}const uve={open:{title:"No open comments yet",message:l.jsxs("span",{children:["Open comments on this document ",l.jsx("br",{}),"will be shown here."]})},resolved:{title:"No resolved comments yet",message:l.jsxs(l.Fragment,{children:["Resolved comments on this document ",l.jsx("br",{}),"will be shown here."]})}};function j3n(e){const{status:t,error:n,loading:r,hasNoComments:o}=e;return n?l.jsx(U,{align:"center",justify:"center",flex:1,padding:4,children:l.jsx(U,{align:"center",children:l.jsx(L,{size:1,muted:!0,children:"Something went wrong"})})}):r?l.jsx(U,{align:"center",justify:"center",flex:1,padding:4,children:l.jsxs(U,{align:"center",gap:2,children:[l.jsx(ur,{muted:!0,size:1}),l.jsx(L,{size:1,muted:!0,children:"Loading comments..."})]})}):o?l.jsx(U,{align:"center",justify:"center",flex:1,sizing:"border",children:l.jsx(Qr,{width:0,padding:4,children:l.jsxs(oe,{space:3,children:[l.jsx(L,{align:"center",size:1,muted:!0,weight:"semibold",children:uve[t].title}),l.jsx(L,{align:"center",size:1,muted:!0,children:uve[t].message})]})})}):null}const T3n={behavior:"smooth",block:"start",inline:"nearest"};function A3n(e){return e.reduce((t,n)=>{const r=n.fieldPath;return t[r]||(t[r]=[]),t[r].push(n),t},{})}const D3n=h.forwardRef(function(t,n){const{comments:r,currentUser:o,error:i,loading:s,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onNewThreadCreate:p,onPathSelect:m,onReply:v,onStatusChange:g,readOnly:y,selectedPath:x,status:b}=t,[w,C]=h.useState(null),_=h.useCallback(j=>{const k=document==null?void 0:document.querySelector('[data-comment-id="'.concat(j,'"]'));k&&k.scrollIntoView(T3n)},[]);h.useImperativeHandle(n,()=>({scrollToComment:_}),[_]);const S=h.useMemo(()=>Object.entries(A3n(r)),[r]),E=!s&&!i&&S.length>0;return l.jsxs(U,{direction:"column",flex:1,height:"fill",overflow:"hidden",ref:C,sizing:"border",children:[l.jsx(j3n,{error:i,hasNoComments:S.length===0,loading:s,status:b}),E&&l.jsx(oe,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,children:l.jsx(Xu,{element:w,children:S==null?void 0:S.map(j=>{let[k,T]=j;const A=T[0].breadcrumbs,D=T[0].threadId,I=(x==null?void 0:x.fieldPath)===k&&!x.threadId;return l.jsx(oe,{as:"li","data-group-id":D,paddingTop:3,children:l.jsx(k3n,{breadcrumbs:A,canCreateNewThread:b==="open",currentUser:o,fieldPath:k,isSelected:I,mentionOptions:a,onNewThreadCreate:p,onPathSelect:m,readOnly:y,children:T.map(O=>{var $,R;const V=O.replies.slice().reverse(),N=b==="open"&&(($=O.parentComment._state)==null?void 0:$.type)!=="createError"&&((R=O.parentComment._state)==null?void 0:R.type)!=="createRetrying",W=(x==null?void 0:x.threadId)===O.parentComment.threadId&&(x==null?void 0:x.fieldPath)===O.parentComment.target.path.field;return l.jsx(tDn,{canReply:N,currentUser:o,isSelected:W,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onPathSelect:m,onReply:v,onStatusChange:g,parentComment:O.parentComment,readOnly:y,replies:V},O.parentComment._id)})},k)},k)})})})]})}),I3n=ie.memo(D3n),O3n={thread:{title:"Delete this comment thread?",body:"This comment and its replies will be deleted, and once deleted cannot be recovered.",confirmButtonText:"Delete thread"},comment:{title:"Delete this comment?",body:"Once deleted, a comment cannot be recovered.",confirmButtonText:"Delete comment"}};function P3n(e){const{isParent:t,onClose:n,commentId:r,onConfirm:o,loading:i,error:s}=e,{title:a,body:c,confirmButtonText:u}=O3n[t?"thread":"comment"],d=h.useCallback(()=>{o(r)},[r,o]);return l.jsx(Li,{header:a,id:"delete-comment-dialog",onClose:n,width:0,footer:l.jsxs(Qt,{columns:2,padding:2,gap:2,children:[l.jsx(se,{text:"Cancel",mode:"ghost",onClick:n}),l.jsx(se,{loading:i,onClick:d,text:u,tone:"critical"})]}),children:l.jsxs(oe,{padding:4,space:4,children:[l.jsx(L,{children:c}),s&&l.jsx(sr,{tone:"critical",children:"An error occurred while deleting the comment. Please try again."})]})})}var dve=Object.freeze,R3n=Object.defineProperty,gV=(e,t)=>dve(R3n(e,"raw",{value:dve(t||e.slice())})),fve,hve,pve;const $3n=P(M)(fve||(fve=gV([`
  max-width: 280px;
`]))),M3n=Em(hve||(hve=gV([`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`]))),F3n=P(Jt)(pve||(pve=gV([`
  opacity: 0;
  // Fade in the popover after 500ms
  animation: `,` 200ms 500ms forwards;
`])),M3n);function L3n(e){const{onDismiss:t}=e;return l.jsx(F3n,{content:l.jsx($3n,{padding:4,children:l.jsxs(oe,{space:3,children:[l.jsx(L,{weight:"semibold",size:1,children:"Document fields now have comments"}),l.jsx(L,{size:1,children:"You can add comments to any field in a document. They'll show up here, grouped by field."}),l.jsx(U,{justify:"flex-end",marginTop:2,children:l.jsx(se,{fontSize:1,padding:2,text:"Got it",tone:"primary",onClick:t})})]})}),open:!0,portal:!0,...e})}const vV=h.createContext(null);function B3n(e){const t={};return e!==null&&(t.identity=e.id),t}const tR=new Map;async function N3n(e,t,n){tR.has(t)||tR.set(t,iDe("*[".concat(t,"]")));const r=tR.get(t),o=B3n(e),{identity:i}=o,s={...o},a=await(await JAe(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}async function z3n(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await N3n(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}const mve={data:[],error:null,loading:!0};let gve=null;function V3n(e){const{documentValue:t}=e,n=MSn(),r=Yz(),o=fr(sn),[i,s]=h.useState(mve),a=h.useMemo(()=>{const u=n.get().pipe(ue(v=>{var g;return(g=v.members)==null?void 0:g.filter(y=>!y.isRobot)})).pipe(st(async v=>{const g=v.map(x=>{let{id:b}=x;return b});return await r.getUsers(g)}),ue(v=>v.map(g=>({displayName:g.displayName,id:g.id,canBeMentioned:!1})))),d=gve,f=d?be(d):o.observable.fetch('*[_type == "system.group"]');return Qot([u,f]).pipe(jt(async v=>{let[g,y]=v;d||(gve=y);const x=g==null?void 0:g.map(async w=>{const _=[...y.map(E=>E.members.includes(w.id)?E.grants:[])].flat(),{granted:S}=await z3n(w,_,"read",t);return{...w,canBeMentioned:S}});return await Promise.all(x||[])})).pipe(ue(v=>({error:null,loading:!1,data:Bm(v,"displayName")})))},[o.observable,t,n,r]);return h.useEffect(()=>{const c=be(mve),d=Hr(c,a).subscribe(s);return()=>{d.unsubscribe()}},[a]),i}function H3n(e){const{documentId:t,documentType:n}=e||{},r=_n().get(n),{title:o}=ec(),{createPathWithParams:i,params:s}=ru(),a=Vi(),c=vo(()=>!t||!r?be(null):KA(a,r,t,""),[t,a,r]),{published:u,draft:d}=c||{},f=(d==null?void 0:d.title)||(u==null?void 0:u.title)||"Sanity document";return{getNotificationValue:h.useCallback(m=>{let{commentId:v}=m;const g=i({...s,comment:v,inspect:zb}),y="".concat(window.location.origin).concat(g);return{documentTitle:f,url:y,workspaceTitle:o}},[i,f,s,o])}}function U3n(e){const{client:t,currentUser:n,dataset:r,documentId:o,documentType:i,getThreadLength:s,onCreate:a,onCreateError:c,onEdit:u,onRemove:d,onUpdate:f,projectId:p,runSetup:m,workspace:v}=e,g=n==null?void 0:n.id,y=IT(h.useCallback(k=>typeof k.tool=="string"?k.tool:void 0,[])),{tools:x}=ec(),b=h.useMemo(()=>x.find(k=>k.name===y),[y,x]),{getNotificationValue:w}=H3n({documentId:o,documentType:i}),C=h.useCallback(async k=>{const T=(k==null?void 0:k.id)||wd(),A=((s==null?void 0:s(k.threadId))||0)+1,{documentTitle:D="",url:I="",workspaceTitle:O=""}=w({commentId:T})||{},$={currentThreadLength:A,documentTitle:D,url:I,workspaceTitle:O},R={_id:T,_type:"comment",authorId:g||"",lastEditedAt:void 0,message:k.message,parentCommentId:k.parentCommentId,status:k.status,threadId:k.threadId,context:{payload:{workspace:v},notification:$,tool:(b==null?void 0:b.name)||""},target:{path:{field:k.fieldPath},document:{_dataset:r,_projectId:p,_ref:o,_type:"crossDatasetReference",_weak:!0},documentType:i}};if(a==null||a(R),!t){try{await m(R)}catch(V){throw c==null||c(R._id,V),V}return}try{await t.create(R)}catch(V){throw c==null||c(R._id,V),V}},[b==null?void 0:b.name,g,t,r,o,i,w,s,a,c,p,m,v]),_=h.useCallback(async k=>{t&&(d==null||d(k),await Promise.all([t.delete({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}),t.delete(k)]))},[t,d]),S=h.useCallback(async(k,T)=>{if(!t)return;const A={message:T.message,lastEditedAt:new Date().toISOString()};u==null||u(k,A),await t.patch(k).set(A).commit()},[t,u]),E=h.useCallback(async(k,T)=>{if(t){if(f==null||f(k,T),T.status){await Promise.all([t.patch({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}).set({status:T.status}).commit(),t.patch(k).set(T).commit()]);return}await(t==null?void 0:t.patch(k).set(T).commit())}},[t,f]);return{operation:h.useMemo(()=>({create:C,edit:S,remove:_,update:E}),[C,_,S,E])}}function p4e(){const e=h.useContext(vV);if(!e)throw new Error("useComments must be used within a CommentsProvider");return e}function W3n(){const e=h.useContext(w4e);if(!e)throw new Error("useCommentsSetup: missing context value");return e}function yV(e){const{documentId:t,documentType:n}=e,{enabled:r,isLoading:o}=JRe("studioComments"),{enabled:i}=$n().document.unstable_comments,s=i({documentType:n,documentId:On(t)});return h.useMemo(()=>o?{isEnabled:!1,reason:"loading"}:r?s?{isEnabled:!0,reason:null}:{isEnabled:!1,reason:"disabled-by-config"}:{isEnabled:!1,reason:"plan-upgrade-required"},[s,r,o])}const m4e=h.createContext(null),Y3n=1,g4e="sanityStudio:comments:inspector:onboarding:dismissed:v".concat(Y3n),q3n=e=>{try{window.localStorage.setItem(g4e,JSON.stringify(e))}catch{}},G3n=()=>{try{const e=window.localStorage.getItem(g4e);return e?JSON.parse(e):!1}catch{return!1}};function K3n(e){const{children:t}=e,[n,r]=h.useState(G3n()),o=h.useCallback(()=>{r(!0),q3n(!0)},[r]),i=h.useMemo(()=>({setDismissed:o,isDismissed:n}),[o,n]);return l.jsx(m4e.Provider,{value:i,children:t})}function Z3n(){const e=h.useContext(m4e);if(!e)throw new Error("useCommentsOnboarding: missing context value");return e}function v4e(){const e=h.useContext(C4e);if(!e)throw new Error("useCommentsSelectedPath: missing context value");return e}function X3n(e){return e.reduce((n,r)=>({...n,[r._id]:r}),{})}function Q3n(e,t){switch(t.type){case"COMMENTS_SET":{const n=X3n(t.comments);return{...e,comments:n}}case"COMMENT_ADDED":{const n=t.payload,r=n,o={[n._id]:{...e.comments[n._id],...r,_state:n._state||void 0,_createdAt:n._createdAt||new Date().toISOString()}};if(e.comments&&e.comments[n._id])return{...e,comments:{...e.comments,...o}};const s={...e.comments||{},...o};return{...e,comments:s}}case"COMMENT_RECEIVED":{const n=t.payload;return{...e,comments:{...e.comments,[n._id]:n}}}case"COMMENT_DELETED":{const{[t.id]:n,...r}=e.comments;return Object.keys(r).forEach(o=>{r[o].parentCommentId===t.id&&delete r[o]}),{...e,comments:r}}case"COMMENT_UPDATED":{const n=t.payload,r=n._id;return{...e,comments:{...e.comments,[r]:{...e.comments[r],...n}}}}default:return e}}const J3n={comments:{}},eRn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},tRn="_createdAt",nRn="desc",rRn=['_type == "comment"',"target.document._ref == $documentId"],oRn=`{
  _createdAt,
  _id,
  authorId,
  lastEditedAt,
  message,
  parentCommentId,
  status,
  target,
  threadId,
}`,iRn="order(".concat(tRn," ").concat(nRn,")"),vve="*[".concat(rRn.join(" && "),"] ").concat(oRn," | ").concat(iRn);function sRn(e){const{client:t,documentId:n}=e,[r,o]=h.useReducer(Q3n,J3n),[i,s]=h.useState(t!==null),[a,c]=h.useState(null),u=h.useMemo(()=>({documentId:On(n)}),[n]),d=h.useCallback(async()=>{if(!t){s(!1);return}try{const v=await t.fetch(vve,u);o({type:"COMMENTS_SET",comments:v}),s(!1)}catch(v){c(v)}},[t,u]),f=h.useCallback(async v=>{if(v.type==="welcome"&&(s(!0),await d(),s(!1)),v.type==="reconnect"&&s(!0),v.type==="mutation"){if(v.transition==="appear"){const g=v.result;g&&o({type:"COMMENT_RECEIVED",payload:g})}if(v.transition==="disappear"&&o({type:"COMMENT_DELETED",id:v.documentId}),v.transition==="update"){const g=v.result;g&&o({type:"COMMENT_UPDATED",payload:g})}}},[d]),p=h.useMemo(()=>t?t.observable.listen(vve,u,eRn).pipe(In(g=>(c(g),be(g)))):be(),[t,u]);return h.useEffect(()=>{const v=p.subscribe(f);return()=>{v==null||v.unsubscribe()}},[f,p]),{data:h.useMemo(()=>Object.values(r.comments),[r.comments]),dispatch:o,error:a,loading:i}}function y4e(e,t){var n;const r=Rl(t),o=r[0];if(o&&Qa(e)){const i=(n=e==null?void 0:e.fields)==null?void 0:n.find(s=>s.name===o);if(i){const s=Lr(r.slice(1));return s?y4e(i.type,s):i}}}function aRn(e,t){if(typeof t=="number")return t;const n=J7(e,t);return n===-1?!1:n}function lRn(e){const{currentUser:t,schemaType:n,fieldPath:r,documentValue:o}=e,i=Rl(r),s=[];let a=null;return i.forEach((c,u)=>{var d,f,p,m,v;const g=i.slice(0,u+1),y=i.slice(0,u),x=y4e(n,Lr(g)),b=c.hasOwnProperty("_key"),w=Ol(o,y),C=Ol(o,g),_={document:o,currentUser:t,parent:w,value:C};if(b&&Array.isArray(w)){const S=aRn(w,c),E=typeof S=="number";s.push({invalid:S===!1,isArrayItem:!0,title:E?"#".concat(Number(S)+1):"Unknown array item"});return}if(x!=null&&x.type){const S=lo(x.type.hidden,_);s.push({invalid:S,isArrayItem:!1,title:zp(x.type)}),a=x.type;return}if(Wl(a)){const S=Ol(o,y),E=S==null?void 0:S._type,j=(d=a==null?void 0:a.of)==null?void 0:d.find(O=>O.name===E),k=(f=j==null?void 0:j.fields)==null?void 0:f.find(O=>O.name===c);if(!E&&C){const O=(p=a==null?void 0:a.of)==null?void 0:p.map(V=>V==null?void 0:V.fields).filter(Boolean).flat(),$=O==null?void 0:O.find(V=>(V==null?void 0:V.name)===c),R=lo((m=$==null?void 0:$.type)==null?void 0:m.hidden,_);$&&(s.push({invalid:R,isArrayItem:!1,title:zp($==null?void 0:$.type)}),a=$==null?void 0:$.type);return}if(!k){s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});return}const T=zp(k==null?void 0:k.type),A=lo((v=j==null?void 0:j.type)==null?void 0:v.hidden,_),D=lo(k==null?void 0:k.type.hidden,_),I=A||D;s.push({invalid:I,isArrayItem:!1,title:T}),a=k==null?void 0:k.type;return}s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}),s}function cRn(e){const{comments:t,currentUser:n,documentValue:r,schemaType:o}=e;return(t==null?void 0:t.filter(a=>!a.parentCommentId)).map(a=>{const c=lRn({currentUser:n,documentValue:r,fieldPath:a.target.path.field,schemaType:o});if(c.some(p=>p.invalid))return;const d=t==null?void 0:t.filter(p=>p.parentCommentId===a._id),f=[a,...d].length;return{breadcrumbs:c,commentsCount:f,fieldPath:a.target.path.field,parentComment:a,replies:d,threadId:a.threadId}}).filter(Boolean)}const YF=[],b4e={open:YF,resolved:YF},uRn={data:b4e,error:null,loading:!1},dRn={data:[],error:null,loading:!1},x4e=async()=>{await Promise.resolve()},N2={execute:x4e},fRn={comments:uRn,create:N2,edit:N2,getComment:()=>{},isRunningSetup:!1,mentionOptions:dRn,remove:N2,setStatus:x4e,status:"open",update:N2},hRn=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,{isEnabled:i}=yV({documentId:r,documentType:o});return i?l.jsx(pRn,{...t}):l.jsx(vV.Provider,{value:fRn,children:n})}),pRn=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,[i,s]=h.useState("open"),{client:a,runSetup:c,isRunningSetup:u}=W3n(),d=On(r),f=Fz(d,o,"low"),p=h.useMemo(()=>f.draft||f.published,[f.draft,f.published]),{dispatch:m,data:v=YF,error:g,loading:y}=sRn({documentId:d,client:a}),x=V3n(h.useMemo(()=>({documentValue:p}),[p])),b=_n().get(o),w=Yo(),{name:C,dataset:_,projectId:S}=ec(),E=h.useMemo(()=>{if(!b||!w)return b4e;const R=J0(v,["_createdAt"],["desc"]),V=cRn({comments:R,schemaType:b,currentUser:w,documentValue:p});return{open:V.filter(N=>N.parentComment.status==="open"),resolved:V.filter(N=>N.parentComment.status==="resolved")}},[w,v,p,b]),j=h.useCallback(R=>E.open.filter(V=>V.threadId===R).length,[E.open]),k=h.useCallback(R=>v==null?void 0:v.find(V=>V._id===R),[v]),T=h.useCallback(async R=>{var V,N;const W=((N=(V=v==null?void 0:v.find(q=>q._id===R._id))==null?void 0:V._state)==null?void 0:N.type)==="createError";m({type:"COMMENT_ADDED",payload:{...R,_state:W?{type:"createRetrying"}:void 0}})},[v,m]),A=h.useCallback((R,V)=>{m({type:"COMMENT_UPDATED",payload:{_id:R,...V}})},[m]),D=h.useCallback((R,V)=>{m({type:"COMMENT_UPDATED",payload:{_id:R,...V}})},[m]),I=h.useCallback((R,V)=>{m({type:"COMMENT_UPDATED",payload:{_id:R,_state:{error:V,type:"createError"}}})},[m]),{operation:O}=U3n(h.useMemo(()=>({client:a,currentUser:w,dataset:_,documentId:d,documentType:o,projectId:S,schemaType:b,workspace:C,getThreadLength:j,runSetup:c,onCreate:T,onCreateError:I,onEdit:D,onUpdate:A}),[a,w,_,d,o,S,b,C,j,c,T,I,D,A])),$=h.useMemo(()=>({isRunningSetup:u,status:i,setStatus:s,getComment:k,comments:{data:E,error:g,loading:y||u},create:{execute:O.create},remove:{execute:O.remove},edit:{execute:O.edit},update:{execute:O.update},mentionOptions:x}),[u,i,k,E,g,y,O.create,O.remove,O.edit,O.update,x]);return l.jsx(vV.Provider,{value:$,children:n})}),w4e=h.createContext(null),yve="v2023-11-13";function mRn(e){const{children:t}=e,{dataset:n,projectId:r}=ec(),o=fr(sn),[i,s]=h.useState(null),[a,c]=h.useState(!1),u=h.useCallback(async()=>{var m;const v=await o.withConfig({apiVersion:"vX"}).request({uri:"/projects/".concat(r,"/datasets?datasetProfile=comments&addonFor=").concat(n),tag:"sanity.studio"});return(m=v==null?void 0:v[0])==null?void 0:m.name},[n,o,r]),d=h.useCallback(m=>o.withConfig({apiVersion:yve,dataset:m,projectId:r,requestTagPrefix:"sanity.studio",useCdn:!1,withCredentials:!0}),[o,r]),f=h.useCallback(async m=>{c(!0);try{const v=await u();if(v){const g=d(v);s(g),await g.create(m),c(!1);return}}catch{}try{const v=await o.withConfig({apiVersion:yve}).request({uri:"/comments/".concat(n,"/setup"),method:"POST"}),g=v==null?void 0:v.datasetName;if(!g){c(!1);return}const y=d(g);s(y),await y.create(m)}catch(v){throw v}finally{c(!1)}},[n,u,d,o]);h.useEffect(()=>{u().then(m=>{if(!m)return;const v=d(m);s(v)})},[u,d]);const p=h.useMemo(()=>({client:i,runSetup:f,isRunningSetup:a}),[i,f,a]);return l.jsx(w4e.Provider,{value:p,children:t})}const C4e=h.createContext(null),gRn=ie.memo(function(t){const{children:n}=t,[r,o]=h.useState(null),i=h.useCallback(a=>{o(a)},[]),s=h.useMemo(()=>({selectedPath:r,setSelectedPath:i}),[r,i]);return l.jsx(C4e.Provider,{value:s,children:n})}),vRn=P(ee)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}}),yRn=h.forwardRef(function(t,n){const{onClose:r,onViewChange:o,view:i}=t,s=h.useCallback(()=>o("open"),[o]),a=h.useCallback(()=>o("resolved"),[o]);return l.jsx(vRn,{ref:n,children:l.jsxs(U,{padding:2,children:[l.jsxs(U,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:[l.jsx(L,{as:"h1",size:1,weight:"semibold",children:"Comments"}),l.jsx(qSn,{})]}),l.jsxs(U,{flex:"none",padding:1,gap:2,children:[l.jsx(en,{id:"comment-status-menu-button",button:l.jsx(se,{text:cn(i),fontSize:1,padding:2,mode:"bleed",iconRight:tl,space:2}),menu:l.jsxs(Bt,{style:{width:"180px"},children:[l.jsx(Ve,{fontSize:1,iconRight:i==="open"?sa:void 0,onClick:s,text:"Open comments"}),l.jsx(Ve,{fontSize:1,iconRight:i==="resolved"?sa:void 0,onClick:a,text:"Resolved comments"})]}),popover:{placement:"bottom-end"}}),l.jsx(se,{"aria-label":"Close comments",fontSize:1,icon:y6,mode:"bleed",onClick:r,padding:2})]})]})})});var bve=Object.freeze,bRn=Object.defineProperty,_4e=(e,t)=>bve(bRn(e,"raw",{value:bve(t||e.slice())})),xve,wve;const xRn="https://snty.link/comments-beta-feedback",wRn=P.span(xve||(xve=_4e([`
  margin-right: 0.2em;
`]))),CRn=P.a(wve||(wve=_4e([`
  white-space: nowrap;
`]))),_Rn=P(ee)({position:"relative",zIndex:1,"&:after":{content:'""',display:"block",position:"absolute",left:0,top:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function SRn(){return l.jsx(_Rn,{padding:3,children:l.jsxs(L,{muted:!0,size:1,children:["Help improve comments."," ",l.jsxs(CRn,{href:xRn,target:"_blank",rel:"noreferrer",children:[l.jsx(wRn,{children:"Share your feedback "})," ",l.jsx(sh,{})]})]})})}function ERn(e){const{onClose:t}=e,[n,r]=h.useState(!1),[o,i]=h.useState(null),[s,a]=h.useState(!1),[c,u]=h.useState(null),d=h.useRef(null),f=h.useRef(null),p=Yo(),{params:m,createPathWithParams:v,setParams:g}=ru(),y=Fo(m)||lMe,x=h.useRef(y==null?void 0:y.comment),b=h.useRef(!1),w=Wo().push,{onPathOpen:C,ready:_}=hr(),{isDismissed:S,setDismissed:E}=Z3n(),{comments:j,create:k,edit:T,getComment:A,isRunningSetup:D,mentionOptions:I,remove:O,setStatus:$,status:R,update:V}=p4e(),N=h.useMemo(()=>j.data[R],[j,R]),W=h.useMemo(()=>j.loading||!_,[j.loading,_]),{selectedPath:q,setSelectedPath:H}=v4e(),Y=h.useCallback(ce=>{$(ce),H(null)},[H,$]),X=h.useCallback(()=>{t(),H(null)},[t,H]),B=h.useCallback(ce=>{const ve=v({...m,comment:ce}),$e="".concat(window.location.origin).concat(ve);navigator.clipboard.writeText($e).then(()=>{w({closable:!0,status:"info",title:"Copied link to clipboard"})}).catch(()=>{w({closable:!0,status:"error",title:"Unable to copy link to clipboard"})})},[v,m,w]),K=h.useCallback(ce=>{const ve=A(ce);ve&&k.execute({fieldPath:ve.target.path.field,id:ve._id,message:ve.message,parentCommentId:ve.parentCommentId,status:ve.status,threadId:ve.threadId})},[k,A]),z=h.useCallback(()=>{s||(r(!1),i(null))},[s]),Z=h.useCallback(ce=>{if(H(ce),ce!=null&&ce.fieldPath){const ve=Rl(ce.fieldPath);C(ve)}},[C,H]),Q=h.useCallback(ce=>{k.execute(ce),H({fieldPath:ce.fieldPath,origin:"inspector",threadId:ce.threadId})},[k,H]),ne=h.useCallback(ce=>{k.execute(ce)},[k]),G=h.useCallback((ce,ve)=>{T.execute(ce,ve)},[T]),J=h.useCallback(ce=>{var ve;const $e=N.find(it=>{var et;return((et=it.parentComment)==null?void 0:et._id)===ce}),Ae=!!($e&&((ve=$e==null?void 0:$e.replies)==null?void 0:ve.length)>0);r(!0),i({commentId:ce,isParent:Ae})},[N]),re=h.useCallback(async ce=>{try{a(!0),await O.execute(ce),z()}catch(ve){u(ve)}finally{a(!1)}},[z,O]),fe=h.useCallback((ce,ve)=>{const $e=A(ce);$e&&(H({fieldPath:$e.target.path.field||null,origin:ve||"inspector",threadId:$e.threadId||null}),setTimeout(()=>{var Ae;(Ae=d.current)==null||Ae.scrollToComment(ce)}))},[A,H]),le=h.useCallback((ce,ve)=>{V.execute(ce,{status:ve}),ve==="open"&&($("open"),fe(ce))},[fe,$,V]),ge=h.useCallback(()=>{q&&H(null)},[q,H]),we=h.useCallback(()=>{q&&H(null)},[q,H]);return lr(ge,[f.current]),h.useEffect(()=>{const ce=A(x.current||"");!W&&ce&&b.current===!1&&($(ce.status||"open"),fe(ce._id,"url"),b.current=!0,x.current=void 0,g({...m,comment:void 0}))},[A,fe,W,m,g,$]),l.jsxs(h.Fragment,{children:[o&&n&&l.jsx(P3n,{...o,error:c,loading:s,onClose:z,onConfirm:re}),l.jsxs(U,{direction:"column",overflow:"hidden",height:"fill",ref:f,onClick:we,children:[l.jsx(L3n,{onDismiss:E,open:!S,placement:"left-start",children:l.jsx(yRn,{onClose:X,onViewChange:Y,view:R})}),p&&l.jsx(I3n,{comments:N,currentUser:p,error:j.error,loading:W,mentionOptions:I,onCopyLink:B,onCreateRetry:K,onDelete:J,onEdit:G,onNewThreadCreate:Q,onPathSelect:Z,onReply:ne,onStatusChange:le,readOnly:D,ref:d,selectedPath:q,status:R}),l.jsx(SRn,{})]})]})}function kRn(e){const{documentId:t,documentType:n}=e,{isEnabled:r}=yV({documentId:t,documentType:n});return{hidden:!r,icon:D1e,showAsAction:!0,title:"Comments"}}const jRn={name:zb,component:ERn,useMenuItem:kRn};var Cve=Object.freeze,TRn=Object.defineProperty,S4e=(e,t)=>Cve(TRn(e,"raw",{value:Cve(t||e.slice())})),_ve,Sve;const Eve={open:500},ARn=P(L)(_ve||(_ve=S4e([`
  width: max-content;
`]))),DRn=P(oe)(Sve||(Sve=S4e([`
  width: 320px;
`])));function IRn(e){const{count:t,currentUser:n,fieldTitle:r,isRunningSetup:o,mentionOptions:i,onChange:s,onClick:a,onCommentAdd:c,onDiscard:u,onInputKeyDown:d,open:f,setOpen:p,value:m}=e,[v,g]=h.useState(null),[y,x]=h.useState(null),b=h.useRef(null),w=t>0,C=h.useCallback(()=>{f&&(p(!1),y==null||y.focus())},[y,f,p]),_=h.useCallback(()=>{c(),C()},[C,c]),S=h.useMemo(()=>LC(m),[m]),E=h.useCallback(()=>{var I;if(!S){C();return}(I=b.current)==null||I.discardDialogController.open()},[C,S]),j=h.useCallback(I=>{I.isDefaultPrevented()||d&&d(I)},[d]),k=h.useCallback(()=>{var I;(I=b.current)==null||I.discardDialogController.close()},[]),T=h.useCallback(()=>{var I;(I=b.current)==null||I.discardDialogController.close(),C(),u()},[C,u]),A=h.useCallback(I=>{I.key==="Escape"&&(I.preventDefault(),I.stopPropagation(),E())},[E]),D=h.useCallback(()=>{f&&E()},[f,E]);if(lr(D,[v]),!w){const I=l.jsxs(l.Fragment,{children:["Add comment to ",l.jsx("b",{children:r})]}),O=l.jsx(DRn,{padding:2,space:4,children:l.jsx(ND,{currentUser:n,focusLock:!0,focusOnMount:!0,mentionOptions:i,onChange:s,onDiscardCancel:k,onDiscardConfirm:T,onKeyDown:j,onSubmit:_,placeholder:I,readOnly:o,ref:b,value:m})});return l.jsx(Jt,{constrainSize:!0,content:O,fallbackPlacements:["bottom-end"],open:f,placement:"right-start",portal:!0,ref:g,onKeyDown:A,children:l.jsx("div",{children:l.jsx(at,{delay:Eve,disabled:f,portal:!0,placement:"top",content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Add comment"})}),children:l.jsx(se,{"aria-label":"Add comment",disabled:o,fontSize:1,icon:eAn,mode:"bleed",onClick:a,padding:2,ref:x,selected:f})})})})}return l.jsx(at,{portal:!0,placement:"top",content:l.jsx(M,{padding:2,sizing:"border",children:l.jsxs(ARn,{size:1,children:["View comment",t>1?"s":""]})}),delay:Eve,fallbackPlacements:["bottom"],children:l.jsx(se,{"aria-label":"Open comments",mode:"bleed",onClick:a,padding:2,children:l.jsxs(U,{align:"center",gap:2,children:[l.jsx(L,{size:1,children:l.jsx(tAn,{})}),l.jsx(L,{size:0,children:t>9?"9+":t})]})})})}var kve=Object.freeze,ORn=Object.defineProperty,E4e=(e,t)=>kve(ORn(e,"raw",{value:kve(t||e.slice())})),jve,Tve;const PRn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function RRn(e){const{documentId:t,documentType:n}=hr(),{isEnabled:r}=yV({documentId:t,documentType:n});return r?l.jsx(FRn,{...e}):e.renderDefault(e)}const Ave={behavior:"smooth",block:"start"},$Rn=P(gd.div)(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=pe.blue[o.dark?900:50].hex;return he(jve||(jve=E4e([`
    mix-blend-mode: `,`;
    border-radius: `,`px;
    top: -`,`px;
    left: -`,`px;
    bottom: -`,`px;
    right: -`,`px;
    pointer-events: none;
    position: absolute;
    z-index: 1;
    width: calc(100% + `,`px);
    height: calc(100% + `,`px);
    background-color: `,`;
  `])),o.dark?"screen":"multiply",n[3],r[2],r[2],r[2],r[2],r[2]*2,r[2]*2,i)}),MRn=P(oe)(Tve||(Tve=E4e([`
  position: relative;
`])));function FRn(e){const[t,n]=h.useState(!1),[r,o]=h.useState(null),i=h.useRef(null),{element:s}=hh(),{openInspector:a,inspector:c}=hr(),u=Yo(),{comments:d,create:f,isRunningSetup:p,mentionOptions:m,setStatus:v,status:g}=p4e(),{selectedPath:y,setSelectedPath:x}=v4e(),b=h.useMemo(()=>zp(e.schemaType),[e.schemaType]),[w,C]=h.useState(null),_=h.useMemo(()=>(c==null?void 0:c.name)===zb,[c==null?void 0:c.name]),S=h.useMemo(()=>!_||(y==null?void 0:y.origin)==="form"||(y==null?void 0:y.origin)==="url"?!1:(y==null?void 0:y.fieldPath)===Lr(e.path),[_,e.path,y]),E=h.useMemo(()=>{const R=Lr(e.path);return d.data.open.map(N=>N.fieldPath===R?N.commentsCount:0).reduce((N,W)=>N+W,0)||0},[d.data.open,e.path]),j=E>0,k=h.useCallback(()=>a(zb),[a]),T=h.useCallback(R=>{x({threadId:R,origin:"form",fieldPath:Lr(e.path)}),C(R)},[e.path,x]),A=h.useCallback(()=>{var R;if(j){g==="resolved"&&v("open"),n(!1),a(zb);const V=(R=d.data.open.find(N=>N.fieldPath===Lr(e.path)))==null?void 0:R.threadId;V&&T(V);return}n(V=>!V)},[g,j,T,d.data,v,a,e.path]),D=h.useCallback(()=>{if(r){const R=wd(),V={fieldPath:Lr(e.path),message:r,parentCommentId:void 0,status:"open",threadId:R};f.execute(V),k(),g==="resolved"&&v("open"),o(null),T(R)}},[f,k,T,e.path,v,g,r]),I=h.useCallback(()=>o(null),[]),O=h.useMemo(()=>({...Ave,boundary:s,scrollMode:"if-needed",block:"start"}),[s]);h.useEffect(()=>{S&&i.current&&_&&u0(i.current,O)},[s,_,S,e.path,O]),h.useEffect(()=>{if(_&&w){const R=document.querySelector('[data-group-id="'.concat(w,'"]'));R&&(R.scrollIntoView(Ave),C(null))}},[_,w]);const $=h.useMemo(()=>({button:u&&l.jsx(IRn,{count:Number(E),currentUser:u,fieldTitle:b,isRunningSetup:p,mentionOptions:m,onChange:o,onClick:A,onCommentAdd:D,onDiscard:I,open:t,setOpen:n,value:r}),hasComments:j,isAddingComment:t}),[u,E,b,m,A,D,I,t,r,p,j]);return l.jsxs(MRn,{ref:i,children:[e.renderDefault({...e,__internal_comments:$}),l.jsx(s8,{children:S&&l.jsx($Rn,{animate:"animate",exit:"exit",initial:"initial",variants:PRn})})]})}function LRn(e){return l.jsx(mRn,{children:l.jsx(K3n,{children:e.renderDefault(e)})})}const BRn=yN({name:"sanity/desk/comments",document:{inspectors:[jRn]},form:{components:{field:RRn}},studio:{components:{layout:LRn}}}),bV="sanityStudio:desk:renameDismissed",xV=(()=>{if(typeof localStorage>"u")return!1;const e="lsCheck";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}})();function NRn(){const[e,t]=h.useState(()=>!VRn());h.useEffect(()=>{if(typeof window>"u"||!xV)return()=>{};function r(o){o.newValue!==o.oldValue&&o.key===bV&&t(o.newValue!=="1")}return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},[]);const n=h.useCallback(()=>{t(!1),zRn()},[]);return{showOnboarding:e,dismissOnboarding:n}}function zRn(){xV&&localStorage.setItem(bV,"1")}function VRn(){return xV?localStorage.getItem(bV)==="1":!0}const HRn=Z9("desk-is-now-structure");function URn(e){return function(){const[n,r]=h.useState(void 0),{showOnboarding:o,dismissOnboarding:i}=NRn(),s=h.useCallback(a=>{const c=a==null?void 0:a.closest("[data-hidden]");r((c==null?void 0:c.getAttribute("data-hidden"))!=="true")},[]);return l.jsx("div",{ref:s,children:l.jsx(Jt,{content:l.jsx(WRn,{onDismiss:i}),open:o&&n,portal:!0,placement:"bottom",fallbackPlacements:["top","bottom"],__unstable_margins:[9,0,0,0],tone:"default",width:0,children:l.jsx(e,{})})})}}function WRn(e){const t=h.useCallback(n=>{n.stopPropagation()},[]);return l.jsxs(oe,{as:"section",padding:3,space:3,onClick:t,children:[l.jsxs(oe,{padding:2,space:4,children:[l.jsx(U,{gap:2,align:"center",children:l.jsxs(L,{as:"h1",size:1,weight:"semibold",children:[l.jsx("strong",{children:"Desk"})," is now ",l.jsx("strong",{children:"Structure"})]})}),l.jsx(oe,{space:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:"We've renamed this tool to better reflect its purpose alongside the new Presentation tool."})})]}),l.jsxs(Qt,{columns:2,gap:3,children:[l.jsx(se,{as:"a","data-as":"a",href:HRn,icon:sh,target:"_blank",rel:"noreferrer",fontSize:1,padding:3,text:"Learn more",mode:"ghost"}),l.jsx(se,{fontSize:1,icon:sa,onClick:e.onDismiss,padding:3,text:"Got it",tone:"primary"})]})]})}const k4e=h.createContext(null);function A1(){const e=h.useContext(k4e);if(!e)throw new Error("DeskTool: missing context value");return e}const YRn={create:"created",delete:"deleted",discardDraft:"discarded draft",initial:"created",editDraft:"edited",editLive:"live edited",publish:"published",unpublish:"unpublished"},qRn={create:dR,delete:po,discardDraft:Ii,initial:dR,editDraft:Hu,editLive:Hu,publish:D0,unpublish:pE};function j4e(e){return YRn[e]}function GRn(e){return qRn[e]}function KRn(e){let{maxLength:t,userIds:n}=e;return l.jsx(nT,{maxLength:t,children:n.map(r=>l.jsx(Za,{user:r,withTooltip:!0},r))})}var Dve=Object.freeze,ZRn=Object.defineProperty,Hp=(e,t)=>Dve(ZRn(e,"raw",{value:Dve(t||e.slice())})),Ive,Ove,Pve,Rve,$ve,Mve,Fve;const cE=P(U)(e=>{let{theme:t}=e;var n;const r=(n=t.sanity.color.base.skeleton)==null?void 0:n.from;return he(Ive||(Ive=Hp([`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: `,`;
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `])),r)}),XRn=P(se)(e=>{let{$selected:t,$disabled:n}=e;return he(Rve||(Rve=Hp([`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] `,`::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] `,`::before {
      height: 50%;
    }

    `,`

    `,`
  `])),cE,cE,t&&he(Ove||(Ove=Hp([`
      `,`::before {
        background: transparent;
      }
    `])),cE),n&&he(Pve||(Pve=Hp([`
      cursor: not-allowed;
    `]))))}),QRn=P(M)($ve||($ve=Hp([`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`]))),JRn=P(L)(Mve||(Mve=Hp([`
  text-transform: capitalize;
`]))),e$n=P(M)(Fve||(Fve=Hp([`
  min-width: 1rem;
  margin-left: `,`;
`])),e=>{let{theme:t}=e;return"-".concat(ye(t.sanity.space[1]))}),Lve={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function t$n(e){let{chunk:t,isFirst:n,isLast:r,isLatest:o,isSelected:i,onSelect:s,timestamp:a,type:c}=e;const u=GRn(c),d=Array.from(t.authors),f=c!=="delete",p=h.useMemo(()=>{const v=new Date(a);return ei(v,"MMM d, yyyy, hh:mm a")},[a]),m=h.useCallback(v=>{v.preventDefault(),v.stopPropagation(),f&&s(t)},[s,t,f]);return l.jsx(XRn,{$selected:i,$disabled:!f,"data-chunk-id":t.id,"data-first":n?!0:void 0,"data-last":r?!0:void 0,"data-ui":"timelineItem",mode:i?"default":"bleed",onClick:m,padding:0,radius:2,tone:i?"primary":Lve[t.type],children:l.jsx(M,{paddingX:2,children:l.jsxs(U,{align:"stretch",children:[l.jsx(cE,{align:"center",children:l.jsx(QRn,{padding:2,children:l.jsx(L,{size:2,children:u&&h.createElement(u)})})}),l.jsxs(oe,{space:2,margin:2,children:[o&&l.jsx(U,{children:l.jsx(ee,{padding:1,radius:2,shadow:1,tone:i?"primary":Lve[t.type],children:l.jsx(Vt,{muted:!0,size:0,children:"Latest"})})}),l.jsx(M,{children:l.jsx(JRn,{size:1,weight:"medium",children:j4e(c)||l.jsx("code",{children:c})})}),l.jsx(e$n,{paddingX:1,children:l.jsx(L,{size:0,muted:!0,children:p})})]}),l.jsx(U,{flex:1,justify:"flex-end",align:"center",children:l.jsx(KRn,{maxLength:3,userIds:d})})]})})})}var Bve=Object.freeze,n$n=Object.defineProperty,oj=(e,t)=>Bve(n$n(e,"raw",{value:Bve(t||e.slice())})),Nve,zve,Vve,Hve;const r$n=P(oe)(Nve||(Nve=oj([`
  max-width: 200px;
`]))),o$n=P(U)(zve||(zve=oj([`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`]))),i$n=P(M)(e=>{let{$visible:t}=e;return he(Hve||(Hve=oj([`
    opacity: 0;
    pointer-events: none;

    `,`
  `])),t&&he(Vve||(Vve=oj([`
      opacity: 1;
      pointer-events: auto;
    `]))))}),qF=e=>{let{chunks:t,disabledBeforeFirstChunk:n,hasMoreChunks:r,lastChunk:o,onLoadMore:i,onSelect:s,firstChunk:a}=e;const[c,u]=h.useState(!1),d=h.useMemo(()=>t.filter(m=>n&&a?m.index<a.index:!0),[t,n,a]),f=h.useMemo(()=>o!=null&&o.id?d.findIndex(m=>m.id===o.id):-1,[o==null?void 0:o.id,d]),p=h.useCallback((m,v)=>{let{activeIndex:g}=v;const y=g===0,x=d&&g===d.length-1||!1;return l.jsxs(M,{paddingBottom:x?1:0,paddingTop:y?1:0,paddingX:1,children:[l.jsx(t$n,{chunk:m,isFirst:y,isLast:x,isLatest:g===0&&!n,isSelected:g===f,onSelect:s,timestamp:m.endTimestamp,type:m.type}),g===d.length-1&&r&&l.jsx(U,{align:"center",justify:"center",padding:4,children:l.jsx(ur,{muted:!0})})]})},[n,d,r,s,f]);return h.useEffect(()=>u(!0),[]),l.jsxs(i$n,{$visible:!f||c,"data-ui":"timeline",children:[d.length===0&&l.jsxs(r$n,{padding:3,space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"No document history"}),l.jsx(L,{muted:!0,size:1,children:"When changing the content of the document, the document versions will appear in this menu."})]}),d.length>0&&l.jsx(o$n,{direction:"column",children:l.jsx(Sh,{activeItemDataAttr:"data-hovered",ariaLabel:"Document revisions",autoFocus:"list",initialIndex:f,initialScrollAlign:"center",itemHeight:40,items:d,onEndReached:i,onEndReachedIndexOffset:20,overscan:5,renderItem:p,wrapAround:!1})})]})};qF.displayName="Timeline";function s$n(){return l.jsxs(U,{align:"flex-start",gap:3,padding:4,children:[l.jsx(sr,{tone:"critical",children:l.jsx(fa,{})}),l.jsxs(oe,{space:4,children:[l.jsx(sr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst retrieving document changes."}),l.jsx(sr,{size:1,tone:"critical",children:"Document history transactions have not been affected."})]})]})}var Uve=Object.freeze,a$n=Object.defineProperty,l$n=(e,t)=>Uve(a$n(e,"raw",{value:Uve(t||e.slice())})),Wve;const c$n=P(Jt)(Wve||(Wve=l$n([`
  overflow: hidden;
  overflow: clip;
`])));function T4e(e){let{chunk:t,mode:n,placement:r}=e;const{setTimelineRange:o,setTimelineMode:i,timelineError:s,ready:a,timelineStore:c,isDeleted:u}=hr(),[d,f]=h.useState(!1),[p,m]=h.useState(null),[v,g]=h.useState(null),y=Wo(),x=ao(c,N=>N.chunks),b=ao(c,N=>N.isLoading),w=ao(c,N=>N.hasMoreChunks),C=ao(c,N=>N.realRevChunk),_=ao(c,N=>N.sinceTime),S=h.useCallback(()=>{i(n),f(!0)},[n,i]),E=h.useCallback(()=>{i("closed"),f(!1)},[i]),j=h.useCallback(()=>{d&&E()},[E,d]),k=h.useCallback(N=>{d&&(N.key==="Escape"||N.key==="Tab")&&(E(),p==null||p.focus())},[p,E,d]);lr(j,[p,v]),is(k);const T=h.useCallback(N=>{try{const[W,q]=c.findRangeForRev(N);i("closed"),o(W,q)}catch(W){y.push({closable:!0,description:W.message,status:"error",title:"Unable to load revision"})}},[i,o,c,y]),A=h.useCallback(N=>{try{const[W,q]=c.findRangeForSince(N);i("closed"),o(W,q)}catch(W){y.push({closable:!0,description:W.message,status:"error",title:"Unable to load revision"})}},[i,o,c,y]),D=h.useCallback(()=>{b||c.loadMore()},[b,c]),I=s?l.jsx(s$n,{}):l.jsxs(l.Fragment,{children:[n==="rev"&&l.jsx(qF,{chunks:x,firstChunk:C,hasMoreChunks:w,lastChunk:C,onLoadMore:D,onSelect:T}),n==="since"&&l.jsx(qF,{chunks:x,disabledBeforeFirstChunk:!0,firstChunk:C,hasMoreChunks:w,lastChunk:_,onLoadMore:D,onSelect:A})]}),O=u$n((t==null?void 0:t.endTimestamp)||""),$=t?"".concat(ake(j4e(t.type)),": ").concat(O):"Latest version",R=t?"Since: ".concat(O):"Since: unknown version",V=n==="rev"?$:R;return l.jsx(c$n,{constrainSize:!0,content:d&&I,"data-ui":"versionMenu",open:d,placement:r,portal:!0,ref:g,children:l.jsx(se,{disabled:!a,mode:"bleed",fontSize:1,padding:2,iconRight:ql,onClick:d?E:S,ref:m,selected:d,style:{maxWidth:"100%"},text:a?V:"Loading history"})})}function u$n(e){return h.useMemo(()=>{const n=e?new Date(e):new Date;return ei(n,"MMM d, yyyy, hh:mm a")},[e])}const d$n=P(ee)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function A4e(e){const{as:t,children:n,closeButtonLabel:r,onClose:o,title:i,...s}=e;return l.jsxs(d$n,{...s,as:t,children:[l.jsxs(U,{padding:2,children:[l.jsx(M,{flex:1,padding:3,children:l.jsx(L,{as:"h1",size:1,weight:"semibold",children:i})}),l.jsx(M,{flex:"none",padding:1,children:l.jsx(se,{"aria-label":r,fontSize:1,icon:Ii,mode:"bleed",onClick:o,padding:2})})]}),n]})}var Yve=Object.freeze,f$n=Object.defineProperty,h$n=(e,t)=>Yve(f$n(e,"raw",{value:Yve(t||e.slice())})),qve;const p$n=P.div(qve||(qve=h$n([`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
    opacity: 0.5;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`])));function m$n(e){const{onResize:t,onResizeStart:n}=e,r=h.useRef(0),o=h.useCallback(i=>{i.preventDefault(),r.current=i.pageX,n();const s=c=>{c.preventDefault(),t(c.pageX-r.current)},a=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",a)},[t,n]);return l.jsxs(p$n,{onMouseDown:o,children:[l.jsx("span",{}),l.jsx("span",{})]})}var Gve=Object.freeze,g$n=Object.defineProperty,v$n=(e,t)=>Gve(g$n(e,"raw",{value:Gve(t||e.slice())})),Kve;const y$n=P(M)(Kve||(Kve=v$n([`
  position: relative;
  flex: 1;
  padding-left: 1px;
`])));function b$n(e){const{as:t,children:n,minWidth:r,maxWidth:o,...i}=e,[s,a]=h.useState(null),c=h.useRef(),[u,d]=h.useState(),f=h.useCallback(()=>{c.current=s==null?void 0:s.offsetWidth},[s]),p=h.useCallback(v=>{const g=c.current;g&&d(Math.min(Math.max(g-v,r),o))},[r,o]),m=h.useMemo(()=>u?{flex:"none",width:u}:{minWidth:r,maxWidth:o},[r,o,u]);return l.jsxs(y$n,{as:t,...i,ref:a,style:m,children:[n,l.jsx(m$n,{onResize:p,onResizeStart:f})]})}function x$n(e){const{documentId:t,documentType:n,flex:r}=e,{collapsed:o}=Dh(),{closeInspector:i,inspector:s}=hr(),{features:a}=A1(),c=h.useCallback(()=>{s&&i(s.name)},[i,s]);if(o||!s)return null;const u=h.createElement(s.component,{onClose:c,documentId:t,documentType:n});return a.resizablePanes?l.jsx(b$n,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,maxWidth:ETn,minWidth:PF,children:u}):l.jsx(M,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,children:u})}function w$n(){return l.jsx(tV,{ms:300,children:l.jsxs(U,{align:"center",direction:"column",height:"fill",justify:"center",paddingTop:3,children:[l.jsx(ur,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Loading changes"})})]})})}function C$n(e){const t=new Map;return ZA(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:o}=n.annotation,i=t.get(r);return(!i||i.timestamp<o)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}var Zve=Object.freeze,_$n=Object.defineProperty,S$n=(e,t)=>Zve(_$n(e,"raw",{value:Zve(t||e.slice())})),Xve;const E$n=P(WA)(Xve||(Xve=S$n([`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`])));function k$n(e){const{onClose:t}=e,{documentId:n,schemaType:r,timelineError:o,timelineStore:i,value:s}=hr(),a=h.useRef(null),c=ao(i,y=>y.diff),u=ao(i,y=>y.onOlderRevision),d=ao(i,y=>y.selectionState),f=ao(i,y=>y.sinceTime),p=d==="loading",m=!u,v=ie.useMemo(()=>({documentId:n,schemaType:r,FieldWrapper:HGt,rootDiff:c,isComparingCurrent:m,value:s}),[n,c,m,r,s]),g=ie.useMemo(()=>c?C$n(c):[],[c]);return l.jsxs(U,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[l.jsx(A4e,{as:"header",closeButtonLabel:"Close review changes",flex:"none",onClose:t,title:"Review changes",children:l.jsxs(U,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[l.jsx(M,{flex:1,children:l.jsx(T4e,{mode:"since",chunk:f,placement:"bottom-start"})}),l.jsx(M,{flex:"none",children:l.jsx(ts,{annotations:g,description:"Changes by",portal:!0,children:l.jsx(nT,{maxLength:4,"aria-label":"Changes by",children:g.map(y=>{let{author:x}=y;return l.jsx(Za,{user:x},x)})})})})]})}),l.jsx(ee,{flex:1,children:l.jsx(Xu,{element:a.current,children:l.jsx(E$n,{"data-ui":"Scroller",ref:a,children:l.jsx(M,{flex:1,padding:4,children:l.jsx(j$n,{diff:c,documentContext:v,error:o,loading:p,schemaType:r})})})})})]})}function j$n(e){let{error:t,diff:n,documentContext:r,loading:o,schemaType:i}=e;return t?l.jsx(eF,{}):o?l.jsx(w$n,{}):n?l.jsx(bOe.Provider,{value:r,children:l.jsx(SC,{diff:n,schemaType:i})}):l.jsx(eF,{})}const T$n={name:$F,useMenuItem:()=>{const{features:e}=A1();return{hidden:!e.reviewChanges,icon:S6,title:"Review changes"}},component:k$n,onClose:e=>{let{params:t}=e;return{params:{...t,since:void 0}}},onOpen:e=>{let{params:t}=e;return{params:{...t,since:"@lastPublished"}}}};function A$n(e){const{path:t,schemaType:n,value:r}=e,o=[];let i=n,s=r;for(const a of t){if(typeof a=="string"){if(!yt(s)&&s!==void 0)throw new Error("Parent value is not an object, cannot get path segment: .".concat(a));if(i.jsonType!=="object")throw new Error("Parent type is not an object schema type, cannot get path segment: .".concat(a));s=s==null?void 0:s[a];const c=i.fields.find(u=>u.name===a);if(!c)throw new Error("Field type not found: .".concat(a));i=c.type,o.push(i);continue}if(typeof a=="number"){if(!Dte(s)&&s!==void 0)throw new Error("Parent value is not an array, cannot get path segment: [".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: [".concat(a,"]"));s=s==null?void 0:s[a];const c=i.of.find(u=>typeof s=="string"?u.jsonType==="string":typeof s=="number"?u.jsonType==="number":typeof s=="boolean"?u.jsonType==="boolean":yt(s)?u.name===(s==null?void 0:s._type):!1);if(!c)throw new Error("Item type not found: [".concat(a,"]"));i=c,o.push(i);continue}if(yt(a)&&a._key){if(!Dte(s))throw new Error("Parent value is not an array, cannot get path segment: [_key == ".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: .".concat(a));if(s=(s??[]).find(d=>yt(d)&&d._key===a._key),!yt(s))throw new Error("Array item not found: [_key == ".concat(a._key,"]"));const u=i.of.find(d=>yt(s)&&d.name===(s==null?void 0:s._type));if(!u)throw new Error("Array item type not found: .".concat(s==null?void 0:s._type));i=u,o.push(i);continue}throw new Error("Invalid path segment: ".concat(JSON.stringify(a)))}return o}const D$n={error:fa,warning:Mr,info:km},I$n={error:"critical",warning:"caution",info:"primary"};function O$n(e){const{onClose:t}=e,{onFocus:n,onPathOpen:r,schemaType:o,validation:i,value:s}=hr(),a=h.useCallback(c=>{r(c),n(c)},[n,r]);return l.jsxs(U,{direction:"column",height:"fill",overflow:"hidden",children:[l.jsx(A4e,{as:"header",closeButtonLabel:"Close validation",flex:"none",onClose:t,title:"Validation"}),l.jsxs(ee,{flex:1,overflow:"auto",padding:3,children:[i.length===0&&l.jsx(M,{padding:2,children:l.jsx(L,{muted:!0,size:1,children:"No validation errors"})}),i.length>0&&l.jsx(oe,{space:2,children:i.map((c,u)=>l.jsx(P$n,{marker:c,onOpen:a,schemaType:o,value:s},u))})]})]})}function P$n(e){const{marker:t,onOpen:n,schemaType:r,value:o}=e,i=h.useCallback(()=>n(t.path),[t,n]),[s,a]=h.useState(null);return l.jsxs(L0,{onCatch:a,children:[s&&l.jsx(ee,{padding:3,radius:2,tone:"critical",children:l.jsxs(L,{size:1,children:["ERROR: ",s.error.message]})}),!s&&l.jsx(ee,{__unstable_focusRing:!0,as:"button",onClick:i,padding:3,radius:2,tone:I$n[t.level],children:l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(M,{flex:"none",children:l.jsx(L,{size:1,children:h.createElement(D$n[t.level])})}),l.jsxs(oe,{flex:1,space:2,children:[l.jsx(R$n,{path:t.path,schemaType:r,value:o}),l.jsx(L,{muted:!0,size:1,children:t.item.message})]})]})})]})}function R$n(e){const{path:t,schemaType:n,value:r}=e,o=h.useMemo(()=>A$n({path:t,schemaType:n,value:r}),[t,n,r]);return l.jsx(L,{size:1,children:o.map((i,s)=>l.jsxs(h.Fragment,{children:[s>0&&l.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),l.jsx("span",{style:{fontWeight:500},children:i.title||i.name})]},s))})}function $$n(e){const{documentId:t,documentType:n}=e,{validation:r}=Lz(t,n),o=h.useMemo(()=>r.map(u=>({level:u.level,message:u.item.message,path:u.path})),[r]),i=o.some(jFe),s=o.some(TFe),a=h.useMemo(()=>i?fa:s?Mr:xj,[i,s]),c=h.useMemo(()=>i?"critical":s?"caution":"positive",[i,s]);return{hidden:o.length===0,icon:a,title:"Validation",tone:c,showAsAction:!0}}const M$n={name:TTn,component:O$n,useMenuItem:$$n},F$n=[sMe,aMe,oMe,iMe,rMe,iV],L$n=[oTn],B$n=[M$n,T$n],N$n=yN(e=>{const t=e?typeof e.name=="string":!1,n=(e==null?void 0:e.icon)||z1e,r=t?n:URn(n);return{name:"@sanity/desk-tool",document:{actions:o=>Array.from(new Set([...o,...F$n])),badges:o=>Array.from(new Set([...o,...L$n])),inspectors:o=>Array.from(new Set([...o,...B$n]))},plugins:[BRn()],tools:[{name:(e==null?void 0:e.name)||"structure",title:(e==null?void 0:e.title)||"Structure",icon:r,component:h.lazy(()=>w9(()=>import("./index-SE0Dviy6-1a64fcd6.js"),[])),canHandleIntent:(o,i)=>o==="create"?z$n(i):o==="edit"?V$n(i):!1,getIntentState:sTn,controlsDocumentTitle:!0,options:e,router:hTn}]}});function z$n(e){return"type"in e?"template"in e?{template:!0}:!0:!1}function V$n(e){return"id"in e?"mode"in e?{mode:e.mode==="structure"}:!0:!1}class rn extends Error{constructor(t,n,r,o){super(t);const i=typeof r>"u"?"<unknown>":"".concat(r);this.path=(n||[]).concat(o?"".concat(i," (").concat(o,")"):i)}withHelpUrl(t){return this.helpId=t,this}}var Dn=(e=>(e.ID_REQUIRED="structure-node-id-required",e.TITLE_REQUIRED="structure-title-required",e.FILTER_REQUIRED="structure-filter-required",e.INVALID_LIST_ITEM="structure-invalid-list-item",e.COMPONENT_REQUIRED="structure-view-component-required",e.DOCUMENT_ID_REQUIRED="structure-document-id-required",e.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",e.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",e.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",e.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",e.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",e.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",e.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",e.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",e.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER="structure-api-version-required-for-custom-filter",e))(Dn||{});const H$n=["_id","_type","_createdAt","_updatedAt","_rev"];function GF(e,t){const[n,...r]=t;if(!("fields"in e))return"";const o=e.fields.find(a=>a.name===n);if(!o)return H$n.includes(n)||console.warn('The current ordering config targeted the nonexistent field "%s" on schema type "%s". It should be one of %o',n,e.name,e.fields.map(a=>a.name)),"";if("to"in o.type&&o.type.name==="reference"){const a=o.type.to;return"".concat(n,"->{").concat(a.map(c=>GF(c,r)).join(","),"}")}const i=r.length>0&&GF(o.type,r),s=i?"{".concat(i,"}"):"";return r.length>0?"".concat(n).concat(s):n}function U$n(e,t){return t.map(n=>GF(e,n.field.split("."))).join(", ")}const D4e={title:"Last edited",name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},W$n={title:"Created",name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},Y$n=D4e,Qve=[D4e,W$n];function I4e(e,t,n){return e instanceof nh?e.serialize({path:n,index:t}):e}class nh{constructor(t,n){this._context=t,this.spec=n||{}}action(t){return this.clone({action:t})}getAction(){return this.spec.action}intent(t){return this.clone({intent:t})}getIntent(){return this.spec.intent}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}group(t){return this.clone({group:t})}getGroup(){return this.spec.group}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}params(t){return this.clone({params:t})}getParams(){return this.spec.params}showAsAction(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({showAsAction:!!t})}getShowAsAction(){return this.spec.showAsAction}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{title:n,action:r,intent:o}=this.spec;if(!n){const i=typeof r=="string"?'action: "'.concat(r,'"'):void 0;throw new rn("`title` is required for menu item",t.path,t.index,i).withHelpUrl(Dn.TITLE_REQUIRED)}if(!r&&!o)throw new rn("`action` or `intent` required for menu item with title ".concat(this.spec.title),t.path,t.index,'"'.concat(n,'"')).withHelpUrl(Dn.ACTION_OR_INTENT_REQUIRED);if(o&&r)throw new rn("cannot set both `action` AND `intent`",t.path,t.index,'"'.concat(n,'"')).withHelpUrl(Dn.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:n}}clone(t){const n=new nh(this._context);return n.spec={...this.spec,...t||{}},n}}function O4e(e,t,n){return new nh(e).group("sorting").title("Sort by ".concat(t.title)).icon(k6).action("setSortOrder").params({by:t.by,extendedProjection:n})}function P4e(e,t){const{schema:n}=e,r=typeof t=="string"?n.get(t):t;return!r||!("orderings"in r)?[]:(r.orderings?r.orderings.concat(Qve):Qve).map(o=>O4e(e,o,U$n(r,o.by)))}function R4e(e,t,n){return e instanceof fw?e.serialize({path:n,index:t}):e}class fw{constructor(t,n){this._context=t,this._id=n?n.id:"",this._title=n?n.title:""}id(t){return new fw(this._context,{id:t,title:this._title})}getId(){return this._id}title(t){return new fw(this._context,{id:this._id,title:t})}getTitle(){return this._title}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{_id:n,_title:r}=this;if(!n)throw new rn("`id` is required for a menu item group",t.path,t.index,r).withHelpUrl(Dn.ID_REQUIRED);if(!r)throw new rn("`title` is required for a menu item group",t.path,n).withHelpUrl(Dn.TITLE_REQUIRED);return{id:n,title:r}}}const $4e=/([^A-Za-z0-9-_.])/;function HC(e,t,n){if(typeof e!="string")throw new rn("Structure node id must be of type string, got ".concat(typeof e),t,n);const[r]=e.match($4e)||[];if(r)throw new rn('Structure node id cannot contain character "'.concat(r,'"'),t,n);if(e.startsWith("__edit__"))throw new rn("Structure node id cannot start with __edit__",t,n);return e}function UD(e,t){if(t)return t;const n=Ape(e);return $4e.test(n)?Ape(UAe(e)):n}class hw{constructor(t){this.spec={options:{},...t||{}}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:UD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o,options:i,component:s}=this.spec;if(!n)throw new rn("`id` is required for `component` structure item",t.path,t.index).withHelpUrl(Dn.ID_REQUIRED);if(!s)throw new rn("`component` is required for `component` structure item",t.path,t.index).withHelpUrl(Dn.ID_REQUIRED);return{id:HC(n,t.path,t.index),title:r,type:"component",child:o,component:s,options:i||{},menuItems:(this.spec.menuItems||[]).map((a,c)=>I4e(a,c,t.path)),menuItemGroups:(this.spec.menuItemGroups||[]).map((a,c)=>R4e(a,c,t.path))}}clone(t){const n=new hw;return n.spec={...this.spec,...t||{}},n}}async function M4e(e,t){const n="*[_id in [$documentId, $draftId]]._type",r=On(t),o=li(t);return(await e(sn).fetch(n,{documentId:r,draftId:o},{tag:"structure.resolve-type"}))[0]}class wV{constructor(){this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:this.spec.id||Okn(t)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,icon:o}=this.spec;if(!n)throw new rn("`id` is required for view item",t.path,t.index).withHelpUrl(Dn.ID_REQUIRED);if(!r)throw new rn("`title` is required for view item",t.path,t.index).withHelpUrl(Dn.TITLE_REQUIRED);return{id:HC(n,t.path,t.index),title:r,icon:o}}}function q$n(e){return typeof e.serialize=="function"}function F4e(e,t,n){return q$n(e)?e.serialize({path:n,index:t}):e}const G$n=e=>yt(e)&&e.type==="component";class WD extends wV{constructor(t){const n=G$n(t)?{...t}:{options:{}};super(),this.spec=n;const r=typeof t=="function"?t:this.spec.component;r&&(this.spec=this.component(r).spec)}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize(t),r=this.spec.component;if(typeof r!="function")throw new rn("`component` is required and must be a function for `component()` view item",t.path,t.index).withHelpUrl(Dn.COMPONENT_REQUIRED);return{...n,component:r,options:this.spec.options||{},type:"component"}}clone(t){const n=new WD;return n.spec={...this.spec,...t||{}},n}}class YD extends wV{constructor(t){super(),this.spec={id:"editor",title:"Editor",...t||{}}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};return{...super.serialize(t),type:"form"}}clone(t){const n=new YD;return n.spec={...this.spec,...t||{}},n}}const L4e=e=>new YD(e),K$n=e=>new WD(e);var Z$n=Object.freeze({__proto__:null,ComponentViewBuilder:WD,FormViewBuilder:YD,GenericViewBuilder:wV,component:K$n,form:L4e,maybeSerializeView:F4e});const X$n=e=>{let{resolveDocumentNode:t,getClient:n}=e;return async(r,o)=>{let{params:i,path:s}=o,a=i.type;const c=s.slice(0,s.length-1),u=s[s.length-1];if(a||(a=await M4e(n,r)),!a)throw new rn("Failed to resolve document, and no type provided in parameters.",c,u);return t({documentId:r,schemaType:a})}};class rh{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:UD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}documentId(t){const n=this.spec.id||t;return this.clone({id:n,options:{...this.spec.options||{},id:t}})}getDocumentId(){var t;return(t=this.spec.options)==null?void 0:t.id}schemaType(t){return this.clone({options:{...this.spec.options||{},type:typeof t=="string"?t:t.name}})}getSchemaType(){var t;return(t=this.spec.options)==null?void 0:t.type}initialValueTemplate(t,n){return this.clone({options:{...this.spec.options||{},template:t,templateParameters:n}})}getInitialValueTemplate(){var t;return(t=this.spec.options)==null?void 0:t.template}getInitialValueTemplateParameters(){var t;return(t=this.spec.options)==null?void 0:t.templateParameters}views(t){return this.clone({views:t})}getViews(){return this.spec.views||[]}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const o=t[n||t.length-1],i=this.spec.id||o&&"".concat(o)||"",s={id:i,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if(typeof i!="string"||!i)throw new rn("`id` is required for document nodes",t,n,r).withHelpUrl(Dn.ID_REQUIRED);if(!s||!s.id)throw new rn("document id (`id`) is required for document nodes",t,i,r).withHelpUrl(Dn.DOCUMENT_ID_REQUIRED);if(!s||!s.type)throw new rn("document type (`schemaType`) is required for document nodes",t,i,r);const a=(this.spec.views&&this.spec.views.length>0?this.spec.views:[L4e()]).map((d,f)=>F4e(d,f,t)),c=a.map(d=>d.id),u=ho(c.filter((d,f)=>c.includes(d,f+1)));if(u.length>0)throw new rn("document node has views with duplicate IDs: ".concat(u.join(",  ")),t,i,r);return{...this.spec,child:this.spec.child||X$n(this._context),id:HC(i,t,n),type:"document",options:Q$n(s),views:a}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new rh(this._context),r={...this.spec.options||{},...t.options||{}};return n.spec={...this.spec,...t,options:r},n}}function Q$n(e){const t={id:e.id||"",type:e.type||"*"};return e.template&&(t.template=e.template),e.templateParameters&&(t.templateParameters=e.templateParameters),t}function J$n(e,t){let n=t!=null&&t.type?e.resolveDocumentNode({schemaType:t.type}):new rh(e);if(!t)return n;const{id:r,type:o,template:i,templateParameters:s}=t.options;return n=n.id(t.id).documentId(r),o&&(n=n.schemaType(o)),i&&(n=n.initialValueTemplate(i,s)),t.child&&(n=n.child(t.child)),n}function eMn(e,t,n){let{resolveDocumentNode:r,templates:o}=e;const i=o.find(s=>s.id===t);if(!i)throw new Error('Template with ID "'.concat(t,'" not defined'));return r({schemaType:i.schemaType}).initialValueTemplate(t,n)}const Jve=["default","card","media","detail","block"],B4e=Symbol("Document type list canHandleIntent"),CV=(e,t,n)=>{let{pane:r}=n;var o,i;const s=e==="edit",a=e==="create",c=r,u=((o=c.options)==null?void 0:o.filter)||"",d=((i=c.options)==null?void 0:i.params)||{},f=c.schemaTypeName?[c.schemaTypeName]:_V(u,d),p=c.initialValueTemplates||[];return a&&t.template?p.some(m=>m.templateId===t.template):s&&t.id&&f.includes(t.type)||a&&f.includes(t.type)};CV.identity=B4e;class qD{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}description(t){return this.clone({description:t})}getDescription(){return this.spec.description}templateId(t){const n=this.spec.id||t;return this.clone({id:n,templateId:t})}getTemplateId(){return this.spec.templateId}parameters(t){return this.clone({parameters:t})}getParameters(){return this.spec.parameters}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{spec:o,_context:i}=this,{templates:s}=i;if(typeof o.id!="string"||!o.id)throw new rn("`id` is required for initial value template item nodes",t,n,r).withHelpUrl(Dn.ID_REQUIRED);if(!o.templateId)throw new rn("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(Dn.ID_REQUIRED);const a=s.find(c=>c.id===o.templateId);if(!a)throw new rn("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(Dn.ID_REQUIRED);return{id:o.id,templateId:o.id,schemaType:a.schemaType,type:"initialValueTemplateItem",description:o.description||a.description,title:o.title||a.title,subtitle:o.subtitle,icon:o.icon||a.icon,initialDocumentId:o.initialDocumentId,parameters:o.parameters}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new qD(this._context);return n.spec={...this.spec,...t},n}}function tMn(e){const{schema:t,getStructureBuilder:n,templates:r}=e,o=t.getTypeNames();return r.filter(s=>{var a;return!((a=s.parameters)!=null&&a.length)}).sort((s,a)=>o.indexOf(s.schemaType)-o.indexOf(a.schemaType)).map(s=>n().initialValueTemplateItem(s.id))}function nMn(e,t,n){return e instanceof qD?e.serialize({path:n,index:t}):e}function rMn(e,t){const{schema:n,templates:r}=e;return t.map(o=>{const i=r.find(d=>d.id===o.templateId),s=o.title||(i==null?void 0:i.title)||"Create new",a={};i&&i.schemaType&&(a.type=i.schemaType),o.templateId&&(a.template=o.templateId);const c=o.parameters?[a,o.parameters]:a,u=i&&n.get(i.schemaType);return new nh(e).title(s).icon(i&&i.icon||(u==null?void 0:u.icon)||Ap).intent({type:"create",params:c}).serialize()})}function oMn(){}const N4e=(e,t,n)=>{let{pane:r,index:o}=n;return o<=1&&CV(e,t,{pane:r,index:o})};class z4e{constructor(){this.initialValueTemplatesSpecified=!1,this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:UD(t,this.spec.id)})}getTitle(){return this.spec.title}defaultLayout(t){return this.clone({defaultLayout:t})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}child(t){return this.clone({child:t})}getChild(){return this.spec.child}canHandleIntent(t){return this.clone({canHandleIntent:t})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:t}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(t){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(t)?t:[t]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id||"",r=t.path,o=this.spec.defaultLayout;if(o&&!Jve.includes(o))throw new rn("`layout` must be one of ".concat(Jve.map(s=>'"'.concat(s,'"')).join(", ")),r,n||t.index,this.spec.title);const i=(this.spec.initialValueTemplates||[]).map((s,a)=>nMn(s,a,r));return{id:HC(n,t.path,n||t.index),title:this.spec.title,type:"genericList",defaultLayout:o,child:this.spec.child||oMn,canHandleIntent:this.spec.canHandleIntent||N4e,displayOptions:this.spec.displayOptions,initialValueTemplates:i,menuItems:(this.spec.menuItems||[]).map((s,a)=>I4e(s,a,r)),menuItemGroups:(this.spec.menuItemGroups||[]).map((s,a)=>R4e(s,a,r))}}}const iMn=(e,t)=>{var n;const r=((n=e.options)==null?void 0:n.filter.trim())||"";if(["*","{"].includes(r[0]))throw new rn("`filter` cannot start with `".concat(r[0],"` - looks like you are providing a query, not a filter"),t.path,e.id,e.title).withHelpUrl(Dn.QUERY_PROVIDED_FOR_FILTER);return r},sMn=e=>(t,n)=>{var r;const o=n.parent,i=(r=n.params)!=null&&r.template?e.templates.find(a=>a.id===n.params.template):void 0,s=i?i.schemaType:o.schemaTypeName||M4e(e.getClient,t);return Promise.resolve(s).then(a=>a?e.resolveDocumentNode({schemaType:a,documentId:t}):new rh(e).id("editor").documentId(t).schemaType(""))};class UC extends z4e{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n!=null&&n.initialValueTemplates)}apiVersion(t){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:t}})}getApiVersion(){var t;return(t=this.spec.options)==null?void 0:t.apiVersion}filter(t){return this.clone({options:{...this.spec.options||{},filter:t}})}getFilter(){var t;return(t=this.spec.options)==null?void 0:t.filter}schemaType(t){const n=typeof t=="string"?t:t.name;return this.clone({schemaTypeName:n})}getSchemaType(){return this.spec.schemaTypeName}params(t){return this.clone({options:{...this.spec.options||{filter:""},params:t}})}getParams(){var t;return(t=this.spec.options)==null?void 0:t.params}defaultOrdering(t){if(!Array.isArray(t))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:t}})}getDefaultOrdering(){var t;return(t=this.spec.options)==null?void 0:t.defaultOrdering}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};var n;if(typeof this.spec.id!="string"||!this.spec.id)throw new rn("`id` is required for document lists",t.path,t.index,this.spec.title).withHelpUrl(Dn.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new rn("`filter` is required for document lists",t.path,this.spec.id,this.spec.title).withHelpUrl(Dn.FILTER_REQUIRED);return!(((n=this.spec.options)==null?void 0:n.filter)==="_type == $type")&&this.spec.options.filter&&!this.spec.options.apiVersion&&console.warn("No apiVersion specified for document type list with custom filter: `".concat(this.spec.options.filter,"`. This will be required in the future. See %s for more info."),Z9(Dn.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER)),{...super.serialize(t),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||sMn(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||sn.apiVersion,filter:iMn(this.spec,t)}}}clone(t){const n=new UC(this._context);return n.spec={...this.spec,...t||{}},this.initialValueTemplatesSpecified||(n.spec.initialValueTemplates=aMn(this._context,n.spec)),n.spec.schemaTypeName||(n.spec.schemaTypeName=lMn(n.spec)),n}getSpec(){return this.spec}}function aMn(e,t){const{document:n}=e,{schemaTypeName:r,options:o}=t,{filter:i,params:s}=o||{filter:"",params:{}},a=r?[r]:Array.from(new Set(_V(i,s)));if(a.length!==0)return a.flatMap(c=>n.resolveNewDocumentOptions({type:"structure",schemaType:c})).map(c=>({...c,icon:Ap}))}function lMn(e){const{options:t}=e,{filter:n,params:r}=t||{filter:"",params:{}},o=_V(n,r);return o.length===1?o[0]:void 0}function _V(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=cMn(e,t);return n.length===0&&(n=uMn(e,t)),n}function cMn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,r=[];let o;for(;(o=n.exec(e))!==null;)r.push(o[1]||o[2]);return r.map(i=>((i[0]==="$"?t[i.slice(1)]:i)||"").trim().replace(/^["']|["']$/g,"")).filter(Boolean)}function uMn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s+in\s+\[(.*?)\]/,r=e.match(n);return r?r[1].split(/,\s*/).map(o=>o.trim().replace(/^["']+|["']+$/g,"")).map(o=>o[0]==="$"?t[o.slice(1)]:o).filter(Boolean):[]}const dMn=e=>e instanceof D1?"ListBuilder":gMn(e)?"Promise":Array.isArray(e)?"array":typeof e,fMn=e=>e.type==="listItem",hMn=(e,t,n)=>(n.pane.items||[]).filter(yMn).some(i=>i.schemaType.name===t.type&&i._id===t.id)||N4e(e,t,n),pMn=(e,t)=>{const o=(t.parent.items.filter(fMn).find(i=>i.id===e)||{child:void 0}).child;return!o||typeof o!="function"?o:typeof o=="function"?o(e,t):o};function mMn(e,t,n){if(e instanceof I1)return e.serialize({path:n,index:t});const r=e;if(r&&r.type==="divider")return e;if(!r||r.type!=="listItem"){const o=r&&r.type||dMn(r),i=o==="array"?" - did you forget to spread (...moreItems)?":"";throw new rn('List items must be of type "listItem", got "'.concat(o,'"').concat(i),n,t).withHelpUrl(Dn.INVALID_LIST_ITEM)}return e}function gMn(e){return yt(e)&&typeof e.then=="function"}class D1 extends z4e{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n&&n.initialValueTemplates)}items(t){return this.clone({items:t})}getItems(){return this.spec.items}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id;if(typeof n!="string"||!n)throw new rn("`id` is required for lists",t.path,t.index).withHelpUrl(Dn.ID_REQUIRED);const r=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(r))throw new rn("`items` must be an array of items",t.path,t.index).withHelpUrl(Dn.LIST_ITEMS_MUST_BE_ARRAY);const o=(t.path||[]).concat(n),i=r.map((a,c)=>mMn(a,c,o)),s=i.filter((a,c)=>VAe(i,{id:a.id},c+1));if(s.length>0){const a=s.map(u=>u.id).slice(0,5),c=s.length>5?"".concat(a.join(", "),"..."):a.join(", ");throw new rn("List items with same ID found (".concat(c,")"),t.path,t.index).withHelpUrl(Dn.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(t),type:"list",canHandleIntent:this.spec.canHandleIntent||hMn,child:this.spec.child||pMn,items:i}}clone(t){const n=new D1(this._context);return n.spec={...this.spec,...t||{}},n}}class I1{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:UD(t,this.spec.id)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}showIcon(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:t}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(t){return this.clone({child:t})}getChild(){return this.spec.child}schemaType(t){return this.clone({schemaType:t})}getSchemaType(){const t=this.spec.schemaType;return typeof t=="string"?this._context.schema.get(t):this.spec.schemaType}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o}=this.spec;if(typeof n!="string"||!n)throw new rn("`id` is required for list items",t.path,t.index).withHelpUrl(Dn.ID_REQUIRED);if(!t.titleIsOptional&&(typeof r!="string"||!r))throw new rn("`title` is required for list items",t.path,n).withHelpUrl(Dn.TITLE_REQUIRED);let i=this.spec.schemaType;if(typeof i=="string"){const c=this._context.schema.get(i);if(!c)throw new rn('Could not find type "'.concat(i,'" in schema'),t.path,n).withHelpUrl(Dn.SCHEMA_TYPE_NOT_FOUND);i=c}const s={path:t.path.concat(n),hint:"child"};let a=o instanceof hw||o instanceof UC||o instanceof rh||o instanceof D1?o.serialize(s):o;if(typeof a=="function"){const c=a;a=(u,d)=>c(u,{...d,serializeOptions:s})}return{...this.spec,id:HC(n,t.path,t.index),schemaType:i,child:a,title:r,type:"listItem"}}clone(t){const n=new I1(this._context);return n.spec={...this.spec,...t||{}},n}}const vMn=(e,t)=>n=>{const r=t.schemaType&&(typeof t.schemaType=="string"?t.schemaType:t.schemaType.name);return r?e.resolveDocumentNode({schemaType:r,documentId:n}):new rh(e).id("documentEditor").documentId(n)};class SV extends I1{constructor(t,n){super(t,n),this._context=t,this.spec=n||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize({...t,titleIsOptional:!0});if(!n.schemaType)throw new rn("`schemaType` is required for document list items",t.path,t.index).withHelpUrl(Dn.SCHEMA_TYPE_REQUIRED);const r=n.child||vMn(this._context,n);return{...n,child:r,schemaType:n.schemaType,_id:n.id}}clone(t){const n=new SV(this._context);return n.spec={...this.spec,...t||{}},n}}function yMn(e){return yt(e)&&typeof e.schemaType<"u"&&typeof e._id=="string"}class ij extends UC{constructor(t,n){super(t),this._context=t,this.spec=n||{}}child(t){return this.cloneWithoutDefaultIntentHandler({child:t})}clone(t){const n=super.clone(t),r=new ij(this._context);return r.spec={...this.spec,...n.getSpec(),...t||{}},r}cloneWithoutDefaultIntentHandler(t){const n=super.clone(t),r=new ij(this._context),o=this.spec.canHandleIntent,s=o&&o.identity===B4e?{canHandleIntent:void 0}:{};return r.spec={...n.getSpec(),...this.spec,...t||{},...s},r}}function bMn(e){const t=e.preview;return!!(t&&(t.prepare||t.select&&t.select.media))}const xMn=["sanity.imageAsset","sanity.fileAsset"];function wMn(e){return xMn.includes(e)}function CMn(e){var t;return((t=e.type)==null?void 0:t.name)==="document"}function _Mn(e){return e.type==="list"}function SMn(e){let{schema:t}=e;return t.getTypeNames().filter(n=>{const r=t.get(n);return r&&CMn(r)}).filter(n=>!wMn(n))}function V4e(e){return SMn(e).map(n=>H4e(e,n))}function H4e(e,t){const{schema:n}=e,r=n.get(t);if(!r)throw new Error('Schema type with name "'.concat(t,'" not found'));const o=r.title||cn(t);return new I1(e).id(t).title(o).schemaType(r).child((i,s)=>{const a=s.parent,c=_Mn(a)?a.items.find(d=>d.id===i):null;let u=U4e(e,t);return c&&c.title&&(u=u.title(c.title)),u})}function U4e(e,t){const{schema:n,resolveDocumentNode:r}=e,o=typeof t=="string"?t:t.schemaType,i=typeof o=="string"?o:o.name,s=typeof t=="string"?{schemaType:o}:t,a=n.get(i);if(!a)throw new Error('Schema type with name "'.concat(i,'" not found'));const c=a.title||cn(i),u=bMn(a);return new ij(e).id(s.id||i).title(s.title||c).filter("_type == $type").params({type:i}).schemaType(a).showIcons(u).defaultOrdering(Y$n.by).menuItemGroups(s.menuItemGroups||[{id:"sorting",title:"Sort"},{id:"layout",title:"Layout"},{id:"actions",title:"Actions"}]).child(s.child||(d=>r({schemaType:i,documentId:d}))).canHandleIntent(s.canHandleIntent||CV).menuItems(s.menuItems||[...P4e(e,a),new nh(e).group("layout").title("Compact view").icon(G1e).action("setLayout").params({layout:"default"}),new nh(e).group("layout").title("Detailed view").icon(K1e).action("setLayout").params({layout:"detail"})])}function EMn(e){return!e||typeof e=="string"?!1:!!e.icon}function kMn(e){const t=V4e(e);return new D1(e).id("__root__").title("Content").items(t).showIcons(t.some(n=>EMn(n.getSchemaType())))}function jMn(e){let{defaultDocumentNode:t,source:n}=e;const r=lyn(n),o={...n,getStructureBuilder:()=>i,resolveDocumentNode:s=>{let a=(t==null?void 0:t(i,{...s,...r}))||new rh(o);return a.getId()||(a=a.id("documentEditor")),s.documentId&&(a=a.documentId(On(s.documentId))),a.schemaType(s.schemaType)}},i={defaults:()=>kMn(o),documentTypeList:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return U4e(o,...a)},documentTypeListItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return H4e(o,...a)},documentTypeListItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return V4e(o,...a)},document:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new rh(o,...a)},documentWithInitialValueTemplate:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return eMn(o,...a)},defaultDocument:o.resolveDocumentNode,list:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new D1(o,...a)},listItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new I1(o,...a)},menuItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new nh(o,...a)},menuItemGroup:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new fw(o,...a)},menuItemsFromInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return rMn(o,...a)},documentList:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new UC(o,...a)},documentListItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new SV(o,...a)},orderingMenuItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return O4e(o,...a)},orderingMenuItemsForType:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return P4e(o,...a)},editor:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return J$n(o,...a)},defaultInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return tMn(o,...a)},initialValueTemplateItem:(s,a)=>new qD(o,{id:s,parameters:a,templateId:s}),component:s=>Kl.isValidElementType(s)?new hw().component(s):new hw(s),divider:()=>({id:p5e("__divider__"),type:"divider"}),view:Z$n,context:o};return i}function h6n(e){let{defaultDocumentNode:t,structure:n,children:r}=e;const[o,i]=h.useState(!1),s=$n(),a=ayn(s),c=al(),u=h.useMemo(()=>jMn({defaultDocumentNode:t,source:s}),[t,s]),d=h.useMemo(()=>n?n(u,{...a,documentStore:c}):u.defaults(),[u,n,a,c]),f=h.useMemo(()=>({backButton:o,resizablePanes:!o,reviewChanges:!o,splitPanes:!o,splitViews:!o}),[o]),p=h.useMemo(()=>({features:f,layoutCollapsed:o,setLayoutCollapsed:i,rootPaneNode:d,structureContext:u.context}),[f,o,d,u.context]);return l.jsx(k4e.Provider,{value:p,children:r})}function W4e(e){const{children:t,currentMinWidth:n,flex:r,minWidth:o,paneKey:i,title:s="Error",tone:a="critical"}=e;return l.jsxs(FD,{currentMinWidth:n,flex:r,id:i,minWidth:o,tone:a,children:[l.jsx(rV,{title:s}),l.jsx(LD,{overflow:"auto",children:l.jsx(M,{paddingX:4,paddingY:5,children:t})})]})}function TMn(e){const t=[{ms:300,message:"Loading…"},{ms:5e3,message:"Still loading…"}],n=be(null);return pn(...t.map(r=>{let{ms:o,message:i}=r;return n.pipe(z8(i),s2e(o))}))}var e0e=Object.freeze,AMn=Object.defineProperty,DMn=(e,t)=>e0e(AMn(e,"raw",{value:e0e(t||e.slice())})),t0e;const IMn="Loading…",OMn=P(U)(t0e||(t0e=DMn([`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`]))),Y4e=h.memo(e=>{const{delay:t=300,flex:n,message:r=TMn,minWidth:o,paneKey:i,path:s,selected:a,title:c,tone:u}=e,d=h.useMemo(()=>typeof r=="function"?r(s?s.split(";"):[]):r,[r,s]),[f,p]=h.useState(()=>typeof d=="string"?d:IMn);h.useEffect(()=>{if(typeof d!="object"||typeof d.subscribe=="function")return;const b=d.subscribe(p);return()=>b.unsubscribe()},[d]);const[m,v]=h.useState(null),[g,y]=h.useState(!1);h.useEffect(()=>{if(m)return MJe(()=>y(!0))},[m]);const x=l.jsxs(OMn,{align:"center","data-mounted":g?"":void 0,direction:"column",height:"fill",justify:"center",ref:v,children:[l.jsx(ur,{muted:!0}),(c||f)&&l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:c||f})})]});return l.jsx(FD,{flex:n,id:i,minWidth:o,selected:a,tone:u,children:l.jsx(LD,{children:x})})});Y4e.displayName="LoadingPane";function PMn(e){return e==="delete"?`An error occurred while attempting to delete this document.
      This usually means that there are other documents that refers to it.`:e==="unpublish"?`An error occurred while attempting to unpublish this document.
      This usually means that there are other documents that refers to it.`:"An error occurred during ".concat(e)}function RMn(e){return e==="publish"?"The document was published":e==="unpublish"?"The document was unpublished. A draft has been created from the latest published version.":e==="discardChanges"?"All changes since last publish has now been discarded. The discarded draft can still be recovered from history":e==="delete"?"The document was successfully deleted":"Successfully performed ".concat(e," on document")}const $Mn=["patch","commit"],MMn=h.memo(function(){const{push:t}=Wo(),{documentId:n,documentType:r}=hr(),o=ZRe(n,r),i=h.useRef(o),s=ru();return h.useEffect(()=>{if(!o||o===i.current)return;let a;return o.type==="error"&&t({closable:!0,duration:3e4,status:"error",title:PMn(o.op),description:l.jsxs("details",{children:[l.jsx("summary",{children:"Details"}),o.error.message]})}),o.type==="success"&&!$Mn.includes(o.op)&&t({closable:!0,status:"success",title:RMn(o.op)}),o.type==="success"&&o.op==="delete"&&(a=setTimeout(()=>s.closeCurrentAndAfter(),0)),i.current=o,()=>clearTimeout(a)},[o,s,t]),null});function FMn(e){let{currentInspector:t,hasValue:n,inspectors:r,inspectorMenuItems:o}=e;return r.map((i,s)=>{var a;const c=o[s];return!c||c.hidden?null:{action:"".concat(RF).concat(i.name),group:c.showAsAction?void 0:"inspectors",icon:c.icon,isDisabled:!n,selected:(t==null?void 0:t.name)===i.name,shortcut:(a=c.hotkeys)==null?void 0:a.join("+"),showAsAction:c.showAsAction,title:c.title,tone:c.tone}}).filter(Boolean)}function LMn(e){let{hasValue:t}=e;return{action:"inspect",group:"inspectors",title:"Inspect",icon:A0,isDisabled:!t,shortcut:"Ctrl+Alt+I"}}function BMn(e){let{previewUrl:t}=e;return t?{action:"production-preview",group:"links",title:"Open preview",icon:R1e,shortcut:"Ctrl+Alt+O"}:null}function NMn(e){const t=FMn(e),n=[BMn(e)].filter(Boolean);return[...t,LMn(e),...n]}const zMn=e=>yt(e)&&typeof e._id=="string"&&typeof e._type=="string";function VMn(e){const[t,n]=h.useState(void 0),[r,o]=h.useState(null),{resolveProductionUrl:i}=$n().document,s=Xrt(e);if(r)throw r;return h.useEffect(()=>{s.pipe(N8(500),st(a=>zMn(a)?Cr(i({document:a})):be(void 0)),In(a=>{const c=yt(a)&&typeof a.message=="string"?a.message:"Unknown error";throw new Error("An error was thrown while trying to get your preview url: ".concat(c))})).subscribe({next:n,error:o})},[i,s]),t}function HMn(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn('Conflicting templates: URL says "'.concat(t.urlTemplate,'", structure node says "').concat(r,'". Using "').concat(r,'".'));const o=r||t.urlTemplate,i=e.filter(c=>c.schemaType===t.documentType),s={...t.templateParams,...typeof n=="object"?n||{}:{}};let a=o;return!o&&i.length===1&&(a=i[0].id),{templateName:a,templateParams:s}}const UMn=h.memo(function(t){const{documentId:n,documentType:r,index:o,setMenuItem:i,useMenuItem:s}=t,a=Fo(s({documentId:n,documentType:r}));return h.useEffect(()=>{i(o,a)},[o,a,i]),l.jsx(l.Fragment,{})});function WMn(e){const{documentId:t,documentType:n,inspectors:r,onMenuItems:o}=e,i=r.length,s=h.useRef(i),[a,c]=h.useState(()=>Array.from(new Array(i))),u=h.useRef(a);h.useEffect(()=>{if(s.current!==i){const f=Array.from(new Array(i));for(let p=0;p<i;p++)f[p]=u.current[p];s.current=i,c(()=>(u.current=f,f))}},[i]);const d=h.useCallback((f,p)=>{c(m=>{const v=[...m];return v[f]=p,u.current=v,v})},[]);return h.useEffect(()=>{o(a.filter(Boolean))},[a,o]),l.jsx(l.Fragment,{children:r.map((f,p)=>f.useMenuItem&&l.jsx(UMn,{documentId:t,documentType:n,index:p,setMenuItem:d,useMenuItem:f.useMenuItem},f.name))})}const q4e=h.memo(e=>{const{children:t,index:n,pane:r,paneKey:o,onFocusPath:i}=e,s=_n(),a=x1(),{actions:c,badges:u,unstable_fieldActions:d,unstable_languageFilter:f,inspectors:p}=$n().document,m=Gz(),v=ru(),g=v.setParams,{features:y}=A1(),{push:x}=Wo(),{options:b,menuItemGroups:w=jTn,title:C=null,views:_=[]}=r,S=Fo(b),E=S.id,j=On(E),k=b.type,T=Fo(v.params)||kTn,A=Fo(v.payload),{templateName:D,templateParams:I}=h.useMemo(()=>HMn(a,{documentType:k,templateName:S.template,templateParams:S.templateParameters,panePayload:A,urlTemplate:T.template}),[k,S,T,A,a]),O=v2n({documentId:j,documentType:k,templateName:D,templateParams:I}),$=Fo(O),{patch:R}=nc(j,k),V=Fz(j,k),{validation:N}=Lz(j,k),W=x_n(j,k),q=s.get(k),H=(V==null?void 0:V.draft)||(V==null?void 0:V.published)||$.value,[Y,X]=h.useState(!1),[B,K]=h.useState([]),z=h.useMemo(()=>c({schemaType:k,documentId:j}),[c,j,k]),Z=h.useMemo(()=>u({schemaType:k,documentId:j}),[u,j,k]),Q=h.useMemo(()=>f({schemaType:k,documentId:j}),[j,k,f]),ne=Fo(N),G=Fo(_),[J,re]=h.useState(()=>T.path?Rl(T.path):hn),fe=h.useRef(J),le=T.view||G[0]&&G[0].id||null,[ge,we]=h.useState("closed"),[ce,ve]=h.useState(null),$e=dSn({documentId:j,documentType:k,onError:ve,rev:T.rev,since:T.since}),Ae=ao($e,Ye=>Ye.onOlderRevision),it=ao($e,Ye=>Ye.revTime),et=ao($e,Ye=>Ye.sinceAttributes),lt=ao($e,Ye=>Ye.timelineDisplayed),Pe=ao($e,Ye=>Ye.timelineReady),xe=ao($e,Ye=>Ye.isPristine),We=h.useMemo(()=>Pe?!(V!=null&&V.draft)&&!(V!=null&&V.published)&&!xe:!1,[V==null?void 0:V.draft,V==null?void 0:V.published,xe,Pe]),ze=VMn(H),[Ze,xt]=h.useState([]);h.useEffect(()=>{const Ye=m.documentPresence(j).subscribe(Bn=>{xt(Bn)});return()=>{Ye.unsubscribe()}},[j,m]);const ke=h.useMemo(()=>p({documentId:j,documentType:k}),[j,k,p]),[Ne,dt]=h.useState(()=>T.inspect||null),di=h.useRef(T.inspect);h.useEffect(()=>{di.current!==T.inspect&&(di.current=T.inspect,dt(T.inspect||null))},[T.inspect]);const Xn=ke==null?void 0:ke.find(Ye=>Ye.name===Ne),qo=ke.find(Ye=>Ye.name===$F),Wt=(Xn==null?void 0:Xn.name)===$F,eo=!!H,cl=h.useMemo(()=>NMn({currentInspector:Xn,features:y,hasValue:eo,inspectorMenuItems:B,inspectors:ke,previewUrl:ze}),[Xn,y,eo,B,ke,ze]),ul=T.inspect==="on",Ms=Wt?et:(V==null?void 0:V.published)||null,Mn=h.useMemo(()=>q?d({documentId:j,documentType:k,schemaType:q}):[],[j,k,d,q]),Ln=W==="connected"&&V.ready&&(Pe||!!ce),Yr=h.useMemo(()=>Ae?lt||{_id:H._id,_type:H._type}:H,[Ae,lt,H]),Ge=h.useCallback((Ye,Bn)=>{g({...T,since:Ye,rev:Bn||void 0})},[T,g]),wt=h.useCallback(Ye=>{re(Ye),fe.current!==Ye&&(fe.current=Ye,i==null||i(Ye)),m.setLocation([{type:"document",documentId:j,path:Ye,lastActiveAt:new Date().toISOString()}])},[j,i,m,re]),Qn=h.useCallback(Ye=>{QD.current||(re(hn),fe.current!==hn&&(fe.current=hn,i==null||i(hn)))},[i,re]),Fn=h.useRef(()=>{throw new Error("Nope")});Fn.current=Ye=>{R.execute(fEn(Ye.patches),$.value)};const va=h.useCallback(Ye=>Fn.current(Ye),[]),Er=h.useCallback(Ye=>{var Bn,Sn,qr,iu;const su=Ye&&ke.find(hi=>hi.name===Ye);if(Ye&&!su){console.warn('No inspector named "'.concat(Ye,'"'));return}if(Xn){if(su){const hi=(Sn=(Bn=su.onClose)==null?void 0:Bn.call(su,{params:T}))!=null?Sn:{params:T};dt(null),di.current=void 0,g({...hi.params,inspect:void 0});return}if(Xn){const hi=(iu=(qr=Xn.onClose)==null?void 0:qr.call(Xn,{params:T}))!=null?iu:{params:T};dt(null),di.current=void 0,g({...hi.params,inspect:void 0})}}},[Xn,ke,T,g]),fi=h.useCallback((Ye,Bn)=>{var Sn,qr,iu,su;const hi=ke.find($V=>$V.name===Ye);if(!hi){console.warn('No inspector named "'.concat(Ye,'"'));return}if((Xn==null?void 0:Xn.name)===hi.name){g({...T,...Bn,inspect:hi.name});return}let R1=T;Xn&&(R1=((qr=(Sn=hi.onClose)==null?void 0:Sn.call(hi,{params:R1}))!=null?qr:{params:R1}).params);const yFe=(su=(iu=hi.onOpen)==null?void 0:iu.call(hi,{params:R1}))!=null?su:{params:R1};dt(hi.name),di.current=hi.name,g({...yFe.params,...Bn,inspect:hi.name})},[Xn,ke,T,g]),Fs=h.useCallback(()=>{qo&&Er(qo.name)},[Er,qo]),ya=h.useCallback(()=>{y.reviewChanges&&qo&&fi(qo.name)},[y.reviewChanges,fi,qo]),rg=h.useCallback(()=>v.closeCurrent(),[v]),WC=h.useCallback(()=>v.duplicateCurrent(),[v]),rc=h.useCallback(function(){let Ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!ul;g(Ye?{...T,inspect:"on"}:Mi(T,"inspect"))},[ul,T,g]),ou=h.useCallback(Ye=>{if(Ye.action==="production-preview"&&ze)return window.open(ze),!0;if(Ye.action==="inspect")return rc(!0),!0;if(Ye.action==="reviewChanges")return ya(),!0;if(typeof Ye.action=="string"&&Ye.action.startsWith(RF)){const Bn=Ye.action.slice(RF.length),Sn=ke.find(qr=>qr.name===Bn);if(Sn)return Sn.name===Ne?Er(Sn.name):fi(Sn.name),!0}return!1},[Er,ya,Ne,ke,fi,ze,rc]),O1=h.useCallback(Ye=>{for(const Bn of cl)if(Bn.shortcut&&xi(Bn.shortcut,Ye)){Ye.preventDefault(),Ye.stopPropagation(),ou(Bn);return}},[ou,cl]),iFe=h.useCallback(()=>rc(!1),[rc]),[sFe,aFe]=h.useState([]),[lFe,TV]=h.useState(),[AV,DV]=h.useState(),[IV,OV]=h.useState(),cFe=h.useCallback((Ye,Bn)=>{DV(Sn=>ap(Sn,Ye,Bn))},[]),uFe=h.useCallback((Ye,Bn)=>{OV(Sn=>ap(Sn,Ye,Bn))},[]),dFe=h.useCallback((Ye,Bn)=>TV(Sn=>ap(Sn,Ye,Bn)),[]),fFe=H._createdAt?"update":"create",PV=!!(q!=null&&q.liveEdit),GD=H._id?H._id:"dummy-id",hFe=h.useMemo(()=>({...H,_id:PV?On(GD):li(GD)}),[PV,H,GD]),[P1,KD]=_2n({document:hFe,permission:fFe}),RV=!(H!=null&&H._id),pFe=h.useMemo(()=>{var Ye;const Bn=!KD&&!(P1!=null&&P1.granted),Sn=!yX(q,"update"),qr=RV&&!yX(q,"create"),iu=W==="reconnecting",su=(Ye=V.transactionSyncLock)==null?void 0:Ye.enabled;return!Ln||it!==null||Bn||Sn||qr||iu||su||Y||We},[W,V.transactionSyncLock,RV,We,Y,KD,P1==null?void 0:P1.granted,Ln,it,q]),ZD=dEn(q,{value:Yr,readOnly:pFe,comparisonValue:Ms,focusPath:J,openPath:sFe,collapsedPaths:AV,presence:Ze,validation:ne,collapsedFieldSets:IV,fieldGroupState:lFe,changesOpen:Wt}),YC=h.useRef(ZD);YC.current=ZD;const XD=h.useCallback(Ye=>{XSn(YC.current,Ye).forEach(Sn=>{Sn.type==="expandPath"&&DV(qr=>ap(qr,Sn.path,!1)),Sn.type==="expandFieldSet"&&OV(qr=>ap(qr,Sn.path,!1)),Sn.type==="setSelectedGroup"&&TV(qr=>ap(qr,Sn.path,Sn.groupName))}),aFe(Ye)},[YC]),mFe={actions:z,activeViewId:le,badges:Z,changesOpen:Wt,closeInspector:Er,collapsedFieldSets:IV,collapsedPaths:AV,compareValue:Ms,connectionState:W,displayed:Yr,documentId:j,documentIdRaw:E,documentType:k,editState:V,fieldActions:Mn,focusPath:J,inspector:Xn||null,inspectors:ke,menuItems:cl,onBlur:Qn,onChange:va,onFocus:wt,onPathOpen:XD,onHistoryClose:Fs,onHistoryOpen:ya,onInspectClose:iFe,onKeyUp:O1,onMenuAction:ou,onPaneClose:rg,onPaneSplit:WC,onSetActiveFieldGroup:dFe,onSetCollapsedPath:cFe,onSetCollapsedFieldSet:uFe,openInspector:fi,index:n,inspectOpen:ul,validation:ne,menuItemGroups:w||[],paneKey:o,previewUrl:ze,ready:Ln,schemaType:q,isPermissionsLoading:KD,permissions:P1,setTimelineMode:we,setTimelineRange:Ge,setIsDeleting:X,isDeleting:Y,isDeleted:We,timelineError:ce,timelineMode:ge,timelineStore:$e,title:C,value:H,views:G,formState:ZD,unstable_languageFilter:Q};h.useEffect(()=>{W==="reconnecting"&&x({id:"sanity/desk/reconnecting",status:"warning",title:l.jsx(l.Fragment,{children:"Connection lost. Reconnecting…"})})},[W,x]);const QD=h.useRef(!1);h.useEffect(()=>{var Ye;if(Ln&&T.path){const{path:Bn,...Sn}=T,qr=e6e((Ye=YC.current)==null?void 0:Ye.value,Rl(Bn));QD.current=!0,re(qr),XD(qr),fe.current!==qr&&(fe.current=qr,i==null||i(qr));const iu=setTimeout(()=>{QD.current=!1},0);return v.setParams(Sn),()=>clearTimeout(iu)}},[T,j,i,XD,Ln,v]);const[gFe,vFe]=h.useState([]);return l.jsxs(nMe.Provider,{value:mFe,children:[ke.length>0&&l.jsx(WMn,{documentId:j,documentType:k,inspectors:ke,onMenuItems:K}),Mn.length>0&&q&&l.jsx(wC,{actions:Mn,documentId:j,documentType:k,onActions:vFe,path:hn,schemaType:q}),l.jsx(EC,{actions:gFe,path:hn,children:l.jsx(hRn,{documentId:j,documentType:k,children:l.jsx(gRn,{children:t})})})]})});q4e.displayName="DocumentPaneProvider";function KF(e,t,n){const r=FSn(),[o,i]=h.useState(n),s=h.useMemo(()=>r.forNamespace("desk-tool"),[r]),a=h.useMemo(()=>e?s.forNamespace(e).forKey(t):s.forKey(t),[s,e,t]);h.useEffect(()=>{const u=a.listen(n).subscribe({next:i});return()=>u==null?void 0:u.unsubscribe()},[n,t,e,a]);const c=h.useCallback(u=>{i(u),a.set(u)},[a]);return h.useMemo(()=>[o,c],[c,o])}const Rg={id:"parsed",title:"Parsed"},$g={id:"raw",title:"Raw JSON"},YMn=[Rg,$g],sj=F5n(1e3);function G4e(e,t){const n=sj.get(e);return n===void 0?(sj.set(e,Array.isArray(t)||yt(t)),G4e(e,t)):n}function qMn(e){const{path:t}=e,n=sj.get(t);n!==void 0&&sj.set(t,!n)}function K4e(e){const t=window.getSelection();if(t){const n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function n0e(e){K4e(e.currentTarget)}function GMn(e){e.keyCode===65&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),K4e(e.currentTarget))}function KMn(e){return yt(e)&&$v(e._id)&&$v(e._type)}var r0e=Object.freeze,ZMn=Object.defineProperty,XMn=(e,t)=>r0e(ZMn(e,"raw",{value:r0e(t||e.slice())})),o0e;const QMn=P.div(e=>{let{theme:t}=e;const{color:n,fonts:r,space:o}=t.sanity;return he(o0e||(o0e=XMn([`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: `,`;
      font-size: `,`px;
      line-height: `,`px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: `,`;
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: `,`;
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0 - `,` + 3px);
      font-size: `,`px;
      line-height: `,`px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: `,`px;
      line-height: `,`px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: `,`;
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: `,`;
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: `,`;
    }

    & .json-inspector .json-inspector__value_string {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_number {
      color: `,`;
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `])),r.code.family,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ye(o[4]),ye(o[3]),ye(o[4]),r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ye(o[4]/2),n.syntax.property,n.syntax.constant,ye(o[3]),n.syntax.string,n.syntax.boolean,n.syntax.number)});function JMn(e){const{onChange:t,query:n}=e,r=h.useCallback(o=>t(o.target.value),[t]);return l.jsx($r,{icon:ti,onChange:r,placeholder:"Search",radius:2,value:n||""})}function e4n(e){const{value:t}=e,{onInspectClose:n,paneKey:r}=hr(),o="".concat(r,"_inspect_"),[i,s]=KF("desk-tool","inspect-view-preferred-view-mode-".concat(r),"parsed"),a=YMn.find(d=>d.id===i),c=h.useCallback(()=>{s(Rg.id)},[s]),u=h.useCallback(()=>{s($g.id)},[s]);return l.jsx(Li,{id:"".concat(o,"dialog"),header:KMn(t)?l.jsxs(l.Fragment,{children:["Inspecting"," ",l.jsx("em",{children:l.jsx(z$e,{document:t})})]}):l.jsx("em",{children:"No value"}),onClose:n,onClickOutside:n,width:3,children:l.jsxs(U,{direction:"column",height:"fill",children:[l.jsx(ee,{padding:3,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:l.jsxs(aT,{space:1,children:[l.jsx(mx,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(Rg.id),label:Rg.title,onClick:c,selected:a===Rg}),l.jsx(mx,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat($g.id),label:$g.title,onClick:u,selected:a===$g})]})}),l.jsxs(i_e,{"aria-labelledby":"".concat(o,"tab-").concat(i),flex:1,id:"".concat(o,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[a===Rg&&l.jsx(QMn,{children:l.jsx($5n,{data:t,isExpanded:G4e,onClick:qMn,search:JMn})}),a===$g&&l.jsx(ir,{language:"json",tabIndex:0,onKeyDown:GMn,onDoubleClick:n0e,onFocus:n0e,children:JSON.stringify(t,null,2)})]})]})})}var i0e=Object.freeze,t4n=Object.defineProperty,n4n=(e,t)=>i0e(t4n(e,"raw",{value:i0e(t||e.slice())})),s0e;const r4n=P(ee)(s0e||(s0e=n4n([`
  position: relative;
  z-index: 50;
`])));function o4n(e){let{revisionId:t}=e;const{documentId:n,documentType:r}=hr(),{restore:o}=nc(n,r),{navigateIntent:i}=Gl(),s=h.useCallback(()=>{t&&(o.execute(t),i("edit",{id:n,type:r}))},[n,r,i,o,t]);return l.jsx(r4n,{"data-testid":"deleted-document-banner",shadow:1,tone:"transparent",children:l.jsx(Qr,{paddingX:4,paddingY:t?2:3,sizing:"border",width:1,children:l.jsxs(U,{align:"center",children:[l.jsx(L,{size:1,children:l.jsx(bw,{})}),l.jsxs(U,{align:"center",gap:2,flex:1,marginLeft:3,children:[l.jsx(L,{size:1,children:"This document has been deleted."}),t&&l.jsx(se,{fontSize:1,padding:2,mode:"bleed",tone:"primary",onClick:s,text:"Restore most recent version"})]})]})})})}var a0e=Object.freeze,i4n=Object.defineProperty,Z4e=(e,t)=>a0e(i4n(e,"raw",{value:a0e(t||e.slice())})),l0e,c0e;const s4n=P(ee)(l0e||(l0e=Z4e([`
  position: relative;
  z-index: 50;
`]))),u0e=P(L)(c0e||(c0e=Z4e([`
  & > * {
    overflow: hidden;
    overflow: clip;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`]))),X4e=h.memo(()=>{var e,t,n,r,o,i;const s=Vi(),{params:a,groupIndex:c,routerPanesState:u,replaceCurrent:d,BackLink:f}=ru(),p=(e=u[c])==null?void 0:e[0].id,m=u[c-1],v=m==null?void 0:m[0],g=v==null?void 0:v.id,y=!!((t=v==null?void 0:v.params)!=null&&t.rev),x=h.useMemo(()=>(a==null?void 0:a.parentRefPath)&&Rl(a.parentRefPath)||null,[a==null?void 0:a.parentRefPath]),b=vo(()=>{const _=x==null?void 0:x[0];if(!g||!_||!x)return be({loading:!1});const S=On(g),E=Rl(_),j=E.findIndex(k=>typeof k=="object"&&"_key"in k);return Hr(be({loading:!0}),s.unstable_observePathsDocumentPair(S,j===-1?E:E.slice(0,j)).pipe(N8(750),ue(k=>{let{draft:T,published:A}=k;var D;return{loading:!1,result:{availability:{draft:T.availability,published:A.availability},refValue:(D=Cm(T.snapshot||A.snapshot,x))==null?void 0:D._ref}}})))},[s,g,x],{loading:!0}),w=h.useCallback(()=>{var _;b.loading||(_=b.result)!=null&&_.refValue&&d({id:b.result.refValue,params:a})},[b.loading,b.result,d,a]);return!g||!x||y||b.loading||!((n=b.result)!=null&&n.availability.draft.available)&&!((r=b.result)!=null&&r.availability.published.available)||((o=b.result)==null?void 0:o.refValue)===p?null:l.jsx(s4n,{shadow:1,tone:"caution","data-testid":"reference-changed-banner",children:l.jsx(Qr,{paddingX:4,paddingY:2,sizing:"border",width:1,children:l.jsxs(U,{align:"center",children:[l.jsx(L,{size:1,children:l.jsx(Mr,{})}),(i=b.result)!=null&&i.refValue?l.jsxs(l.Fragment,{children:[l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(u0e,{title:"This reference has changed since you opened it.",size:1,children:"This reference has changed since you opened it."})}),l.jsx(M,{marginLeft:3,children:l.jsx(se,{onClick:w,icon:I0,fontSize:1,mode:"ghost",padding:2,space:2,text:"Reload reference"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(u0e,{title:"This reference has been removed since you opened it.",size:1,children:"This reference has been removed since you opened it."})}),l.jsx(M,{marginLeft:3,children:l.jsx(se,{as:f,icon:Ii,fontSize:1,mode:"ghost",padding:2,space:2,text:"Close reference"})})]})]})})})});X4e.displayName="ReferenceChangedBanner";var d0e=Object.freeze,a4n=Object.defineProperty,l4n=(e,t)=>d0e(a4n(e,"raw",{value:d0e(t||e.slice())})),f0e;const c4n=P(ee)(f0e||(f0e=l4n([`
  position: relative;
  z-index: 50;
`])));function u4n(e){let{granted:t,requiredPermission:n}=e;var r,o;const i=Yo(),s=((r=i==null?void 0:i.roles)==null?void 0:r.length)!==1,a=d4n(((o=i==null?void 0:i.roles)==null?void 0:o.map(c=>l.jsx("code",{children:c.title},c.name)))||[],", ");return t?null:l.jsx(c4n,{"data-testid":"permission-check-banner",shadow:1,tone:"transparent",children:l.jsx(Qr,{paddingX:4,paddingY:3,sizing:"border",width:1,children:l.jsxs(U,{align:"flex-start",children:[l.jsx(L,{size:1,children:l.jsx(bw,{})}),l.jsx(M,{flex:1,marginLeft:3,children:l.jsxs(L,{size:1,children:["Your role",s&&"s"," ",a," ",s?"do":"does"," not have permissions to"," ",n," this document."]})})]})})})}function d4n(e,t){return e.reduce((n,r)=>n===null?[r]:n.concat([t,r]),null)}function f4n(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}const h4n=1e3*60*60*24*24;function p4n(e){const t=Wo(),n=f4n(e.enabled);h.useEffect(()=>{!n&&e.enabled&&t.push({...e,duration:h4n}),n&&!e.enabled&&t.push({...e,duration:.01})},[e,t,n])}const m4n=e=>e.preventDefault(),g4n=h.forwardRef(function(t,n){var r;const{hidden:o,margins:i}=t,{collapsedFieldSets:s,collapsedPaths:a,displayed:c,editState:u,documentId:d,documentType:f,fieldActions:p,onChange:m,validation:v,ready:g,formState:y,onFocus:x,onBlur:b,onSetCollapsedPath:w,onPathOpen:C,onSetCollapsedFieldSet:_,onSetActiveFieldGroup:S}=hr(),E=al(),j=$C(d),k=h.useMemo(()=>Den(),[]),T=(r=u==null?void 0:u.transactionSyncLock)==null?void 0:r.enabled;p4n({id:"sync-lock-".concat(d),status:"warning",enabled:T,title:"Syncing document…",description:"Please hold tight while the document is synced. This usually happens right after the document has been published, and it shouldn't take more than a few seconds"}),h.useEffect(()=>{const $=E.pair.documentEvents(d,f).pipe(qn(R=>{R.type==="mutation"&&k.publish(v4n(R)),R.type==="rebase"&&k.publish(y4n(R))})).subscribe();return()=>{$.unsubscribe()}},[d,E,f,k]);const A=!!(c!=null&&c._rev);h.useEffect(()=>{A&&k.publish({type:"mutation",patches:[],snapshot:c})},[A]);const[D,I]=h.useState(null);h.useEffect(()=>{g&&!(y!=null&&y.focusPath.length)&&D&&nm(D)},[g]);const O=h.useCallback($=>{I($),typeof n=="function"?n($):n&&(n.current=$)},[n]);return l.jsx(Qr,{hidden:o,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:l.jsx(jC,{margins:i,children:l.jsx(M,{as:"form",onSubmit:m4n,ref:O,children:g?y===null?l.jsx(M,{padding:2,children:l.jsx(L,{children:"This form is hidden"})}):l.jsx(Ton,{__internal_fieldActions:p,__internal_patchChannel:k,collapsedFieldSets:s,collapsedPaths:a,focusPath:y.focusPath,changed:y.changed,focused:y.focused,groups:y.groups,id:"root",members:y.members,onChange:m,onFieldGroupSelect:S,onPathBlur:b,onPathFocus:x,onPathOpen:C,onSetFieldSetCollapsed:_,onSetPathCollapsed:w,presence:j,readOnly:y.readOnly,schemaType:y.schemaType,validation:v,value:y.value}):l.jsx(tV,{ms:300,children:l.jsxs(U,{align:"center",direction:"column",height:"fill",justify:"center",children:[l.jsx(ur,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Loading document"})})]})})})})})});function v4n(e){const t=e.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:SF(e.origin,t)}}function y4n(e){const t=e.remoteMutations.map(r=>r.patch).filter(Boolean),n=e.localMutations.map(r=>r.patch).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:SF("remote",t).concat(SF("local",n))}}function b4n(){const{activeViewId:e,paneKey:t,views:n}=hr(),r="".concat(t,"tabpanel");return l.jsx(aT,{space:1,children:n.map((o,i)=>{var s;return l.jsx(x4n,{icon:o.icon,id:"".concat(t,"tab-").concat(o.id),isActive:e===o.id,label:l.jsx(l.Fragment,{children:o.title}),tabPanelId:r,viewId:i===0?null:(s=o.id)!=null?s:null},o.id)})})}function x4n(e){const{isActive:t,tabPanelId:n,viewId:r,...o}=e,{ready:i}=hr(),{setView:s}=ru(),a=h.useCallback(()=>s(r),[s,r]);return l.jsx(mx,{...o,"aria-controls":n,disabled:!i,fontSize:1,selected:t,onClick:a})}function w4n(){const{connectionState:e,schemaType:t,title:n,value:r}=hr(),o=!!r&&e==="connected",{error:i,value:s}=xN({enabled:o,schemaType:t,value:r});return e!=="connected"?l.jsx(l.Fragment,{}):n?l.jsx(l.Fragment,{children:n}):r?i?l.jsxs(l.Fragment,{children:["Error: ",i.message]}):l.jsx(l.Fragment,{children:(s==null?void 0:s.title)||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):l.jsxs(l.Fragment,{children:["New ",(t==null?void 0:t.title)||(t==null?void 0:t.name)]})}const C4n=h.memo(h.forwardRef(function(t,n){const{onMenuAction:r,onPaneClose:o,onPaneSplit:i,menuItems:s,menuItemGroups:a,schemaType:c,timelineStore:u,ready:d,views:f,unstable_languageFilter:p}=hr(),{features:m}=A1(),{index:v,BackLink:g,hasGroupSiblings:y}=ru(),{actions:x}=WN(),b=h.useMemo(()=>eMe({actionHandler:r,fieldActions:x,menuItems:s,menuItemGroups:a}),[r,x,a,s]),w=h.useMemo(()=>b.filter(oV),[b]),C=h.useMemo(()=>b.filter(J$e),[b]),_=f.length>1,S=ao(u,I=>I.revTime),{collapsed:E,isLast:j}=Dh(),k=j&&!E?-1:0,T=m.splitViews&&i&&f.length>1,A=T&&y,D=!A&&!m.backButton;return l.jsx(rV,{ref:n,loading:!d,title:l.jsx(w4n,{}),tabs:_&&l.jsx(b4n,{}),tabIndex:k,backButton:m.backButton&&v>0&&l.jsx(se,{as:g,"data-as":"a",icon:yw,mode:"bleed",padding:2}),subActions:l.jsx(T4e,{chunk:S,mode:"rev",placement:"bottom-end"}),actions:l.jsxs(U,{align:"center",gap:1,children:[p.length>0&&l.jsx(l.Fragment,{children:p.map((I,O)=>h.createElement(I,{key:"language-filter-".concat(O),schemaType:c}))}),w.map(I=>l.jsx(Q$e,{node:I},I.key)),l.jsx(G$e,{nodes:C},"context-menu"),T&&l.jsx(at,{content:l.jsx(L,{size:1,style:{whiteSpace:"nowrap"},children:"Split pane right"}),padding:2,placement:"bottom",portal:!0,children:l.jsx(se,{"aria-label":"Split pane right",icon:q1e,mode:"bleed",onClick:i},"split-pane-button")}),A&&l.jsx(se,{icon:Ii,mode:"bleed",onClick:o,title:"Close split pane"},"close-view-button"),D&&l.jsx(se,{icon:Ii,mode:"bleed",title:"Close pane group",as:g},"close-view-button")]})})}));var h0e=Object.freeze,_4n=Object.defineProperty,S4n=(e,t)=>h0e(_4n(e,"raw",{value:h0e(t||e.slice())})),p0e;const E4n=P(M)({position:"relative"}),k4n=P(WA)(e=>{let{$disabled:t}=e;return t?{height:"100%"}:he(p0e||(p0e=S4n([`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `])))}),j4n=function(t){const{footerHeight:n,isInspectOpen:r,rootElement:o,setDocumentPanelPortalElement:i}=t,{activeViewId:s,displayed:a,documentId:c,editState:u,inspector:d,value:f,views:p,ready:m,schemaType:v,permissions:g,isPermissionsLoading:y,isDeleting:x,isDeleted:b,timelineStore:w,formState:C}=hr(),{collapsed:_}=C1(),{collapsed:S}=Dh(),E=Pm(),{features:j}=A1(),[k,T]=h.useState(null),A=fh(k),D=h.useRef(null),[I,O]=h.useState(null),$=h.useRef(null),R=f._createdAt?"update":"create",V=h.useMemo(()=>{if(C)return C.groups.find(z=>z.selected)},[C]),N=h.useMemo(()=>p.find(z=>z.id===s)||p[0]||{type:"form"},[s,p]),W=j.splitPanes&&D.current||E.element,q=h.useMemo(()=>_?[(A==null?void 0:A.height)||0,0,n?n+2:2,0]:[0,0,2,0],[_,n,A]),H=N.type!=="form",Y=h.useMemo(()=>N.type==="component"&&N.component&&h.createElement(N.component,{document:{draft:(u==null?void 0:u.draft)||null,displayed:a||f,historical:a,published:(u==null?void 0:u.published)||null},documentId:c,options:N.options,schemaType:v}),[N,a,c,u==null?void 0:u.draft,u==null?void 0:u.published,v,f]),X=ao(w,z=>z.lastNonDeletedRevId);h.useEffect(()=>{I!=null&&I.scrollTo&&I.scrollTo(0,0)},[c,I]),h.useEffect(()=>{W&&i(W)},[W,i]);const B=h.useMemo(()=>r?l.jsx(e4n,{value:a||f}):null,[r,a,f]),K=!!(!S&&d);return l.jsxs(l.Fragment,{children:[l.jsx(C4n,{ref:T}),l.jsx(LD,{children:l.jsxs(U,{height:"fill",children:[(j.resizablePanes||!K)&&l.jsx(E4n,{flex:2,overflow:"hidden",children:l.jsx(yd,{element:W,__unstable_elements:{documentScrollElement:I},children:l.jsx(Xu,{element:I,children:l.jsxs(Qx,{scrollElement:I,containerElement:$,children:[N.type==="form"&&!y&&m&&l.jsxs(l.Fragment,{children:[l.jsx(u4n,{granted:!!(g!=null&&g.granted),requiredPermission:R}),!x&&b&&l.jsx(o4n,{revisionId:X}),l.jsx(X4e,{})]}),l.jsxs(k4n,{$disabled:_||!1,"data-testid":"document-panel-scroller",ref:O,children:[l.jsx(g4n,{hidden:H,margins:q,ref:$},c+(m?"_ready":"_pending")),Y]},"".concat(V==null?void 0:V.name,"-").concat(c,"}")),B,l.jsx("div",{"data-testid":"document-panel-portal",ref:D})]})})})}),K&&l.jsx(Xu,{element:o,children:l.jsx(x$n,{documentId:c,documentType:v.name,flex:1})})]})})]})},Q4e=["left","bottom"],T4n={small:0,medium:1,large:2,full:"auto"};function A4n(e){const{dialog:t,referenceElement:n}=e;return l.jsx(Jt,{content:l.jsx(D4n,{dialog:t}),fallbackPlacements:Q4e,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function D4n(e){const{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:r,confirmButtonIcon:o,confirmButtonText:i,message:s,onCancel:a,onConfirm:c,tone:u}=t,{isTopLayer:d}=rl(),[f,p]=h.useState(null),m=h.useCallback(()=>{d&&a()},[d,a]),v=h.useCallback(g=>{g.key==="Escape"&&d&&a()},[d,a]);return lr(m,[f]),is(v),l.jsxs(U,{direction:"column",ref:p,style:{minWidth:320-16,maxWidth:400},children:[l.jsx(M,{flex:1,overflow:"auto",padding:4,children:l.jsx(L,{children:s})}),l.jsx(M,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:l.jsxs(Qt,{columns:2,gap:2,children:[l.jsx(se,{icon:n,onClick:a,mode:"ghost",text:r||"Cancel"}),l.jsx(se,{icon:o,onClick:c,text:i||"Confirm",tone:u})]})})]})}function I4n(e){const{dialog:t}=e,n=h.useId(),r=t.footer&&l.jsx(M,{paddingX:4,paddingY:3,children:t.footer});return l.jsx(ad,{zOffset:"fullscreen",children:l.jsx(Li,{__unstable_hideCloseButton:t.showCloseButton===!1,footer:r,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:t.width===void 0?1:T4n[t.width],children:l.jsx(M,{padding:4,children:t.content})})})}function O4n(e){const{dialog:t,referenceElement:n}=e;return l.jsx(Jt,{content:l.jsx(P4n,{dialog:t}),fallbackPlacements:Q4e,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function P4n(e){const{dialog:t}=e,{content:n,onClose:r}=t,{isTopLayer:o}=rl(),[i,s]=h.useState(null),a=h.useCallback(()=>{o&&r()},[o,r]),c=h.useCallback(u=>{u.key==="Escape"&&o&&r()},[o,r]);return lr(a,[i]),is(c),l.jsx("div",{ref:s,children:n})}function m0e(e){const{children:t}=e,{element:n,elements:r}=Pm(),o=(r==null?void 0:r[cMe])||n;return l.jsx(yd,{element:o,children:t})}function EV(e){const{dialog:t,referenceElement:n=null}=e,r=h.useId();if(t.type==="confirm")return l.jsx(A4n,{dialog:t,referenceElement:n});if(t.type==="popover")return l.jsx(O4n,{dialog:t,referenceElement:n});if(t.type==="dialog"||!t.type)return l.jsx(m0e,{children:l.jsx(I4n,{dialog:t})});if(t.type==="custom")return l.jsx(m0e,{children:t==null?void 0:t.component});const o=t;return console.warn("Unsupported modal type ".concat(o.type)),l.jsx(Li,{id:r,onClose:o.onClose,onClickOutside:o.onClose,width:2,children:l.jsx(M,{padding:4,children:o.content||l.jsxs(l.Fragment,{children:["Unexpected modal type (",l.jsx("code",{children:o.type}),")"]})})})}function R4n(e){const{actionStates:t,disabled:n}=e,r=h.useId(),o=h.useRef(null),[i,s]=h.useState(-1),[a,c]=h.useState(null),u=h.useCallback(p=>{s(p)},[]),d=h.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),f=t[i];return l.jsxs(l.Fragment,{children:[l.jsx(en,{id:"".concat(r,"-action-menu"),button:l.jsx(se,{"data-testid":"action-menu-button","aria-label":"Open document actions",disabled:n,icon:tl,mode:"ghost",ref:o}),menu:l.jsx(Bt,{padding:1,children:t.map((p,m)=>l.jsx($4n,{actionState:p,disabled:n,index:m,onAction:u},m))}),popover:d,ref:c}),f&&f.dialog&&l.jsx(ad,{zOffset:"paneFooter",children:l.jsx(EV,{dialog:f.dialog,referenceElement:a})})]})}function $4n(e){const{actionState:t,disabled:n,index:r,onAction:o}=e,{onHandle:i}=t,s=h.useCallback(()=>{o(r),i&&i()},[r,o,i]),a=t.title&&l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t.title})});return l.jsx(Ve,{"data-testid":"action-".concat(t.label.replace(" ","")),disabled:n||!!t.disabled,onClick:s,padding:0,tone:t.tone,children:l.jsx(at,{content:a,disabled:!a,fallbackPlacements:["left","bottom"],placement:"top",portal:!0,children:l.jsxs(U,{align:"center",paddingX:3,children:[l.jsxs(U,{flex:1,paddingY:3,children:[t.icon&&l.jsx(M,{marginRight:3,children:l.jsxs(L,{children:[h.isValidElement(t.icon)&&t.icon,Kl.isValidElementType(t.icon)&&h.createElement(t.icon)]})}),l.jsx(L,{children:t.label})]}),t.shortcut&&l.jsx(M,{marginLeft:3,children:l.jsx(aN,{keys:String(t.shortcut).split("+").map(c=>c.slice(0,1).toUpperCase()+c.slice(1))})})]})})})}function J4e(e){const{disabled:t,showMenu:n,states:r}=e,[o,...i]=r,[s,a]=h.useState(null),c=h.useMemo(()=>!o||!o.title&&!o.shortcut?null:l.jsxs(U,{padding:2,style:{maxWidth:300},align:"center",children:[l.jsx(L,{size:1,children:o.title}),o.shortcut&&l.jsx(M,{marginLeft:o.title?2:0,children:l.jsx(aN,{keys:String(o.shortcut).split("+").map(u=>u.slice(0,1).toUpperCase()+u.slice(1).toLowerCase())})})]}),[o]);return l.jsxs(U,{children:[o&&l.jsx(Qu,{zOffset:200,children:l.jsx(at,{disabled:!c,content:c,portal:!0,placement:"top",children:l.jsx(oe,{flex:1,children:l.jsx(se,{"data-testid":"action-".concat(o.label),disabled:t||!!o.disabled,icon:o.icon,onClick:o.onHandle,ref:a,text:o.label,tone:o.tone||"primary"})})})}),n&&i.length>0&&l.jsx(M,{marginLeft:1,children:l.jsx(R4n,{actionStates:i,disabled:t})}),o&&o.dialog&&l.jsx(EV,{dialog:o.dialog,referenceElement:s})]})}const M4n=h.memo(function(){const{actions:t,connectionState:n,documentId:r,editState:o}=hr();return!t||!o?null:l.jsx(nV,{actions:t,actionProps:o,children:i=>{let{states:s}=i;return l.jsx(J4e,{disabled:n!=="connected",showMenu:t.length>1,states:s},r)}})}),F4n=h.memo(function(){const{connectionState:t,editState:n,timelineStore:r}=hr(),o=ao(r,u=>u.revTime),i=(o==null?void 0:o.id)||"",s=((n==null?void 0:n.draft)||(n==null?void 0:n.published)||{})._rev===i,a=h.useMemo(()=>({...n||{},revision:i}),[n,i]),c=h.useMemo(()=>[iV],[]);return l.jsx(nV,{actions:c,actionProps:a,children:u=>{let{states:d}=u;return l.jsx(J4e,{disabled:t!=="connected"||!!s,showMenu:!1,states:d})}})}),L4n={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function B4n(e){let{states:t}=e;return l.jsx(qt,{space:1,children:t.map((n,r)=>l.jsx(at,{content:n.title&&l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:n.title})}),disabled:!n.title,placement:"top",portal:!0,children:l.jsx(d8,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:n.color?L4n[n.color]:void 0,style:{whiteSpace:"nowrap"},children:n.label})},String(r)))})}function N4n(){const{badges:e,editState:t}=hr();return!t||!e?null:l.jsx(L5n,{badges:e,badgeProps:t,children:n=>{let{states:r}=n;return l.jsx(B4n,{states:r})}})}var g0e=Object.freeze,z4n=Object.defineProperty,V4n=(e,t)=>g0e(z4n(e,"raw",{value:g0e(t||e.slice())})),v0e;const H4n=P(U)(v0e||(v0e=V4n([`
  cursor: default;
`])));function U4n(e){const{collapsed:t,disabled:n,lastPublished:r,lastUpdated:o,liveEdit:i}=e,s=Qo(r||"",{minimal:!0,agoSuffix:!0}),a=Qo(r||"",{minimal:!0}),c=Qo(o||"",{minimal:!0,agoSuffix:!0}),u=Qo(o||"",{minimal:!0}),d=Qo(o||"",{minimal:!1,agoSuffix:!0}),f=Qo(r||"",{minimal:!1,agoSuffix:!0}),p=i?"Last updated ".concat(d):"Last published ".concat(f);return l.jsx(H4n,{align:"center","data-ui":"SessionLayout",sizing:"border",children:l.jsx(at,{placement:"top",portal:!0,content:l.jsx(oe,{padding:3,space:3,children:l.jsx(L,{size:1,children:i?l.jsxs(l.Fragment,{children:["Last updated"," ",l.jsx("abbr",{"aria-label":o?d:f,children:o?c:s})]}):l.jsxs(l.Fragment,{children:["Last published ",l.jsx("abbr",{"aria-label":f,children:s})]})})}),children:l.jsx(se,{mode:"bleed",tone:i?"critical":"positive",tabIndex:-1,disabled:n,"aria-label":p,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:t?0:3,children:l.jsx(L,{size:2,"aria-hidden":"true",children:i?l.jsx(U1e,{}):l.jsx(D0,{})})}),!t&&l.jsx(L,{size:1,weight:"medium",children:i?l.jsx("abbr",{"aria-label":p,children:o?u:a}):l.jsx("abbr",{"aria-label":p,children:a})})]})})})})}var y0e=Object.freeze,W4n=Object.defineProperty,kV=(e,t)=>y0e(W4n(e,"raw",{value:y0e(t||e.slice())})),b0e,x0e,w0e;const Y4n=P(gd.path)(b0e||(b0e=kV([`
  transform-origin: center;
`]))),q4n=e=>l.jsx(gd.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...e}),G4n=e=>l.jsx(Y4n,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...e}),K4n=e=>l.jsx(gd.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...e}),Z4n=e=>l.jsx(gd.path,{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",...e}),X4n=Em(x0e||(x0e=kV([`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`]))),Q4n=P.g(w0e||(w0e=kV([`
  transform-origin: center;

  &[data-rotate] {
    animation: `,` 1s ease-in-out infinite;
  }
`])),X4n),J4n={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},eFn={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},tFn={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},nFn={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}},rFn={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:0,transition:{duration:0}},changes:{pathLength:1,transition:{duration:.4,delay:.5}}};function oFn(e){const{status:t}=e;return t?l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"",children:l.jsxs(gd.g,{variants:J4n,initial:t,animate:t,children:[l.jsxs(Q4n,{"data-rotate":t==="changes"?void 0:"",children:[l.jsx(G4n,{variants:tFn,initial:t,animate:t}),l.jsx(q4n,{variants:eFn,initial:t,animate:t})]}),l.jsx(K4n,{variants:nFn,initial:t,animate:t}),l.jsx(Z4n,{variants:rFn,initial:t,animate:t})]})}):null}const iFn=ie.forwardRef(function(t,n){const{collapsed:r,status:o,lastUpdated:i,...s}=t,a=Qo(i||"",{minimal:!0}),c=Qo(i||"",{minimal:!0,agoSuffix:!0}),u=Qo(i||"",{minimal:!1,agoSuffix:!0}),d=h.useMemo(()=>o==="syncing"?{text:"Saving...",tone:void 0}:o==="changes"?{text:a,tone:"caution"}:o==="saved"?{text:"Saved!",tone:"positive"}:{},[o,a]);return o?l.jsx(at,{placement:"top",portal:!0,disabled:o!=="changes",content:l.jsxs(oe,{padding:3,space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Review changes"}),l.jsxs(L,{size:1,muted:!0,children:["Changes saved ",l.jsx("abbr",{"aria-label":u,children:c})]})]}),children:l.jsx(se,{mode:"bleed",justify:"flex-start",tone:d==null?void 0:d.tone,...s,"data-testid":"review-changes-button",ref:n,"aria-label":"Review changes",children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:r?0:3,"aria-hidden":"true",children:l.jsx(L,{children:l.jsx(oFn,{status:o})})}),!r&&l.jsx(L,{size:1,weight:"medium",children:d==null?void 0:d.text})]})})}):null}),sFn=ie.memo(iFn),aFn=1e3,lFn=3e3,cFn=h.memo(function(){var t;const{changesOpen:n,documentId:r,documentType:o,editState:i,onHistoryClose:s,onHistoryOpen:a,timelineStore:c,value:u}=hr(),d=QRe(r,o),f=u==null?void 0:u._updatedAt,p=(t=i==null?void 0:i.published)==null?void 0:t._updatedAt,m=!!(i!=null&&i.liveEdit),v=!!(i!=null&&i.published),g=!!(i!=null&&i.draft),[y,x]=h.useState(null),b=fh(y),w=!b||(b==null?void 0:b.width)<300,[C,_]=h.useState(null),S=ao(c,k=>k.onOlderRevision);h.useEffect(()=>{if(C==="syncing"&&!d.isSyncing){const k=setTimeout(()=>_("saved"),aFn);return()=>clearTimeout(k)}if(C==="saved"){const k=setTimeout(()=>_(null),lFn);return()=>clearTimeout(k)}},[C,f,d.isSyncing]),h.useLayoutEffect(()=>{_(null)},[r]),h.useLayoutEffect(()=>{d.isSyncing&&_("syncing")},[d.isSyncing,f]);const E=h.useMemo(()=>l.jsx(sFn,{lastUpdated:f,status:C||(g?"changes":void 0),onClick:n?s:a,disabled:S,selected:n,collapsed:w}),[g,n,s,a,f,S,C,w]),j=h.useMemo(()=>(m||v)&&l.jsx(M,{marginRight:1,children:l.jsx(U4n,{disabled:S,lastPublished:p,lastUpdated:f,liveEdit:m,collapsed:w})}),[w,p,f,m,v,S]);return l.jsxs(U,{align:"center","data-ui":"DocumentSparkline",ref:x,children:[j,l.jsxs(U,{align:"center",flex:1,children:[E,!w&&l.jsx(M,{marginLeft:3,children:l.jsx(N4n,{})})]})]})});var C0e=Object.freeze,uFn=Object.defineProperty,dFn=(e,t)=>C0e(uFn(e,"raw",{value:C0e(t||e.slice())})),_0e;const fFn=P(M)(_0e||(_0e=dFn([`
  min-width: 10em;
  max-width: 16em;
`])));function hFn(e){const{actionsBoxRef:t}=e,{badges:n,timelineStore:r}=hr(),o=ao(r,i=>i.onOlderRevision);return h.useMemo(()=>l.jsx(M,{paddingLeft:2,paddingRight:[2,3],paddingY:2,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:[1,2],children:n&&l.jsx(cFn,{})}),l.jsx(fFn,{flex:1,marginLeft:[1,3],ref:t,children:o?l.jsx(F4n,{}):l.jsx(M4n,{})})]})}),[t,n,o])}function pFn(e){const{actionsBoxElement:t,activeIndex:n,as:r="div",children:o,id:i,onActionStart:s,onKeyDown:a,rootRef:c,states:u,...d}=e,f=u[n],p=h.useCallback(m=>{const v=u.filter(y=>y.shortcut&&xi(y.shortcut,m)),g=v[0];if(v.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(g.shortcut,'"')),g&&!g.disabled&&g.onHandle){m.preventDefault(),g.onHandle(),s(u.indexOf(g));return}a&&a(m)},[s,a,u]);return h.createElement(r,{id:i,onKeyDown:p,tabIndex:-1,...d,ref:c},[o,f&&f.dialog&&l.jsx(ad,{zOffset:"paneFooter",children:l.jsx(EV,{dialog:f.dialog,referenceElement:t})})])}const eFe=ie.memo(e=>{const{actionsBoxElement:t,as:n="div",children:r,...o}=e,{actions:i,editState:s}=hr(),[a,c]=h.useState(-1),u=h.useCallback(f=>{c(f)},[]),d=h.useMemo(()=>s&&{...s,onComplete:()=>{},revision:void 0},[s]);return!d||!i?null:l.jsx(nV,{actionProps:d,actions:i,children:f=>{let{states:p}=f;return l.jsx(pFn,{...o,activeIndex:a,actionsBoxElement:t,as:n,onActionStart:u,states:p,children:r})}})});eFe.displayName="DocumentActionShortcuts";var S0e=Object.freeze,mFn=Object.defineProperty,gFn=(e,t)=>S0e(mFn(e,"raw",{value:S0e(t||e.slice())})),E0e;const k0e=["fixed","fixed","absolute"],vFn=P(FKt)(E0e||(E0e=gFn([`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`]))),p6n=h.memo(function(t){const{name:n}=$n();return l.jsx(_z,{name:t.pane.source||n,children:l.jsx(yFn,{...t})})});function yFn(e){var t;const{pane:n,paneKey:r}=e,{resolveNewDocumentOptions:o}=$n().document,i=ru(),s=bFn(n.options,i.params),{documentType:a,isLoaded:c}=m2n(s.id,s.type),u=h.useMemo(()=>o({type:"document",documentId:s.id,schemaType:s.type}),[s.id,s.type,o]),[d,f]=Wz({templateItems:u}),p=c&&!f,m=h.useMemo(()=>p&&a&&s.type!==a?xFn(e,s,a):e,[e,a,p,s]),{ReferenceChildLink:v,handleEditReference:g,groupIndex:y,routerPanesState:x}=i,b=((t=x[y+1])==null?void 0:t[0].params)||{},w=x.length,{parentRefPath:C}=b,_=h.useMemo(()=>C?{path:Rl(C),state:y>=w-1?"none":y>=w-2?"selected":"pressed"}:{path:[],state:"none"},[C,y,w]);return s.type==="*"&&!p?l.jsx(Y4e,{flex:2.5,minWidth:320,paneKey:r,title:"Loading document…"}):a?l.jsx(q4e,{...m,children:l.jsx(Don,{EditReferenceLinkComponent:v,onEditReference:g,initialValueTemplateItems:d,activePath:_,children:l.jsx(wFn,{})})},"".concat(a,"-").concat(s.id)):l.jsx(W4e,{flex:2.5,minWidth:320,paneKey:r,title:l.jsx(l.Fragment,{children:"The document was not found"}),children:l.jsx(oe,{space:4,children:l.jsxs(L,{as:"p",children:["The document type is not defined, and a document with the ",l.jsx("code",{children:s.id})," ","identifier could not be found."]})})})}function bFn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=x1();return h.useMemo(()=>{if(e.type&&e.type!=="*")return e;const r=e.template||t.template,o=r?n.find(s=>s.id===r):void 0,i=o==null?void 0:o.schemaType;return i?{...e,type:i}:e},[e,t.template,n])}function xFn(e,t,n){return{...e,pane:{...e.pane,options:{...t,type:n}}}}function wFn(){const{changesOpen:e,documentType:t,inspector:n,inspectOpen:r,onFocus:o,onPathOpen:i,onHistoryOpen:s,onKeyUp:a,paneKey:c,schemaType:u,value:d}=hr(),{collapsed:f}=C1(),p=TIe(),[m,v]=h.useState(null),[g,y]=h.useState(null),[x,b]=h.useState(null),[w,C]=h.useState(null),_=fh(g),S=_==null?void 0:_.height,E=h.useCallback(T=>{i(T),o(T)},[i,o]),j=STn+(n?PF:0),k=_Tn+(n?PF:0);return u?l.jsxs(eFe,{actionsBoxElement:x,as:FD,currentMinWidth:j,"data-testid":"document-pane",flex:2.5,id:c,minWidth:k,onKeyUp:a,rootRef:v,children:[l.jsx(L$,{position:k0e,zOffset:p.portal,children:l.jsx(U,{direction:"column",flex:1,height:f?void 0:"fill",children:l.jsx(vFn,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:s,onSetFocus:E,children:l.jsx(j4n,{footerHeight:S||null,isInspectOpen:r,rootElement:m,setDocumentPanelPortalElement:C})})})}),l.jsx(yd,{__unstable_elements:{[cMe]:w},children:l.jsx(L$,{position:k0e,zOffset:p.portal,children:l.jsx(Ejn,{ref:y,children:l.jsx(hFn,{actionsBoxRef:b})})})}),l.jsx(MMn,{})]}):l.jsx(W4e,{currentMinWidth:j,flex:2.5,minWidth:k,paneKey:c,title:l.jsxs(l.Fragment,{children:["Unknown document type: ",l.jsx("code",{children:t})]}),tone:"caution",children:l.jsxs(oe,{space:4,children:[t&&l.jsxs(L,{as:"p",children:["This document has the schema type ",l.jsx("code",{children:t}),", which is not defined as a type in the local content studio schema."]}),!t&&l.jsx(L,{as:"p",children:"This document does not exist, and no schema type was specified for it."}),eu]})})}const j0e=100,ZF=2e3,tFe={by:[{field:"_updatedAt",direction:"desc"}]},CFn={};function _Fn(e){return UA(e).map(t=>({...t.draft||t.published,hasPublished:!!t.published,hasDraft:!!t.draft}))}const SFn=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type\b/;function nFe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e.match(SFn);if(!n)return null;const r=(n[1]||n[2]).trim().replace(/^["']|["']$/g,"");if(r[0]==="$"){const o=r.slice(1),i=t[o];return typeof i=="string"?i:null}return r}function EFn(e){return/^_type\s*==\s*['"$]\w+['"]?\s*$/.test(e.trim())}function kFn(e,t){const n=e.by.map(r=>{if(r.mapWith)return r;const o=jFn(t,r.field);return o?AFn(o,"datetime")?{...r,mapWith:"dateTime"}:o.jsonType==="string"?{...r,mapWith:"lower"}:r:r});return n.every((r,o)=>r===e.by[o])?e:{...e,by:n}}function jFn(e,t){const n=Rl(t);let r=e;for(const o of n){if(!r)return;if(typeof o=="string"){r=TFn(r,o);continue}if(!(Pr(o)||Tl(o))||r.jsonType!=="array")return;const[s,a]=r.of||[];if(a||!s)return;if(!zu(s)){r=s;continue}const[c,u]=s.to||[];if(u||!c)return;r=c}return r}function TFn(e,t){if(!("fields"in e))return;const n=e.fields.find(r=>r.name===t);return n?n.type:void 0}function AFn(e,t){let n=e.type;for(;n;){if(n.name===t||!n.type&&n.jsonType===t)return!0;n=n.type}return!1}var T0e=Object.freeze,DFn=Object.defineProperty,rFe=(e,t)=>T0e(DFn(e,"raw",{value:T0e(t||e.slice())})),A0e,D0e;const IFn=P(M)(A0e||(A0e=rFe([`
  position: relative;
`]))),OFn=P(M)(D0e||(D0e=rFe([`
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
`]))),PFn=[...Array(30).keys()];function RFn(e){const{layout:t}=e;return l.jsx(oe,{padding:2,space:1,children:PFn.map(n=>l.jsx(ee,{padding:2,children:l.jsx(kh,{isPlaceholder:!0,layout:t})},n))})}function $Fn(e){const{childItemId:t,error:n,filterIsSimpleTypeConstraint:r,hasMaxItems:o,hasSearchQuery:i,isActive:s,isLazyLoading:a,isLoading:c,items:u,layout:d,loadingVariant:f,onListChange:p,onRetry:m,paneTitle:v,searchInputElement:g,showIcons:y}=e,x=_n(),{collapsed:b}=C1(),{collapsed:w,index:C}=Dh(),[_,S]=h.useState(!1),E=h.useCallback(()=>{c||a||!_||p()},[a,c,p,_]);h.useEffect(()=>{if(w)return;const A=setTimeout(()=>{S(!0)},0);return()=>{clearTimeout(A)}},[w,u]);const j=h.useCallback((A,D)=>{let{activeIndex:I}=D;const O=On(A._id),$=t===O,R=!s&&$,V=s&&$,N=I===u.length-1,W=N&&a,q=N&&o;return l.jsxs(l.Fragment,{children:[l.jsx(Xjn,{icon:y===!1?!1:void 0,id:O,layout:d,marginBottom:1,pressed:R,schemaType:x.get(A._type),selected:V,value:A}),W&&l.jsx(U,{align:"center",justify:"center",padding:4,children:l.jsx(ur,{muted:!0})}),q&&l.jsx(M,{marginY:1,paddingX:3,paddingY:4,children:l.jsxs(L,{align:"center",muted:!0,size:1,children:["Displaying a maximum of ",ZF," documents"]})})]})},[t,s,u.length,d,x,y,o,a]),k=h.useMemo(()=>i?l.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(Qr,{width:1,children:l.jsx(M,{paddingX:4,paddingY:5,children:l.jsx(L,{align:"center",muted:!0,children:"No results found"})})})}):l.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(Qr,{width:1,children:l.jsx(M,{paddingX:4,paddingY:5,children:l.jsx(L,{align:"center",muted:!0,children:r?"No documents of this type":"No matching documents"})})})}),[r,i]),T=h.useMemo(()=>{if(!_)return null;if(n)return l.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(Qr,{width:1,children:l.jsxs(oe,{paddingX:4,paddingY:5,space:4,children:[l.jsx(Uo,{as:"h3",children:"Could not fetch list items"}),l.jsxs(L,{as:"p",children:["Error: ",l.jsx("code",{children:n.message})]}),m&&l.jsx(M,{children:l.jsx(se,{icon:I0,onClick:m,text:"Retry",tone:"primary"})})]})})});if(!c&&u.length===0)return k;if(f==="initial"&&c)return l.jsx(tV,{ms:300,children:l.jsx(RFn,{layout:d})});if(f==="spinner"&&c)return null;const A="".concat(C,"-").concat(w);return l.jsx(IFn,{overflow:"hidden",height:"fill",children:l.jsx(OFn,{children:l.jsx(Sh,{activeItemDataAttr:"data-hovered",ariaLabel:v,canReceiveFocus:!0,focusRingOffset:-3,inputElement:g,itemHeight:51,items:u,onEndReached:E,onlyShowSelectionWhenActive:!0,overscan:10,padding:2,paddingBottom:1,renderItem:j,wrapAround:!1},A)})})},[w,n,E,C,c,u,d,f,m,j,g,_]);return l.jsx(LD,{overflow:b||f==="initial"?"hidden":"auto",children:T})}const oFe=h.memo(e=>{let{contentAfter:t,index:n,initialValueTemplates:r=[],menuItemGroups:o=[],menuItems:i=[],setLayout:s,setSortOrder:a,title:c}=e;const{features:u}=A1(),{collapsed:d,isLast:f}=Dh(),p=f&&!d?-1:0,m=h.useMemo(()=>({setLayout:v=>{let{layout:g}=v;s(g)},setSortOrder:v=>{a(v)}}),[s,a]);return l.jsx(rV,{actions:l.jsx(Gjn,{initialValueTemplateItems:r,actionHandlers:m,menuItemGroups:o,menuItems:i}),backButton:u.backButton&&n>0&&l.jsx(se,{as:G5n,"data-as":"a",icon:yw,mode:"bleed"}),contentAfter:t,tabIndex:p,title:c})});oFe.displayName="DocumentListPaneHeader";function MFn(e){const{client:t,schema:n,sort:r,limit:o,params:i,filter:s,searchQuery:a,staticTypeNames:c}=e,u=r.by,d=r==null?void 0:r.extendedProjection,f=No(()=>t.listen("*[".concat(s,"]"),i,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query"})).pipe(jt((v,g)=>g===0&&v.type!=="welcome"?Xf(()=>new Error(v.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(v.type,'"'))):be(v)),Ga()),[p,m]=e2e(f,v=>v.type==="welcome");return pn(p.pipe(Ll(1)),m.pipe(yx(1e3,Nc,{leading:!0,trailing:!0}))).pipe(SB(v=>(c?be(c):t.observable.fetch("array::unique(*[".concat(s,"][]._type)"),i)).pipe(jt(y=>{const x=y.flatMap(E=>n.get(E)||[]),b={filter:s,query:a||"",types:x},w={__unstable_extendedProjection:d,comments:["findability-source: ".concat(a?"list-query":"list")],limit:o,params:i,sort:u},{query:C,params:_}=GIe(b,w),S=()=>t.observable.fetch(C,_);return v.type==="mutation"&&v.visibility!=="query"?as(1200).pipe(jt(S)):S()}))))}const FFn=[],I0e={error:null,onRetry:void 0,result:null},LFn={result:null,error:null};function BFn(e){const{filter:t,params:n,sortOrder:r,searchQuery:o,apiVersion:i}=e,s=fr({...sn,apiVersion:i||sn.apiVersion}),a=_n(),[c,u]=h.useState(I0e),{onRetry:d,error:f,result:p}=c,m=p==null?void 0:p.documents,v=h.useMemo(()=>m?_Fn(m):FFn,[m]),[g,y]=h.useState(!1),[x,b]=h.useState(!1),[w,C]=h.useState(!1),_=h.useMemo(()=>nFe(t,n),[t,n]),S=p===null&&!f,E=(m==null?void 0:m.length)===ZF,j=h.useCallback(()=>{S||x||w||C(!0)},[S,x,w]),k=h.useCallback(D=>{var I,O;if(D.error){u(D);return}const $=((O=(I=D.result)==null?void 0:I.documents)==null?void 0:O.length)||0;if(!D.error&&(D==null?void 0:D.result)===null&&w){y(!0);return}if($<j0e&&$!==0&&!w&&b(!0),(D==null?void 0:D.result)===null){u(V=>({...V.error?D:V}));return}y(!1),u(D)},[w]),T=h.useMemo(()=>{const D=new uo,I=()=>D.next();return MFn({client:s,filter:t,limit:w?ZF:j0e,params:n,schema:a,searchQuery:o||"",sort:r||tFe,staticTypeNames:_?[_]:void 0}).pipe(ue(R=>({result:{documents:R},error:null})),ii(LFn),In(R=>R instanceof ProgressEvent?Xf(()=>new Error("Request error")):Xf(()=>R)),In((R,V)=>Hr(be({result:null,error:R}),pn(Ps(window,"online"),D).pipe(Ll(1),jt(()=>V)))),qa((R,V)=>({...R,...V,onRetry:I})))},[s,t,n,a,o,w,r,_]);h.useEffect(()=>{const D=T.subscribe(k);return()=>{D.unsubscribe()}},[k,T]);const A=h.useCallback(()=>{b(!1),y(!1),u(I0e),C(!1)},[]);return h.useEffect(()=>{A()},[A,t,n,r,o]),{error:f,hasMaxItems:E,isLazyLoading:g,isLoading:S,isSearchReady:!f,items:v,onListChange:j,onRetry:d}}var O0e=Object.freeze,NFn=Object.defineProperty,jV=(e,t)=>O0e(NFn(e,"raw",{value:O0e(t||e.slice())})),P0e,R0e,$0e;const XF=[],zFn=Em(P0e||(P0e=jV([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),VFn=P(xw)(R0e||(R0e=jV([`
  animation: `,` 500ms linear infinite;
`])),zFn),HFn=P(ee)($0e||($0e=jV([`
  [data-ui='TextInput'] {
    border-radius: inherit;
  }
`])));function UFn(e){const t=h.useRef(e);return Ju(t.current,e)||(t.current=e),t.current}const WFn=e=>{const{menuItems:t,sortOrderRaw:n,layout:r}=e;return t==null?void 0:t.map(o=>{var i,s,a,c;return(i=o.params)!=null&&i.layout?{...o,selected:r===((s=o.params)==null?void 0:s.layout)}:(a=o==null?void 0:o.params)!=null&&a.by?{...o,selected:Ht(n==null?void 0:n.by,((c=o==null?void 0:o.params)==null?void 0:c.by)||XF)}:{...o,selected:!1}})},m6n=h.memo(function(t){const{childItemId:n,index:r,isActive:o,isSelected:i,pane:s,paneKey:a}=t,c=_n(),{name:u}=$n(),{defaultLayout:d="default",displayOptions:f,initialValueTemplates:p=XF,menuItemGroups:m,menuItems:v,options:g,title:y}=s,{apiVersion:x,defaultOrdering:b=XF,filter:w}=g,C=UFn(g.params||CFn),_=s.source,S=h.useMemo(()=>nFe(w,C),[w,C]),E=(f==null?void 0:f.showIcons)!==!1,[j,k]=KF(S,"layout",d),[T,A]=h.useState(""),[D,I]=h.useState(""),[O,$]=h.useState(null),R=h.useRef(!1),V=h.useMemo(()=>(b==null?void 0:b.length)>0?{by:b}:tFe,[b]),[N,W]=KF(S,"sortOrder",V),q=S&&N?kFn(N,c.get(S)):N,H=Fo(q),Y=EFn(w),{error:X,hasMaxItems:B,isLazyLoading:K,isLoading:z,isSearchReady:Z,items:Q,onListChange:ne,onRetry:G}=BFn({apiVersion:x,filter:w,params:C,searchQuery:T==null?void 0:T.trim(),sortOrder:H}),J=h.useMemo(()=>WFn({menuItems:v,sortOrderRaw:N,layout:j}),[j,v,N]),re=uT(ce=>ce.pipe(ue(ve=>ve.target.value),qn(I),B8(ve=>ve===""?be(""):as(300)),qn(A)),[]),fe=h.useCallback(()=>{A(""),I("")},[]),le=h.useCallback(ce=>{ce.key==="Escape"&&fe()},[fe]);h.useEffect(()=>(R.current===!1&&!z&&(R.current=!0),()=>{R.current=!1}),[z]),h.useEffect(()=>{fe(),R.current=!1},[a,fe]);const ge=h.useMemo(()=>z&&Q.length===0&&R.current?"spinner":"initial",[z,Q.length]),we=l.jsx(M,{paddingX:2,paddingBottom:2,children:l.jsx(HFn,{radius:4,tone:"transparent",children:l.jsx($r,{"aria-label":"Search list",autoComplete:"off",border:!1,clearButton:!!T,disabled:!Z,fontSize:[2,2,1],icon:ge==="spinner"?VFn:ti,onChange:re,onClear:fe,onKeyDown:le,placeholder:"Search list",radius:2,ref:$,spellCheck:!1,value:D})})});return l.jsx(_z,{name:_||u,children:l.jsxs(FD,{currentMaxWidth:350,"data-ui":"DocumentListPane",id:a,maxWidth:640,minWidth:320,selected:i,children:[iTn,l.jsx(oFe,{contentAfter:we,index:r,initialValueTemplates:p,menuItemGroups:m,menuItems:J,setLayout:k,setSortOrder:W,title:y}),l.jsx($Fn,{childItemId:n,error:X,filterIsSimpleTypeConstraint:Y,hasMaxItems:B,hasSearchQuery:!!T,isActive:o,isLazyLoading:K,isLoading:z,items:Q,layout:j,loadingVariant:ge,onListChange:ne,onRetry:G,paneTitle:y,searchInputElement:O,showIcons:E},a)]})})}),YFn={}.NEXT_PUBLIC_SANITY_API_VERSION||"2023-11-18",qFn={}.NEXT_PUBLIC_SANITY_DATASET,GFn={}.NEXT_PUBLIC_SANITY_PROJECT_ID,KFn={types:[]},ZFn={basePath:"/studio",projectId:GFn,dataset:qFn,schema:KFn,plugins:[N$n(),gEn({defaultApiVersion:YFn})]};b_n(document.getElementById("sanity"),ZFn,{reactStrictMode:!1,basePath:"/"});export{Uo as $,yw as A,se as B,Sh as C,p6n as D,fT as E,o6n as F,yd as G,d6n as H,ec as I,f6n as J,L0 as K,Y4e as L,_z as M,h6n as N,Lr as O,FD as P,K5n as Q,l6n as R,vx as S,c6n as T,Mi as U,MD as V,ue as W,rn as X,ee as Y,Qr as Z,iTn as _,m6n as a,oe as a0,Vt as a1,ir as a2,L as a3,Z9 as a4,I0 as a5,U as a6,Mr as a7,u6n as a8,ii as a9,Kf as aA,$r as aB,qt as aC,at as aD,Vu as aE,fa as aF,x8 as aG,B9e as aH,U1e as aI,fr as aJ,ur as aK,R2e as aL,vw as aM,$5n as aN,lr as aO,Jt as aP,d8 as aQ,qv as aR,pe as aS,qa as aa,st as ab,_r as ac,F_e as ad,wd as ae,Fz as af,xN as ag,Not as ah,Cr as ai,be as aj,Hr as ak,J_e as al,swt as am,El as an,Sl as ao,Qs as ap,Ie as aq,tye as ar,ie as as,XFn as at,rvt as au,ed as av,ye as aw,he as ax,F5n as ay,Qt as az,Kl as b,rV as c,Gjn as d,G5n as e,M as f,Dh as g,C1 as h,Xjn as i,l as j,LD as k,on as l,Gl as m,IT as n,wn as o,yt as p,al as q,h as r,P as s,w9 as t,A1 as u,Ht as v,xi as w,Wo as x,_n as y,Rs as z};
